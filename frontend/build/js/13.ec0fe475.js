/*! For license information please see 13.ec0fe475.js.LICENSE.txt */
(self.webpackChunkpython_webpack_boilerplate=self.webpackChunkpython_webpack_boilerplate||[]).push([[13],{4394:function(e,t,r){"use strict";function n(e){if(e.includes("full"))return.99;if(e.includes("half"))return.5;if(!e.includes("threshold"))return 0;let t=e[e.indexOf("threshold")+1];return"100"===t?1:"0"===t?0:Number(`.${t}`)}function o(e){let t=e.match(/^(-?[0-9]+)(px|%)?$/);return t?t[1]+(t[2]||"px"):void 0}function i(e){const t="0px 0px 0px 0px",r=e.indexOf("margin");if(-1===r)return t;let n=[];for(let t=1;t<5;t++)n.push(o(e[r+t]||""));return n=n.filter((e=>void 0!==e)),n.length?n.join(" ").trim():t}r.d(t,{Z:function(){return s}});var s=function(e){e.directive("intersect",((e,{value:t,expression:r,modifiers:o},{evaluateLater:s,cleanup:a})=>{let l=s(r),c={rootMargin:i(o),threshold:n(o)},h=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting!==("leave"===t)&&(l(),o.includes("once")&&h.disconnect())}))}),c);h.observe(e),a((()=>{h.disconnect()}))}))}},886:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function _asyncIterator(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return AsyncFromSyncIterator=function(e){this.s=e,this.n=e.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}var REACT_ELEMENT_TYPE;function _jsx(e,t,r,n){REACT_ELEMENT_TYPE||(REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),a=0;a<i;a++)s[a]=arguments[a+3];t.children=s}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:REACT_ELEMENT_TYPE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _wrapRegExp(){_wrapRegExp=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),_setPrototypeOf(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){return t[r]=e[n[r]],t}),Object.create(null))}return _inherits(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"==typeof o){var s=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,s)),o.apply(this,e)}))}return e[Symbol.replace].call(this,r,o)},_wrapRegExp.apply(this,arguments)}function _AwaitValue(e){this.wrapped=e}function _AsyncGenerator(e){var t,r;function n(t,r){try{var i=e[t](r),s=i.value,a=s instanceof _AwaitValue;Promise.resolve(a?s.wrapped:s).then((function(e){a?n("return"===t?"return":"next",e):o(i.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,o){return new Promise((function(i,s){var a={key:e,arg:o,resolve:i,reject:s,next:null};r?r=r.next=a:(t=r=a,n(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function _wrapAsyncGenerator(e){return function(){return new _AsyncGenerator(e.apply(this,arguments))}}function _awaitAsyncGenerator(e){return new _AwaitValue(e)}function _asyncGeneratorDelegate(e,t){var r={},n=!1;function o(r,o){return n=!0,o=new Promise((function(t){t(e[r](o))})),{done:!1,value:t(o)}}return r["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):o("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return o("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):o("return",e)}),r}function asyncGeneratorStep(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){asyncGeneratorStep(i,n,o,s,a,"next",e)}function a(e){asyncGeneratorStep(i,n,o,s,a,"throw",e)}s(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineEnumerableProperties(e,t){for(var r in t)(i=t[r]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r,i);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),o=0;o<n.length;o++){var i,s=n[o];(i=t[s]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s,i)}return e}function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends.apply(this,arguments)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach((function(t){_defineProperty(e,t,r[t])}))}return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,r){return _construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(o,r.prototype),o},_construct.apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(r,e)},_wrapNativeSuper(e)}function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function _newArrowCheck(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_superPropBase(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},_get.apply(this,arguments)}function set(e,t,r,n){return set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var o,i=_superPropBase(e,t);if(i){if((o=Object.getOwnPropertyDescriptor(i,t)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,t)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,t,o)}else _defineProperty(n,t,r);return!0},set(e,t,r,n)}function _set(e,t,r,n,o){if(!set(e,t,r,n||e)&&o)throw new Error("failed to set property");return r}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _taggedTemplateLiteralLoose(e,t){return t||(t=e.slice(0)),e.raw=t,e}function _readOnlyError(e){throw new TypeError('"'+e+'" is read-only')}function _writeOnlyError(e){throw new TypeError('"'+e+'" is write-only')}function _classNameTDZError(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}function _temporalUndefined(){}function _tdz(e){throw new ReferenceError(e+" is not defined - temporal dead zone")}function _temporalRef(e,t){return e===_temporalUndefined?_tdz(t):e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _slicedToArrayLoose(e,t){return _arrayWithHoles(e)||_iterableToArrayLimitLoose(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _maybeArrayLike(e,t,r){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var n=t.length;return _arrayLikeToArray(t,void 0!==r&&r<n?r:n)}return e(t,r)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}}function _iterableToArrayLimitLoose(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n=[];for(r=r.call(e),_step;!(_step=r.next()).done&&(n.push(_step.value),!t||n.length!==t););return n}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function _createForOfIteratorHelperLoose(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _skipFirstGeneratorNext(e){return function(){var t=e.apply(this,arguments);return t.next(),t}}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _applyDecoratedDescriptor(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}_AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},_AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},_AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)};var id=0;function _classPrivateFieldLooseKey(e){return"__private_"+id+++"_"+e}function _classPrivateFieldLooseBase(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}function _classPrivateFieldGet(e,t){return _classApplyDescriptorGet(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,r){return _classApplyDescriptorSet(e,_classExtractFieldDescriptor(e,t,"set"),r),r}function _classPrivateFieldDestructureSet(e,t){return _classApplyDescriptorDestructureSet(e,_classExtractFieldDescriptor(e,t,"set"))}function _classExtractFieldDescriptor(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function _classStaticPrivateFieldSpecGet(e,t,r){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(r,"get"),_classApplyDescriptorGet(e,r)}function _classStaticPrivateFieldSpecSet(e,t,r,n){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(r,"set"),_classApplyDescriptorSet(e,r,n),n}function _classStaticPrivateMethodGet(e,t,r){return _classCheckPrivateStaticAccess(e,t),r}function _classStaticPrivateMethodSet(){throw new TypeError("attempted to set read only static private field")}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}function _classApplyDescriptorSet(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function _classApplyDescriptorDestructureSet(e,t){if(t.set)return"__destrObj"in t||(t.__destrObj={set value(r){t.set.call(e,r)}}),t.__destrObj;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}function _classStaticPrivateFieldDestructureSet(e,t,r){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(r,"set"),_classApplyDescriptorDestructureSet(e,r)}function _classCheckPrivateStaticAccess(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function _classCheckPrivateStaticFieldDescriptor(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function _decorate(e,t,r,n){var o=_getDecoratorsApi();if(n)for(var i=0;i<n.length;i++)o=n[i](o);var s=t((function(e){o.initializeInstanceElements(e,a.elements)}),r),a=o.decorateClass(_coalesceClassElements(s.d.map(_createElementDescriptor)),e);return o.initializeClassElements(s.F,a.elements),o.runClassFinishers(s.F,a.finishers)}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(r){t.forEach((function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r=e.prototype;["method","field"].forEach((function(n){t.forEach((function(t){var o=t.placement;if(t.kind===n&&("static"===o||"prototype"===o)){var i="static"===o?e:r;this.defineClassElement(i,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[],n=[],o={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,o)}),this),e.forEach((function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,o);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)}),this),!t)return{elements:r,finishers:n};var i=this.decorateConstructor(r,t);return n.push.apply(n,i.finishers),i.finishers=n,i},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");n.push(e.key)},decorateElement:function(e,t){for(var r=[],n=[],o=e.decorators,i=o.length-1;i>=0;i--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,o[i])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&n.push(l.finisher);var c=l.extras;if(c){for(var h=0;h<c.length;h++)this.addElementPlacement(c[h],t);r.push.apply(r,c)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var o=this.fromClassDescriptor(e),i=this.toClassDescriptor((0,t[n])(o)||o);if(void 0!==i.finisher&&r.push(i.finisher),void 0!==i.elements){e=i.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return _toArray(e).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),n=String(e.placement);if("static"!==n&&"prototype"!==n&&"own"!==n)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+n+'"');var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:r,placement:n,descriptor:Object.assign({},o)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(o,"get","The property descriptor of a field descriptor"),this.disallowProperty(o,"set","The property descriptor of a field descriptor"),this.disallowProperty(o,"value","The property descriptor of a field descriptor"),i.initializer=e.initializer),i},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if("function"!=typeof n)throw new TypeError("Finishers must return a constructor.");e=n}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(n.decorators=e.decorators),"field"===e.kind&&(n.initializer=e.value),n}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _coalesceClassElements(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===i.key&&e.placement===i.placement},n=0;n<e.length;n++){var o,i=e[n];if("method"===i.kind&&(o=t.find(r)))if(_isDataDescriptor(i.descriptor)||_isDataDescriptor(o.descriptor)){if(_hasDecorators(i)||_hasDecorators(o))throw new ReferenceError("Duplicated methods ("+i.key+") can't be decorated.");o.descriptor=i.descriptor}else{if(_hasDecorators(i)){if(_hasDecorators(o))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+i.key+").");o.decorators=i.decorators}_coalesceGetterSetter(i,o)}else t.push(i)}return t}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _classPrivateMethodGet(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec(e,t,r){_checkPrivateRedeclaration(e,t),t.set(e,r)}function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t),t.add(e)}function _classPrivateMethodSet(){throw new TypeError("attempted to reassign private method")}var _extendStatics=function(e,t){return _extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},_extendStatics(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}_extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var _assign=function(){return _assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_assign.apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function __decorate(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function __param(e,t){return function(r,n){t(r,n,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function __generator(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var __createBinding=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function __exportStar(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||__createBinding(t,e,r)}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function __spreadArray(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof __await?Promise.resolve(e.value.v).then(l,c):h(i[0][2],e)}(o[e](t))}catch(e){h(i[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function h(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function __asyncDelegator(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var __setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function __classPrivateFieldSet(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}var t$3=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$8=Symbol(),n$5=new Map;class s$3{constructor(e,t){if(this._$cssResult$=!0,t!==e$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){var e=n$5.get(this.cssText);return t$3&&void 0===e&&(n$5.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}var o$5=e=>new s$3("string"==typeof e?e:e+"",e$8),r$3=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=1===e.length?e[0]:r.reduce(((t,r,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[n+1]),e[0]);return new s$3(o,e$8)},i$3=(e,t)=>{t$3?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{var r=document.createElement("style"),n=window.litNonce;void 0!==n&&r.setAttribute("nonce",n),r.textContent=t.cssText,e.appendChild(r)}))},S$1=t$3?e=>e:e=>e instanceof CSSStyleSheet?(e=>{var t="";for(var r of e.cssRules)t+=r.cssText;return o$5(t)})(e):e,s$2,e$7=window.trustedTypes,r$2=e$7?e$7.emptyScript:"",h$2=window.reactiveElementPolyfillSupport,o$4={toAttribute(e,t){switch(t){case Boolean:e=e?r$2:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){var r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(e){r=null}}return r}},n$4=(e,t)=>t!==e&&(t==t||e==e),l$3={attribute:!0,type:String,converter:o$4,reflect:!1,hasChanged:n$4},t$2;class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){var t;null!==(t=this.l)&&void 0!==t||(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();var e=[];return this.elementProperties.forEach(((t,r)=>{var n=this._$Eh(r,t);void 0!==n&&(this._$Eu.set(n,r),e.push(n))})),e}static createProperty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l$3;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var r="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,r,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(n){var o=this[e];this[t]=n,this.requestUpdate(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(var n of r)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){var t=[];if(Array.isArray(e)){var r=new Set(e.flat(1/0).reverse());for(var n of r)t.unshift(S$1(n))}else void 0!==e&&t.push(S$1(e));return t}static _$Eh(e,t){var r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}o(){var e;this._$Ep=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,r;(null!==(t=this._$Eg)&&void 0!==t?t:this._$Eg=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(r=e.hostConnected)||void 0===r||r.call(e))}removeController(e){var t;null===(t=this._$Eg)||void 0===t||t.splice(this._$Eg.indexOf(e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return i$3(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ES(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l$3,i=this.constructor._$Eh(e,o);if(void 0!==i&&!0===o.reflect){var s=(null!==(n=null===(r=o.converter)||void 0===r?void 0:r.toAttribute)&&void 0!==n?n:o$4.toAttribute)(t,o.type);this._$Ei=e,null==s?this.removeAttribute(i):this.setAttribute(i,s),this._$Ei=null}}_$AK(e,t){var r,n,o,i=this.constructor,s=i._$Eu.get(e);if(void 0!==s&&this._$Ei!==s){var a=i.getPropertyOptions(s),l=a.converter,c=null!==(o=null!==(n=null===(r=l)||void 0===r?void 0:r.fromAttribute)&&void 0!==n?n:"function"==typeof l?l:null)&&void 0!==o?o:o$4.fromAttribute;this._$Ei=s,this[s]=c(t,a.type),this._$Ei=null}}requestUpdate(e,t,r){var n=!0;void 0!==e&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||n$4)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===r.reflect&&this._$Ei!==e&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(e,r))):n=!1),!this.isUpdatePending&&n&&(this._$Ep=this._$EC())}_$EC(){var e=this;return _asyncToGenerator((function*(){e.isUpdatePending=!0;try{yield e._$Ep}catch(t){Promise.reject(t)}var t=e.scheduleUpdate();return null!=t&&(yield t),!e.isUpdatePending}))()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach(((e,t)=>this[t]=e)),this._$Et=void 0);var t=!1,r=this._$AL;try{(t=this.shouldUpdate(r))?(this.willUpdate(r),null===(e=this._$Eg)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(r)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(r)}}willUpdate(e){}_$AE(e){var t;null===(t=this._$Eg)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(e){return!0}update(e){void 0!==this._$E_&&(this._$E_.forEach(((e,t)=>this._$ES(t,this[t],e))),this._$E_=void 0),this._$EU()}updated(e){}firstUpdated(e){}}a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},null==h$2||h$2({ReactiveElement:a$1}),(null!==(s$2=globalThis.reactiveElementVersions)&&void 0!==s$2?s$2:globalThis.reactiveElementVersions=[]).push("1.2.1");var i$2=globalThis.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:e=>e}):void 0,e$6="lit$".concat((Math.random()+"").slice(9),"$"),o$3="?"+e$6,n$3="<".concat(o$3,">"),l$2=document,h$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l$2.createComment(e)},r$1=e=>null===e||"object"!=typeof e&&"function"!=typeof e,d=Array.isArray,u=e=>{var t;return d(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea)$/i,p=e=>function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return{_$litType$:e,strings:t,values:n}},$=p(1),y=p(2),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=(e,t,r)=>{var n,o,i=null!==(n=null==r?void 0:r.renderBefore)&&void 0!==n?n:t,s=i._$litPart$;if(void 0===s){var a=null!==(o=null==r?void 0:r.renderBefore)&&void 0!==o?o:null;i._$litPart$=s=new N(t.insertBefore(h$1(),a),a,void 0,null!=r?r:{})}return s._$AI(e),s},A=l$2.createTreeWalker(l$2,129,null,!1),C=(e,t)=>{for(var r,n=e.length-1,o=[],i=2===t?"<svg>":"",s=c,l=0;l<n;l++){for(var h=e[l],d=void 0,u=void 0,p=-1,y=0;y<h.length&&(s.lastIndex=y,null!==(u=s.exec(h)));)y=s.lastIndex,s===c?"!--"===u[1]?s=v:void 0!==u[1]?s=a:void 0!==u[2]?(g.test(u[2])&&(r=RegExp("</"+u[2],"g")),s=f):void 0!==u[3]&&(s=f):s===f?">"===u[0]?(s=null!=r?r:c,p=-1):void 0===u[1]?p=-2:(p=s.lastIndex-u[2].length,d=u[1],s=void 0===u[3]?f:'"'===u[3]?m:_):s===m||s===_?s=f:s===v||s===a?s=c:(s=f,r=void 0);var b=s===f&&e[l+1].startsWith("/>")?" ":"";i+=s===c?h+n$3:p>=0?(o.push(d),h.slice(0,p)+"$lit$"+h.slice(p)+e$6+b):h+e$6+(-2===p?(o.push(void 0),l):b)}var w=i+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==s$1?s$1.createHTML(w):w,o]};class E{constructor(e,t){var r,{strings:n,_$litType$:o}=e;this.parts=[];var i=0,s=0,a=n.length-1,l=this.parts,[c,h]=C(n,o);if(this.el=E.createElement(c,t),A.currentNode=this.el.content,2===o){var d=this.el.content,u=d.firstChild;u.remove(),d.append(...u.childNodes)}for(;null!==(r=A.nextNode())&&l.length<a;){if(1===r.nodeType){if(r.hasAttributes()){var p=[];for(var f of r.getAttributeNames())if(f.endsWith("$lit$")||f.startsWith(e$6)){var m=h[s++];if(p.push(f),void 0!==m){var v=r.getAttribute(m.toLowerCase()+"$lit$").split(e$6),y=/([.?@])?(.*)/.exec(m);l.push({type:1,index:i,name:y[2],strings:v,ctor:"."===y[1]?M:"?"===y[1]?H:"@"===y[1]?I:S})}else l.push({type:6,index:i})}for(var b of p)r.removeAttribute(b)}if(g.test(r.tagName)){var w=r.textContent.split(e$6),x=w.length-1;if(x>0){r.textContent=i$2?i$2.emptyScript:"";for(var _=0;_<x;_++)r.append(w[_],h$1()),A.nextNode(),l.push({type:2,index:++i});r.append(w[x],h$1())}}}else if(8===r.nodeType)if(r.data===o$3)l.push({type:2,index:i});else for(var k=-1;-1!==(k=r.data.indexOf(e$6,k+1));)l.push({type:7,index:i}),k+=e$6.length-1;i++}}static createElement(e,t){var r=l$2.createElement("template");return r.innerHTML=e,r}}function P(e,t){var r,n,o,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0;if(t===b)return t;var l=void 0!==a?null===(r=s._$Cl)||void 0===r?void 0:r[a]:s._$Cu,c=r$1(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(n=null==l?void 0:l._$AO)||void 0===n||n.call(l,!1),void 0===c?l=void 0:(l=new c(e))._$AT(e,s,a),void 0!==a?(null!==(o=(i=s)._$Cl)&&void 0!==o?o:i._$Cl=[])[a]=l:s._$Cu=l),void 0!==l&&(t=P(e,l._$AS(e,t.values),l,a)),t}class V{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(e){var t,{el:{content:r},parts:n}=this._$AD,o=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:l$2).importNode(r,!0);A.currentNode=o;for(var i=A.nextNode(),s=0,a=0,l=n[0];void 0!==l;){if(s===l.index){var c=void 0;2===l.type?c=new N(i,i.nextSibling,this,e):1===l.type?c=new l.ctor(i,l.name,l.strings,this,e):6===l.type&&(c=new L(i,this,e)),this.v.push(c),l=n[++a]}s!==(null==l?void 0:l.index)&&(i=A.nextNode(),s++)}return o}m(e){var t=0;for(var r of this.v)void 0!==r&&(void 0!==r.strings?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class N{constructor(e,t,r,n){var o;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=n,this._$Cg=null===(o=null==n?void 0:n.isConnected)||void 0===o||o}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cg}get parentNode(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e){e=P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),r$1(e)?e===w||null==e||""===e?(this._$AH!==w&&this._$AR(),this._$AH=w):e!==this._$AH&&e!==b&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.S(e):u(e)?this.A(e):this.$(e)}M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,t)}S(e){this._$AH!==e&&(this._$AR(),this._$AH=this.M(e))}$(e){this._$AH!==w&&r$1(this._$AH)?this._$AA.nextSibling.data=e:this.S(l$2.createTextNode(e)),this._$AH=e}T(e){var t,{values:r,_$litType$:n}=e,o="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=E.createElement(n.h,this.options)),n);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===o)this._$AH.m(r);else{var i=new V(o,this),s=i.p(this.options);i.m(r),this.S(s),this._$AH=i}}_$AC(e){var t=T.get(e.strings);return void 0===t&&T.set(e.strings,t=new E(e)),t}A(e){d(this._$AH)||(this._$AH=[],this._$AR());var t,r=this._$AH,n=0;for(var o of e)n===r.length?r.push(t=new N(this.M(h$1()),this.M(h$1()),this,this.options)):t=r[n],t._$AI(o),n++;n<r.length&&(this._$AR(t&&t._$AB.nextSibling,n),r.length=n)}_$AR(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,r=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,r);t&&t!==this._$AB;){var n=t.nextSibling;t.remove(),t=n}}setConnected(e){var t;void 0===this._$AM&&(this._$Cg=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class S{constructor(e,t,r,n,o){this.type=1,this._$AH=w,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=o,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=this.strings,i=!1;if(void 0===o)e=P(this,e,t,0),(i=!r$1(e)||e!==this._$AH&&e!==b)&&(this._$AH=e);else{var s,a,l=e;for(e=o[0],s=0;s<o.length-1;s++)(a=P(this,l[r+s],t,s))===b&&(a=this._$AH[s]),i||(i=!r$1(a)||a!==this._$AH[s]),a===w?e=w:e!==w&&(e+=(null!=a?a:"")+o[s+1]),this._$AH[s]=a}i&&!n&&this.k(e)}k(e){e===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class M extends S{constructor(){super(...arguments),this.type=3}k(e){this.element[this.name]=e===w?void 0:e}}var k=i$2?i$2.emptyScript:"";class H extends S{constructor(){super(...arguments),this.type=4}k(e){e&&e!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(e,t,r,n,o){super(e,t,r,n,o),this.type=5}_$AI(e){var t;if((e=null!==(t=P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:w)!==b){var r=this._$AH,n=e===w&&r!==w||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==w&&(r===w||n);n&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}}handleEvent(e){var t,r;"function"==typeof this._$AH?this._$AH.call(null!==(r=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==r?r:this.element,e):this._$AH.handleEvent(e)}}class L{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){P(this,e)}}var R={P:"$lit$",V:e$6,L:o$3,I:1,N:C,R:V,D:u,j:P,H:N,O:S,F:H,B:I,W:M,Z:L},z=window.litHtmlPolyfillSupport,l$1,o$2;null==z||z(E,N),(null!==(t$2=globalThis.litHtmlVersions)&&void 0!==t$2?t$2:globalThis.litHtmlVersions=[]).push("2.1.2");var r=a$1;class s extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t,r=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=r.firstChild),r}update(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=x(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,null===(l$1=globalThis.litElementHydrateSupport)||void 0===l$1||l$1.call(globalThis,{LitElement:s});var n$2=globalThis.litElementPolyfillSupport;null==n$2||n$2({LitElement:s});var h={_$AK:(e,t,r)=>{e._$AK(t,r)},_$AL:e=>e._$AL};(null!==(o$2=globalThis.litElementVersions)&&void 0!==o$2?o$2:globalThis.litElementVersions=[]).push("3.1.2");var n$1=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{var{kind:r,elements:n}=t;return{kind:r,elements:n,finisher(t){window.customElements.define(e,t)}}})(e,t),i$1=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?_objectSpread2(_objectSpread2({},t),{},{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}};function e$5(e){return(t,r)=>void 0!==r?((e,t,r)=>{t.constructor.createProperty(r,e)})(e,t,r):i$1(e,t)}function t$1(e){return e$5(_objectSpread2(_objectSpread2({},e),{},{state:!0}))}var e$4=(e,t,r)=>{Object.defineProperty(t,r,e)},t=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e}),o$1=e=>{var{finisher:t,descriptor:r}=e;return(e,n)=>{var o;if(void 0===n){var i=null!==(o=e.originalKey)&&void 0!==o?o:e.key,s=null!=r?{kind:"method",placement:"prototype",key:i,descriptor:r(e.key)}:_objectSpread2(_objectSpread2({},e),{},{key:i});return null!=t&&(s.finisher=function(e){t(e,i)}),s}var a=e.constructor;void 0!==r&&Object.defineProperty(e,n,r(n)),null==t||t(a,n)}},n;function e$3(e){return o$1({finisher:(t,r)=>{Object.assign(t.prototype[r],e)}})}function i(e,t){return o$1({descriptor:r=>{var n={get(){var t,r;return null!==(r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==r?r:null},enumerable:!0,configurable:!0};if(t){var o="symbol"==typeof r?Symbol():"__"+r;n.get=function(){var t,r;return void 0===this[o]&&(this[o]=null!==(r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==r?r:null),this[o]}}return n}})}function e$2(e){return o$1({descriptor:t=>({get(){var t,r;return null!==(r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelectorAll(e))&&void 0!==r?r:[]},enumerable:!0,configurable:!0})})}function e$1(e){return o$1({descriptor:t=>({get(){var t=this;return _asyncToGenerator((function*(){var r;return yield t.updateComplete,null===(r=t.renderRoot)||void 0===r?void 0:r.querySelector(e)}))()},enumerable:!0,configurable:!0})})}var e=null!=(null===(n=window.HTMLSlotElement)||void 0===n?void 0:n.prototype.assignedElements)?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter((e=>e.nodeType===Node.ELEMENT_NODE));function l(t){var{slot:r,selector:n}=null!=t?t:{};return o$1({descriptor:o=>({get(){var o,i="slot"+(r?"[name=".concat(r,"]"):":not([name])"),s=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i),a=null!=s?e(s,t):[];return n?a.filter((e=>e.matches(n))):a},enumerable:!0,configurable:!0})})}function o(e,t,r){var n,o=e;return"object"==typeof e?(o=e.slot,n=e):n={flatten:t},r?l({slot:o,flatten:t,selector:r}):o$1({descriptor:e=>({get(){var e,t,r="slot"+(o?"[name=".concat(o,"]"):":not([name])"),i=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(r);return null!==(t=null==i?void 0:i.assignedNodes(n))&&void 0!==t?t:[]},enumerable:!0,configurable:!0})})}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getDefaultExportFromNamespaceIfPresent(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getDefaultExportFromNamespaceIfNotNamed(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")&&1===Object.keys(e).length?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lottie$1={exports:{}};(function(module,exports){var factory;"undefined"!=typeof navigator&&(factory=function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,n,o=e.length;for(r=0;r<o;r+=1)for(var i in n=e[r].prototype)Object.prototype.hasOwnProperty.call(n,i)&&(t.prototype[i]=n[i])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var r,n=0,o=[];switch(e){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<t;n+=1)o.push(r);return o}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,r){return"float32"===t?new Float32Array(r):"int16"===t?new Int16Array(r):"uint8c"===t?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,r=createSizedArray(e.length),n=e.length;for(t=0;t<n;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,n){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,n){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=n<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,r){var n,o,i,s,a,l,c,h;switch(l=r*(1-t),c=r*(1-(a=6*e-(s=Math.floor(6*e)))*t),h=r*(1-(1-a)*t),s%6){case 0:n=r,o=h,i=l;break;case 1:n=c,o=r,i=l;break;case 2:n=l,o=r,i=h;break;case 3:n=l,o=c,i=r;break;case 4:n=h,o=l,i=r;break;case 5:n=r,o=l,i=c}return[n,o,i]}function RGBtoHSV(e,t,r){var n,o=Math.max(e,t,r),i=Math.min(e,t,r),s=o-i,a=0===o?0:s/o,l=o/255;switch(o){case i:n=0;break;case e:n=t-r+s*(t<r?6:0),n/=6*s;break;case t:n=r-e+2*s,n/=6*s;break;case r:n=e-t+4*s,n/=6*s}return[n,a,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=1===t.length?"0"+t:t;return function(e,t,n){return e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),"#"+r[e]+r[t]+r[n]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(e)}var dataManager=function(){var e,t,r=1,n=[],o={onmessage:function(){},postMessage:function(t){e({data:t})}},i={postMessage:function(e){o.onmessage({data:e})}};function s(){t||(t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),n=URL.createObjectURL(r);return new Worker(n)}return e=t,o}((function(e){if(i.dataManager||(i.dataManager=function(){function e(o,i){var s,a,l,c,h,u,p=o.length;for(a=0;a<p;a+=1)if("ks"in(s=o[a])&&!s.completed){if(s.completed=!0,s.tt&&(o[a-1].td=s.tt),s.hasMask){var f=s.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)n(f[l].pt.k);else for(u=f[l].pt.k.length,h=0;h<u;h+=1)f[l].pt.k[h].s&&n(f[l].pt.k[h].s[0]),f[l].pt.k[h].e&&n(f[l].pt.k[h].e[0])}0===s.ty?(s.layers=t(s.refId,i),e(s.layers,i)):4===s.ty?r(s.shapes):5===s.ty&&d(s)}}function t(e,t){var r=function(e,t){for(var r=0,n=t.length;r<n;){if(t[r].id===e)return t[r];r+=1}return null}(e,t);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(e){var t,o,i;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)n(e[t].ks.k);else for(i=e[t].ks.k.length,o=0;o<i;o+=1)e[t].ks.k[o].s&&n(e[t].ks.k[o].s[0]),e[t].ks.k[o].e&&n(e[t].ks.k[o].e[0]);else"gr"===e[t].ty&&r(e[t].it)}function n(e){var t,r=e.i.length;for(t=0;t<r;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function o(e,t){var r=t?t.split("."):[100,100,100];return e[0]>r[0]||!(r[0]>e[0])&&(e[1]>r[1]||!(r[1]>e[1])&&(e[2]>r[2]||!(r[2]>e[2])&&null))}var i,s=function(){var e=[4,4,14];function t(e){var t,r,n,o=e.length;for(t=0;t<o;t+=1)5===e[t].ty&&(n=(r=e[t]).t.d,r.t.d={k:[{s:n,t:0}]})}return function(r){if(o(e,r.v)&&(t(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&t(r.assets[n].layers)}}}(),a=(i=[4,7,99],function(e){if(e.chars&&!o(i,e.v)){var t,n=e.chars.length;for(t=0;t<n;t+=1){var s=e.chars[t];s.data&&s.data.shapes&&(r(s.data.shapes),s.data.ip=0,s.data.op=99999,s.data.st=0,s.data.sr=1,s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[t].t||(s.data.shapes.push({ty:"no"}),s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var e=[5,7,15];function t(e){var t,r,n=e.length;for(t=0;t<n;t+=1)5===e[t].ty&&(r=void 0,"number"==typeof(r=e[t].t.p).a&&(r.a={a:0,k:r.a}),"number"==typeof r.p&&(r.p={a:0,k:r.p}),"number"==typeof r.r&&(r.r={a:0,k:r.r}))}return function(r){if(o(e,r.v)&&(t(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&t(r.assets[n].layers)}}}(),c=function(){var e=[4,1,9];function t(e){var r,n,o,i=e.length;for(r=0;r<i;r+=1)if("gr"===e[r].ty)t(e[r].it);else if("fl"===e[r].ty||"st"===e[r].ty)if(e[r].c.k&&e[r].c.k[0].i)for(o=e[r].c.k.length,n=0;n<o;n+=1)e[r].c.k[n].s&&(e[r].c.k[n].s[0]/=255,e[r].c.k[n].s[1]/=255,e[r].c.k[n].s[2]/=255,e[r].c.k[n].s[3]/=255),e[r].c.k[n].e&&(e[r].c.k[n].e[0]/=255,e[r].c.k[n].e[1]/=255,e[r].c.k[n].e[2]/=255,e[r].c.k[n].e[3]/=255);else e[r].c.k[0]/=255,e[r].c.k[1]/=255,e[r].c.k[2]/=255,e[r].c.k[3]/=255}function r(e){var r,n=e.length;for(r=0;r<n;r+=1)4===e[r].ty&&t(e[r].shapes)}return function(t){if(o(e,t.v)&&(r(t.layers),t.assets)){var n,i=t.assets.length;for(n=0;n<i;n+=1)t.assets[n].layers&&r(t.assets[n].layers)}}}(),h=function(){var e=[4,4,18];function t(e){var r,n,o;for(r=e.length-1;r>=0;r-=1)if("sh"===e[r].ty)if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(o=e[r].ks.k.length,n=0;n<o;n+=1)e[r].ks.k[n].s&&(e[r].ks.k[n].s[0].c=e[r].closed),e[r].ks.k[n].e&&(e[r].ks.k[n].e[0].c=e[r].closed);else"gr"===e[r].ty&&t(e[r].it)}function r(e){var r,n,o,i,s,a,l=e.length;for(n=0;n<l;n+=1){if((r=e[n]).hasMask){var c=r.masksProperties;for(i=c.length,o=0;o<i;o+=1)if(c[o].pt.k.i)c[o].pt.k.c=c[o].cl;else for(a=c[o].pt.k.length,s=0;s<a;s+=1)c[o].pt.k[s].s&&(c[o].pt.k[s].s[0].c=c[o].cl),c[o].pt.k[s].e&&(c[o].pt.k[s].e[0].c=c[o].cl)}4===r.ty&&t(r.shapes)}}return function(t){if(o(e,t.v)&&(r(t.layers),t.assets)){var n,i=t.assets.length;for(n=0;n<i;n+=1)t.assets[n].layers&&r(t.assets[n].layers)}}}();function d(e){0===e.t.a.length&&e.t.p}var u={completeData:function(r){r.__complete||(c(r),s(r),a(r),l(r),h(r),e(r.layers,r.assets),function(r,n){if(r){var o=0,i=r.length;for(o=0;o<i;o+=1)1===r[o].t&&(r[o].data.layers=t(r[o].data.refId,n),e(r[o].data.layers,n))}}(r.chars,r.assets),r.__complete=!0)}};return u.checkColors=c,u.checkChars=a,u.checkPathProperties=l,u.checkShapes=h,u.completeLayers=e,u}()),i.assetLoader||(i.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,r,n,o){var i,s=new XMLHttpRequest;try{s.responseType="json"}catch(e){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)i=e(s),n(i);else try{i=e(s),n(i)}catch(e){o&&o(e)}};try{s.open("GET",t,!0)}catch(e){s.open("GET",r+"/"+t,!0)}s.send()}}}()),"loadAnimation"===e.data.type)i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var t=e.data.animation;i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}))})),t.onmessage=function(e){var t=e.data,r=t.id,o=n[r];n[r]=null,"success"===t.status?o.onComplete(t.payload):o.onError&&o.onError()})}function a(e,t){var o="processId_"+(r+=1);return n[o]={onComplete:e,onError:t},o}return{loadAnimation:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},loadData:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},completeAnimation:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"complete",animation:e,id:o})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(e,t,r){var n="";if(e.e)n=e.p;else if(t){var o=e.p;-1!==o.indexOf("images/")&&(o=o.split("/")[1]),n=t+o}else n=r,n+=e.u?e.u:"",n+=e.p;return n}function o(e){var t=0,r=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(r)),t+=1}.bind(this),50)}function i(e){var t={assetData:e},r=n(e,this.assetsPath,this.path);return dataManager.loadData(r,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function s(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=i.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return s.prototype={loadAssets:function(e,t){var r;this.imagesLoadedCb=t;var n=e.length;for(r=0;r<n;r+=1)e[r].layers||(e[r].t&&"seq"!==e[r].t?3===e[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[r]))):(this.totalImages+=1,this.images.push(this._createImageData(e[r]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,r=this.images.length;t<r;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var r=n(t,this.assetsPath,this.path),o=createTag("img");o.crossOrigin="anonymous",o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.src=r;var i={img:o,assetData:t};return i},createImageData:function(t){var r=n(t,this.assetsPath,this.path),o=createNS("image");isSafari?this.testImageLoaded(o):o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(o):this._elementHelper.appendChild(o);var i={img:o,assetData:t};return i},imageLoaded:t,footageLoaded:r,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},s}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],n=0;n<r.length;n+=1)r[n](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,n=this._cbs[e].length;r<n;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,n-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,r=e.split("\r\n"),n={},o=0,i=0;i<r.length;i+=1)2===(t=r[i].split(":")).length&&(n[t[0]]=t[1].trim(),o+=1);if(0===o)throw new Error;return n}return function(t){for(var r=[],n=0;n<t.length;n+=1){var o=t[n],i={time:o.tm,duration:o.dr};try{i.payload=JSON.parse(t[n].cm)}catch(r){try{i.payload=e(t[n].cm)}catch(e){i.payload={name:t[n].cm}}}r.push(i)}return r}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,r=this.compositions.length;t<r;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},n=e.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var o=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===o?r.loop=!1:"true"===o?r.loop=!0:""!==o&&(r.loop=parseInt(o,10));var i=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;r.autoplay="false"!==i,r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,n=this.animationData.layers,o=n.length,i=e.layers,s=i.length;for(r=0;r<s;r+=1)for(t=0;t<o;){if(n[t].id===i[r].id){n[t]=i[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(o=e.assets.length,t=0;t<o;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var n=Number(e);if(isNaN(n)){var o=this.getMarkerData(e);o&&this.goToAndStop(o.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var n=Number(e);if(isNaN(n)){var o=this.getMarkerData(e);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(n,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var r,n=e.length;for(r=0;r<n;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{this.renderer.getElementByPath(e).updateDocumentData(t,r)}catch(e){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,n=0,o=0,i=!0,s=!1;function a(e){for(var r=0,o=e.target;r<n;)t[r].animation===o&&(t.splice(r,1),r-=1,n-=1,o.isPaused||h()),r+=1}function l(e,r){if(!e)return null;for(var o=0;o<n;){if(t[o].elem===e&&null!==t[o].elem)return t[o].animation;o+=1}var i=new AnimationItem;return d(i,e),i.setData(e,r),i}function c(){o+=1,f()}function h(){o-=1}function d(e,r){e.addEventListener("destroy",a),e.addEventListener("_active",c),e.addEventListener("_idle",h),t.push({elem:r,animation:e}),n+=1}function u(e){var a,l=e-r;for(a=0;a<n;a+=1)t[a].animation.advanceTime(l);r=e,o&&!s?window.requestAnimationFrame(u):i=!0}function p(e){r=e,window.requestAnimationFrame(u)}function f(){!s&&o&&i&&(window.requestAnimationFrame(p),i=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return d(t,null),t.setParams(e),t},e.setSpeed=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setSpeed(e,r)},e.setDirection=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setDirection(e,r)},e.play=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.play(e)},e.pause=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.pause(e)},e.stop=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.stop(e)},e.togglePause=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.togglePause(e)},e.searchAnimations=function(e,t,r){var n,o=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=o.length;for(n=0;n<i;n+=1)r&&o[n].setAttribute("data-bm-type",r),l(o[n],e);if(t&&0===i){r||(r="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",r),s.appendChild(a),l(a,e)}},e.resize=function(){var e;for(e=0;e<n;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,r,o){var i;for(i=0;i<n;i+=1)t[i].animation.goToAndStop(e,r,o)},e.destroy=function(e){var r;for(r=n-1;r>=0;r-=1)t[r].animation.destroy(e)},e.freeze=function(){s=!0},e.unfreeze=function(){s=!1,f()},e.setVolume=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setVolume(e,r)},e.mute=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.mute(e)},e.unmute=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n.push(t[e].animation);return n},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,r,n,o,i){var s=i||("bez_"+e+"_"+r+"_"+n+"_"+o).replace(/\./g,"p");if(t[s])return t[s];var a=new c([e,r,n,o]);return t[s]=a,a}},t={},r=.1,n="function"==typeof Float32Array;function o(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function s(e){return 3*e}function a(e,t,r){return((o(t,r)*e+i(t,r))*e+s(t))*e}function l(e,t,r){return 3*o(t,r)*e*e+2*i(t,r)*e+s(t)}function c(e){this._p=e,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(e){var t=this._p[0],r=this._p[1],n=this._p[2],o=this._p[3];return this._precomputed||this._precompute(),t===r&&n===o?e:0===e?0:1===e?1:a(this._getTForX(e),r,o)},_precompute:function(){var e=this._p[0],t=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,e===t&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=a(n*r,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],o=this._mSampleValues,i=0,s=1;10!==s&&o[s]<=e;++s)i+=r;var c=i+(e-o[--s])/(o[s+1]-o[s])*r,h=l(c,t,n);return h>=.001?function(e,t,r,n){for(var o=0;o<4;++o){var i=l(t,r,n);if(0===i)return t;t-=(a(t,r,n)-e)/i}return t}(e,c,t,n):0===h?c:function(e,t,r,n,o){var i,s,l=0;do{(i=a(s=t+(r-t)/2,n,o)-e)>0?r=s:t=s}while(Math.abs(i)>1e-7&&++l<10);return s}(e,i,i+r,t,n)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,r){var n=0,o=e,i=createSizedArray(o);return{newElement:function(){return n?i[n-=1]:t()},release:function(e){n===o&&(i=pooling.double(i),o*=2),r&&r(e),i[n]=e,n+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}));function bezFunction(){var e=Math;function t(e,t,r,n,o,i){var s=e*n+t*o+r*i-o*n-i*e-r*t;return s>-.001&&s<.001}var r=function(e,t,r,n){var o,i,s,a,l,c,h=getDefaultCurveSegments(),d=0,u=[],p=[],f=bezierLengthPool.newElement();for(s=r.length,o=0;o<h;o+=1){for(l=o/(h-1),c=0,i=0;i<s;i+=1)a=bmPow(1-l,3)*e[i]+3*bmPow(1-l,2)*l*r[i]+3*(1-l)*bmPow(l,2)*n[i]+bmPow(l,3)*t[i],u[i]=a,null!==p[i]&&(c+=bmPow(u[i]-p[i],2)),p[i]=u[i];c&&(d+=c=bmSqrt(c)),f.percents[o]=l,f.lengths[o]=d}return f.addedLength=d,f};function n(e){this.segmentLength=0,this.points=new Array(e)}function o(e,t){this.partialLength=e,this.point=t}var i,s=(i={},function(e,r,s,a){var l=(e[0]+"_"+e[1]+"_"+r[0]+"_"+r[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!i[l]){var c,h,d,u,p,f,m,g=getDefaultCurveSegments(),v=0,y=null;2===e.length&&(e[0]!==r[0]||e[1]!==r[1])&&t(e[0],e[1],r[0],r[1],e[0]+s[0],e[1]+s[1])&&t(e[0],e[1],r[0],r[1],r[0]+a[0],r[1]+a[1])&&(g=2);var b=new n(g);for(d=s.length,c=0;c<g;c+=1){for(m=createSizedArray(d),p=c/(g-1),f=0,h=0;h<d;h+=1)u=bmPow(1-p,3)*e[h]+3*bmPow(1-p,2)*p*(e[h]+s[h])+3*(1-p)*bmPow(p,2)*(r[h]+a[h])+bmPow(p,3)*r[h],m[h]=u,null!==y&&(f+=bmPow(m[h]-y[h],2));v+=f=bmSqrt(f),b.points[c]=new o(f,m),y=m}b.segmentLength=v,i[l]=b}return i[l]});function a(e,t){var r=t.percents,n=t.lengths,o=r.length,i=bmFloor((o-1)*e),s=e*t.addedLength,a=0;if(i===o-1||0===i||s===n[i])return r[i];for(var l=n[i]>s?-1:1,c=!0;c;)if(n[i]<=s&&n[i+1]>s?(a=(s-n[i])/(n[i+1]-n[i]),c=!1):i+=l,i<0||i>=o-1){if(i===o-1)return r[i];c=!1}return r[i]+(r[i+1]-r[i])*a}var l=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,n=segmentsLengthPool.newElement(),o=e.c,i=e.v,s=e.o,a=e.i,l=e._length,c=n.lengths,h=0;for(t=0;t<l-1;t+=1)c[t]=r(i[t],i[t+1],s[t],a[t+1]),h+=c[t].addedLength;return o&&l&&(c[t]=r(i[t],i[0],s[t],a[0]),h+=c[t].addedLength),n.totalLength=h,n},getNewSegment:function(t,r,n,o,i,s,c){i<0?i=0:i>1&&(i=1);var h,d=a(i,c),u=a(s=s>1?1:s,c),p=t.length,f=1-d,m=1-u,g=f*f*f,v=d*f*f*3,y=d*d*f*3,b=d*d*d,w=f*f*m,x=d*f*m+f*d*m+f*f*u,_=d*d*m+f*d*u+d*f*u,E=d*d*u,C=f*m*m,S=d*m*m+f*u*m+f*m*u,k=d*u*m+f*u*u+d*m*u,A=d*u*u,P=m*m*m,T=u*m*m+m*u*m+m*m*u,M=u*u*m+m*u*u+u*m*u,O=u*u*u;for(h=0;h<p;h+=1)l[4*h]=e.round(1e3*(g*t[h]+v*n[h]+y*o[h]+b*r[h]))/1e3,l[4*h+1]=e.round(1e3*(w*t[h]+x*n[h]+_*o[h]+E*r[h]))/1e3,l[4*h+2]=e.round(1e3*(C*t[h]+S*n[h]+k*o[h]+A*r[h]))/1e3,l[4*h+3]=e.round(1e3*(P*t[h]+T*n[h]+M*o[h]+O*r[h]))/1e3;return l},getPointInSegment:function(t,r,n,o,i,s){var l=a(i,s),c=1-l;return[e.round(1e3*(c*c*c*t[0]+(l*c*c+c*l*c+c*c*l)*n[0]+(l*l*c+c*l*l+l*c*l)*o[0]+l*l*l*r[0]))/1e3,e.round(1e3*(c*c*c*t[1]+(l*c*c+c*l*c+c*c*l)*n[1]+(l*l*c+c*l*l+l*c*l)*o[1]+l*l*l*r[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(r,n,o,i,s,a,l,c,h){if(0===o&&0===a&&0===h)return t(r,n,i,s,l,c);var d,u=e.sqrt(e.pow(i-r,2)+e.pow(s-n,2)+e.pow(a-o,2)),p=e.sqrt(e.pow(l-r,2)+e.pow(c-n,2)+e.pow(h-o,2)),f=e.sqrt(e.pow(l-i,2)+e.pow(c-s,2)+e.pow(h-a,2));return(d=u>p?u>f?u-p-f:f-p-u:f>p?f-p-u:p-u-f)>-1e-4&&d<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function r(e,t){var r,o=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var i,s,a,l,c,h,d,u,p,f=t.lastIndex,m=f,g=this.keyframes.length-1,v=!0;v;){if(i=this.keyframes[m],s=this.keyframes[m+1],m===g-1&&e>=s.t-o){i.h&&(i=s),f=0;break}if(s.t-o>e){f=m;break}m<g-1?m+=1:(f=0,v=!1)}a=this.keyframesMetadata[m]||{};var y,b,w,x,_,E,C,S,k,A,P=s.t-o,T=i.t-o;if(i.to){a.bezierData||(a.bezierData=bez.buildBezierData(i.s,s.s||i.e,i.to,i.ti));var M=a.bezierData;if(e>=P||e<T){var O=e>=P?M.points.length-1:0;for(c=M.points[O].point.length,l=0;l<c;l+=1)r[l]=M.points[O].point[l]}else{a.__fnct?p=a.__fnct:(p=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,a.__fnct=p),h=p((e-T)/(P-T));var D,I=M.segmentLength*h,R=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(u=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,v=!0,d=M.points.length;v;){if(R+=M.points[u].partialLength,0===I||0===h||u===M.points.length-1){for(c=M.points[u].point.length,l=0;l<c;l+=1)r[l]=M.points[u].point[l];break}if(I>=R&&I<R+M.points[u+1].partialLength){for(D=(I-R)/M.points[u+1].partialLength,c=M.points[u].point.length,l=0;l<c;l+=1)r[l]=M.points[u].point[l]+(M.points[u+1].point[l]-M.points[u].point[l])*D;break}u<d-1?u+=1:v=!1}t._lastPoint=u,t._lastAddedLength=R-M.points[u].partialLength,t._lastKeyframeIndex=m}}else{var F,B,N,L,V;if(g=i.s.length,y=s.s||i.e,this.sh&&1!==i.h)e>=P?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):e<=T?(r[0]=i.s[0],r[1]=i.s[1],r[2]=i.s[2]):(b=r,w=function(e,t,r){var n,o,i,s,a,l=[],c=e[0],h=e[1],d=e[2],u=e[3],p=t[0],f=t[1],m=t[2],g=t[3];return(o=c*p+h*f+d*m+u*g)<0&&(o=-o,p=-p,f=-f,m=-m,g=-g),1-o>1e-6?(n=Math.acos(o),i=Math.sin(n),s=Math.sin((1-r)*n)/i,a=Math.sin(r*n)/i):(s=1-r,a=r),l[0]=s*c+a*p,l[1]=s*h+a*f,l[2]=s*d+a*m,l[3]=s*u+a*g,l}(n(i.s),n(y),(e-T)/(P-T)),x=w[0],_=w[1],E=w[2],C=w[3],S=Math.atan2(2*_*C-2*x*E,1-2*_*_-2*E*E),k=Math.asin(2*x*_+2*E*C),A=Math.atan2(2*x*C-2*_*E,1-2*x*x-2*E*E),b[0]=S/degToRads,b[1]=k/degToRads,b[2]=A/degToRads);else for(m=0;m<g;m+=1)1!==i.h&&(e>=P?h=1:e<T?h=0:(i.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[m]?p=a.__fnct[m]:(F=void 0===i.o.x[m]?i.o.x[0]:i.o.x[m],B=void 0===i.o.y[m]?i.o.y[0]:i.o.y[m],N=void 0===i.i.x[m]?i.i.x[0]:i.i.x[m],L=void 0===i.i.y[m]?i.i.y[0]:i.i.y[m],p=BezierFactory.getBezierEasing(F,B,N,L).get,a.__fnct[m]=p)):a.__fnct?p=a.__fnct:(F=i.o.x,B=i.o.y,N=i.i.x,L=i.i.y,p=BezierFactory.getBezierEasing(F,B,N,L).get,i.keyframeMetadata=p),h=p((e-T)/(P-T)))),y=s.s||i.e,V=1===i.h?i.s[m]:i.s[m]+(y[m]-i.s[m])*h,"multidimensional"===this.propType?r[m]=V:r=V}return t.lastIndex=f,r}function n(e){var t=e[0]*degToRads,r=e[1]*degToRads,n=e[2]*degToRads,o=Math.cos(t/2),i=Math.cos(r/2),s=Math.cos(n/2),a=Math.sin(t/2),l=Math.sin(r/2),c=Math.sin(n/2);return[a*l*s+o*i*c,a*i*s+o*l*c,o*l*s-a*i*c,o*i*s-a*l*c]}function o(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<r&&t<r))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(t,this._caching);this.pv=o}return this._caching.lastFrame=t,this.pv}function i(e){var r;if("unidimensional"===this.propType)r=e*this.mult,t(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var n=0,o=this.v.length;n<o;)r=e[n]*this.mult,t(this.v[n]-r)>1e-5&&(this.v[n]=r,this._mdf=!0),n+=1}function s(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,r,n){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.addEffect=a}function c(e,t,r,n){var o;this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),o=0;o<l;o+=1)this.v[o]=t.k[o]*this.mult,this.pv[o]=t.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=s,this.setVValue=i,this.addEffect=a}function h(t,n,l,c){this.propType="unidimensional",this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.interpolateValue=r,this.effectsSequence=[o.bind(this)],this.addEffect=a}function d(t,n,l,c){var h;this.propType="multidimensional";var d,u,p,f,m=n.k.length;for(h=0;h<m-1;h+=1)n.k[h].to&&n.k[h].s&&n.k[h+1]&&n.k[h+1].s&&(d=n.k[h].s,u=n.k[h+1].s,p=n.k[h].to,f=n.k[h].ti,(2===d.length&&(d[0]!==u[0]||d[1]!==u[1])&&bez.pointOnLine2D(d[0],d[1],u[0],u[1],d[0]+p[0],d[1]+p[1])&&bez.pointOnLine2D(d[0],d[1],u[0],u[1],u[0]+f[0],u[1]+f[1])||3===d.length&&(d[0]!==u[0]||d[1]!==u[1]||d[2]!==u[2])&&bez.pointOnLine3D(d[0],d[1],d[2],u[0],u[1],u[2],d[0]+p[0],d[1]+p[1],d[2]+p[2])&&bez.pointOnLine3D(d[0],d[1],d[2],u[0],u[1],u[2],u[0]+f[0],u[1]+f[1],u[2]+f[2]))&&(n.k[h].to=null,n.k[h].ti=null),d[0]===u[0]&&d[1]===u[1]&&0===p[0]&&0===p[1]&&0===f[0]&&0===f[1]&&(2===d.length||d[2]===u[2]&&0===p[2]&&0===f[2])&&(n.k[h].to=null,n.k[h].ti=null));this.effectsSequence=[o.bind(this)],this.data=n,this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.getValue=s,this.setVValue=i,this.interpolateValue=r,this.frameId=-1;var g=n.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),h=0;h<g;h+=1)this.v[h]=e,this.pv[h]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}var u={getProp:function(e,t,r,n,o){var i;if(t.k.length)if("number"==typeof t.k[0])i=new c(e,t,n,o);else switch(r){case 0:i=new h(e,t,n,o);break;case 1:i=new d(e,t,n,o)}else i=new l(e,t,n,o);return i.effectsSequence.length&&o.addDynamicProperty(i),i}};return u}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,n,o){var i;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[n]||i[n]&&!o)&&(i[n]=pointPool.newElement()),i[n][0]=e,i[n][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,n,o,i,s,a){this.setXYAt(e,t,"v",s,a),this.setXYAt(r,n,"o",s,a),this.setXYAt(o,i,"i",s,a)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,n=this.i,o=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),o=1);var i,s=this._length-1,a=this._length;for(i=o;i<a;i+=1)e.setTripleAt(t[s][0],t[s][1],n[s][0],n[s][1],r[s][0],r[s][1],i,!1),s-=1;return e};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),factory.clone=function(e){var t,r=factory.newElement(),n=void 0===e._length?e.v.length:e._length;for(r.setLength(n),r.c=e.c,t=0;t<n;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(e){var t,r=e._length;for(t=0;t<r;t+=1)shapePool.release(e.shapes[t]);e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var e=-999999;function t(e,t,r){var n,o,i,s,a,l,c,h,d,u=r.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)n=p[0].s[0],i=!0,u=0;else if(e>=p[p.length-1].t-this.offsetTime)n=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var f,m,g,v=u,y=p.length-1,b=!0;b&&(f=p[v],!((m=p[v+1]).t-this.offsetTime>e));)v<y-1?v+=1:b=!1;if(g=this.keyframesMetadata[v]||{},u=v,!(i=1===f.h)){if(e>=m.t-this.offsetTime)h=1;else if(e<f.t-this.offsetTime)h=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=w),h=w((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}o=m.s?m.s[0]:f.e[0]}n=f.s[0]}for(l=t._length,c=n.i[0].length,r.lastIndex=u,s=0;s<l;s+=1)for(a=0;a<c;a+=1)d=i?n.i[s][a]:n.i[s][a]+(o.i[s][a]-n.i[s][a])*h,t.i[s][a]=d,d=i?n.o[s][a]:n.o[s][a]+(o.o[s][a]-n.o[s][a])*h,t.o[s][a]=d,d=i?n.v[s][a]:n.v[s][a]+(o.v[s][a]-n.v[s][a])*h,t.v[s][a]=d}function r(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,o=this._caching.lastFrame;return o!==e&&(o<r&&t<r||o>n&&t>n)||(this._caching.lastIndex=o<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function n(){this.paths=this.localShapeCollection}function o(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var r,n=e._length;for(r=0;r<n;r+=1)if(e.v[r][0]!==t.v[r][0]||e.v[r][1]!==t.v[r][1]||e.o[r][0]!==t.o[r][0]||e.o[r][1]!==t.o[r][1]||e.i[r][0]!==t.i[r][0]||e.i[r][1]!==t.i[r][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var o=3===r?t.pt.k:t.ks.k;this.v=shapePool.clone(o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,o,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?o.pt.k:o.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=n,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=i,s.prototype.setVValue=o,s.prototype.addEffect=a,l.prototype.getValue=i,l.prototype.interpolateShape=t,l.prototype.setVValue=o,l.prototype.addEffect=a;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],r=this.p.v[1],n=this.s.v[0]/2,o=this.s.v[1]/2,i=3!==this.d,s=this.v;s.v[0][0]=t,s.v[0][1]=r-o,s.v[1][0]=i?t+n:t-n,s.v[1][1]=r,s.v[2][0]=t,s.v[2][1]=r+o,s.v[3][0]=i?t-n:t+n,s.v[3][1]=r,s.i[0][0]=i?t-n*e:t+n*e,s.i[0][1]=r-o,s.i[1][0]=i?t+n:t-n,s.i[1][1]=r-o*e,s.i[2][0]=i?t+n*e:t-n*e,s.i[2][1]=r+o,s.i[3][0]=i?t-n:t+n,s.i[3][1]=r+o*e,s.o[0][0]=i?t+n*e:t-n*e,s.o[0][1]=r-o,s.o[1][0]=i?t+n:t-n,s.o[1][1]=r+o*e,s.o[2][0]=i?t-n*e:t+n*e,s.o[2][1]=r+o,s.o[3][0]=i?t-n:t+n,s.o[3][1]=r-o*e}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,r,n,o=2*Math.floor(this.pt.v),i=2*Math.PI/o,s=!0,a=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,d=2*Math.PI*a/(2*o),u=2*Math.PI*l/(2*o),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<o;e+=1){r=s?c:h,n=s?d:u;var m=(t=s?a:l)*Math.cos(p),g=t*Math.sin(p),v=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),y=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-v*n*r*f,g-y*n*r*f,m+v*n*r*f,g+y*n*r*f,e,!0),s=!s,p+=i*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),r=2*Math.PI/t,n=this.or.v,o=this.os.v,i=2*Math.PI*n/(4*t),s=.5*-Math.PI,a=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=n*Math.cos(s),c=n*Math.sin(s),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),d=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*i*o*a,c-d*i*o*a,l+h*i*o*a,c+d*i*o*a,e,!0),s+=r*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),d=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,o=bmMin(r,n,this.r.v),i=o*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+r,t-n+o,e+r,t-n+o,e+r,t-n+i,0,!0),this.v.setTripleAt(e+r,t+n-o,e+r,t+n-i,e+r,t+n-o,1,!0),0!==o?(this.v.setTripleAt(e+r-o,t+n,e+r-o,t+n,e+r-i,t+n,2,!0),this.v.setTripleAt(e-r+o,t+n,e-r+i,t+n,e-r+o,t+n,3,!0),this.v.setTripleAt(e-r,t+n-o,e-r,t+n-o,e-r,t+n-i,4,!0),this.v.setTripleAt(e-r,t-n+o,e-r,t-n+i,e-r,t-n+o,5,!0),this.v.setTripleAt(e-r+o,t-n,e-r+o,t-n,e-r+i,t-n,6,!0),this.v.setTripleAt(e+r-o,t-n,e+r-i,t-n,e+r-o,t-n,7,!0)):(this.v.setTripleAt(e-r,t+n,e-r+i,t+n,e-r,t+n,2),this.v.setTripleAt(e-r,t-n,e-r,t-n+i,e-r,t-n,3))):(this.v.setTripleAt(e+r,t-n+o,e+r,t-n+i,e+r,t-n+o,0,!0),0!==o?(this.v.setTripleAt(e+r-o,t-n,e+r-o,t-n,e+r-i,t-n,1,!0),this.v.setTripleAt(e-r+o,t-n,e-r+i,t-n,e-r+o,t-n,2,!0),this.v.setTripleAt(e-r,t-n+o,e-r,t-n+o,e-r,t-n+i,3,!0),this.v.setTripleAt(e-r,t+n-o,e-r,t+n-i,e-r,t+n-o,4,!0),this.v.setTripleAt(e-r+o,t+n,e-r+o,t+n,e-r+i,t+n,5,!0),this.v.setTripleAt(e+r-o,t+n,e+r-i,t+n,e+r-o,t+n,6,!0),this.v.setTripleAt(e+r,t+n-o,e+r,t+n-o,e+r,t+n-i,7,!0)):(this.v.setTripleAt(e-r,t-n,e-r+i,t-n,e-r,t-n,1,!0),this.v.setTripleAt(e-r,t+n,e-r,t+n-i,e-r,t+n,2,!0),this.v.setTripleAt(e+r,t+n,e+r-i,t+n,e+r,t+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],e),e}(),u={getShapeProp:function(e,t,r){var n;return 3===r||4===r?n=(3===r?t.pt:t.ks).k.length?new l(e,t,r):new s(e,t,r):5===r?n=new d(e,t):6===r?n=new c(e,t):7===r&&(n=new h(e,t)),n.k&&e.addDynamicProperty(n),n},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return l}};return u}(),Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,n=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1)}function s(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(1,0,0,0,0,n,-o,0,0,o,n,0,0,0,0,1)}function a(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,0,o,0,0,1,0,0,-o,0,n,0,0,0,0,1)}function l(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function h(e,t){return this.shear(r(e),r(t))}function d(n,o){var i=e(o),s=t(o);return this._t(i,s,0,0,-s,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1)}function u(e,t,r){return r||0===r||(r=1),1===e&&1===t&&1===r?this:this._t(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}function p(e,t,r,n,o,i,s,a,l,c,h,d,u,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=r,this.props[3]=n,this.props[4]=o,this.props[5]=i,this.props[6]=s,this.props[7]=a,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=d,this.props[12]=u,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,r){return r=r||0,0!==e||0!==t||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1):this}function m(e,t,r,n,o,i,s,a,l,c,h,d,u,p,f,m){var g=this.props;if(1===e&&0===t&&0===r&&0===n&&0===o&&1===i&&0===s&&0===a&&0===l&&0===c&&1===h&&0===d)return g[12]=g[12]*e+g[15]*u,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*h+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var v=g[0],y=g[1],b=g[2],w=g[3],x=g[4],_=g[5],E=g[6],C=g[7],S=g[8],k=g[9],A=g[10],P=g[11],T=g[12],M=g[13],O=g[14],D=g[15];return g[0]=v*e+y*o+b*l+w*u,g[1]=v*t+y*i+b*c+w*p,g[2]=v*r+y*s+b*h+w*f,g[3]=v*n+y*a+b*d+w*m,g[4]=x*e+_*o+E*l+C*u,g[5]=x*t+_*i+E*c+C*p,g[6]=x*r+_*s+E*h+C*f,g[7]=x*n+_*a+E*d+C*m,g[8]=S*e+k*o+A*l+P*u,g[9]=S*t+k*i+A*c+P*p,g[10]=S*r+k*s+A*h+P*f,g[11]=S*n+k*a+A*d+P*m,g[12]=T*e+M*o+O*l+D*u,g[13]=T*t+M*i+O*c+D*p,g[14]=T*r+M*s+O*h+D*f,g[15]=T*n+M*a+O*d+D*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function y(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function b(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function w(e,t,r){return{x:e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}}function x(e,t,r){return e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12]}function _(e,t,r){return e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13]}function E(e,t,r){return e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}function C(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,r=-this.props[1]/e,n=-this.props[4]/e,o=this.props[0]/e,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,a=new Matrix;return a.props[0]=t,a.props[1]=r,a.props[4]=n,a.props[5]=o,a.props[12]=i,a.props[13]=s,a}function S(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function k(e){var t,r=e.length,n=[];for(t=0;t<r;t+=1)n[t]=S(e[t]);return n}function A(e,t,r){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=e[0],n[1]=e[1],n[2]=t[0],n[3]=t[1],n[4]=r[0],n[5]=r[1];else{var o=this.props[0],i=this.props[1],s=this.props[4],a=this.props[5],l=this.props[12],c=this.props[13];n[0]=e[0]*o+e[1]*s+l,n[1]=e[0]*i+e[1]*a+c,n[2]=t[0]*o+t[1]*s+l,n[3]=t[0]*i+t[1]*a+c,n[4]=r[0]*o+r[1]*s+l,n[5]=r[0]*i+r[1]*a+c}return n}function P(e,t,r){return this.isIdentity()?[e,t,r]:[e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]]}function T(e,t){if(this.isIdentity())return e+","+t;var r=this.props;return Math.round(100*(e*r[0]+t*r[4]+r[12]))/100+","+Math.round(100*(e*r[1]+t*r[5]+r[13]))/100}function M(){for(var e=0,t=this.props,r="matrix3d(";e<16;)r+=n(1e4*t[e])/1e4,r+=15===e?")":",",e+=1;return r}function O(e){return e<1e-6&&e>0||e>-1e-6&&e<0?n(1e4*e)/1e4:e}function D(){var e=this.props;return"matrix("+O(e[0])+","+O(e[1])+","+O(e[4])+","+O(e[5])+","+O(e[12])+","+O(e[13])+")"}return function(){this.reset=o,this.rotate=i,this.rotateX=s,this.rotateY=a,this.rotateZ=l,this.skew=h,this.skewFromAxis=d,this.shear=c,this.scale=u,this.setTransform=p,this.translate=f,this.transform=m,this.applyToPoint=w,this.applyToX=x,this.applyToY=_,this.applyToZ=E,this.applyToPointArray=P,this.applyToTriplePoints=A,this.applyToPointStringified=T,this.toCSS=M,this.to2dCSS=D,this.clone=y,this.cloneFromProps=b,this.equals=v,this.inversePoints=k,this.inversePoint=S,this.getInverseMatrix=C,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var n=t[r].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,r){t[e]||(t[e]=r)},e.getModifier=function(e,r,n){return new t[e](r,n)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,n,o){var i=[];t<=1?i.push({s:e,e:t}):e>=1?i.push({s:e-1,e:t-1}):(i.push({s:e,e:1}),i.push({s:0,e:t-1}));var s,a,l=[],c=i.length;for(s=0;s<c;s+=1){var h,d;(a=i[s]).e*o<n||a.s*o>n+r||(h=a.s*o<=n?0:(a.s*o-n)/r,d=a.e*o>=n+r?1:(a.e*o-n)/r,l.push([h,d]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,n,o;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(r=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var s=t;t=r,r=s}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var a,l,c,h,d,u=this.shapes.length,p=0;if(r===t)for(o=0;o<u;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection,this._mdf&&(this.shapes[o].pathsData.length=0);else if(1===r&&0===t||0===r&&1===t){if(this._mdf)for(o=0;o<u;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var f,m,g=[];for(o=0;o<u;o+=1)if((f=this.shapes[o]).shape._mdf||this._mdf||e||2===this.m){if(l=(n=f.shape.paths)._length,d=0,!f.shape._mdf&&f.pathsData.length)d=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)h=bez.getSegmentsLength(n.shapes[a]),c.push(h),d+=h.totalLength;f.totalShapeLength=d,f.pathsData=c}p+=d,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v,y=t,b=r,w=0;for(o=u-1;o>=0;o-=1)if((f=this.shapes[o]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&u>1?(v=this.calculateShapeEdges(t,r,f.totalShapeLength,w,p),w+=f.totalShapeLength):v=[[y,b]],l=v.length,a=0;a<l;a+=1){y=v[a][0],b=v[a][1],g.length=0,b<=1?g.push({s:f.totalShapeLength*y,e:f.totalShapeLength*b}):y>=1?g.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(b-1)}):(g.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(b-1)}));var x=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var _=x.pop();this.addPaths(x,m),x=this.addShapes(f,g[1],_)}else this.addPaths(x,m),x=this.addShapes(f,g[1]);this.addPaths(x,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,n,o,i,s){o.setXYAt(t[0],t[1],"o",i),o.setXYAt(r[0],r[1],"i",i+1),s&&o.setXYAt(e[0],e[1],"v",i),o.setXYAt(n[0],n[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,n){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),n&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var n,o,i,s,a,l,c,h,d=e.pathsData,u=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(r?(a=r._length,h=r._length):(r=shapePool.newElement(),a=0,h=0),m.push(r),n=0;n<p;n+=1){for(l=d[n].lengths,r.c=u[n].c,i=u[n].c?l.length:l.length+1,o=1;o<i;o+=1)if(f+(s=l[o-1]).addedLength<t.s)f+=s.addedLength,r.c=!1;else{if(f>t.e){r.c=!1;break}t.s<=f&&t.e>=f+s.addedLength?(this.addSegment(u[n].v[o-1],u[n].o[o-1],u[n].i[o],u[n].v[o],r,a,g),g=!1):(c=bez.getNewSegment(u[n].v[o-1],u[n].v[o],u[n].o[o-1],u[n].i[o],(t.s-f)/s.addedLength,(t.e-f)/s.addedLength,l[o-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1),f+=s.addedLength,a+=1}if(u[n].c&&l.length){if(s=l[o-1],f<=t.e){var v=l[o-1].addedLength;t.s<=f&&t.e>=f+v?(this.addSegment(u[n].v[o-1],u[n].o[o-1],u[n].i[0],u[n].v[0],r,a,g),g=!1):(c=bez.getNewSegment(u[n].v[o-1],u[n].v[0],u[n].o[o-1],u[n].i[0],(t.s-f)/v,(t.e-f)/v,l[o-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1)}else r.c=!1;f+=s.addedLength,a+=1}if(r._length&&(r.setXYAt(r.v[h][0],r.v[h][1],"i",h),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>t.e)break;n<p-1&&(r=shapePool.newElement(),g=!0,m.push(r),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,n=[0,0],o=e._length,i=0;for(i=0;i<o;i+=1)n[0]+=e.v[i][0],n[1]+=e.v[i][1];n[0]/=o,n[1]/=o;var s,a,l,c,h,d,u=shapePool.newElement();for(u.c=e.c,i=0;i<o;i+=1)s=e.v[i][0]+(n[0]-e.v[i][0])*r,a=e.v[i][1]+(n[1]-e.v[i][1])*r,l=e.o[i][0]+(n[0]-e.o[i][0])*-r,c=e.o[i][1]+(n[1]-e.o[i][1])*-r,h=e.i[i][0]+(n[0]-e.i[i][0])*-r,d=e.i[i][1]+(n[1]-e.i[i][1])*-r,u.setTripleAt(s,a,l,c,h,d,i);return u},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,r){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var n,o=t.or.k.length;for(n=0;n<o;n+=1)t.or.k[n].to=null,t.or.k[n].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,o;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),o=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),o=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(n=this.p.pv,o=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],o=[];var i=this.px,s=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(n[0]=i.getValueAtTime((i.keyframes[0].t+.01)/r,0),n[1]=s.getValueAtTime((s.keyframes[0].t+.01)/r,0),o[0]=i.getValueAtTime(i.keyframes[0].t/r,0),o[1]=s.getValueAtTime(s.keyframes[0].t/r,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(n[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/r,0),n[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/r,0),o[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/r,0),o[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/r,0)):(n=[i.pv,s.pv],o[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/r,i.offsetTime),o[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/r,s.offsetTime))}else n=o=e;this.v.rotate(-Math.atan2(n[1]-o[1],n[0]-o[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,n){return new t(e,r,n)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",n="normal",o=t.length,i=0;i<o;i+=1)switch(t[i].toLowerCase()){case"italic":n="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:n,weight:e.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,n,o,i){var s=i?-1:1,a=n.s.v[0]+(1-n.s.v[0])*(1-o),l=n.s.v[1]+(1-n.s.v[1])*(1-o);e.translate(n.p.v[0]*s*o,n.p.v[1]*s*o,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*s*o),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(i?1/a:a,i?1/l:l),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,n){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]._render=t,"gr"===e[r].ty&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,n,o,i,s=!1;if(this._mdf||e){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(i=0,n=0;n<=this._groups.length-1;n+=1){if(a=i<l,this._groups[n]._render=a,this.changeGroupRender(this._groups[n].it,a),!a){var h=this.elemsData[n].it,d=h[h.length-1];0!==d.transform.op.v?(d.transform.op._mdf=!0,d.transform.op.v=0):d.transform.op._mdf=!1}i+=1}this._currentCopies=l;var u=this.o.v,p=u%1,f=u>0?Math.floor(u):Math.ceil(u),m=this.pMatrix.props,g=this.rMatrix.props,v=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,b,w=0;if(u>0){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),w+=p)}else if(u<0){for(;w>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),w-=p)}for(n=1===this.data.m?0:this._currentCopies-1,o=1===this.data.m?1:-1,i=this._currentCopies;i;){if(b=(r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==w){for((0!==n&&1===o||n!==this._currentCopies-1&&-1===o)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),y=0;y<b;y+=1)r[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<b;y+=1)r[y]=this.matrix.props[y];w+=1,i-=1,n+=o}}else for(i=this._currentCopies,n=0,o=1;i;)r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,i-=1,n+=o;return s},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r,n=shapePool.newElement();n.c=e.c;var o,i,s,a,l,c,h,d,u,p,f,m,g=e._length,v=0;for(r=0;r<g;r+=1)o=e.v[r],s=e.o[r],i=e.i[r],o[0]===s[0]&&o[1]===s[1]&&o[0]===i[0]&&o[1]===i[1]?0!==r&&r!==g-1||e.c?(a=0===r?e.v[g-1]:e.v[r-1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,h=f=o[0]+(a[0]-o[0])*c,d=m=o[1]-(o[1]-a[1])*c,u=h-(h-o[0])*roundCorner,p=d-(d-o[1])*roundCorner,n.setTripleAt(h,d,u,p,f,m,v),v+=1,a=r===g-1?e.v[0]:e.v[r+1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,h=u=o[0]+(a[0]-o[0])*c,d=p=o[1]+(a[1]-o[1])*c,f=h-(h-o[0])*roundCorner,m=d-(d-o[1])*roundCorner,n.setTripleAt(h,d,u,p,f,m,v),v+=1):(n.setTripleAt(o[0],o[1],s[0],s[1],i[0],i[1],v),v+=1):(n.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],v),v+=1);return n},RoundCornersModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],n=[65039,8205];function o(e,t){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=t;var n=createTag("span");n.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(n),document.body.appendChild(r);var o=n.offsetWidth;return n.style.fontFamily=function(e){var t,r=e.split(","),n=r.length,o=[];for(t=0;t<n;t+=1)"sans-serif"!==r[t]&&"monospace"!==r[t]&&o.push(r[t]);return o.join(",")}(e)+", "+t,{node:n,w:o,parent:r}}function i(e,t){var r,n=document.body&&t?"svg":"canvas",o=getFontProperties(e);if("svg"===n){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",o.style),i.setAttribute("font-weight",o.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),r=i}else{var s=new OffscreenCanvas(500,500).getContext("2d");s.font=o.style+" "+o.weight+" 100px "+e.fFamily,r=s}return{measureText:function(e){return"svg"===n?(r.textContent=e,r.getComputedTextLength()):r.measureText(e).width}}}var s=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};s.isModifier=function(e,t){var n=e.toString(16)+t.toString(16);return-1!==r.indexOf(n)},s.isZeroWidthJoiner=function(e,t){return t?e===n[0]&&t===n[1]:e===n[1]},s.isCombinedCharacter=function(e){return-1!==t.indexOf(e)};var a={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var r,n,o=e.length,i=this.chars.length;for(t=0;t<o;t+=1){for(r=0,n=!1;r<i;)this.chars[r].style===e[t].style&&this.chars[r].fFamily===e[t].fFamily&&this.chars[r].ch===e[t].ch&&(n=!0),r+=1;n||(this.chars.push(e[t]),i+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=i(e),e.cache={}})),void(this.fonts=e.list);var r,n=e.list,s=n.length,a=s;for(r=0;r<s;r+=1){var l,c,h=!0;if(n[r].loaded=!1,n[r].monoCase=o(n[r].fFamily,"monospace"),n[r].sansCase=o(n[r].fFamily,"sans-serif"),n[r].fPath){if("p"===n[r].fOrigin||3===n[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[r].fFamily+'"], style[f-origin="3"][f-family="'+n[r].fFamily+'"]')).length>0&&(h=!1),h){var d=createTag("style");d.setAttribute("f-forigin",n[r].fOrigin),d.setAttribute("f-origin",n[r].origin),d.setAttribute("f-family",n[r].fFamily),d.type="text/css",d.innerText="@font-face {font-family: "+n[r].fFamily+"; font-style: normal; src: url('"+n[r].fPath+"');}",t.appendChild(d)}}else if("g"===n[r].fOrigin||1===n[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(n[r].fPath)&&(h=!1);if(h){var u=createTag("link");u.setAttribute("f-forigin",n[r].fOrigin),u.setAttribute("f-origin",n[r].origin),u.type="text/css",u.rel="stylesheet",u.href=n[r].fPath,document.body.appendChild(u)}}else if("t"===n[r].fOrigin||2===n[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)n[r].fPath===l[c].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",n[r].fOrigin),p.setAttribute("f-origin",n[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",n[r].fPath),t.appendChild(p)}}}else n[r].loaded=!0,a-=1;n[r].helper=i(n[r],t),n[r].cache={},this.fonts.push(n[r])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,r,n){for(var o=0,i=this.chars.length;o<i;){if(this.chars[o].ch===t&&this.chars[o].style===r&&this.chars[o].fFamily===n)return this.chars[o];o+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,r,n)),e},getFontByName:function(e){for(var t=0,r=this.fonts.length;t<r;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,r){var n=this.getFontByName(t),o=e.charCodeAt(0);if(!n.cache[o+1]){var i=n.helper;if(" "===e){var s=i.measureText("|"+e+"|"),a=i.measureText("||");n.cache[o+1]=(s-a)/100}else n.cache[o+1]=i.measureText(e)/100}return n.cache[o+1]*r},checkLoadedFonts:function(){var e,t,r,n=this.fonts.length,o=n;for(e=0;e<n;e+=1)this.fonts[e].loaded?o-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,t.offsetWidth!==r?(o-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,t.offsetWidth!==r&&(o-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==o&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return s.prototype=a,s}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,n=createSizedArray(t.viewData.length),o=t.viewData.length;for(r=0;r<o;r+=1)n[r]=new e(t.viewData[r],t.masksProperties[r]);return function(e){for(r=0;r<o;){if(t.masksProperties[r].nm===e)return n[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(e,t,r){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(n){if(!e.numKeys)return 0;var o;o="s"in t.keyframes[n-1]?t.keyframes[n-1].s:"e"in t.keyframes[n-2]?t.keyframes[n-2].e:t.keyframes[n-2].s;var i="unidimensional"===r?new Number(o):Object.assign({},o);return i.time=t.keyframes[n-1].t/t.elem.comp.globalData.frameRate,i.value="unidimensional"===r?o[0]:o,i},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function n(){return e}return function(o){return o?"unidimensional"===o.propType?function(t){t&&"pv"in t||(t=e);var n=1/t.mult,o=t.pv*n,i=new Number(o);return i.value=o,r(i,t,"unidimensional"),function(){return t.k&&t.getValue(),o=t.v*n,i.value!==o&&((i=new Number(o)).value=o,r(i,t,"unidimensional")),i}}(o):function(e){e&&"pv"in e||(e=t);var n=1/e.mult,o=e.data&&e.data.l||e.pv.length,i=createTypedArray("float32",o),s=createTypedArray("float32",o);return i.value=s,r(i,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<o;t+=1)s[t]=e.v[t]*n,i[t]=s[t];return i}}(o):n}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,n,o,i;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?i=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),n=ExpressionPropertyInterface(e.py),e.pz&&(o=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?i():[r(),n(),o?o():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,e)}function r(e,t){var r=this.getMatrix(t);return this.applyPoint(r,e)}function n(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,e)}function o(e,t){var r=this.getMatrix(t);return this.invertPoint(r,e)}function i(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function s(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function a(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(c){var h;function d(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=e,d.invertPoint=s,d.applyPoint=i,d.toWorld=r,d.toWorldVec=t,d.fromWorld=o,d.fromWorldVec=n,d.toComp=r,d.fromComp=a,d.sampleImage=l,d.sourceRectAtTime=c.sourceRectAtTime.bind(c),d._elem=c;var u=getDescriptor(h=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:u,anchor_point:u,transform:{get:function(){return h}},active:{get:function(){return c.isInRange}}}),d.startTime=c.data.st,d.index=c.data.ind,d.source=c.data.refId,d.height=0===c.data.ty?c.data.h:100,d.width=0===c.data.ty?c.data.w:100,d.inPoint=c.data.ip/c.comp.globalData.frameRate,d.outPoint=c.data.op/c.comp.globalData.frameRate,d._name=c.data.nm,d.registerMaskInterface=function(e){d.mask=new MaskManagerInterface(e,c)},d.registerEffectsInterface=function(e){d.effect=e},d}}(),propertyGroupFactory=function(e,t){return function(r){return(r=void 0===r?1:r)<=0?e:t(r-1)}},PropertyInterface=function(e,t){var r={_name:e};return function(e){return(e=void 0===e?1:e)<=0?r:t(e-1)}},EffectsExpressionInterface=function(){var e={createEffectsInterface:function(e,r){if(e.effectsManager){var n,o=[],i=e.data.ef,s=e.effectsManager.effectElements.length;for(n=0;n<s;n+=1)o.push(t(i[n],e.effectsManager.effectElements[n],r,e));var a=e.data.ef||[],l=function(e){for(n=0,s=a.length;n<s;){if(e===a[n].nm||e===a[n].mn||e===a[n].ix)return o[n];n+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}};function t(e,n,o,i){function s(t){for(var r=e.ef,n=0,o=r.length;n<o;){if(t===r[n].nm||t===r[n].mn||t===r[n].ix)return 5===r[n].ty?c[n]:c[n]();n+=1}throw new Error}var a,l=propertyGroupFactory(s,o),c=[],h=e.ef.length;for(a=0;a<h;a+=1)5===e.ef[a].ty?c.push(t(e.ef[a],n.effectElements[a],n.effectElements[a].propertyGroup,i)):c.push(r(n.effectElements[a],e.ef[a].ty,i,l));return"ADBE Color Control"===e.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return e.np}},_name:{value:e.nm},propertyGroup:{value:l}}),s.enabled=0!==e.en,s.active=s.enabled,s}function r(e,t,r,n){var o=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===t?r.comp.compInterface(e.p.v):o()}}return e}(),CompExpressionInterface=function(e){function t(t){for(var r=0,n=e.layers.length;r<n;){if(e.layers[r].nm===t||e.layers[r].ind===t)return e.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},ShapePathInterface=function(e,t,r){var n=t.sh;function o(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?o.path:null}var i=propertyGroupFactory(o,r);return n.setGroupProperty(PropertyInterface("Path",i)),Object.defineProperties(o,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),o},ShapeExpressionInterface=function(){function e(e,s,u){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"===e[p].ty?f.push(t(e[p],s[p],u)):"fl"===e[p].ty?f.push(r(e[p],s[p],u)):"st"===e[p].ty?f.push(o(e[p],s[p],u)):"tm"===e[p].ty?f.push(i(e[p],s[p],u)):"tr"===e[p].ty||("el"===e[p].ty?f.push(a(e[p],s[p],u)):"sr"===e[p].ty?f.push(l(e[p],s[p],u)):"sh"===e[p].ty?f.push(ShapePathInterface(e[p],s[p],u)):"rc"===e[p].ty?f.push(c(e[p],s[p],u)):"rd"===e[p].ty?f.push(h(e[p],s[p],u)):"rp"===e[p].ty?f.push(d(e[p],s[p],u)):"gf"===e[p].ty?f.push(n(e[p],s[p],u)):f.push((e[p],s[p],function(){return null})));return f}function t(t,r,n){var o=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return o.content;default:return o.transform}};o.propertyGroup=propertyGroupFactory(o,n);var i=function(t,r,n){var o,i=function(e){for(var t=0,r=o.length;t<r;){if(o[t]._name===e||o[t].mn===e||o[t].propertyIndex===e||o[t].ix===e||o[t].ind===e)return o[t];t+=1}return"number"==typeof e?o[e-1]:null};i.propertyGroup=propertyGroupFactory(i,n),o=e(t.it,r.it,i.propertyGroup),i.numProperties=o.length;var a=s(t.it[t.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.transform=a,i.propertyIndex=t.cix,i._name=t.nm,i}(t,r,o.propertyGroup),a=s(t.it[t.it.length-1],r.it[r.it.length-1],o.propertyGroup);return o.content=i,o.transform=a,Object.defineProperty(o,"_name",{get:function(){return t.nm}}),o.numProperties=t.np,o.propertyIndex=t.ix,o.nm=t.nm,o.mn=t.mn,o}function r(e,t,r){function n(e){return"Color"===e||"color"===e?n.color:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function n(e,t,r){function n(e){return"Start Point"===e||"start point"===e?n.startPoint:"End Point"===e||"end point"===e?n.endPoint:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",r)),t.e.setGroupProperty(PropertyInterface("End Point",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function o(e,t,r){var n,o=propertyGroupFactory(c,r),i=propertyGroupFactory(l,o);function s(r){Object.defineProperty(l,e.d[r].nm,{get:ExpressionPropertyInterface(t.d.dataProps[r].p)})}var a=e.d?e.d.length:0,l={};for(n=0;n<a;n+=1)s(n),t.d.dataProps[n].p.setGroupProperty(i);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",o)),t.o.setGroupProperty(PropertyInterface("Opacity",o)),t.w.setGroupProperty(PropertyInterface("Stroke Width",o)),c}function i(e,t,r){function n(t){return t===e.e.ix||"End"===t||"end"===t?n.end:t===e.s.ix?n.start:t===e.o.ix?n.offset:null}var o=propertyGroupFactory(n,r);return n.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",o)),t.e.setGroupProperty(PropertyInterface("End",o)),t.o.setGroupProperty(PropertyInterface("Offset",o)),n.propertyIndex=e.ix,n.propertyGroup=r,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),n.mn=e.mn,n}function s(e,t,r){function n(t){return e.a.ix===t||"Anchor Point"===t?n.anchorPoint:e.o.ix===t||"Opacity"===t?n.opacity:e.p.ix===t||"Position"===t?n.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?n.rotation:e.s.ix===t||"Scale"===t?n.scale:e.sk&&e.sk.ix===t||"Skew"===t?n.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?n.skewAxis:null}var o=propertyGroupFactory(n,r);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",o)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",o)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",o)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",o)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",o)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",o)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",o))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",o)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),n.ty="tr",n.mn=e.mn,n.propertyGroup=r,n}function a(e,t,r){function n(t){return e.p.ix===t?n.position:e.s.ix===t?n.size:null}var o=propertyGroupFactory(n,r);n.propertyIndex=e.ix;var i="tm"===t.sh.ty?t.sh.prop:t.sh;return i.s.setGroupProperty(PropertyInterface("Size",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:e.nm}}),n.mn=e.mn,n}function l(e,t,r){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.rotation:e.pt.ix===t?n.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?n.outerRadius:e.os.ix===t?n.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?n.innerRoundness:null:n.innerRadius}var o=propertyGroupFactory(n,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,i.or.setGroupProperty(PropertyInterface("Outer Radius",o)),i.os.setGroupProperty(PropertyInterface("Outer Roundness",o)),i.pt.setGroupProperty(PropertyInterface("Points",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),e.ir&&(i.ir.setGroupProperty(PropertyInterface("Inner Radius",o)),i.is.setGroupProperty(PropertyInterface("Inner Roundness",o))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:e.nm}}),n.mn=e.mn,n}function c(e,t,r){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?n.size:null}var o=propertyGroupFactory(n,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,i.p.setGroupProperty(PropertyInterface("Position",o)),i.s.setGroupProperty(PropertyInterface("Size",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:e.nm}}),n.mn=e.mn,n}function h(e,t,r){function n(t){return e.r.ix===t||"Round Corners 1"===t?n.radius:null}var o=propertyGroupFactory(n,r),i=t;return n.propertyIndex=e.ix,i.rd.setGroupProperty(PropertyInterface("Radius",o)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:e.nm}}),n.mn=e.mn,n}function d(e,t,r){function n(t){return e.c.ix===t||"Copies"===t?n.copies:e.o.ix===t||"Offset"===t?n.offset:null}var o=propertyGroupFactory(n,r),i=t;return n.propertyIndex=e.ix,i.c.setGroupProperty(PropertyInterface("Copies",o)),i.o.setGroupProperty(PropertyInterface("Offset",o)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:e.nm}}),n.mn=e.mn,n}return function(t,r,n){var o;function i(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?n:o[e-1];for(var t=0,r=o.length;t<r;){if(o[t]._name===e)return o[t];t+=1}return null}return i.propertyGroup=propertyGroupFactory(i,(function(){return n})),o=e(t,r,i.propertyGroup),i.numProperties=o.length,i._name="Contents",i}}(),TextExpressionInterface=function(e){var t,r;function n(e){return"ADBE Text Document"===e?n.sourceText:null}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var n=e.textProperty.currentData.t;return n!==t&&(e.textProperty.currentData.t=t,(r=new String(n)).value=n||new String(n)),r}}),n},getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums;function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r,n=e.ef||[];this.effectElements=[];var o,i=n.length;for(r=0;r<i;r+=1)o=new GroupEffect(n[r],t),this.effectElements.push(o)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var r;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,o=this.data.ef.length,i=this.data.ef;for(r=0;r<o;r+=1){switch(n=null,i[r].ty){case 0:n=new SliderEffect(i[r],t,this);break;case 1:n=new AngleEffect(i[r],t,this);break;case 2:n=new ColorEffect(i[r],t,this);break;case 3:n=new PointEffect(i[r],t,this);break;case 4:case 7:n=new CheckboxEffect(i[r],t,this);break;case 10:n=new LayerIndexEffect(i[r],t,this);break;case 11:n=new MaskIndexEffect(i[r],t,this);break;case 5:n=new EffectsManager(i[r],t,this);break;default:n=new NoValueEffect(i[r],t,this)}n&&this.effectElements.push(n)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(t||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}};var FootageInterface=(dataInterfaceFactory=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",r=e.getFootageData();function n(e){if(r[e])return t=e,"object"===_typeof$2(r=r[e])?n:r;var o=e.indexOf(t);if(-1!==o){var i=parseInt(e.substr(o+t.length),10);return"object"===_typeof$2(r=r[i])?n:r}return""}return function(){return t="",r=e.getFootageData(),n}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory;function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,o,i=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var a,l,c,h,d,u,p=this.masksProperties,f=0,m=[],g=createElementID(),v="clipPath",y="clip-path";for(n=0;n<s;n+=1)if(("a"!==p[n].mode&&"n"!==p[n].mode||p[n].inv||100!==p[n].o.k||p[n].o.x)&&(v="mask",y="mask"),"s"!==p[n].mode&&"i"!==p[n].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),o=createNS("path"),"n"===p[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),elem:o,lastPath:""},i.appendChild(o);else{var b;if(f+=1,o.setAttribute("fill","s"===p[n].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[n].x.k?(v="mask",y="mask",u=PropertyFactory.getProp(this.element,p[n].x,0,null,this.element),b=createElementID(),(h=createNS("filter")).setAttribute("id",b),(d=createNS("feMorphology")).setAttribute("operator","erode"),d.setAttribute("in","SourceGraphic"),d.setAttribute("radius","0"),h.appendChild(d),i.appendChild(h),o.setAttribute("stroke","s"===p[n].mode?"#000000":"#ffffff")):(d=null,u=null),this.storedData[n]={elem:o,x:u,expan:d,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===p[n].mode){l=m.length;var w=createNS("g");for(a=0;a<l;a+=1)w.appendChild(m[a]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",g+"_"+f),x.appendChild(o),i.appendChild(x),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(w)}else m.push(o);p[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(p[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(v),s=m.length,n=0;n<s;n+=1)this.maskElement.appendChild(m[n]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(y,"url("+getLocationHref()+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,r,n=this.layers.length;for(this.completeLayers=!0,t=n-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var r,n=e.length,o=this.layers.length;for(t=0;t<n;t+=1)for(r=0;r<o;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var n=this.elements,o=this.layers,i=0,s=o.length;i<s;)o[i].ind==t&&(n[i]&&!0!==n[i]?(r.push(n[i]),n[i].setAsParent(),void 0!==o[i].parent?this.buildElementParenting(e,o[i].parent,r):e.setHierarchy(r)):(this.buildItem(i),this.addPendingElement(e))),i+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var n=this.createComp(e[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementByPath=function(e){var t,r=e.shift();if("number"==typeof r)t=this.elements[r];else{var n,o=this.elements.length;for(n=0;n<o;n+=1)if(this.elements[n].data.nm===r){t=this.elements[n];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<n;r+=1)e=this.hierarchy[r].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r,n=!0,o=this.comp;n;)o.finalTransform?(o.data.hasMask&&t.splice(0,0,o.finalTransform),o=o.comp):n=!1;var i,s=t.length;for(r=0;r<s;r+=1)i=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,n=this.masksProperties.length;for(t=0;t<n;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var o=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),o.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var n,o,i=" M"+t.v[0][0]+","+t.v[0][1];for(o=t._length,n=1;n<o;n+=1)i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[n][0]+","+t.i[n][1]+" "+t.v[n][0]+","+t.v[n][1];if(t.c&&o>1&&(i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==i){var s="";r.elem&&(t.c&&(s=e.inv?this.solidPath+i:i),r.elem.setAttribute("d",s)),r.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={createFilter:function(e,t){var r=createNS("filter");return r.setAttribute("id",e),!0!==t&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(e){var t,r,n="SourceGraphic",o=e.data.ef?e.data.ef.length:0,i=createElementID(),s=filtersFactory.createFilter(i,!0),a=0;for(this.filters=[],t=0;t<o;t+=1){r=null;var l=e.data.ef[t].ty;registeredEffects[l]&&(r=new(0,registeredEffects[l].effect)(s,e.effectsManager.effectElements[t],e,idPrefix+a,n),n=idPrefix+a,registeredEffects[l].countsAsEffect&&(a+=1)),r&&this.filters.push(r)}a&&(e.globalData.defs.appendChild(s),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t,r){registeredEffects[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,r,n=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var o=createNS("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),o.appendChild(this.layerElement),n=o,this.globalData.defs.appendChild(o),featureSupport.maskType||1!=this.data.td||(o.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),n=r,o.appendChild(r),r.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2==this.data.td){var i=createNS("mask");i.setAttribute("id",this.layerId),i.setAttribute("mask-type","alpha");var s=createNS("g");i.appendChild(s),e=createElementID(),t=filtersFactory.createFilter(e);var a=createNS("feComponentTransfer");a.setAttribute("in","SourceGraphic"),t.appendChild(a);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),a.appendChild(l),this.globalData.defs.appendChild(t);var c=createNS("rect");c.setAttribute("width",this.comp.data.w),c.setAttribute("height",this.comp.data.h),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("fill","#ffffff"),c.setAttribute("opacity","0"),s.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),s.appendChild(c),s.appendChild(this.layerElement),n=s,featureSupport.maskType||(i.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),s.appendChild(c),r.appendChild(this.layerElement),n=r,s.appendChild(r)),this.globalData.defs.appendChild(i)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var h=createNS("clipPath"),d=createNS("path");d.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var u=createElementID();if(h.setAttribute("id",u),h.appendChild(d),this.globalData.defs.appendChild(h),this.checkMasks()){var p=createNS("g");p.setAttribute("clip-path","url("+getLocationHref()+"#"+u+")"),p.appendChild(this.layerElement),this.transformedElement=p,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+u+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,n=t.length;r<n;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,n=r.length;n;)if(r[n-=1].elem===e)return void(r[n].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var n=0,o=e.length;n<o;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,r,n){var o;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var i,s=t.length||0;for(o=0;o<s;o+=1)i=PropertyFactory.getProp(e,t[o].v,0,0,this),this.k=i.k||this.k,this.dataProps[o]={n:t[o].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var n=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<r;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,n=this.o.length/2;r<n;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,n,o=4*this.data.p;for(t=0;t<o;t+=1)r=t%4==0?100:255,n=Math.round(this.prop.v[t]*r),this.c[t]!==n&&(this.c[t]=n,this._cmdf=!e);if(this.o.length)for(o=this.prop.v.length,t=4*this.data.p;t<o;t+=1)r=t%2==0?100:1,n=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==n&&(this.o[t-4*this.data.p]=n,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),n=createNS(1===t.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var o,i,s,a=[];for(s=4*t.g.p,i=0;i<s;i+=4)o=createNS("stop"),n.appendChild(o),a.push(o);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=n,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,o,i=createNS("mask"),s=createNS("path");i.appendChild(s);var a=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),o=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var h=this.stops;for(n=4*e.g.p;n<o;n+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),h.push(r);s.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===e.ty&&(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&s.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=i,this.ost=h,this.maskId=l,t.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,r,n){if(0===t)return"";var o,i=e.o,s=e.i,a=e.v,l=" M"+n.applyToPointStringified(a[0][0],a[0][1]);for(o=1;o<t;o+=1)l+=" C"+n.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+n.applyToPointStringified(s[o][0],s[o][1])+" "+n.applyToPointStringified(a[o][0],a[o][1]);return r&&t&&(l+=" C"+n.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+n.applyToPointStringified(s[0][0],s[0][1])+" "+n.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(e,t,r){(r||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(r||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function n(){}function o(r,n,o){var i,s,a,l,c,h,d,u,p,f,m,g=n.styles.length,v=n.lvl;for(h=0;h<g;h+=1){if(l=n.sh._mdf||o,n.styles[h].lvl<v){for(u=t.reset(),f=v-n.styles[h].lvl,m=n.transformers.length-1;!l&&f>0;)l=n.transformers[m].mProps._mdf||l,f-=1,m-=1;if(l)for(f=v-n.styles[h].lvl,m=n.transformers.length-1;f>0;)p=n.transformers[m].mProps.v.props,u.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f-=1,m-=1}else u=e;if(s=(d=n.sh.paths)._length,l){for(a="",i=0;i<s;i+=1)(c=d.shapes[i])&&c._length&&(a+=buildShapeString(c,c._length,c.c,u));n.caches[h]=a}else a=n.caches[h];n.styles[h].d+=!0===r.hd?"":a,n.styles[h]._mdf=l||n.styles[h]._mdf}}function i(e,t,r){var n=t.style;(t.c._mdf||r)&&n.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("fill-opacity",t.o.v)}function s(e,t,r){a(e,t,r),l(0,t,r)}function a(e,t,r){var n,o,i,s,a,l=t.gf,c=t.g._hasOpacity,h=t.s.v,d=t.e.v;if(t.o._mdf||r){var u="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(u,t.o.v)}if(t.s._mdf||r){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,h[0]),l.setAttribute(f,h[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,h[0]),t.of.setAttribute(f,h[1]))}if(t.g._cmdf||r){n=t.cst;var m=t.g.c;for(i=n.length,o=0;o<i;o+=1)(s=n[o]).setAttribute("offset",m[4*o]+"%"),s.setAttribute("stop-color","rgb("+m[4*o+1]+","+m[4*o+2]+","+m[4*o+3]+")")}if(c&&(t.g._omdf||r)){var g=t.g.o;for(i=(n=t.g._collapsable?t.cst:t.ost).length,o=0;o<i;o+=1)s=n[o],t.g._collapsable||s.setAttribute("offset",g[2*o]+"%"),s.setAttribute("stop-opacity",g[2*o+1])}if(1===e.t)(t.e._mdf||r)&&(l.setAttribute("x2",d[0]),l.setAttribute("y2",d[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",d[0]),t.of.setAttribute("y2",d[1])));else if((t.s._mdf||t.e._mdf||r)&&(a=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),l.setAttribute("r",a),c&&!t.g._collapsable&&t.of.setAttribute("r",a)),t.e._mdf||t.h._mdf||t.a._mdf||r){a||(a=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)));var v=Math.atan2(d[1]-h[1],d[0]-h[0]),y=t.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var b=a*y,w=Math.cos(v+t.a.v)*b+h[0],x=Math.sin(v+t.a.v)*b+h[1];l.setAttribute("fx",w),l.setAttribute("fy",x),c&&!t.g._collapsable&&(t.of.setAttribute("fx",w),t.of.setAttribute("fy",x))}}function l(e,t,r){var n=t.style,o=t.d;o&&(o._mdf||r)&&o.dashStr&&(n.pElem.setAttribute("stroke-dasharray",o.dashStr),n.pElem.setAttribute("stroke-dashoffset",o.dashoffset[0])),t.c&&(t.c._mdf||r)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||r)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return i;case"gf":return a;case"gs":return s;case"st":return l;case"sh":case"el":case"rc":case"sr":return o;case"tr":return r;case"no":return n;default:return null}}}}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function LetterProps(e,t,r,n,o,i){this.o=e,this.sw=t,this.sc=r,this.fc=n,this.m=o,this.p=i,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,n,o=this.shapes.length,i=this.stylesList.length,s=[],a=!1;for(r=0;r<i;r+=1){for(n=this.stylesList[r],a=!1,s.length=0,e=0;e<o;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(n)&&(s.push(t),a=t._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,n=new SVGStyleData(e,t),o=n.pElem;return"st"===e.ty?r=new SVGStrokeStyleData(this,e,n):"fl"===e.ty?r=new SVGFillStyleData(this,e,n):"gf"===e.ty||"gs"===e.ty?(r=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),o.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===e.ty&&(r=new SVGNoStyleData(this,e,n)),"st"!==e.ty&&"gs"!==e.ty||(o.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),o.setAttribute("fill-opacity","0"),1===e.lj&&o.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&o.setAttribute("fill-rule","evenodd"),e.ln&&o.setAttribute("id",e.ln),e.cl&&o.setAttribute("class",e.cl),e.bm&&(o.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7);var o=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,n,this));return this.shapes.push(o),this.addShapeToModifiers(o),this.addToAnimatedContents(e,o),o},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,n,o,i,s){var a,l,c,h,d,u,p=[].concat(i),f=e.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((u=this.searchProcessedElement(e[a]))?t[a]=r[u-1]:e[a]._render=s,"fl"===e[a].ty||"st"===e[a].ty||"gf"===e[a].ty||"gs"===e[a].ty||"no"===e[a].ty)u?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],o),e[a]._render&&t[a].style.pElem.parentNode!==n&&n.appendChild(t[a].style.pElem),m.push(t[a].style);else if("gr"===e[a].ty){if(u)for(c=t[a].it.length,l=0;l<c;l+=1)t[a].prevViewData[l]=t[a].it[l];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,t[a].gr,o+1,p,s),e[a]._render&&t[a].gr.parentNode!==n&&n.appendChild(t[a].gr)}else"tr"===e[a].ty?(u||(t[a]=this.createTransformElement(e[a],n)),h=t[a].transform,p.push(h)):"sh"===e[a].ty||"rc"===e[a].ty||"el"===e[a].ty||"sr"===e[a].ty?(u||(t[a]=this.createShapeElement(e[a],p,o)),this.setElementStyles(t[a])):"tm"===e[a].ty||"rd"===e[a].ty||"ms"===e[a].ty||"pb"===e[a].ty?(u?(d=t[a]).closed=!1:((d=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=d,this.shapeModifiers.push(d)),g.push(d)):"rp"===e[a].ty&&(u?(d=t[a]).closed=!0:(d=ShapeModifiers.getModifier(e[a].ty),t[a]=d,d.init(this,e,a,t),this.shapeModifiers.push(d),s=!1),g.push(d));this.addProcessedElement(e[a],a+1)}for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0;for(f=g.length,a=0;a<f;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,r,n,o,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,s=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,s=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,s=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,s=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,s=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var o=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s;for(n=0;n<o;n+=1)i=r!==this.keysIndex?this.effectsSequence[n](i,i.t):this.effectsSequence[n](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,n=e.length;r<=n-1&&!(r===n-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,n=[],o=0,i=e.length,s=!1;o<i;)t=e.charCodeAt(o),FontManager.isCombinedCharacter(t)?n[n.length-1]+=e.charAt(o):t>=55296&&t<=56319?(r=e.charCodeAt(o+1))>=56320&&r<=57343?(s||FontManager.isModifier(t,r)?(n[n.length-1]+=e.substr(o,2),s=!1):n.push(e.substr(o,2)),o+=1):n.push(e.charAt(o)):t>56319?(r=e.charCodeAt(o+1),FontManager.isZeroWidthJoiner(t,r)?(s=!0,n[n.length-1]+=e.substr(o,2),o+=1):n.push(e.charAt(o))):FontManager.isZeroWidthJoiner(t)?(n[n.length-1]+=e.charAt(o),s=!0):n.push(e.charAt(o)),o+=1;return n},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,n,o,i,s,a,l=this.elem.globalData.fontManager,c=this.data,h=[],d=0,u=c.m.g,p=0,f=0,m=0,g=[],v=0,y=0,b=l.getFontByName(e.f),w=0,x=getFontProperties(b);e.fWeight=x.weight,e.fStyle=x.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var _,E=e.tr/1e3*e.finalSize;if(e.sz)for(var C,S,k=!0,A=e.sz[0],P=e.sz[1];k;){C=0,v=0,r=(S=this.buildFinalText(e.t)).length,E=e.tr/1e3*e.finalSize;var T=-1;for(t=0;t<r;t+=1)_=S[t].charCodeAt(0),n=!1," "===S[t]?T=t:13!==_&&3!==_||(v=0,n=!0,C+=e.finalLineHeight||1.2*e.finalSize),l.chars?(a=l.getCharData(S[t],b.fStyle,b.fFamily),w=n?0:a.w*e.finalSize/100):w=l.measureText(S[t],e.f,e.finalSize),v+w>A&&" "!==S[t]?(-1===T?r+=1:t=T,C+=e.finalLineHeight||1.2*e.finalSize,S.splice(t,T===t?1:0,"\r"),T=-1,v=0):(v+=w,v+=E);C+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&P<C?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=S,r=e.finalText.length,k=!1)}v=-E,w=0;var M,O=0;for(t=0;t<r;t+=1)if(n=!1,13===(_=(M=e.finalText[t]).charCodeAt(0))||3===_?(O=0,g.push(v),y=v>y?v:y,v=-2*E,o="",n=!0,m+=1):o=M,l.chars?(a=l.getCharData(M,b.fStyle,l.getFontByName(e.f).fFamily),w=n?0:a.w*e.finalSize/100):w=l.measureText(o,e.f,e.finalSize)," "===M?O+=w+E:(v+=w+E+O,O=0),h.push({l:w,an:w,add:p,n:n,anIndexes:[],val:o,line:m,animatorJustifyOffset:0}),2==u){if(p+=w,""===o||" "===o||t===r-1){for(""!==o&&" "!==o||(p-=w);f<=t;)h[f].an=p,h[f].ind=d,h[f].extra=w,f+=1;d+=1,p=0}}else if(3==u){if(p+=w,""===o||t===r-1){for(""===o&&(p-=w);f<=t;)h[f].an=p,h[f].ind=d,h[f].extra=w,f+=1;p=0,d+=1}}else h[d].ind=d,h[d].extra=0,d+=1;if(e.l=h,y=v>y?v:y,g.push(v),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var D,I,R,F,B=c.a;s=B.length;var N=[];for(i=0;i<s;i+=1){for((D=B[i]).a.sc&&(e.strokeColorAnim=!0),D.a.sw&&(e.strokeWidthAnim=!0),(D.a.fc||D.a.fh||D.a.fs||D.a.fb)&&(e.fillColorAnim=!0),F=0,R=D.s.b,t=0;t<r;t+=1)(I=h[t]).anIndexes[i]=F,(1==R&&""!==I.val||2==R&&""!==I.val&&" "!==I.val||3==R&&(I.n||" "==I.val||t==r-1)||4==R&&(I.n||t==r-1))&&(1===D.s.rn&&N.push(F),F+=1);c.a[i].s.totalChars=F;var L,V=-1;if(1===D.s.rn)for(t=0;t<r;t+=1)V!=(I=h[t]).anIndexes[i]&&(V=I.anIndexes[i],L=N.splice(Math.floor(Math.random()*N.length),1)[0]),I.anIndexes[i]=L}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function n(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var o=0,i=0,s=1,a=1;this.ne.v>0?o=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(o,i,s,a).get,c=0,h=this.finalS,d=this.finalE,u=this.data.sh;if(2===u)c=l(c=d===h?n>=d?1:0:e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(3===u)c=l(c=d===h?n>=d?0:1:1-e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(4===u)d===h?c=0:(c=e(0,t(.5/(d-h)+(n-h)/(d-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===u){if(d===h)c=0;else{var p=d-h,f=-p/2+(n=t(e(0,n+.5-h),d-h)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===u?(d===h?c=0:(n=t(e(0,n+.5-h),d-h),c=(1+Math.cos(Math.PI+2*Math.PI*n/(d-h)))/2),c=l(c)):(n>=r(h)&&(c=e(0,t(n-h<0?t(d,1)-(h-n):d-n,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var v=.5-.5*g;c<v?c=0:(c=(c-v)/g)>1&&(c=1)}return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/t,n=this.s.v/t+r,o=this.e.v/t+r;if(n>o){var i=n;n=o,o=i}this.finalS=n,this.finalE=o}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(e,t,r){return new n(e,t,r)}}}();function TextAnimatorDataProperty(e,t,r){var n={propType:!1},o=PropertyFactory.getProp,i=t.a;this.a={r:i.r?o(e,i.r,0,degToRads,r):n,rx:i.rx?o(e,i.rx,0,degToRads,r):n,ry:i.ry?o(e,i.ry,0,degToRads,r):n,sk:i.sk?o(e,i.sk,0,degToRads,r):n,sa:i.sa?o(e,i.sa,0,degToRads,r):n,s:i.s?o(e,i.s,1,.01,r):n,a:i.a?o(e,i.a,1,0,r):n,o:i.o?o(e,i.o,0,.01,r):n,p:i.p?o(e,i.p,1,0,r):n,sw:i.sw?o(e,i.sw,0,0,r):n,sc:i.sc?o(e,i.sc,1,0,r):n,fc:i.fc?o(e,i.fc,1,0,r):n,fh:i.fh?o(e,i.fh,0,0,r):n,fs:i.fs?o(e,i.fs,0,.01,r):n,fb:i.fb?o(e,i.fb,0,.01,r):n,t:i.t?o(e,i.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,n=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,o,i,s,a,l,c,h,d,u,p,f,m,g,v,y,b,w,x=this._moreOptions.alignment.v,_=this._animatorsData,E=this._textData,C=this.mHelper,S=this._renderType,k=this.renderedLetters.length,A=e.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var P,T=w.v;for(this._pathData.r.v&&(T=T.reverse()),s={tLength:0,segments:[]},i=T._length-1,v=0,o=0;o<i;o+=1)P=bez.buildBezierData(T.v[o],T.v[o+1],[T.o[o][0]-T.v[o][0],T.o[o][1]-T.v[o][1]],[T.i[o+1][0]-T.v[o+1][0],T.i[o+1][1]-T.v[o+1][1]]),s.tLength+=P.segmentLength,s.segments.push(P),v+=P.segmentLength;o=i,w.v.c&&(P=bez.buildBezierData(T.v[o],T.v[0],[T.o[o][0]-T.v[o][0],T.o[o][1]-T.v[o][1]],[T.i[0][0]-T.v[0][0],T.i[0][1]-T.v[0][1]]),s.tLength+=P.segmentLength,s.segments.push(P),v+=P.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,a=this._pathData.f.v,u=0,d=1,c=0,h=!0,m=s.segments,a<0&&w.v.c)for(s.tLength<Math.abs(a)&&(a=-Math.abs(a)%s.tLength),d=(f=m[u=m.length-1].points).length-1;a<0;)a+=f[d].partialLength,(d-=1)<0&&(d=(f=m[u-=1].points).length-1);p=(f=m[u].points)[d-1],g=(l=f[d]).partialLength}i=A.length,r=0,n=0;var M,O,D,I,R,F=1.2*e.finalSize*.714,B=!0;D=_.length;var N,L,V,z,H,j,G,U,q,W,$,Z,K=-1,Y=a,X=u,J=d,Q=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var re=0,ne=0,oe=2===e.j?-.5:-1,ie=0,se=!0;for(o=0;o<i;o+=1)if(A[o].n){for(re&&(re+=ne);ie<o;)A[ie].animatorJustifyOffset=re,ie+=1;re=0,se=!0}else{for(O=0;O<D;O+=1)(M=_[O].a).t.propType&&(se&&2===e.j&&(ne+=M.t.v*oe),(R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?re+=M.t.v*R[0]*oe:re+=M.t.v*R*oe);se=!1}for(re&&(re+=ne);ie<o;)A[ie].animatorJustifyOffset=re,ie+=1}for(o=0;o<i;o+=1){if(C.reset(),z=1,A[o].n)r=0,n+=e.yOffset,n+=B?1:0,a=Y,B=!1,this._hasMaskedPath&&(d=J,p=(f=m[u=X].points)[d-1],g=(l=f[d]).partialLength,c=0),ee="",$="",q="",Z="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==A[o].line){switch(e.j){case 1:a+=v-e.lineWidths[A[o].line];break;case 2:a+=(v-e.lineWidths[A[o].line])/2}Q=A[o].line}K!==A[o].ind&&(A[K]&&(a+=A[K].extra),a+=A[o].an/2,K=A[o].ind),a+=x[0]*A[o].an*.005;var ae=0;for(O=0;O<D;O+=1)(M=_[O].a).p.propType&&((R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?ae+=M.p.v[0]*R[0]:ae+=M.p.v[0]*R),M.a.propType&&((R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?ae+=M.a.v[0]*R[0]:ae+=M.a.v[0]*R);for(h=!0,this._pathData.a.v&&(a=.5*A[0].an+(v-this._pathData.f.v-.5*A[0].an-.5*A[A.length-1].an)*K/(i-1),a+=this._pathData.f.v);h;)c+g>=a+ae||!f?(y=(a+ae-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*y,V=p.point[1]+(l.point[1]-p.point[1])*y,C.translate(-x[0]*A[o].an*.005,-x[1]*F*.01),h=!1):f&&(c+=l.partialLength,(d+=1)>=f.length&&(d=0,m[u+=1]?f=m[u].points:w.v.c?(d=0,f=m[u=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[d]).partialLength));N=A[o].an/2-A[o].add,C.translate(-N,0,0)}else N=A[o].an/2-A[o].add,C.translate(-N,0,0),C.translate(-x[0]*A[o].an*.005,-x[1]*F*.01,0);for(O=0;O<D;O+=1)(M=_[O].a).t.propType&&(R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars),0===r&&0===e.j||(this._hasMaskedPath?R.length?a+=M.t.v*R[0]:a+=M.t.v*R:R.length?r+=M.t.v*R[0]:r+=M.t.v*R));for(e.strokeWidthAnim&&(j=e.sw||0),e.strokeColorAnim&&(H=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(G=[e.fc[0],e.fc[1],e.fc[2]]),O=0;O<D;O+=1)(M=_[O].a).a.propType&&((R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?C.translate(-M.a.v[0]*R[0],-M.a.v[1]*R[1],M.a.v[2]*R[2]):C.translate(-M.a.v[0]*R,-M.a.v[1]*R,M.a.v[2]*R));for(O=0;O<D;O+=1)(M=_[O].a).s.propType&&((R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?C.scale(1+(M.s.v[0]-1)*R[0],1+(M.s.v[1]-1)*R[1],1):C.scale(1+(M.s.v[0]-1)*R,1+(M.s.v[1]-1)*R,1));for(O=0;O<D;O+=1){if(M=_[O].a,R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars),M.sk.propType&&(R.length?C.skewFromAxis(-M.sk.v*R[0],M.sa.v*R[1]):C.skewFromAxis(-M.sk.v*R,M.sa.v*R)),M.r.propType&&(R.length?C.rotateZ(-M.r.v*R[2]):C.rotateZ(-M.r.v*R)),M.ry.propType&&(R.length?C.rotateY(M.ry.v*R[1]):C.rotateY(M.ry.v*R)),M.rx.propType&&(R.length?C.rotateX(M.rx.v*R[0]):C.rotateX(M.rx.v*R)),M.o.propType&&(R.length?z+=(M.o.v*R[0]-z)*R[0]:z+=(M.o.v*R-z)*R),e.strokeWidthAnim&&M.sw.propType&&(R.length?j+=M.sw.v*R[0]:j+=M.sw.v*R),e.strokeColorAnim&&M.sc.propType)for(U=0;U<3;U+=1)R.length?H[U]+=(M.sc.v[U]-H[U])*R[0]:H[U]+=(M.sc.v[U]-H[U])*R;if(e.fillColorAnim&&e.fc){if(M.fc.propType)for(U=0;U<3;U+=1)R.length?G[U]+=(M.fc.v[U]-G[U])*R[0]:G[U]+=(M.fc.v[U]-G[U])*R;M.fh.propType&&(G=R.length?addHueToRGB(G,M.fh.v*R[0]):addHueToRGB(G,M.fh.v*R)),M.fs.propType&&(G=R.length?addSaturationToRGB(G,M.fs.v*R[0]):addSaturationToRGB(G,M.fs.v*R)),M.fb.propType&&(G=R.length?addBrightnessToRGB(G,M.fb.v*R[0]):addBrightnessToRGB(G,M.fb.v*R))}}for(O=0;O<D;O+=1)(M=_[O].a).p.propType&&(R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars),this._hasMaskedPath?R.length?C.translate(0,M.p.v[1]*R[0],-M.p.v[2]*R[1]):C.translate(0,M.p.v[1]*R,-M.p.v[2]*R):R.length?C.translate(M.p.v[0]*R[0],M.p.v[1]*R[1],-M.p.v[2]*R[2]):C.translate(M.p.v[0]*R,M.p.v[1]*R,-M.p.v[2]*R));if(e.strokeWidthAnim&&(q=j<0?0:j),e.strokeColorAnim&&(W="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),e.fillColorAnim&&e.fc&&($="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this._hasMaskedPath){if(C.translate(0,-e.ls),C.translate(0,x[1]*F*.01+n,0),this._pathData.p.v){b=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(b)/Math.PI;l.point[0]<p.point[0]&&(le+=180),C.rotate(-le*Math.PI/180)}C.translate(L,V,0),a-=x[0]*A[o].an*.005,A[o+1]&&K!==A[o+1].ind&&(a+=A[o].an/2,a+=.001*e.tr*e.finalSize)}else{switch(C.translate(r,n,0),e.ps&&C.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:C.translate(A[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[A[o].line]),0,0);break;case 2:C.translate(A[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[A[o].line])/2,0,0)}C.translate(0,-e.ls),C.translate(N,0,0),C.translate(x[0]*A[o].an*.005,x[1]*F*.01,0),r+=A[o].l+.001*e.tr*e.finalSize}"html"===S?ee=C.toCSS():"svg"===S?ee=C.to2dCSS():te=[C.props[0],C.props[1],C.props[2],C.props[3],C.props[4],C.props[5],C.props[6],C.props[7],C.props[8],C.props[9],C.props[10],C.props[11],C.props[12],C.props[13],C.props[14],C.props[15]],Z=z}k<=o?(I=new LetterProps(Z,q,W,$,ee,te),this.renderedLetters.push(I),k+=1,this.lettersChangedFlag=!0):(I=this.renderedLetters[o],this.lettersChangedFlag=I.update(Z,q,W,$,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var r,n,o=t.length,i="";for(r=0;r<o;r+=1)"sh"===t[r].ty&&(n=t[r].ks.k,i+=buildShapeString(n,n.i.length,!0,e));return i},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,n,o){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(n,o,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function ISolidElement(e,t,r){this.initElement(e,t,r)}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var n=createNS("title"),o=createElementID();n.setAttribute("id",o),n.textContent=t.title,this.svgElement.appendChild(n),r+=o}if(t&&t.description){var i=createNS("desc"),s=createElementID();i.setAttribute("id",s),i.textContent=t.description,this.svgElement.appendChild(i),r+=" "+s}r&&this.svgElement.setAttribute("aria-labelledby",r);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(e,t){var r;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,o=!1;for(r=0;r<n;r+=1)"n"!==this.masksProperties[r].mode&&(o=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(e,t,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o,i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var s,a=r.length;for(o=0;o<a;o+=1)r[o].closed||(s={transforms:n.addTransformSequence(r[o].transforms),trNodes:[]},this.styledShapes.push(s),r[o].elements.push(s))}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CanvasRendererBase(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var o,i=e.ks.or.k.length;for(o=0;o<i;o+=1)e.ks.or.k[o].to=null,e.ks.or.k[o].ti=null}this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,n=[],o="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(o),o=""):o+=e[t],t+=1;return n.push(o),n},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var n=r.it[r.it.length-1];n.s&&(n.s.k[0]=t,n.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var o=r.fWeight,i=r.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",r.t);var s,a=r.l||[],l=!!this.globalData.fontManager.chars;t=a.length;var c=this.mHelper,h=this.data.singleShape,d=0,u=0,p=!0,f=.001*r.tr*r.finalSize;if(!h||l||r.sz){var m,g=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!h||0===e){if(s=g>e?this.textSpans[e].span:createNS(l?"g":"text"),g<=e){if(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=s,l){var v=createNS("g");s.appendChild(v),this.textSpans[e].childSpan=v}this.textSpans[e].span=s,this.layerElement.appendChild(s)}s.style.display="inherit"}if(c.reset(),h&&(a[e].n&&(d=-f,u+=r.yOffset,u+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,c,a[e].line,d,u),d+=a[e].l||0,d+=f),l){var y;if(1===(m=this.globalData.fontManager.getCharData(r.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)y=new SVGCompElement(m.data,this.globalData,this);else{var b=emptyShapeData;m.data&&m.data.shapes&&(b=this.buildShapeData(m.data,r.finalSize)),y=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[e].glyph){var w=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[e].glyph=y,y._debug=!0,y.prepareFrame(0),y.renderFrame(),this.textSpans[e].childSpan.appendChild(y.layerElement),1===m.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else h&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=a[e].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&s&&s.setAttribute("d","")}else{var x=this.textContainer,_="start";switch(r.j){case 1:_="end";break;case 2:_="middle";break;default:_="start"}x.setAttribute("text-anchor",_),x.setAttribute("letter-spacing",f);var E=this.buildTextContents(r.finalText);for(t=E.length,u=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(s=this.textSpans[e].span||createNS("tspan")).textContent=E[e],s.setAttribute("x",0),s.setAttribute("y",u),s.style.display="inherit",x.appendChild(s),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=s,u+=r.finalLineHeight;this.layerElement.appendChild(x)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<r;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var r,n,o,i=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(t=s.length,e=0;e<t;e+=1)s[e].n||(r=i[e],n=this.textSpans[e].span,(o=this.textSpans[e].glyph)&&o.renderFrame(),r._mdf.m&&n.setAttribute("transform",r.m),r._mdf.o&&n.setAttribute("opacity",r.o),r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r._mdf.sc&&n.setAttribute("stroke",r.sc),r._mdf.fc&&n.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var o=createElementID();r.setAttribute("id",o),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var r=this.createItem(this.layers[e]);t[e]=r,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?r.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(r)))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var n,o=0;o<t;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement()&&(n=this.elements[o].getBaseElement()),o+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var r=0;for(r=this._length;r<e;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,n="_";for(t=0;t<r;t+=1)n+=e[t].transform.key+"_";var o=this.sequences[n];return o||(o={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=o,this.sequenceList.push(o)),o},processSequence:function(e,t){for(var r,n=0,o=e.transforms.length,i=t;n<o&&!t;){if(e.transforms[n].transform.mProps._mdf){i=!0;break}n+=1}if(i)for(e.finalTransform.reset(),n=o-1;n>=0;n-=1)r=e.transforms[n].transform.mProps.v.props,e.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);e._mdf=i},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,n,o=this.element.finalTransform.mat,i=this.element.canvasContext,s=this.masksProperties.length;for(i.beginPath(),e=0;e<s;e+=1)if("n"!==this.masksProperties[e].mode){var a;this.masksProperties[e].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),n=this.viewData[e].v,t=o.applyToPointArray(n.v[0][0],n.v[0][1],0),i.moveTo(t[0],t[1]);var l=n._length;for(a=1;a<l;a+=1)r=o.applyToTriplePoints(n.o[a-1],n.i[a],n.v[a]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=o.applyToTriplePoints(n.o[a-1],n.i[0],n.v[0]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=0===this.data.ty;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},n={};if("fl"===e.ty||"st"===e.ty?(n.c=PropertyFactory.getProp(this,e.c,1,255,this),n.c.k||(r.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(n.s=PropertyFactory.getProp(this,e.s,1,null,this),n.e=PropertyFactory.getProp(this,e.e,1,null,this),n.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,e.g,this)),n.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],1==e.lj&&(r.ml=e.ml),n.w=PropertyFactory.getProp(this,e.w,0,null,this),n.w.k||(r.wi=n.w.v),e.d){var o=new DashProperty(this,e.d,"canvas",this);n.d=o,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,n,o){var i,s,a,l,c,h,d=e.length-1,u=[],p=[],f=[].concat(o);for(i=d;i>=0;i-=1){if((l=this.searchProcessedElement(e[i]))?t[i]=r[l-1]:e[i]._shouldRender=n,"fl"===e[i].ty||"st"===e[i].ty||"gf"===e[i].ty||"gs"===e[i].ty)l?t[i].style.closed=!1:t[i]=this.createStyleElement(e[i],f),u.push(t[i].style);else if("gr"===e[i].ty){if(l)for(a=t[i].it.length,s=0;s<a;s+=1)t[i].prevViewData[s]=t[i].it[s];else t[i]=this.createGroupElement(e[i]);this.searchShapes(e[i].it,t[i].it,t[i].prevViewData,n,f)}else"tr"===e[i].ty?(l||(h=this.createTransformElement(e[i]),t[i]=h),f.push(t[i]),this.addTransformToStyleList(t[i])):"sh"===e[i].ty||"rc"===e[i].ty||"el"===e[i].ty||"sr"===e[i].ty?l||(t[i]=this.createShapeElement(e[i])):"tm"===e[i].ty||"rd"===e[i].ty||"pb"===e[i].ty?(l?(c=t[i]).closed=!1:((c=ShapeModifiers.getModifier(e[i].ty)).init(this,e[i]),t[i]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===e[i].ty&&(l?(c=t[i]).closed=!0:(c=ShapeModifiers.getModifier(e[i].ty),t[i]=c,c.init(this,e,i,t),this.shapeModifiers.push(c),n=!1),p.push(c));this.addProcessedElement(e[i],i+1)}for(this.removeTransformFromStyleList(),this.closeStyles(u),d=p.length,i=0;i<d;i+=1)p[i].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,n,o,i,s,a,l,c=this.stylesList.length,h=this.globalData.renderer,d=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(a=(l=this.stylesList[e]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),i=l.elements,"st"===a||"gs"===a?(d.strokeStyle="st"===a?l.co:l.grd,d.lineWidth=l.wi,d.lineCap=l.lc,d.lineJoin=l.lj,d.miterLimit=l.ml||0):d.fillStyle="fl"===a?l.co:l.grd,h.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&d.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),r=i.length,t=0;t<r;t+=1){for("st"!==a&&"gs"!==a||(d.beginPath(),l.da&&(d.setLineDash(l.da),d.lineDashOffset=l.do)),o=(s=i[t].trNodes).length,n=0;n<o;n+=1)"m"===s[n].t?d.moveTo(s[n].p[0],s[n].p[1]):"c"===s[n].t?d.bezierCurveTo(s[n].pts[0],s[n].pts[1],s[n].pts[2],s[n].pts[3],s[n].pts[4],s[n].pts[5]):d.closePath();"st"!==a&&"gs"!==a||(d.stroke(),l.da&&d.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&d.fill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,n){var o,i;for(i=e,o=t.length-1;o>=0;o-=1)"tr"===t[o].ty?(i=r[o].transform,this.renderShapeTransform(e,i)):"sh"===t[o].ty||"el"===t[o].ty||"rc"===t[o].ty||"sr"===t[o].ty?this.renderPath(t[o],r[o]):"fl"===t[o].ty?this.renderFill(t[o],r[o],i):"st"===t[o].ty?this.renderStroke(t[o],r[o],i):"gf"===t[o].ty||"gs"===t[o].ty?this.renderGradientFill(t[o],r[o],i):"gr"===t[o].ty?this.renderShape(i,t[o].it,r[o].it):t[o].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,n,o,i=e.trNodes,s=t.paths,a=s._length;i.length=0;var l=e.transforms.finalTransform;for(o=0;o<a;o+=1){var c=s.shapes[o];if(c&&c.v){for(n=c._length,r=1;r<n;r+=1)1===r&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===n&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&n&&(i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var r,n=t.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var n,o=t.style;if(!o.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var i,s=this.globalData.canvasContext,a=t.s.v,l=t.e.v;if(1===e.t)n=s.createLinearGradient(a[0],a[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),h=Math.atan2(l[1]-a[1],l[0]-a[0]),d=t.h.v;d>=1?d=.99:d<=-1&&(d=-.99);var u=c*d,p=Math.cos(h+t.a.v)*u+a[0],f=Math.sin(h+t.a.v)*u+a[1];n=s.createRadialGradient(p,f,0,a[0],a[1],c)}var m=e.g.p,g=t.g.c,v=1;for(i=0;i<m;i+=1)t.g._hasOpacity&&t.g._collapsable&&(v=t.g.o[2*i+1]),n.addColorStop(g[4*i]/100,"rgba("+g[4*i+1]+","+g[4*i+2]+","+g[4*i+3]+","+v+")");o.grd=n}o.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var n=t.style,o=t.d;o&&(o._mdf||this._isFirstFrame)&&(n.da=o.dashArray,n.do=o.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n,o,i,s,a,l,c,h,d,u,p,f,m=this.globalData.fontManager.getFontByName(e.f),g=e.l,v=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,o=e.finalText.length;var y=this.data.singleShape,b=.001*e.tr*e.finalSize,w=0,x=0,_=!0,E=0;for(n=0;n<o;n+=1){s=(i=this.globalData.fontManager.getCharData(e.finalText[n],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&i.data||{},v.reset(),y&&g[n].n&&(w=-b,x+=e.yOffset,x+=_?1:0,_=!1),d=(c=s.shapes?s.shapes[0].it:[]).length,v.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,v,g[n].line,w,x),p=createSizedArray(d-1);var C=0;for(h=0;h<d;h+=1)if("sh"===c[h].ty){for(l=c[h].ks.k.i.length,u=c[h].ks.k,f=[],a=1;a<l;a+=1)1===a&&f.push(v.applyToX(u.v[0][0],u.v[0][1],0),v.applyToY(u.v[0][0],u.v[0][1],0)),f.push(v.applyToX(u.o[a-1][0],u.o[a-1][1],0),v.applyToY(u.o[a-1][0],u.o[a-1][1],0),v.applyToX(u.i[a][0],u.i[a][1],0),v.applyToY(u.i[a][0],u.i[a][1],0),v.applyToX(u.v[a][0],u.v[a][1],0),v.applyToY(u.v[a][0],u.v[a][1],0));f.push(v.applyToX(u.o[a-1][0],u.o[a-1][1],0),v.applyToY(u.o[a-1][0],u.o[a-1][1],0),v.applyToX(u.i[0][0],u.i[0][1],0),v.applyToY(u.i[0][0],u.i[0][1],0),v.applyToX(u.v[0][0],u.v[0][1],0),v.applyToY(u.v[0][0],u.v[0][1],0)),p[C]=f,C+=1}y&&(w+=g[n].l,w+=b),this.textSpans[E]?this.textSpans[E].elem=p:this.textSpans[E]={elem:p},E+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,n,o,i,s=this.canvasContext;s.font=this.values.fValue,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;t=c.length;var h,d,u=null,p=null,f=null;for(e=0;e<t;e+=1)if(!c[e].n){if((a=l[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?u!==a.fc&&(u=a.fc,s.fillStyle=a.fc):u!==this.values.fill&&(u=this.values.fill,s.fillStyle=this.values.fill),n=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(d=h[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?f!==a.sw&&(f=a.sw,s.lineWidth=a.sw):f!==this.values.sWidth&&(f=this.values.sWidth,s.lineWidth=this.values.sWidth),a&&a.sc?p!==a.sc&&(p=a.sc,s.strokeStyle=a.sc):p!==this.values.stroke&&(p=this.values.stroke,s.strokeStyle=this.values.stroke),n=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(d=h[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,n=e.getContext("2d"),o=this.img.width,i=this.img.height,s=o/i,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&"xMidYMid slice"===l||s<a&&"xMidYMid slice"!==l?t=(r=i)*a:r=(t=o)/a,n.drawImage(this.img,(o-t)/2,(i-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t,r=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n=this.contextData.saved[this.contextData.cArrPos];for(t=0;t<16;t+=1)n[t]=r[t];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,r=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(t=0;t<16;t+=1)n[t]=r[t];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){var e,t,r,n;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var o=this.renderConfig.preserveAspectRatio.split(" "),i=o[1]||"meet",s=o[0]||"xMidYMid",a=s.substr(0,4),l=s.substr(4);r=e/t,(n=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===i||n<r&&"slice"===i?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===a&&(n<r&&"meet"===i||n>r&&"slice"===i)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===a&&(n<r&&"meet"===i||n>r&&"slice"===i)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(n>r&&"meet"===i||n<r&&"slice"===i)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(n>r&&"meet"===i||n<r&&"slice"===i)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var r;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var n=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=0;r<n;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,n,o,i,s,a=e.sh.v,l=e.transformers,c=a._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)n=this.getTransformedPoint(l,a.v[r]),o=this.getTransformedPoint(l,a.o[r]),i=this.getTransformedPoint(l,a.i[r+1]),s=this.getTransformedPoint(l,a.v[r+1]),this.checkBounds(n,o,i,s,t);a.c&&(n=this.getTransformedPoint(l,a.v[r]),o=this.getTransformedPoint(l,a.o[r]),i=this.getTransformedPoint(l,a.i[0]),s=this.getTransformedPoint(l,a.v[0]),this.checkBounds(n,o,i,s,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,n,o){this.getBoundsOfCurve(e,t,r,n);var i=this.shapeBoundingBox;o.x=bmMin(i.left,o.x),o.xMax=bmMax(i.right,o.xMax),o.y=bmMin(i.top,o.y),o.yMax=bmMax(i.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,n){for(var o,i,s,a,l,c,h,d=[[e[0],n[0]],[e[1],n[1]]],u=0;u<2;++u)i=6*e[u]-12*t[u]+6*r[u],o=-3*e[u]+9*t[u]-9*r[u]+3*n[u],s=3*t[u]-3*e[u],i|=0,s|=0,0==(o|=0)&&0===i||(0===o?(a=-s/i)>0&&a<1&&d[u].push(this.calculateF(a,e,t,r,n,u)):(l=i*i-4*s*o)>=0&&((c=(-i+bmSqrt(l))/(2*o))>0&&c<1&&d[u].push(this.calculateF(c,e,t,r,n,u)),(h=(-i-bmSqrt(l))/(2*o))>0&&h<1&&d[u].push(this.calculateF(h,e,t,r,n,u))));this.shapeBoundingBox.left=bmMin.apply(null,d[0]),this.shapeBoundingBox.top=bmMin.apply(null,d[1]),this.shapeBoundingBox.right=bmMax.apply(null,d[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,d[1])},HShapeElement.prototype.calculateF=function(e,t,r,n,o,i){return bmPow(1-e,3)*t[i]+3*bmPow(1-e,2)*e*r[i]+3*(1-e)*bmPow(e,2)*n[i]+bmPow(e,3)*o[i]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var n=0;n<e.keyframes.length;n+=1){var o=e.keyframes[n].s;o>r&&(r=o)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=o,n.webkitTransform=o}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var n,o,i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var s=e.fWeight,a=e.fStyle;t.fontStyle=a,t.fontWeight=s}var l,c,h,d=e.l;o=d.length;var u,p=this.mHelper,f="",m=0;for(n=0;n<o;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?h=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(h=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,v=this.globalData.fontManager.getCharData(e.finalText[n],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=v?v.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(u=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,u),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(h);var y=h.getBBox();h.setAttribute("width",y.width+2),h.setAttribute("height",y.height+2),h.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var b=h.style,w="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";b.transform=w,b.webkitTransform=w,d[n].yOffset=y.y-1}else h.setAttribute("width",1),h.setAttribute("height",1);c.appendChild(h)}}else if(l.textContent=d[n].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var x=l.style,_="translate3d(0,"+-e.finalSize/1.2+"px,0)";x.transform=_,x.webkitTransform=_}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,n,o,i,s,a=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(n=c.length,r=0;r<n;r+=1)c[r].n?a+=1:(i=this.textSpans[r],s=this.textPaths[r],o=l[a],a+=1,o._mdf.m&&(this.isMasked?i.setAttribute("transform",o.m):(i.style.webkitTransform=o.m,i.style.transform=o.m)),i.style.opacity=o.o,o.sw&&o._mdf.sw&&s.setAttribute("stroke-width",o.sw),o.sc&&o._mdf.sc&&s.setAttribute("stroke",o.sc),o.fc&&o._mdf.fc&&(s.setAttribute("fill",o.fc),s.style.color=o.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=d,e.webkitTransform=d}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,n,o=this.comp.threeDElements.length;for(e=0;e<o;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){r=t.perspectiveElem.style,n=t.container.style;var i=this.pe.v+"px",s="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=i,r.webkitPerspective=i,n.transformOrigin=s,n.mozTransformOrigin=s,n.webkitTransformOrigin=s,r.transform=a,r.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var n=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;o=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var i=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),s=[o[0]/i,o[1]/i,o[2]/i],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],a),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var d,u,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(d=this.comp.threeDElements[e]).type){if(h){var f=this.mat.toCSS();(p=d.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((u=d.perspectiveElem.style).perspective=this.pe.v+"px",u.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var n=this.layers[t];if(n.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var o,i,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(i=this.elements[s],o=(this.layers[s].ddd?this.getThreeDContainerByPos(s):i.getBaseElement())||o),s+=1;o?n.ddd&&this.supports3d||this.layerElement.insertBefore(r,o):n.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r,n,o=createTag("div");styleDiv(o);var i=createTag("div");if(styleDiv(i),"3d"===t){(r=o.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var s="50% 50%";r.webkitTransformOrigin=s,r.mozTransformOrigin=s,r.transformOrigin=s;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=i.style).transform=a,n.webkitTransform=a}o.appendChild(i);var l={container:i,perspectiveElem:o,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,r=this.layers.length,n="";for(e=0;e<r;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==n&&(n="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==n&&(n="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,n=this.threeDElements.length;r<n;){if(t<=this.threeDElements[r].endPos){for(var o,i=this.threeDElements[r].startPos;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(o=this.elements[i].getBaseElement()),i+=1;o?this.threeDElements[r].container.insertBefore(e,o):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,n=t.style;n.width=e.w+"px",n.height=e.h+"px",this.resizerElem=t,styleDiv(t),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),n.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var i=createNS("defs");o.appendChild(i),this.data=e,this.setupGlobalData(e,o),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,r,n,o=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,s=o/i;this.globalData.compSize.w/this.globalData.compSize.h>s?(e=o/this.globalData.compSize.w,t=o/this.globalData.compSize.w,r=0,n=(i-this.globalData.compSize.h*(o/this.globalData.compSize.w))/2):(e=i/this.globalData.compSize.h,t=i/this.globalData.compSize.h,r=(o-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,n=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+n+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,n=this.threeDElements.length;for(e=0;e<n;e+=1){var o=this.threeDElements[e].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,n=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var o=this.createComp(e[t],n,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,n=0;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var Expressions=function(){var e={initExpressions:function(e){var t=0,r=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=r.length;for(e=0;e<t;e+=1)r[e].release();r.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===r.indexOf(e)&&r.push(e)}}};return e}();function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}function seedRandom(e,t){var r=this,n=256,o=t.pow(n,6),i=t.pow(2,52),s=2*i,a=255;function l(e){var t,r=e.length,o=this,i=0,s=o.i=o.j=0,l=o.S=[];for(r||(e=[r++]);i<n;)l[i]=i++;for(i=0;i<n;i++)l[i]=l[s=a&s+e[i%r]+(t=l[i])],l[s]=t;o.g=function(e){for(var t,r=0,i=o.i,s=o.j,l=o.S;e--;)t=l[i=a&i+1],r=r*n+l[a&(l[i]=l[s=a&s+t])+(l[s]=t)];return o.i=i,o.j=s,r}}function c(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){var r,n=[],o=_typeof$1(e);if(t&&"object"==o)for(r in e)try{n.push(h(e[r],t-1))}catch(e){}return n.length?n:"string"==o?e:e+"\0"}function d(e,t){for(var r,n=e+"",o=0;o<n.length;)t[a&o]=a&(r^=19*t[a&o])+n.charCodeAt(o++);return u(t)}function u(e){return String.fromCharCode.apply(0,e)}t.seedrandom=function(a,p,f){var m=[],g=d(h((p=!0===p?{entropy:!0}:p||{}).entropy?[a,u(e)]:null===a?function(){try{var t=new Uint8Array(n);return(r.crypto||r.msCrypto).getRandomValues(t),u(t)}catch(t){var o=r.navigator,i=o&&o.plugins;return[+new Date,r,i,r.screen,u(e)]}}():a,3),m),v=new l(m),y=function(){for(var e=v.g(6),t=o,r=0;e<i;)e=(e+r)*n,t*=n,r=v.g(1);for(;e>=s;)e/=2,t/=2,r>>>=1;return(e+r)/t};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y.double=y,d(u(v.S),e),(p.pass||f||function(e,r,n,o){return o&&(o.S&&c(o,v),e.state=function(){return c(v,{})}),n?(t.random=e,r):e})(y,g,"global"in p?p.global:this==t,p.state)},d(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=_typeof(e);if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var r,n=e.length,o=[];for(r=0;r<n;r+=1)o[r]=-e[r];return o}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof(e),n=_typeof(t);if("string"===r||"string"===n)return e+t;if(isNumerable(r,e)&&isNumerable(n,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]+t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}var add=sum;function sub(e,t){var r=_typeof(e),n=_typeof(t);if(isNumerable(r,e)&&isNumerable(n,t))return"string"===r&&(e=parseInt(e,10)),"string"===n&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]-t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}function mul(e,t){var r,n,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e[n]*t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e*t[n];return r}return 0}function div(e,t){var r,n,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e[n]/t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e/t[n];return r}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var n=r;r=t,t=n}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var r;t||(t=helperLengthArray);var n=Math.min(e.length,t.length),o=0;for(r=0;r<n;r+=1)o+=Math.pow(t[r]-e[r],2);return Math.sqrt(o)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,r,n=e[0],o=e[1],i=e[2],s=Math.max(n,o,i),a=Math.min(n,o,i),l=(s+a)/2;if(s===a)t=0,r=0;else{var c=s-a;switch(r=l>.5?c/(2-s-a):c/(s+a),s){case n:t=(o-i)/c+(o<i?6:0);break;case o:t=(i-n)/c+2;break;case i:t=(n-o)/c+4}t/=6}return[t,r,l,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t,r,n,o=e[0],i=e[1],s=e[2];if(0===i)t=s,n=s,r=s;else{var a=s<.5?s*(1+i):s+i-s*i,l=2*s-a;t=hue2rgb(l,a,o+1/3),r=hue2rgb(l,a,o),n=hue2rgb(l,a,o-1/3)}return[t,r,n,e[3]]}function linear(e,t,r,n,o){if(void 0!==n&&void 0!==o||(n=t,o=r,t=0,r=1),r<t){var i=r;r=t,t=i}if(e<=t)return n;if(e>=r)return o;var s,a=r===t?0:(e-t)/(r-t);if(!n.length)return n+(o-n)*a;var l=n.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=n[s]+(o[s]-n[s])*a;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var r,n=t.length;e||(e=createTypedArray("float32",n));var o=createTypedArray("float32",n),i=BMMath.random();for(r=0;r<n;r+=1)o[r]=e[r]+i*(t[r]-e[r]);return o}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,n){var o,i=e.length,s=shapePool.newElement();s.setPathData(!!n,i);var a,l,c=[0,0];for(o=0;o<i;o+=1)a=t&&t[o]?t[o]:c,l=r&&r[o]?r[o]:c,s.setTripleAt(e[o][0],e[o][1],l[0]+e[o][0],l[1]+e[o][1],a[0]+e[o][0],a[1]+e[o][1],o,!0);return s}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var r,n,o=this.pv.length?this.pv.length:1,i=createTypedArray("float32",o),s=Math.floor(5*time);for(r=0,n=0;r<s;){for(n=0;n<o;n+=1)i[n]+=-t+2*t*BMMath.random();r+=1}var a=5*time,l=a-Math.floor(a),c=createTypedArray("float32",o);if(o>1){for(n=0;n<o;n+=1)c[n]=this.pv[n]+i[n]+(-t+2*t*BMMath.random())*l;return c}return this.pv+i[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,n,0]}function easeOut(e,t,r,n,o){return applyEase(easeOutBez,e,t,r,n,o)}function easeIn(e,t,r,n,o){return applyEase(easeInBez,e,t,r,n,o)}function ease(e,t,r,n,o){return applyEase(easeInOutBez,e,t,r,n,o)}function applyEase(e,t,r,n,o,i){void 0===o?(o=r,i=n):t=(t-r)/(n-r),t>1?t=1:t<0&&(t=0);var s=e(t);if($bm_isInstanceOfArray(o)){var a,l=o.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=(i[a]-o[a])*s+o[a];return c}return(i-o)*s+o}function nearestKey(e){var t,r,n,o=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(t=0;t<o-1;t+=1){if(e===data.k[t].t){r=t+1,n=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,n=data.k[t+1].t):(r=t+1,n=data.k[t].t);break}}-1===r&&(r=t+1,n=data.k[t].t)}else r=0,n=0;var i={};return i.index=r,i.time=n/elem.comp.globalData.frameRate,i}function key(e){var t,r,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(n=o.length,r=0;r<n;r+=1)t[r]=o[r],t.value[r]=o[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),n=0;if(t.length){var o;for(o=0;o<t.length;o+=1)n+=Math.pow(r[o]-t[o],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,r,n=-.001,o=this.getValueAtTime(e),i=this.getValueAtTime(e+n);if(o.length)for(t=createTypedArray("float32",o.length),r=0;r<o.length;r+=1)t[r]=(i[r]-o[r])/n;else t=(i-o)/n;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,r){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var n,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,h=c[c.length-1].t;if(l<=h)return this.pv;if(r?o=h-(n=t?Math.abs(h-this.elem.comp.globalData.frameRate*t):Math.max(0,h-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),n=h-(o=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-o)/n)%2!=0)return this.getValueAtTime((n-(l-o)%n+o)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(o/this.comp.globalData.frameRate,0),u=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-o)%n+o)/this.comp.globalData.frameRate,0),f=Math.floor((l-o)/n);if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=(u[i]-d[i])*f+p[i];return a}return(u-d)*f+p}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*((l-h)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-o)%n+o)/this.comp.globalData.frameRate,0)}function t(e,t,r){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var n,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,h=c[0].t;if(l>=h)return this.pv;if(r?o=h+(n=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-h)):((!t||t>c.length-1)&&(t=c.length-1),n=(o=c[t].t)-h),"pingpong"===e){if(Math.floor((h-l)/n)%2==0)return this.getValueAtTime(((h-l)%n+h)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),u=this.getValueAtTime(o/this.comp.globalData.frameRate,0),p=this.getValueAtTime((n-(h-l)%n+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/n)+1;if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=p[i]-(u[i]-d[i])*f;return a}return p-(u-d)*f}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*(h-l)/.001;return a}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((n-((h-l)%n+h))/this.comp.globalData.frameRate,0)}function r(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var r,n,o=this.comp.renderedFrame/this.comp.globalData.frameRate,i=o-e,s=t>1?(o+e-i)/(t-1):1,a=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;a<t;){if(n=this.getValueAtTime(i+a*s),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=n[l];else r+=n;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=t;else r/=t;return r}function n(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(e);t.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(e);t.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var o=this.sk.getValueAtTime(e),i=this.sa.getValueAtTime(e);t.skewFromAxis(-o*this.sk.mult,i*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(e);t.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),h=this.or.getValueAtTime(e);t.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var d=this.px.getValueAtTime(e),u=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(d*this.px.mult,u*this.py.mult,-p*this.pz.mult)}else t.translate(d*this.px.mult,u*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}function o(){return this.v.clone(new Matrix)}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,r){var s=i(e,t,r);return s.dynamicProperties.length?s.getValueAtTime=n.bind(s):s.getValueAtTime=o.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(n,o,i,a,l){var c=s(n,o,i,a,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===o.a?o.k.length:0,c.propertyIndex=o.ix;var h=0;return 0!==i&&(h=createTypedArray("float32",1===o.a?o.k[0].s.length:o.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(n,o,c),c.k&&l.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var r,n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0));var o=n._length,i=n[e],s=n.v,a=createSizedArray(o);for(r=0;r<o;r+=1)a[r]="i"===e||"o"===e?[i[r][0]-s[r][0],i[r][1]-s[r][1]]:[i[r][0],i[r][1]];return a},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n,o=this._segmentsLength,i=o.lengths,s=o.totalLength*e,a=0,l=i.length,c=0;a<l;){if(c+i[a].addedLength>s){var h=a,d=r.c&&a===l-1?0:a+1,u=(s-c)/i[a].addedLength;n=bez.getPointInSegment(r.v[h],r.v[d],r.o[h],r.i[d],u,i[a]);break}c+=i[a].addedLength,a+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(e,t,r){1==e?e=this.v.c:0==e&&(e=.999);var n=this.pointOnPath(e,t),o=this.pointOnPath(e+.001,t),i=o[0]-n[0],s=o[1]-n[1],a=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===r?[i/a,s/a]:[-s/a,i/a]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,r,n,o){var i=h(e,t,r,n,o);return i.propertyIndex=t.ix,i.lock=!1,3===r?expressionHelpers.searchExpressions(e,t.pt,i):4===r&&expressionHelpers.searchExpressions(e,t.ks,i),i.k&&e.addDynamicProperty(i),i}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var n={};return this.copyData(n,e),n.t=r.toString(),n.__complete=!1,n}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(e,t,r,n,o){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result",n+"_tint_1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",n+"_tint_2"),e.appendChild(i),this.matrixFilter=i;var s=this.createMergeNode(n,[o,n+"_tint_1",n+"_tint_2"]);e.appendChild(s)}function SVGFillFilter(e,t,r,n){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",n),e.appendChild(o),this.matrixFilter=o}function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}function SVGTritoneFilter(e,t,r,n){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(o);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),this.matrixFilter=i;var s=createNS("feFuncR");s.setAttribute("type","table"),i.appendChild(s),this.feFuncR=s;var a=createNS("feFuncG");a.setAttribute("type","table"),i.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),i.appendChild(l),this.feFuncB=l,e.appendChild(i)}function SVGProLevelsFilter(e,t,r,n){this.filterManager=t;var o=this.filterManager.effectElements,i=createNS("feComponentTransfer");(o[10].p.k||0!==o[10].p.v||o[11].p.k||1!==o[11].p.v||o[12].p.k||1!==o[12].p.v||o[13].p.k||0!==o[13].p.v||o[14].p.k||1!==o[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(o[17].p.k||0!==o[17].p.v||o[18].p.k||1!==o[18].p.v||o[19].p.k||1!==o[19].p.v||o[20].p.k||0!==o[20].p.v||o[21].p.k||1!==o[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(o[24].p.k||0!==o[24].p.v||o[25].p.k||1!==o[25].p.v||o[26].p.k||1!==o[26].p.v||o[27].p.k||0!==o[27].p.v||o[28].p.k||1!==o[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(o[31].p.k||0!==o[31].p.v||o[32].p.k||1!==o[32].p.v||o[33].p.k||1!==o[33].p.v||o[34].p.k||0!==o[34].p.v||o[35].p.k||1!==o[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i)),(o[3].p.k||0!==o[3].p.v||o[4].p.k||1!==o[4].p.v||o[5].p.k||1!==o[5].p.v||o[6].p.k||0!==o[6].p.v||o[7].p.k||1!==o[7].p.v)&&((i=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),e.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(e,t,r,n,o){var i=t.container.globalData.renderConfig.filterSize,s=t.data.fs||i;e.setAttribute("x",s.x||i.x),e.setAttribute("y",s.y||i.y),e.setAttribute("width",s.width||i.width),e.setAttribute("height",s.height||i.height),this.filterManager=t;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",n+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,e.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",n+"_drop_shadow_1"),l.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var h=createNS("feComposite");h.setAttribute("in",n+"_drop_shadow_3"),h.setAttribute("in2",n+"_drop_shadow_2"),h.setAttribute("operator","in"),h.setAttribute("result",n+"_drop_shadow_4"),e.appendChild(h);var d=this.createMergeNode(n,[n+"_drop_shadow_4",o]);e.appendChild(d)}SVGComposableEffect.prototype={createMergeNode:function(e,t){var r,n,o=createNS("feMerge");for(o.setAttribute("result",e),n=0;n<t.length;n+=1)(r=createNS("feMergeNode")).setAttribute("in",t[n]),o.appendChild(r),o.appendChild(r);return o}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,n,o=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<n;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),s=createElementID();i.setAttribute("id",s),i.setAttribute("mask-type","alpha"),i.appendChild(t),this.elem.globalData.defs.appendChild(i);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+s+")");o[0];)a.appendChild(o[0]);this.elem.layerElement.appendChild(a),this.masker=i,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(o=this.elem.layerElement.children||this.elem.layerElement.childNodes;o.length;)this.elem.layerElement.removeChild(o[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var r,n,o=this.paths.length;for(t=0;t<o;t+=1)if(-1!==this.paths[t].m&&(r=this.elem.maskManager.viewData[this.paths[t].m],n=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&n.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=n.getTotalLength();i="0 0 0 "+l*s+" ";var c,h=l*(a-s),d=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,u=Math.floor(h/d);for(c=0;c<u;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",i)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,o=n[0]+" "+r[0]+" "+t[0],i=n[1]+" "+r[1]+" "+t[1],s=n[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,n,o){for(var i,s,a=0,l=Math.min(e,t),c=Math.max(e,t),h=Array.call(null,{length:256}),d=0,u=o-n,p=t-e;a<=256;)s=(i=a/256)<=l?p<0?o:n:i>=c?p<0?n:o:n+u*Math.pow((i-e)/p,1/r),h[d]=s,d+=1,a+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=r*Math.cos(n),i=r*Math.sin(n);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(e,t,r,n){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("result",n),e.appendChild(o),this.feGaussianBlur=o}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var n,o=r.children,i=0,s=o.length;i<s&&o[i]!==e.layerElement;)i+=1;i<=s-2&&(n=o[i+1]);var a=createNS("use");a.setAttribute("href","#"+t),n?r.insertBefore(a,n):r.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var o=e.globalData.defs;o.appendChild(n);var i=createNS("symbol");i.setAttribute("id",r),this.replaceInParent(t,r),i.appendChild(t.layerElement),o.appendChild(i);var s=createNS("use");s.setAttribute("href","#"+r),n.appendChild(s),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,n=t.length;r<n;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=3==r?0:t,o=2==r?0:t;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+o);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=factory())})(lottie$1,lottie$1.exports);var lottie=lottie$1.exports,_templateObject$1,styles=r$3(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral(["\n  * {\n    box-sizing: border-box;\n  }\n\n  :host {\n    --lottie-player-toolbar-height: 35px;\n    --lottie-player-toolbar-background-color: transparent;\n    --lottie-player-toolbar-icon-color: #999;\n    --lottie-player-toolbar-icon-hover-color: #222;\n    --lottie-player-toolbar-icon-active-color: #555;\n    --lottie-player-seeker-track-color: #ccc;\n    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);\n    --lottie-player-seeker-display: block;\n\n    display: block;\n    width: 100%;\n    height: 100%;\n  }\n\n  .main {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n  }\n\n  .animation {\n    width: 100%;\n    height: 100%;\n    display: flex;\n  }\n  .animation.controls {\n    height: calc(100% - 35px);\n  }\n\n  .toolbar {\n    display: flex;\n    align-items: center;\n    justify-items: center;\n    background-color: var(--lottie-player-toolbar-background-color);\n    margin: 0 5px;\n    height: 35px;\n  }\n\n  .toolbar button {\n    cursor: pointer;\n    fill: var(--lottie-player-toolbar-icon-color);\n    display: flex;\n    background: none;\n    border: 0;\n    padding: 0;\n    outline: none;\n    height: 100%;\n  }\n\n  .toolbar button:hover {\n    fill: var(--lottie-player-toolbar-icon-hover-color);\n  }\n\n  .toolbar button.active {\n    fill: var(--lottie-player-toolbar-icon-active-color);\n  }\n\n  .toolbar button.active:hover {\n    fill: var(--lottie-player-toolbar-icon-hover-color);\n  }\n\n  .toolbar button:focus {\n    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);\n  }\n\n  .toolbar button svg {\n  }\n\n  .toolbar button.disabled svg {\n    display: none;\n  }\n\n  .seeker {\n    -webkit-appearance: none;\n    width: 95%;\n    outline: none;\n    background-color: var(--lottie-player-toolbar-background-color);\n    display: var(--lottie-player-seeker-display);\n  }\n\n  .seeker::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-webkit-slider-thumb {\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-top: -5px;\n  }\n  .seeker:focus::-webkit-slider-runnable-track {\n    background: #999;\n  }\n  .seeker::-moz-range-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-moz-range-thumb {\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n  }\n  .seeker::-ms-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    color: transparent;\n  }\n  .seeker::-ms-fill-lower {\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-ms-fill-upper {\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-ms-thumb {\n    border: 0;\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n  }\n  .seeker:focus::-ms-fill-lower {\n    background: var(--lottie-player-seeker-track-color);\n  }\n  .seeker:focus::-ms-fill-upper {\n    background: var(--lottie-player-seeker-track-color);\n  }\n\n  .error {\n    display: flex;\n    justify-content: center;\n    height: 100%;\n    align-items: center;\n  }\n"]))),_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,PlayerState,PlayMode,PlayerEvents;function parseSrc(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch(t){return new URL(e,window.location.href).toString()}}function isLottie(e){return["v","ip","op","layers","fr","w","h"].every((t=>Object.prototype.hasOwnProperty.call(e,t)))}function fromURL(e){return _fromURL.apply(this,arguments)}function _fromURL(){return(_fromURL=_asyncToGenerator((function*(e){if("string"!=typeof e)throw new Error("The url value must be a string");var t;try{var r=new URL(e),n=yield fetch(r.toString());t=yield n.json()}catch(e){throw new Error("An error occurred while trying to load the Lottie file from URL")}return t}))).apply(this,arguments)}!function(e){e.Destroyed="destroyed",e.Error="error",e.Frozen="frozen",e.Loading="loading",e.Paused="paused",e.Playing="playing",e.Stopped="stopped"}(PlayerState||(PlayerState={})),function(e){e.Bounce="bounce",e.Normal="normal"}(PlayMode||(PlayMode={})),function(e){e.Complete="complete",e.Destroyed="destroyed",e.Error="error",e.Frame="frame",e.Freeze="freeze",e.Load="load",e.Loop="loop",e.Pause="pause",e.Play="play",e.Ready="ready",e.Rendered="rendered",e.Stop="stop"}(PlayerEvents||(PlayerEvents={}));var LottiePlayer=class extends s{constructor(){super(...arguments),this.autoplay=!1,this.background="transparent",this.controls=!1,this.currentState=PlayerState.Loading,this.description="Lottie animation",this.direction=1,this.hover=!1,this.intermission=1,this.loop=!1,this.mode=PlayMode.Normal,this.preserveAspectRatio="xMidYMid meet",this.renderer="svg",this.speed=1,this._io=void 0,this._counter=1}load(e){var t=this;return _asyncToGenerator((function*(){if(t.shadowRoot){var r={container:t.container,loop:!1,autoplay:!1,renderer:t.renderer,rendererSettings:{preserveAspectRatio:t.preserveAspectRatio,clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0}};try{var n=parseSrc(e),o={},i="string"==typeof n?"path":"animationData";t._lottie&&t._lottie.destroy(),t.webworkers&&lottie$1.exports.useWebWorker(!0),t._lottie=lottie$1.exports.loadAnimation(Object.assign(Object.assign({},r),{[i]:n})),t._attachEventListeners(),"path"===i?(o=yield fromURL(n),i="animationData"):o=n,isLottie(o)||(t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error)))}catch(e){t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error))}}}))()}getLottie(){return this._lottie}play(){this._lottie&&(this._lottie.play(),this.currentState=PlayerState.Playing,this.dispatchEvent(new CustomEvent(PlayerEvents.Play)))}pause(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Paused,this.dispatchEvent(new CustomEvent(PlayerEvents.Pause)))}stop(){this._lottie&&(this._counter=1,this._lottie.stop(),this.currentState=PlayerState.Stopped,this.dispatchEvent(new CustomEvent(PlayerEvents.Stop)))}destroy(){this._lottie&&(this._lottie.destroy(),this._lottie=null,this.currentState=PlayerState.Destroyed,this.dispatchEvent(new CustomEvent(PlayerEvents.Destroyed)),this.remove())}seek(e){if(this._lottie){var t=/^(\d+)(%?)$/.exec(e.toString());if(t){var r="%"===t[2]?this._lottie.totalFrames*Number(t[1])/100:Number(t[1]);this.seeker=r,this.currentState===PlayerState.Playing?this._lottie.goToAndPlay(r,!0):(this._lottie.goToAndStop(r,!0),this._lottie.pause())}}}snapshot(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.shadowRoot){var t=this.shadowRoot.querySelector(".animation svg"),r=(new XMLSerializer).serializeToString(t);if(e){var n=document.createElement("a");n.href="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(r)),n.download="download_".concat(this.seeker,".svg"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}return r}}setSpeed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._lottie&&this._lottie.setSpeed(e)}setDirection(e){this._lottie&&this._lottie.setDirection(e)}setLooping(e){this._lottie&&(this.loop=e,this._lottie.loop=e)}togglePlay(){return this.currentState===PlayerState.Playing?this.pause():this.play()}toggleLooping(){this.setLooping(!this.loop)}resize(){this._lottie&&this._lottie.resize()}static get styles(){return styles}disconnectedCallback(){this.isConnected||(this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",(()=>this._onVisibilityChange())),this.destroy())}render(){var e=this.controls?"main controls":"main",t=this.controls?"animation controls":"animation";return $(_templateObject||(_templateObject=_taggedTemplateLiteral([' <div\n      id="animation-container"\n      class=','\n      lang="en"\n      aria-label=','\n      role="img"\n    >\n      <div\n        id="animation"\n        class=','\n        style="background:',';"\n      >\n        ',"\n      </div>\n      ","\n    </div>"])),e,this.description,t,this.background,this.currentState===PlayerState.Error?$(_templateObject2||(_templateObject2=_taggedTemplateLiteral(['<div class="error"></div>']))):void 0,this.controls?this.renderControls():void 0)}firstUpdated(){"IntersectionObserver"in window&&(this._io=new IntersectionObserver((e=>{e[0].isIntersecting?this.currentState===PlayerState.Frozen&&this.play():this.currentState===PlayerState.Playing&&this.freeze()})),this._io.observe(this.container)),void 0!==document.hidden&&document.addEventListener("visibilitychange",(()=>this._onVisibilityChange())),this.src&&this.load(this.src),this.dispatchEvent(new CustomEvent(PlayerEvents.Rendered))}renderControls(){var e=this.currentState===PlayerState.Playing,t=this.currentState===PlayerState.Paused,r=this.currentState===PlayerState.Stopped;return $(_templateObject3||(_templateObject3=_taggedTemplateLiteral(['\n      <div\n        id="lottie-controls"\n        aria-label="lottie-animation-controls"\n        class="toolbar"\n      >\n        <button\n          id="lottie-play-button"\n          @click=',"\n          class=",'\n          style="align-items:center;"\n          tabindex="0"\n          aria-label="play-pause"\n        >\n          ','\n        </button>\n        <button\n          id="lottie-stop-button"\n          @click=',"\n          class=",'\n          style="align-items:center;"\n          tabindex="0"\n          aria-label="stop"\n        >\n          <svg width="24" height="24" aria-hidden="true" focusable="false">\n            <path d="M6 6h12v12H6V6z" />\n          </svg>\n        </button>\n        <input\n          id="lottie-seeker-input"\n          class="seeker"\n          type="range"\n          min="0"\n          step="1"\n          max="100"\n          .value=',"\n          @input=","\n          @mousedown=","\n          @mouseup=",'\n          aria-valuemin="1"\n          aria-valuemax="100"\n          role="slider"\n          aria-valuenow=','\n          tabindex="0"\n          aria-label="lottie-seek-input"\n        />\n        <button\n          id="lottie-loop-toggle"\n          @click=',"\n          class=",'\n          style="align-items:center;"\n          tabindex="0"\n          aria-label="loop-toggle"\n        >\n          <svg width="24" height="24" aria-hidden="true" focusable="false">\n            <path\n              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"\n            />\n          </svg>\n        </button>\n      </div>\n    '])),this.togglePlay,e||t?"active":"",$(e?_templateObject4||(_templateObject4=_taggedTemplateLiteral(['<svg\n                width="24"\n                height="24"\n                aria-hidden="true"\n                focusable="false"\n              >\n                <path\n                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"\n                />\n              </svg>'])):_templateObject5||(_templateObject5=_taggedTemplateLiteral(['<svg\n                width="24"\n                height="24"\n                aria-hidden="true"\n                focusable="false"\n              >\n                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />\n              </svg>']))),this.stop,r?"active":"",this.seeker,this._handleSeekChange,(()=>{this._prevState=this.currentState,this.freeze()}),(()=>{this._prevState===PlayerState.Playing&&this.play()}),this.seeker,this.toggleLooping,this.loop?"active":"")}_onVisibilityChange(){!0===document.hidden&&this.currentState===PlayerState.Playing?this.freeze():this.currentState===PlayerState.Frozen&&this.play()}_handleSeekChange(e){if(this._lottie&&!isNaN(e.target.value)){var t=e.target.value/100*this._lottie.totalFrames;this.seek(t)}}_attachEventListeners(){this._lottie.addEventListener("enterFrame",(()=>{this.seeker=this._lottie.currentFrame/this._lottie.totalFrames*100,this.dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:this._lottie.currentFrame,seeker:this.seeker}}))})),this._lottie.addEventListener("complete",(()=>{if(this.currentState===PlayerState.Playing){if(!this.loop||this.count&&this._counter>=this.count){if(this.dispatchEvent(new CustomEvent(PlayerEvents.Complete)),this.mode!==PlayMode.Bounce)return;if(0===this._lottie.currentFrame)return}this.mode===PlayMode.Bounce?(this.count&&(this._counter+=.5),setTimeout((()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this._lottie.setDirection(-1*this._lottie.playDirection),this._lottie.play())}),this.intermission)):(this.count&&(this._counter+=1),window.setTimeout((()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(-1===this.direction?(this.seek("99%"),this.play()):(this._lottie.stop(),this._lottie.play()))}),this.intermission))}else this.dispatchEvent(new CustomEvent(PlayerEvents.Complete))})),this._lottie.addEventListener("DOMLoaded",(()=>{this.setSpeed(this.speed),this.setDirection(this.direction),this.autoplay&&(-1===this.direction&&this.seek("100%"),this.play()),this.dispatchEvent(new CustomEvent(PlayerEvents.Ready))})),this._lottie.addEventListener("data_ready",(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Load))})),this._lottie.addEventListener("data_failed",(()=>{this.currentState=PlayerState.Error,this.dispatchEvent(new CustomEvent(PlayerEvents.Error))})),this.container.addEventListener("mouseenter",(()=>{this.hover&&this.currentState!==PlayerState.Playing&&this.play()})),this.container.addEventListener("mouseleave",(()=>{this.hover&&this.currentState===PlayerState.Playing&&this.stop()}))}freeze(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Frozen,this.dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))}};__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"autoplay",void 0),__decorate([e$5({type:String,reflect:!0})],LottiePlayer.prototype,"background",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"controls",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"count",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"currentState",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"description",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"direction",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"hover",void 0),__decorate([e$5()],LottiePlayer.prototype,"intermission",void 0),__decorate([e$5({type:Boolean,reflect:!0})],LottiePlayer.prototype,"loop",void 0),__decorate([e$5()],LottiePlayer.prototype,"mode",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"preserveAspectRatio",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"renderer",void 0),__decorate([e$5()],LottiePlayer.prototype,"seeker",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"speed",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"src",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"webworkers",void 0),__decorate([i(".animation")],LottiePlayer.prototype,"container",void 0),LottiePlayer=__decorate([n$1("lottie-player")],LottiePlayer)},9701:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return ee}});var p={cookieTestUrl:"https://legacy-staging.paystack.co/test-iframe/start.html",publishableKey:"uFmz/uE/SDT6GupOrSEXIZXGByjQ0zFkPyc9LqKHFqnTI0WPN3JS5kQPo/j9or0TOXlqMQj2lzHn/UGsQT4XeQ==",publicKey:"-----BEGIN PUBLIC KEY-----\r\nMFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBALhZs/7hP0g0+hrqTq0hFyGVxgco0NMx\r\nZD8nPS6ihxap0yNFjzdyUuZED6P4/aK9Ezl5ajEI9pcx5/1BrEE+F3kCAwEAAQ==\r\n-----END PUBLIC KEY-----",applePayVersion:6,applePayValidateSessionPath:"applepay/validate-session/",applePayChargePath:"applepay/charge"},f=(o(o({},p),{},{checkoutUrl:"http://localhost:8081/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"http://localhost:8081/static/vendor/pusher.min.js"}),o(o({},p),{},{checkoutUrl:"https://checkout-studio.paystack.com/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://beta.paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"https://checkout-studio.paystack.com/static/vendor/pusher.min.js"})),m=o(o({},p),{},{checkoutUrl:"https://checkout.paystack.com/",paymentBaseUrl:"https://standard.paystack.co/",paystackApiUrl:"https://api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"8e4b9b7ca3418bd5cdc8",pusherUrl:"https://checkout.paystack.com/static/vendor/pusher.min.js"})||f;function g(e,t){var r=[];return Object.keys(e).forEach((function(n){var o=t?"".concat(t,"[").concat(n,"]"):n,s=e[o];r.push(null!==s&&"object"===("undefined"==typeof v?"undefined":i(v))?g(s,o):"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(s)))})),r.join("&")}function y(){return document.currentScript||(e=document.getElementsByTagName("script"))[e.length-1];var e}function b(){var e=[],t=y();if(t){var r=Array.prototype.slice.call(t.attributes);e=Object.keys(r).filter((function(e){var t=r[e].nodeName;return t&&t.indexOf("data")>-1})).map((function(e){return r[e].nodeName}))}return e}var w='\n  <svg id="inline-button-wordmark--white" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#ffffff"/>\n  </svg>\n',x={height:"50px",width:"auto",borderRadius:"3px",padding:"10px",locale:"en",type:"pay"},_=function(e){return e&&"object"===i(e)?Object.keys(x).reduce((function(t,r){return o(o({},t),{},c({},r,e[r]||x[r]))}),{}):x},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Number(parseFloat(e/100).toFixed(2))},C={headers:{accept:"application/json, text/plain, */*","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","content-type":"application/x-www-form-urlencoded","sec-ch-ua-mobile":"?0","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site"},referrerPolicy:"no-referrer-when-downgrade",method:"POST",mode:"cors",credentials:"omit"};function S(e){return Object.keys(e).reduce((function(t,r){var n=encodeURIComponent(r),o=encodeURIComponent(e[r]),i="".concat(n,"=").concat(o);return[].concat(function(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t),[i])}),[]).join("&")}var k=function(e){return{biannually:"BIANNUAL PLAN",annually:"ANNUAL PLAN"}[e]||"".concat(e.toUpperCase()," PLAN")},A=function(){try{return window.location&&"https:"===window.location.protocol&&window.ApplePaySession&&window.ApplePaySession.supportsVersion(m.applePayVersion)}catch(e){return!1}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return A()&&e.includes("apple_pay")};function T(e){var t=document.createElement("iframe");return t.setAttribute("frameBorder","0"),t.setAttribute("allowtransparency","true"),t.id=e,t.style.display="none",t}function M(e){return e.querySelector("apple-pay-button")||e.querySelector("#apple-pay-button")}function O(e){return document.querySelector("#".concat(e))}function D(e,t){var r=t.channels,n=void 0===r?[]:r,o=t.styles,s=void 0===o?{}:o,a={applePay:!1};return new Promise((function(t,r){if(e)if(P(n)){if(M(e))return a.applePay=!0,void t(a);(function(e,t){return new Promise((function(e,r){var n=document.createElement("script");n.src="https://applepay.cdn-apple.com/jsapi/v1/apple-pay-sdk.js",n.addEventListener("load",(function(){e(!0)})),n.addEventListener("error",(function(){n.remove(),r(!1)})),t?t.appendChild(n):document.head.appendChild(n)}))})(0,e).then((function(){if(window&&!Array.isArray(window.webpackJsonp))throw new Error("Incorrect data type for 'webpackJsonp', expected array, got ".concat(i(window.webpackJsonp),". Switching to fallback apple pay button"));!function(e,t){var r=t.styles,n=t.theme,o=document.createElement("style"),i=function(e){var t=e.height,r=e.width,n=e.borderRadius,o=e.padding;return"\n  apple-pay-button {\n    --apple-pay-button-width: ".concat(r,";\n    --apple-pay-button-height: ").concat(t,";\n    --apple-pay-button-border-radius: ").concat(n,";\n    --apple-pay-button-padding: ").concat(o,";\n    --apple-pay-button-box-sizing: border-box;\n    width: ").concat(r,";\n  }\n")}(r);o.type="text/css",o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),e.appendChild(o);var s=document.createElement("apple-pay-button");s.setAttribute("buttonstyle","light"===n?"white":"black"),s.setAttribute("type",r.type),s.setAttribute("locale",r.locale),e.appendChild(s)}(e,{styles:_(s.applePay),theme:s.theme}),a.applePay=!0,t(a)})).catch((function(){!function(e,t){var r=t.styles,n=t.theme,o=document.createElement("style"),i=function(e){var t=e.height,r=e.width,n=e.borderRadius,o=e.padding,i=e.type,s=e.locale;return"\n  @supports (-webkit-appearance: -apple-pay-button) { \n    .apple-pay-button {\n        display: inline-block;\n        -webkit-appearance: -apple-pay-button;\n        width: ".concat(r,";\n        height: ").concat(t,";\n        border-radius: ").concat(n,";\n        padding: ").concat(o,";\n        -apple-pay-button-type: ").concat(i,";\n        -webkit-locale: ").concat(s,";\n    }\n    .apple-pay-button-black {\n        -apple-pay-button-style: black;\n    }\n    .apple-pay-button-white {\n        -apple-pay-button-style: white;\n    }\n    .apple-pay-button-white-with-line {\n        -apple-pay-button-style: white-outline;\n    }\n  }\n\n  @supports not (-webkit-appearance: -apple-pay-button) {\n    .apple-pay-button {\n        display: inline-block;\n        background-size: 100% 60%;\n        background-repeat: no-repeat;\n        background-position: 50% 50%;\n        border-radius: 5px;\n        padding: 0px;\n        box-sizing: border-box;\n        min-width: 200px;\n        min-height: 32px;\n        max-height: 64px;\n    }\n    .apple-pay-button-black {\n        background-image: -webkit-named-image(apple-pay-logo-white);\n        background-color: black;\n    }\n    .apple-pay-button-white {\n        background-image: -webkit-named-image(apple-pay-logo-black);\n        background-color: white;\n    }\n    .apple-pay-button-white-with-line {\n        background-image: -webkit-named-image(apple-pay-logo-black);\n        background-color: white;\n        border: .5px solid black;\n    }\n  }\n")}(r);o.type="text/css",o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),e.appendChild(o);var s=document.createElement("button");s.classList.add("apple-pay-button","light"===n?"apple-pay-button-white":"apple-pay-button-black"),s.id="apple-pay-button";var a=document.createElement("span");a.classList.add("logo"),s.appendChild(a),e.appendChild(s)}(e,{styles:_(s.applePay),theme:s.theme}),a.applePay=!0,t(a)}))}else r("No wallet payment method is available on this device");else r("Container to mount elements was not provided")}))}function I(e){return e.querySelector("#paystackpop-button")}function R(e){return e.querySelector("#payment-request-button")}var F=[{value:"key",required:!0,types:["string"]},{value:"amount",required:!0,or:["plan","planCode"],types:["string","number"]},{value:"currency",required:!1,types:["string"]},{value:"email",required:!0,or:["customerCode"],types:["string"]},{value:"label",required:!1,types:["string"]},{value:"firstName",required:!1,types:["string"]},{value:"lastName",required:!1,types:["string"]},{value:"reference",required:!1,types:["string"]},{value:"phone",required:!1,types:["string"]},{value:"customerCode",required:!1,override:"email",types:["string"]},{value:"channels",required:!1,types:["array"]},{value:"paymentRequest",required:!1,types:["string","number"]},{value:"paymentPage",required:!1,types:["string"]},{value:"hash",required:!1,types:["string"]},{value:"container",required:!1,types:["string"]},{value:"metadata",required:!1,types:["object"]},{value:"subaccountCode",required:!1,types:["string"]},{value:"bearer",required:!1,types:["string"]},{value:"transactionCharge",required:!1,types:["string","number"]},{value:"planCode",required:!1,override:"amount",types:["string"]},{value:"subscriptionCount",required:!1,types:["number"]},{value:"planInterval",required:!1,types:["string"]},{value:"subscriptionLimit",required:!1,types:["number"]},{value:"subscriptionStartDate",required:!1,types:["string"]},{value:"accessCode",required:!1,types:["string"]},{value:"onError",required:!1,types:["function"]},{value:"onLoad",required:!1,types:["function"]},{value:"onSuccess",required:!1,types:["function"]},{value:"onCancel",required:!1,types:["function"]},{value:"callback",required:!1,types:["function"]},{value:"onClose",required:!1,types:["function"]},{value:"onBankTransferConfirmationPending",required:!1,types:["function"]},{value:"firstname",required:!1,types:["string"]},{value:"lastname",required:!1,types:["string"]},{value:"customer_code",required:!1,types:["string"]},{value:"payment_request",required:!1,types:["string","number"]},{value:"subaccount",required:!1,types:["string"]},{value:"transaction_charge",required:!1,types:["number","string"]},{value:"plan",required:!1,types:["string"]},{value:"quantity",required:!1,types:["number"]},{value:"interval",required:!1,types:["string"]},{value:"invoice_limit",required:!1,types:["number","string"]},{value:"start_date",required:!1,types:["string"]},{value:"payment_page",required:!1,types:["number","string"]},{value:"order_id",required:!1,types:["number"]},{value:"ref",required:!1,types:["string"]},{value:"card",required:!1,types:["string"]},{value:"bank",required:!1,types:["string"]},{value:"split",required:!1,types:["object"]},{value:"split_code",required:!1,types:["string"]},{value:"transaction_type",required:!1,types:["string"]},{value:"subscription",required:!1,types:["number"]}];function B(e){var t,r=o({},e);return r.metadata=e.metadata||{},r.metadata.referrer=(t=window.location.href)&&t.length>500?t.split("?")[0]:t,r.metadata=JSON.stringify(r.metadata),r.mode="popup",e.split&&"string"!=typeof e.split&&(r.split=JSON.stringify(r.split)),void 0!==r.card&&["false",!1].indexOf(r.card)>-1&&(r.channels=["bank"],delete r.card),void 0!==r.bank&&["false",!1].indexOf(r.bank)>-1&&(r.channels=["card"],delete r.bank),[{to:"firstname",from:"firstName"},{to:"lastname",from:"lastName"},{to:"customer_code",from:"customerCode"},{to:"payment_request",from:"paymentRequest"},{to:"subaccount",from:"subaccountCode"},{to:"transaction_charge",from:"transactionCharge"},{to:"plan",from:"planCode"},{to:"quantity",from:"subscriptionCount"},{to:"interval",from:"planInterval"},{to:"invoice_limit",from:"subscriptionLimit"},{to:"start_date",from:"subscriptionStartDate"},{to:"ref",from:"reference"}].forEach((function(e){r[e.from]&&(r[e.to]=r[e.from],delete r[e.from])})),Object.values(e).forEach((function(t,n){if("function"==typeof t){var o=Object.keys(e)[n];delete r[o]}})),r}var N=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"],L=window&&window.navigator&&(window.navigator.platform||window.navigator.userAgentData&&window.navigator.userAgentData.platform),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.platform,r=e.userAgent,n=void 0===r?window&&window.navigator&&window.navigator.userAgent:r,o=t||L;return N.includes(o)||n.includes("Mac")&&"ontouchend"in document},z={initializeLog:function(e){var t=e||{},r=t.attempts,n=t.authentication,o=t.errors,i=t.history;this.log={start_time:Math.round(Date.now()/1e3),time_spent:0,attempts:r||0,authentication:n,errors:o||0,success:!1,mobile:V(),input:[],history:i||[]}},getTimeSpent:function(){var e=Math.round(Date.now()/1e3);return this.log.time_spent=e-this.log.start_time,this.log.time_spent},logAPIResponse:function(e,t){switch(e.status){case"success":return this.logApiSuccess(t);case"failed":return this.logApiError(e.message);default:return!1}},logValidationResponse:function(e){return this.log.history.push({type:"action",message:e,time:this.getTimeSpent()}),this.saveLog()},logAttempt:function(e){var t="Attempted to pay";return e&&(t+=" with ".concat(e)),this.log.attempts+=1,this.log.history.push({type:"action",message:t,time:this.getTimeSpent()}),this.saveLog()},logApiError:function(e){var t="Error";return e&&(t+=": ".concat(e)),this.log.errors+=1,this.log.history.push({type:"error",message:t,time:this.getTimeSpent()}),this.saveLog()},logApiSuccess:function(e){var t="Successfully paid";return e&&(t+=" with ".concat(e)),this.log.success=!0,this.log.history.push({type:"success",message:t,time:this.getTimeSpent()}),this.saveLog()},saveLog:function(){try{if(this.response)return function(e,t,r){var n="".concat(m.paystackApiUrl,"transaction/update_log/").concat(e),o={Authorization:"Bearer ".concat(t)};return fetch(n,{method:"POST",body:JSON.stringify({payload:JSON.stringify(r)}),headers:o})}(this.id,this.response.merchant_key,this.log)}catch(e){}},saveIpAddress:function(){try{if(this.response)return function(e,t){var r="".concat(m.paystackApiUrl,"transaction/set_ip/").concat(e),n={Authorization:"Bearer ".concat(t)};return fetch(r,{method:"POST",headers:n})}(this.id,this.response.merchant_key)}catch(e){}}},H={requestInline:function(){var e=this;return(this.accessCode?fetch(new URL("transaction/verify_access_code/".concat(this.accessCode),m.paystackApiUrl).toString(),{headers:{"Content-Type":"application/json"}}):fetch(new URL("/checkout/request_inline",m.paystackApiUrl).toString(),{method:"POST",body:JSON.stringify(this.urlParameters),headers:{"Content-Type":"application/json"}})).then((function(e){return e.json()})).then((function(t){if(!1===t.status)throw new Error(t.message);return e.response=t.data,e.id=t.data.id,e.status=t.data.transaction_status,e.accessCode=t.data.access_code,e.log=null,Object.assign(e,z),e.initializeLog(t.data.log),e.saveIpAddress(),t.data}))}},j=function(){function e(t){s(this,e),function(e){function t(e,t){this.message=e,this.issues=t||[]}if(!e||"object"!==i(e))throw new t("Transaction parameters should be a non-empty object");var r=e;if("accessCode"in r)return{accessCode:r.accessCode};Object.keys(r).forEach((function(e){void 0!==F.find((function(t){return t.value===e}))||delete r[e]}));var n=Object.keys(r),o=[];if(F.filter((function(e){return e.required})).forEach((function(e){var t=!r[e.value],n=e.or?e.or.some((function(e){return r[e]})):null;t&&!n&&o.push({message:"Required parameter missing: ".concat(e.value)})})),n.forEach((function(e){var t=r[e],n=F.find((function(t){return t.value===e})),s=i(t);"object"===s&&Array.isArray(t)&&(s="array"),n.types.indexOf(s)<=-1&&o.push({message:"Invalid parameter type: ".concat(e),validTypes:n.types})})),n.forEach((function(e){var t=F.find((function(t){return t.value===e}));t.override&&delete r[t.override]})),o.length)throw new t("Invalid transaction parameters",o)}(t),this.parameters=t,this.urlParameters=B(t),this.id=null,this.status=null,this.accessCode=null,this.authorizationUrl=null,this.errors=[],this.response=null,this.isActive=!0;var r=t.onError,n=t.onLoad,o=t.onSuccess,a=t.onCancel,l=t.callback,c=t.onClose,h=t.onBankTransferConfirmationPending;this.callbacks={onError:r,onLoad:n,onSuccess:o,onCancel:a,onBankTransferConfirmationPending:h},this.deprecatedCallbacks={callback:l,onClose:c},Object.assign(this,H)}return l(e,[{key:"onSetupError",value:function(e){this.logError(e),this.callbacks.onError&&this.callbacks.onError(e)}},{key:"onLoad",value:function(e){var t=e.id,r=e.customer,n=e.accessCode;Object.assign(this,{id:t,customer:r,accessCode:n}),this.authorizationUrl="".concat(m.checkoutUrl).concat(n),this.callbacks.onLoad&&this.callbacks.onLoad({id:t,customer:r,accessCode:n})}},{key:"onSuccess",value:function(e){this.isActive=!1,this.response=e,this.status=e.status,this.callbacks.onSuccess&&this.callbacks.onSuccess(e),this.deprecatedCallbacks.callback&&this.deprecatedCallbacks.callback(e)}},{key:"setStatus",value:function(e){this.status=e}},{key:"onCancel",value:function(){this.callbacks.onCancel&&this.callbacks.onCancel(),this.deprecatedCallbacks.onClose&&this.deprecatedCallbacks.onClose()}},{key:"cancel",value:function(){this.isActive=!1,this.onCancel()}},{key:"onBankTransferConfirmationPending",value:function(){this.cancel(),this.callbacks.onBankTransferConfirmationPending&&this.callbacks.onBankTransferConfirmationPending()}},{key:"logError",value:function(e){this.errors.push(e)}}]),e}(),G=console?console.warn||console.log:function(){};function U(e,t,r){G('"'.concat(e,'" has been deprecated, please use "').concat(t,'". ').concat(r||""))}var q,W=["preload","inlineTransaction"],$=["container","styles","onElementsMount"];function Z(e,t){if(!e.length)return null;var r=e.filter((function(e){var r,n,o,i,s=!e.status||"abandoned"===e.status,a=(r=e.parameters,n=t,o=Object.keys(r).sort().join("")===Object.keys(n).sort().join(""),i=Object.values(r).sort().join("")===Object.values(n).sort().join(""),o&&i);return s&&a}));return r.length?r[r.length-1]:null}function K(e){var t=e.checkoutIframe,r=e.urlParameters;t&&r&&t.contentWindow.postMessage({type:"inline:url",path:"newTransaction",params:r},"*")}var Y="trackPaymentError";function X(e){throw G(e),new Error(e)}var J,Q,ee=function(){function e(t){var r,n;s(this,e),this.id=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<5;r+=1)e+=t.charAt(Math.floor(Math.random()*t.length));return e}(),this.transactions=[],this.isOpen=!1,this.isLoaded=!1,this.isDeprecatedApi=t&&t.isDeprecatedApi,t&&t.isEmbed?this.isEmbed=!0:t&&t.isPaymentRequest&&(t.container&&O(t.container)||X("A container is required to mount the payment request button"),this.paymentRequestContainer=O(t.container),this.paymentRequestTransaction=null),this.preCheckoutModal=null,this.backgroundIframe=function(e){var t=T("inline-background-".concat(e));t.style.cssText="\n  z-index: 999999999999999;\n  background: transparent;\n  background: rgba(0, 0, 0, 0.75);    \n  border: 0px none transparent;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  margin: 0;\n  padding: 0;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  transition: opacity 0.3s;\n  -webkit-transition: opacity 0.3s;\n  visibility: hidden;\n  display: none;\n",document.body.appendChild(t);var r=t.contentWindow.document;return r.open(),r.write('\n  <!DOCTYPE html>\n  <html lang="en">\n\n  <head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>Paystack Popup Loader</title>\n    <style>\n      .app-loader {\n        margin: 200px 0;\n        text-align: center;\n        color: white;\n      }      \n      @keyframes app-loader__spinner {\n        0% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n      @-webkit-keyframes app-loader__spinner {\n        0% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n      .app-loader__spinner {\n        position: relative;\n        display: inline-block;\n      }\n      .app-loader__spinner div {\n        left: 95px;\n        top: 35px;\n        position: absolute;\n        -webkit-animation: app-loader__spinner linear 1s infinite;\n        animation: app-loader__spinner linear 1s infinite;\n        background: white;\n        width: 10px;\n        height: 30px;\n        border-radius: 40%;\n        -webkit-transform-origin: 5px 65px;\n        transform-origin: 5px 65px;\n      }\n      .app-loader__spinner div:nth-child(1) {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n        -webkit-animation-delay: -0.916666666666667s;\n        animation-delay: -0.916666666666667s;\n      }\n      .app-loader__spinner div:nth-child(2) {\n        -webkit-transform: rotate(30deg);\n        transform: rotate(30deg);\n        -webkit-animation-delay: -0.833333333333333s;\n        animation-delay: -0.833333333333333s;\n      }\n      .app-loader__spinner div:nth-child(3) {\n        -webkit-transform: rotate(60deg);\n        transform: rotate(60deg);\n        -webkit-animation-delay: -0.75s;\n        animation-delay: -0.75s;\n      }\n      .app-loader__spinner div:nth-child(4) {\n        -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);\n        -webkit-animation-delay: -0.666666666666667s;\n        animation-delay: -0.666666666666667s;\n      }\n      .app-loader__spinner div:nth-child(5) {\n        -webkit-transform: rotate(120deg);\n        transform: rotate(120deg);\n        -webkit-animation-delay: -0.583333333333333s;\n        animation-delay: -0.583333333333333s;\n      }\n      .app-loader__spinner div:nth-child(6) {\n        -webkit-transform: rotate(150deg);\n        transform: rotate(150deg);\n        -webkit-animation-delay: -0.5s;\n        animation-delay: -0.5s;\n      }\n      .app-loader__spinner div:nth-child(7) {\n        -webkit-transform: rotate(180deg);\n        transform: rotate(180deg);\n        -webkit-animation-delay: -0.416666666666667s;\n        animation-delay: -0.416666666666667s;\n      }\n      .app-loader__spinner div:nth-child(8) {\n        -webkit-transform: rotate(210deg);\n        transform: rotate(210deg);\n        -webkit-animation-delay: -0.333333333333333s;\n        animation-delay: -0.333333333333333s;\n      }\n      .app-loader__spinner div:nth-child(9) {\n        -webkit-transform: rotate(240deg);\n        transform: rotate(240deg);\n        -webkit-animation-delay: -0.25s;\n        animation-delay: -0.25s;\n      }\n      .app-loader__spinner div:nth-child(10) {\n        -webkit-transform: rotate(270deg);\n        transform: rotate(270deg);\n        -webkit-animation-delay: -0.166666666666667s;\n        animation-delay: -0.166666666666667s;\n      }\n      .app-loader__spinner div:nth-child(11) {\n        -webkit-transform: rotate(300deg);\n        transform: rotate(300deg);\n        -webkit-animation-delay: -0.083333333333333s;\n        animation-delay: -0.083333333333333s;\n      }\n      .app-loader__spinner div:nth-child(12) {\n        -webkit-transform: rotate(330deg);\n        transform: rotate(330deg);\n        -webkit-animation-delay: 0s;\n        animation-delay: 0s;\n      }\n      .app-loader__spinner {\n        width: 40px;\n        height: 40px;\n        -webkit-transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);\n        transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);\n      }\n    </style>\n  </head>\n\n  <body>\n    <div id="app-loader" class="app-loader">\n      <div id="spinner" class="app-loader__spinner">\n        <div></div><div></div><div></div><div></div><div></div><div></div><div>\n        </div><div></div><div></div><div></div><div></div><div></div>\n      </div>\n    </div>\n  </body>\n\n  </html>\n'),r.close(),t}(this.id),this.checkoutIframe=(r=this.id,(n=T("inline-checkout-".concat(r))).src="".concat(m.checkoutUrl,"popup"),n.style.cssText="\n  z-index: 999999999999999;\n  background: transparent;\n  border: 0px none transparent;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  margin: 0;\n  padding: 0;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  visibility: hidden;\n  display: none;\n  height: 100%;\n",n.setAttribute("allowpaymentrequest","true"),document.body.appendChild(n),n),this.registerListeners()}return l(e,[{key:"registerListeners",value:function(){var e=this;window.addEventListener("message",(function(t){var r="".concat(t.origin,"/")===m.checkoutUrl,n=e.checkoutIframe&&e.checkoutIframe.contentWindow===t.source,o=e.isEmbed;r||n?e.respondToEvent(t):o&&e.respondToEmbedEvents(t)}))}},{key:"sendAnalyticsEventToCheckout",value:function(e,t){this.checkoutIframe.contentWindow.postMessage({type:"analytics",action:e,params:t},"*")}},{key:"checkout",value:function(e){if(!A()||!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.platform,r=e.userAgent,n=void 0===r?window&&window.navigator&&window.navigator.userAgent:r,o=t||L,i=n&&!!n.match(/Version\/[\d.]+.*Safari/),s=o&&/(Mac)/i.test(o);return V()||s&&i}())return Promise.resolve(this.newTransaction(e));this.activeTransaction()&&this.activeTransaction().cancel(),q=this;var t=Z(this.transactions,e)||new j(e);return new Promise((function(e,r){t.requestInline().then((function(r){r.channels.includes("apple_pay")?(q.preloadTransaction({inlineTransaction:t}),q.preCheckoutModal=function(e,t){var r=document.querySelector("#pre-checkout-modal-".concat(e));if(r){if(I(r)&&R(r))return r;r.remove()}var n=document.createElement("div");n.classList.add("pre-checkout-modal"),n.id="pre-checkout-modal-".concat(e),n.style.zIndex=Array.from(document.querySelectorAll("body *")).map((function(e){return parseFloat(window.getComputedStyle(e).zIndex)})).filter((function(e){return!Number.isNaN(e)})).sort().pop()+1;var o=document.createElement("div");o.classList.add("pre-checkout-modal__content"),n.appendChild(o);var i=t||{},s=i.merchant_logo,a=i.merchant_name,l=i.email,c=i.amount,h=i.currency,d=document.createElement("div");d.classList.add("payment-info"),d.innerHTML='<img class="merchant-logo" src="'.concat(s,'" alt="').concat(a,' Logo">\n    <div class="customer-info">\n      <div class="customer-email">').concat(l,'</div>\n      <div class="transaction-amount">Pay <span class="amount">').concat(h," ").concat(c/100,"</span></div>\n    </div>"),o.appendChild(d),o.innerHTML+='\n  <button type="button" id="apple-pay-close-button">\n    <svg width="10" height="9" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path\n        d="M5.572 4.033L8.89.71a.4.4 0 0 0-.566-.566L5.003 3.459 1.681.145a.4.4 0 0 0-.566.566L4.44 4.033\n      1.115 7.354a.398.398 0 0 0 0 .566.4.4 0 0 0 .566 0l3.322-3.33 3.322 3.33a.4.4 0 0 0 .566-.566L5.57 4.033z"\n        fill="white"\n      />\n    </svg>\n  </button>\n';var u=document.createElement("div");u.classList.add("modal-wrapper"),u.innerHTML='\n  <svg width="51" height="32" viewBox="0 0 51 32" fill="none" xmlns="http://www.w3.org/2000/svg" id="apple-pay-mark--light">\n    <g>\n    <path d="M46.0162 0H4.98386C4.81297 0 4.64177 0 4.47118 0.000996555C4.32698 0.00202331 4.18311 0.00362383 4.03925 0.00754966C3.72548 0.0160355 3.40903 0.0345472 3.09919 0.0902335C2.7844 0.146886 2.49148 0.239294 2.20571 0.384791C1.92477 0.52766 1.66757 0.71453 1.44468 0.937516C1.22169 1.1605 1.03482 1.41728 0.891977 1.69852C0.74645 1.98429 0.653982 2.27731 0.597722 2.59234C0.541737 2.90227 0.523101 3.21866 0.514645 3.53209C0.51078 3.67596 0.509122 3.81982 0.508183 3.96366C0.507186 4.13461 0.507519 4.30545 0.507519 4.4767V27.5236C0.507519 27.6949 0.507186 27.8654 0.508183 28.0367C0.509122 28.1805 0.51078 28.3244 0.514645 28.4683C0.523101 28.7814 0.541737 29.0978 0.597722 29.4077C0.653982 29.7228 0.74645 30.0157 0.891977 30.3015C1.03482 30.5827 1.22169 30.8399 1.44468 31.0625C1.66757 31.2859 1.92477 31.4727 2.20571 31.6152C2.49148 31.7611 2.7844 31.8535 3.09919 31.9102C3.40903 31.9655 3.72548 31.9843 4.03925 31.9928C4.18311 31.9961 4.32698 31.998 4.47118 31.9987C4.64177 32 4.81297 32 4.98386 32H46.0162C46.1868 32 46.358 32 46.5286 31.9987C46.6724 31.998 46.8163 31.9961 46.9608 31.9928C47.2739 31.9843 47.5903 31.9655 47.9009 31.9102C48.2153 31.8535 48.5083 31.7611 48.7941 31.6152C49.0753 31.4727 49.3317 31.2859 49.5551 31.0625C49.7777 30.8399 49.9646 30.5827 50.1078 30.3015C50.2537 30.0157 50.346 29.7228 50.402 29.4077C50.458 29.0978 50.4762 28.7814 50.4847 28.4683C50.4886 28.3244 50.4906 28.1805 50.4912 28.0367C50.4925 27.8654 50.4926 27.6949 50.4926 27.5236V4.4767C50.4926 4.30545 50.4925 4.13461 50.4912 3.96366C50.4906 3.81982 50.4886 3.67596 50.4847 3.53209C50.4762 3.21866 50.458 2.90227 50.402 2.59234C50.346 2.27731 50.2537 1.98429 50.1078 1.69852C49.9646 1.41728 49.7777 1.1605 49.5551 0.937516C49.3317 0.71453 49.0753 0.52766 48.7941 0.384791C48.5083 0.239294 48.2153 0.146886 47.9009 0.0902335C47.5903 0.0345472 47.2739 0.0160355 46.9608 0.00754966C46.8163 0.00362383 46.6724 0.00202331 46.5286 0.000996555C46.358 0 46.1868 0 46.0162 0Z" fill="black"/>\n    <path d="M46.0162 1.06662L46.521 1.06759C46.6577 1.06855 46.7945 1.07003 46.932 1.07378C47.1711 1.08024 47.4509 1.09319 47.7117 1.13994C47.9384 1.18077 48.1285 1.24286 48.311 1.33575C48.4911 1.42728 48.6562 1.54723 48.8003 1.69113C48.9449 1.83599 49.065 2.0013 49.1578 2.18343C49.2501 2.36447 49.3118 2.55369 49.3524 2.78205C49.3991 3.04001 49.412 3.32055 49.4185 3.56121C49.4222 3.69704 49.424 3.83287 49.4247 3.97194C49.426 4.14012 49.4259 4.3082 49.4259 4.47671V27.5236C49.4259 27.6921 49.426 27.8599 49.4246 28.0317C49.424 28.1675 49.4222 28.3033 49.4185 28.4394C49.4119 28.6797 49.3991 28.9601 49.3519 29.2211C49.3118 29.4463 49.2502 29.6356 49.1573 29.8175C49.0648 29.9992 48.9449 30.1643 48.8009 30.3083C48.656 30.4532 48.4915 30.5728 48.3092 30.6652C48.1281 30.7576 47.9383 30.8197 47.7138 30.8601C47.4477 30.9075 47.1562 30.9205 46.9367 30.9265C46.7986 30.9296 46.6611 30.9315 46.5203 30.9321C46.3525 30.9334 46.1841 30.9334 46.0162 30.9334H4.98386C4.98162 30.9334 4.97945 30.9334 4.97718 30.9334C4.81127 30.9334 4.64503 30.9334 4.4761 30.9321C4.33836 30.9315 4.20093 30.9296 4.06805 30.9266C3.8435 30.9205 3.55181 30.9075 3.2879 30.8604C3.06151 30.8197 2.87171 30.7576 2.68822 30.664C2.50766 30.5724 2.34329 30.453 2.19831 30.3077C2.05444 30.1641 1.93488 29.9995 1.84245 29.8176C1.74992 29.6358 1.68801 29.446 1.64731 29.218C1.60025 28.9576 1.58733 28.6783 1.58087 28.4396C1.57718 28.303 1.57564 28.1664 1.57476 28.0305L1.5741 27.6295L1.57413 27.5236V4.47671L1.5741 4.37083L1.57473 3.97067C1.57564 3.83402 1.57718 3.6974 1.58087 3.56088C1.58733 3.32197 1.60025 3.04258 1.64769 2.77991C1.68804 2.55405 1.74992 2.36422 1.84293 2.18155C1.93464 2.001 2.05441 1.83617 2.19903 1.69158C2.34308 1.54747 2.50799 1.42767 2.6897 1.33527C2.87122 1.24283 3.06138 1.18077 3.28778 1.14003C3.54864 1.09316 3.82861 1.08024 4.06839 1.07375C4.20507 1.07003 4.34174 1.06855 4.4774 1.06762L4.98386 1.06662H46.0162Z" fill="white"/>\n    <path d="M14.1531 10.7629C14.5811 10.2276 14.8715 9.50886 14.7949 8.77435C14.1684 8.80551 13.4038 9.18768 12.9612 9.72342C12.5638 10.1822 12.212 10.9311 12.3037 11.6348C13.007 11.6958 13.7097 11.2832 14.1531 10.7629Z" fill="black"/>\n    <path d="M14.7869 11.7722C13.7655 11.7114 12.8972 12.3519 12.4094 12.3519C11.9214 12.3519 11.1745 11.8029 10.3667 11.8177C9.31521 11.8331 8.33959 12.4276 7.80602 13.3731C6.70857 15.2646 7.51641 18.0704 8.58362 19.611C9.10188 20.3731 9.72648 21.2123 10.5495 21.1822C11.3271 21.1517 11.6319 20.6787 12.5771 20.6787C13.5216 20.6787 13.7961 21.1822 14.6192 21.1669C15.4729 21.1516 16.0065 20.4044 16.5248 19.6415C17.1193 18.7727 17.3627 17.9338 17.378 17.8877C17.3627 17.8725 15.732 17.2469 15.7169 15.3711C15.7015 13.8004 16.9972 13.0534 17.0581 13.007C16.3265 11.9249 15.1832 11.8029 14.7869 11.7722Z" fill="black"/>\n    <path d="M23.68 9.64661C25.8999 9.64661 27.4457 11.1768 27.4457 13.4046C27.4457 15.6404 25.8681 17.1786 23.6244 17.1786H21.1665V21.0872H19.3907V9.64661H23.68V9.64661ZM21.1665 15.688H23.2041C24.7502 15.688 25.6302 14.8556 25.6302 13.4126C25.6302 11.9697 24.7502 11.1451 23.2121 11.1451H21.1665V15.688Z" fill="black"/>\n    <path d="M27.9097 18.7167C27.9097 17.2578 29.0276 16.3619 31.0098 16.2509L33.293 16.1162V15.474C33.293 14.5464 32.6666 13.9914 31.6203 13.9914C30.629 13.9914 30.0106 14.467 29.8601 15.2124H28.2428C28.3379 13.7059 29.6222 12.5959 31.6836 12.5959C33.7053 12.5959 34.9976 13.6663 34.9976 15.3392V21.0872H33.3563V19.7156H33.3169C32.8333 20.6433 31.7787 21.2299 30.6847 21.2299C29.0514 21.2299 27.9097 20.2151 27.9097 18.7167ZM33.293 17.9635V17.3055L31.2395 17.4323C30.2167 17.5037 29.6381 17.9556 29.6381 18.6691C29.6381 19.3985 30.2406 19.8742 31.1603 19.8742C32.3574 19.8742 33.293 19.0496 33.293 17.9635Z" fill="black"/>\n    <path d="M36.547 24.1556V22.768C36.6736 22.7997 36.959 22.7997 37.1018 22.7997C37.8946 22.7997 38.3228 22.4668 38.5843 21.6105C38.5843 21.5946 38.7351 21.1031 38.7351 21.0952L35.7224 12.7466H37.5774L39.6866 19.5333H39.7181L41.8273 12.7466H43.6349L40.5109 21.5232C39.7976 23.5451 38.973 24.1952 37.2447 24.1952C37.1018 24.1952 36.6736 24.1793 36.547 24.1556Z" fill="black"/>\n    </g>\n    <defs>\n    <clipPath id="clip0">\n    <rect width="49.9851" height="32" fill="white" transform="translate(0.507462)"/>\n    </clipPath>\n    </defs>\n  </svg>\n';var p=document.createElement("p");p.innerHTML="Pay with Apple Pay to complete your purchase without filling a form",u.appendChild(p);var f=document.createElement("div");f.id="payment-request-button",u.appendChild(f);var m=document.createElement("button");m.id="paystackpop-button",m.innerText="More payment options",u.appendChild(m),u.innerHTML=u.innerHTML+w+'\n<svg id="inline-button-wordmark--grey" width="166" height="16" viewBox="0 0 166 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path\n  d="M0.564068 6.26985L1.86515 6.10375C1.85184 5.15143 1.83489 3.71187 1.84942 3.45964C1.95955 1.67927 3.39982 0.16589 5.13056 0.0170127C5.23949 0.00839996 5.34842 0.0034784 5.45371 0.00101762C6.36645 -0.0209585 7.25272 0.313716 7.93 0.936113C8.62472 1.56238 9.07979 2.4864 9.14999 3.4055C9.16815 3.64174 9.1621 5.24002 9.1621 6.18249L10.4886 6.38305L10.4438 14.0767L5.47308 14.7657L0.519287 13.961L0.564068 6.26985ZM5.53359 5.63743L7.62016 5.95241C7.61169 4.80446 7.55965 3.12867 7.30548 2.68696C6.91939 2.0164 6.28156 1.62021 5.55901 1.60421H5.48276C4.7481 1.61406 4.10543 2.0004 3.71813 2.66727C3.44944 3.13236 3.39619 4.70972 3.3974 5.91181L5.53359 5.63743ZM22.5808 12.4378C21.8836 12.4378 21.293 12.3492 20.8089 12.172C20.372 12.0088 19.9719 11.7577 19.6325 11.4338C19.3256 11.1331 19.0833 10.7712 18.9208 10.3707C18.7637 9.95815 18.6612 9.52621 18.6158 9.08621H19.8358C19.8745 9.40119 19.9423 9.70141 20.0391 9.98686C20.136 10.2625 20.286 10.5085 20.4894 10.7251C20.6927 10.9318 20.959 11.0991 21.2882 11.2271C21.6271 11.3452 22.0579 11.4043 22.5808 11.4043C22.9197 11.4043 23.2295 11.36 23.5103 11.2714C23.8008 11.173 24.0525 11.0351 24.2655 10.858C24.4785 10.6808 24.6431 10.4692 24.7593 10.2231C24.8852 9.97701 24.9481 9.70633 24.9481 9.41103C24.9481 9.11574 24.9094 8.85982 24.8319 8.64327C24.7536 8.41559 24.6125 8.21568 24.4253 8.06745C24.196 7.88594 23.9347 7.75064 23.6555 7.6688C23.257 7.54201 22.849 7.4482 22.4355 7.38828C21.9393 7.31041 21.4491 7.19693 20.9686 7.04869C20.5808 6.92967 20.2133 6.75038 19.8794 6.51716C19.5939 6.29685 19.3607 6.01432 19.1968 5.69034C19.0418 5.35567 18.9644 4.9521 18.9644 4.47963C18.9644 4.07607 19.0467 3.70203 19.2113 3.35752C19.3759 3.00317 19.6034 2.69803 19.8939 2.44211C20.194 2.18619 20.5475 1.98441 20.9541 1.83676C21.3608 1.68911 21.811 1.61529 22.3048 1.61529C23.3505 1.61529 24.1784 1.86629 24.7884 2.36829C25.4081 2.86044 25.7711 3.57899 25.8777 4.52393H24.7448C24.6189 3.8546 24.3624 3.37721 23.9751 3.09176C23.5878 2.79646 23.031 2.64882 22.3048 2.64882C21.5883 2.64882 21.0461 2.81123 20.6782 3.13605C20.5037 3.28606 20.3648 3.47417 20.2717 3.68635C20.1787 3.89853 20.1339 4.12931 20.1408 4.36152C20.1408 4.61744 20.1698 4.84875 20.2279 5.05546C20.2957 5.25232 20.4167 5.42457 20.591 5.57222C20.775 5.71987 21.0267 5.85275 21.3463 5.97087C21.7689 6.09987 22.2012 6.19369 22.6389 6.25139C23.2198 6.33998 23.7281 6.4581 24.1639 6.60575C24.5996 6.75339 24.9675 6.94533 25.2677 7.18157C25.5678 7.4178 25.7905 7.70818 25.9358 8.05268C26.0907 8.39719 26.1681 8.82045 26.1681 9.32245C26.1681 9.76539 26.0761 10.1788 25.8922 10.5627C25.7149 10.9408 25.4627 11.2775 25.1515 11.5519C24.8319 11.8275 24.4495 12.0441 24.0041 12.2016C23.5684 12.359 23.094 12.4378 22.5808 12.4378ZM31.2066 12.4378C30.6741 12.4378 30.1803 12.3443 29.7252 12.1573C29.2906 11.9775 28.8956 11.7115 28.5633 11.3747C28.2268 11.0185 27.965 10.5966 27.7936 10.1345C27.6136 9.61796 27.5251 9.07309 27.5321 8.52515V8.40704C27.5321 7.82629 27.6193 7.29476 27.7936 6.81245C27.9679 6.3203 28.2099 5.90196 28.5198 5.55746C28.8393 5.2031 29.2169 4.93242 29.6526 4.7454C30.0883 4.54854 30.5676 4.45011 31.0905 4.45011C31.5262 4.45011 31.9473 4.52393 32.354 4.67158C32.7704 4.80938 33.1383 5.03085 33.4578 5.33599C33.7773 5.64112 34.0291 6.03977 34.213 6.53192C34.4067 7.01424 34.5035 7.5999 34.5035 8.28892V8.68756H28.7812C28.8102 9.57345 29.0281 10.2526 29.4348 10.7251C29.8414 11.1877 30.4369 11.419 31.2212 11.419C32.4121 11.419 33.085 10.9712 33.24 10.0754H34.4454C34.3099 10.8531 33.9516 11.4436 33.3707 11.8472C32.7897 12.2409 32.0684 12.4378 31.2066 12.4378ZM33.269 7.69833C33.2109 6.90104 32.9882 6.33014 32.6009 5.98563C32.2233 5.64112 31.7198 5.46887 31.0905 5.46887C30.4708 5.46887 29.9624 5.67065 29.5655 6.07422C29.1782 6.46794 28.9313 7.00932 28.8248 7.69833H33.269ZM39.3593 12.4378C38.8267 12.4378 38.3329 12.3492 37.8779 12.172C37.4401 11.9901 37.0407 11.7245 36.7014 11.3895C36.3636 11.0315 36.0973 10.6103 35.9172 10.1493C35.7268 9.63002 35.6332 9.07925 35.6412 8.52515V8.40704C35.6412 7.81645 35.738 7.28 35.9317 6.79769C36.1253 6.30553 36.3868 5.8872 36.716 5.54269C37.0548 5.19818 37.447 4.93242 37.8924 4.7454C38.3475 4.54854 38.8267 4.45011 39.3302 4.45011C39.7272 4.45011 40.1097 4.49932 40.4776 4.59775C40.8552 4.69618 41.1893 4.85367 41.4797 5.07022C41.7799 5.27693 42.0316 5.55253 42.235 5.89704C42.4383 6.24155 42.569 6.65988 42.6271 7.15204H41.4362C41.3393 6.54177 41.0924 6.10867 40.6955 5.85275C40.3082 5.59683 39.8531 5.46887 39.3302 5.46887C38.995 5.46599 38.6632 5.53649 38.3571 5.67557C38.0667 5.81338 37.8101 6.01024 37.5874 6.26616C37.3615 6.53514 37.1889 6.84598 37.0791 7.18157C36.9484 7.57626 36.8845 7.99063 36.8902 8.40704V8.52515C36.8902 9.47994 37.1178 10.2034 37.5729 10.6956C38.0376 11.1779 38.6379 11.419 39.3738 11.419C39.6449 11.419 39.9015 11.3797 40.1436 11.3009C40.6361 11.1497 41.0523 10.8113 41.3055 10.356C41.441 10.1197 41.5233 9.84413 41.5524 9.52915H42.6707C42.6338 9.9361 42.5204 10.3321 42.3366 10.6956C42.1663 11.0447 41.9293 11.3559 41.6395 11.611C41.349 11.8669 41.0101 12.0687 40.6228 12.2163C40.2355 12.364 39.8144 12.4378 39.3593 12.4378ZM46.9164 12.4378C46.5568 12.4406 46.199 12.3858 45.8562 12.2754C45.5441 12.1717 45.2605 11.9947 45.0284 11.7586C44.7829 11.4908 44.595 11.1741 44.4765 10.8284C44.3409 10.4544 44.2731 10.0016 44.2731 9.47009V4.58299H45.4786V9.41103C45.4786 10.0902 45.619 10.5873 45.8998 10.9023C46.1903 11.2172 46.6356 11.3747 47.236 11.3747C47.5071 11.3747 47.7685 11.3304 48.0202 11.2419C48.272 11.1533 48.4947 11.0204 48.6883 10.8432C48.882 10.666 49.0369 10.4446 49.1531 10.1788C49.2693 9.91303 49.3274 9.6079 49.3274 9.26339V4.58299H50.5328V12.3049H49.3274V11.0794C49.1531 11.4436 48.8578 11.7635 48.4414 12.0391C48.0348 12.3049 47.5264 12.4378 46.9164 12.4378ZM52.8239 4.58299H54.0294V5.97087C54.2715 5.53777 54.5765 5.18342 54.9444 4.90781C55.322 4.62236 55.8497 4.46979 56.5275 4.45011V5.60175C56.1799 5.61707 55.8346 5.66652 55.4963 5.7494C55.2039 5.81939 54.9308 5.95567 54.6975 6.14804C54.4729 6.35252 54.303 6.6116 54.2037 6.90104C54.0875 7.20618 54.0294 7.59498 54.0294 8.06745V12.3049H52.8239V4.58299ZM61.0347 12.4378C60.5021 12.4378 60.0083 12.3443 59.5533 12.1573C59.1186 11.9775 58.7236 11.7115 58.3914 11.3747C58.0549 11.0185 57.793 10.5966 57.6216 10.1345C57.4416 9.61796 57.3531 9.07309 57.3602 8.52515V8.40704C57.3602 7.82629 57.4473 7.29476 57.6216 6.81245C57.7959 6.3203 58.038 5.90196 58.3478 5.55746C58.6673 5.2031 59.0449 4.93242 59.4806 4.7454C59.9164 4.54854 60.3956 4.45011 60.9185 4.45011C61.3542 4.45011 61.7754 4.52393 62.1821 4.67158C62.5984 4.80938 62.9663 5.03085 63.2859 5.33599C63.6054 5.64112 63.8571 6.03977 64.0411 6.53192C64.2347 7.01424 64.3316 7.5999 64.3316 8.28892V8.68756H58.6092C58.6383 9.57345 58.8561 10.2526 59.2628 10.7251C59.6695 11.1877 60.2649 11.419 61.0492 11.419C62.2401 11.419 62.9131 10.9712 63.068 10.0754H64.2735C64.1379 10.8531 63.7797 11.4436 63.1987 11.8472C62.6178 12.2409 61.8964 12.4378 61.0347 12.4378ZM63.097 7.69833C63.0389 6.90104 62.8162 6.33014 62.429 5.98563C62.0513 5.64112 61.5478 5.46887 60.9185 5.46887C60.2988 5.46887 59.7905 5.67065 59.3935 6.07422C59.0062 6.46794 58.7593 7.00932 58.6528 7.69833H63.097ZM68.8968 12.4378C68.403 12.4378 67.9431 12.3541 67.5171 12.1868C67.1072 12.0141 66.7365 11.7578 66.4278 11.4338C66.1165 11.0803 65.8749 10.6693 65.7161 10.2231C65.5451 9.69956 65.4617 9.15057 65.4692 8.59898V8.48086C65.4692 7.89027 65.5564 7.3489 65.7307 6.85675C65.905 6.36459 66.147 5.94134 66.4569 5.58698C66.7667 5.22279 67.1395 4.94226 67.5752 4.7454C68.0109 4.54854 68.4902 4.45011 69.013 4.45011C69.6521 4.45011 70.1701 4.58791 70.5671 4.86352C70.964 5.12928 71.2739 5.44918 71.4966 5.82322V0.891819H72.702V12.3049H71.4966V10.9761C71.3901 11.1631 71.2448 11.3452 71.0609 11.5224C70.8713 11.7038 70.6617 11.8623 70.4363 11.9949C70.2066 12.1258 69.963 12.2298 69.7102 12.3049C69.4487 12.3935 69.1776 12.4378 68.8968 12.4378ZM69.0275 11.419C69.3761 11.419 69.7053 11.36 70.0152 11.2419C70.325 11.1237 70.5913 10.9466 70.814 10.7103C71.0367 10.4642 71.2109 10.1591 71.3368 9.79492C71.4724 9.42088 71.5401 8.98778 71.5401 8.49562V8.37751C71.5401 7.38335 71.3223 6.65004 70.8866 6.17757C70.4606 5.7051 69.8748 5.46887 69.1292 5.46887C68.374 5.46887 67.7834 5.72479 67.3573 6.23663C66.9313 6.74847 66.7183 7.47686 66.7183 8.4218V8.53992C66.7183 9.02223 66.7764 9.44549 66.8926 9.80968C67.0184 10.1739 67.183 10.4741 67.3864 10.7103C67.5994 10.9466 67.8463 11.1237 68.1271 11.2419C68.4079 11.36 68.708 11.419 69.0275 11.419ZM82.4716 12.4378C81.852 12.4378 81.3243 12.3 80.8886 12.0244C80.485 11.7813 80.146 11.4417 79.901 11.0351V12.3049H78.6955V0.891819H79.901V5.88228C80.0153 5.68531 80.1572 5.50626 80.3221 5.35075C80.5061 5.17357 80.7094 5.02101 80.9321 4.89305C81.1645 4.75524 81.4114 4.64697 81.6729 4.56822C81.9343 4.48948 82.2005 4.45011 82.4716 4.45011C82.9655 4.45011 83.4254 4.53869 83.8514 4.71587C84.2774 4.89305 84.6405 5.14897 84.9407 5.48363C85.2505 5.8183 85.4926 6.22679 85.6669 6.7091C85.8411 7.19141 85.9283 7.73278 85.9283 8.33321V8.45133C85.9283 9.04192 85.846 9.58329 85.6814 10.0754C85.5295 10.535 85.2929 10.9609 84.9843 11.3304C84.6852 11.6839 84.3133 11.9662 83.895 12.1573C83.4445 12.3492 82.96 12.4447 82.4716 12.4378ZM82.3555 11.419C83.1107 11.419 83.6868 11.173 84.0838 10.6808C84.4808 10.1788 84.6793 9.45533 84.6793 8.51039V8.39227C84.6793 7.90012 84.6163 7.47194 84.4904 7.10775C84.3829 6.77559 84.2099 6.46915 83.9821 6.2071C83.7841 5.96487 83.5294 5.77704 83.2414 5.66081C82.9581 5.53232 82.6511 5.46687 82.3409 5.46887C81.9924 5.46887 81.6632 5.52793 81.3533 5.64604C81.0537 5.7638 80.7852 5.95084 80.569 6.19234C80.3464 6.42857 80.1721 6.73371 80.0462 7.10775C79.9127 7.52209 79.8488 7.95635 79.8574 8.39227V8.51039C79.8574 9.4947 80.0898 10.228 80.5545 10.7103C81.0193 11.1828 81.6196 11.419 82.3555 11.419ZM89.6342 11.5076L86.6569 4.58299H87.9495L90.2733 10.1197L92.3792 4.58299H93.6137L89.4164 14.9921H88.1964L89.6342 11.5076ZM105.97 4.51532C105.618 4.13844 105.195 3.83755 104.727 3.63067C104.257 3.42601 103.751 3.32132 103.241 3.32307C102.698 3.32307 102.214 3.42888 101.804 3.64297C101.501 3.7934 101.229 4.00091 101.003 4.25447V4.01947C101.003 3.93064 100.979 3.84347 100.933 3.76781C100.888 3.69214 100.822 3.631 100.744 3.59129C100.691 3.56626 100.633 3.55364 100.574 3.55438H98.9827C98.9241 3.55245 98.8658 3.56433 98.8125 3.58909C98.7592 3.61385 98.7122 3.65082 98.6753 3.69711C98.5956 3.78474 98.5523 3.90019 98.5542 4.01947V15.0561C98.5542 15.1791 98.5954 15.2874 98.6753 15.3735C98.715 15.4152 98.7629 15.4479 98.8158 15.4698C98.8688 15.4916 98.9256 15.502 98.9827 15.5002H100.606C100.661 15.5001 100.715 15.4889 100.766 15.4671C100.817 15.4453 100.863 15.4135 100.901 15.3735C100.945 15.3333 100.979 15.284 101.002 15.229C101.025 15.174 101.036 15.1146 101.034 15.0548V11.2898C101.25 11.5384 101.539 11.7291 101.884 11.8607C102.307 12.0256 102.755 12.1105 103.207 12.1105C103.727 12.1105 104.233 12.0096 104.71 11.8054C105.185 11.599 105.613 11.2958 105.969 10.9146C106.338 10.5135 106.628 10.0422 106.824 9.52669C107.044 8.94733 107.152 8.33033 107.143 7.70941C107.143 7.045 107.038 6.43349 106.824 5.89212C106.631 5.38011 106.341 4.91182 105.97 4.51409V4.51532ZM104.513 8.50178C104.424 8.73555 104.295 8.94718 104.131 9.12928C103.969 9.31219 103.77 9.45789 103.547 9.55674C103.325 9.65558 103.085 9.70531 102.842 9.70264C102.6 9.70387 102.358 9.65342 102.136 9.55499C101.911 9.4556 101.71 9.31074 101.542 9.12928C101.375 8.94704 101.244 8.73407 101.155 8.50178C101.062 8.25439 101.015 7.99155 101.016 7.72663C101.016 7.45102 101.064 7.19141 101.155 6.95026C101.332 6.48635 101.682 6.1122 102.128 5.90935C102.352 5.80353 102.595 5.7494 102.842 5.75063C103.103 5.75063 103.343 5.80476 103.56 5.91058C103.774 6.0127 103.969 6.15542 104.134 6.33014C104.476 6.71058 104.661 7.21105 104.648 7.72663C104.648 8.00347 104.603 8.26308 104.513 8.50178ZM115.859 3.55684H114.249C114.193 3.55751 114.138 3.56987 114.087 3.59315C114.036 3.61643 113.99 3.65013 113.952 3.69219C113.868 3.78 113.821 3.8973 113.821 4.01947V4.22371C113.62 3.9808 113.372 3.78302 113.092 3.64297C112.654 3.42397 112.17 3.31511 111.681 3.32553C111.166 3.32821 110.657 3.43439 110.183 3.63795C109.708 3.84151 109.278 4.13843 108.917 4.51162C108.537 4.91069 108.236 5.37962 108.029 5.89335C107.801 6.47081 107.687 7.08847 107.696 7.71064C107.696 8.37505 107.807 8.98655 108.029 9.52792C108.251 10.0619 108.545 10.5331 108.91 10.9158C109.265 11.2945 109.693 11.5958 110.167 11.8016C110.641 12.0074 111.15 12.1133 111.665 12.113C112.194 12.113 112.675 12.0047 113.085 11.7943C113.388 11.6343 113.637 11.4412 113.821 11.2148V11.4326C113.82 11.4923 113.831 11.5516 113.854 11.6066C113.877 11.6615 113.911 11.7109 113.954 11.7512C113.993 11.7915 114.038 11.8236 114.089 11.8456C114.14 11.8676 114.194 11.879 114.249 11.8792H115.859C115.916 11.8812 115.972 11.8706 116.024 11.8483C116.077 11.826 116.124 11.7925 116.162 11.75C116.203 11.7085 116.235 11.6589 116.256 11.6043C116.277 11.5497 116.287 11.4912 116.285 11.4326V4.0207C116.287 3.90142 116.244 3.78597 116.164 3.69834C116.127 3.65337 116.08 3.61736 116.027 3.5929C115.975 3.56844 115.917 3.55613 115.859 3.55684ZM113.685 8.4907C113.601 8.72324 113.473 8.9368 113.308 9.11943C113.143 9.29538 112.95 9.43933 112.735 9.54269C112.52 9.64727 112.275 9.70141 112.014 9.70141C111.764 9.70141 111.521 9.64727 111.3 9.54146C111.079 9.4398 110.881 9.29437 110.717 9.11372C110.552 8.93306 110.425 8.72082 110.343 8.48947C110.253 8.24551 110.207 7.98712 110.207 7.72663C110.207 7.44979 110.253 7.19018 110.343 6.94903C110.433 6.71156 110.562 6.50116 110.723 6.32891C110.888 6.15296 111.086 6.00901 111.301 5.90812C111.521 5.80353 111.764 5.7494 112.015 5.7494C112.275 5.7494 112.52 5.80353 112.735 5.90935C112.951 6.01393 113.144 6.15542 113.308 6.32891C113.65 6.70961 113.834 7.21001 113.821 7.7254C113.821 7.98993 113.776 8.24709 113.685 8.4907ZM131.919 7.49901C131.685 7.28955 131.417 7.12228 131.127 7.00439C130.828 6.88012 130.511 6.78169 130.177 6.71525L128.95 6.46425C128.635 6.40273 128.416 6.3203 128.293 6.21448C128.242 6.17732 128.201 6.12853 128.172 6.07209C128.144 6.01565 128.128 5.95315 128.128 5.88966C128.128 5.75432 128.204 5.64358 128.357 5.54269C128.523 5.43688 128.755 5.38274 129.042 5.38274C129.357 5.38274 129.669 5.44795 129.958 5.57591C130.252 5.70633 130.528 5.85398 130.769 6.01885C131.126 6.24893 131.43 6.21817 131.649 5.95364L132.238 5.25232C132.351 5.13393 132.416 4.97752 132.422 4.81307C132.422 4.65558 132.345 4.51162 132.198 4.3812C131.948 4.15481 131.553 3.91612 131.023 3.68234C130.494 3.44611 129.829 3.32553 129.042 3.32553C128.525 3.32553 128.049 3.39689 127.628 3.53716C127.205 3.67988 126.842 3.87674 126.547 4.12036C126.251 4.37136 126.017 4.66173 125.858 4.99763C125.699 5.33341 125.617 5.70154 125.618 6.07422C125.618 6.76324 125.82 7.32552 126.218 7.74509C126.615 8.15481 127.145 8.43411 127.796 8.56945L129.072 8.8549C129.435 8.93118 129.711 9.01731 129.889 9.11328C130.045 9.19572 130.119 9.31383 130.119 9.47871C130.119 9.62635 130.045 9.758 129.892 9.87735C129.731 10.0053 129.478 10.0681 129.139 10.0681C128.79 10.0717 128.445 9.99161 128.133 9.83429C127.836 9.68469 127.56 9.49515 127.312 9.27077C127.202 9.17922 127.076 9.1084 126.941 9.0616C126.788 9.01608 126.616 9.0653 126.419 9.22155L125.714 9.78876C125.509 9.96717 125.423 10.1825 125.461 10.431C125.496 10.6697 125.691 10.9158 126.055 11.1939C126.38 11.4313 126.798 11.6467 127.3 11.8312C127.803 12.017 128.391 12.113 129.059 12.113C129.596 12.113 130.092 12.0416 130.529 11.9013C130.967 11.7549 131.354 11.5593 131.668 11.3108C131.98 11.0724 132.231 10.7631 132.404 10.4077C132.576 10.0523 132.663 9.66076 132.659 9.26462C132.659 8.87212 132.595 8.52638 132.46 8.23601C132.331 7.95492 132.147 7.70366 131.919 7.49778V7.49901ZM138.958 9.51193C138.923 9.445 138.872 9.3882 138.809 9.34687C138.747 9.30555 138.675 9.28105 138.601 9.27569C138.451 9.27322 138.305 9.3222 138.186 9.41473C138.071 9.49101 137.946 9.55007 137.815 9.58821C137.649 9.64412 137.47 9.64967 137.3 9.60421C137.219 9.58443 137.144 9.54519 137.081 9.48978C137.005 9.42056 136.946 9.33472 136.908 9.23878C136.855 9.09669 136.83 8.94521 136.836 8.79338V5.76662H138.931C139.051 5.76662 139.159 5.71741 139.253 5.62267C139.295 5.58108 139.329 5.5314 139.352 5.4765C139.376 5.42159 139.388 5.36254 139.389 5.30276V4.02193C139.389 3.96024 139.377 3.89918 139.353 3.84249C139.329 3.78579 139.294 3.73465 139.25 3.69219C139.165 3.60724 139.05 3.55916 138.931 3.55807H136.835V1.49717C136.838 1.43555 136.827 1.37406 136.805 1.31679C136.782 1.25952 136.748 1.20777 136.704 1.16497C136.627 1.08454 136.521 1.03854 136.41 1.03701H134.784C134.695 1.03555 134.609 1.06135 134.535 1.11101C134.462 1.16066 134.405 1.23182 134.372 1.31507C134.349 1.37287 134.338 1.43484 134.339 1.49717V3.55684H133.411C133.353 3.55549 133.294 3.5675 133.241 3.59199C133.188 3.61647 133.14 3.65281 133.102 3.69834C133.025 3.78687 132.982 3.90193 132.984 4.0207V5.304C132.985 5.39177 133.01 5.47753 133.055 5.55238C133.1 5.62724 133.164 5.68846 133.24 5.72971C133.294 5.75555 133.352 5.76908 133.41 5.76662H134.339V9.36551C134.339 9.84536 134.423 10.2588 134.581 10.5996C134.741 10.9367 134.951 11.2197 135.204 11.4313C135.466 11.6503 135.766 11.8128 136.088 11.9087C136.415 12.0121 136.755 12.0638 137.096 12.0638C137.562 12.0638 138.004 11.9887 138.421 11.8423C138.817 11.7053 139.175 11.4722 139.463 11.1631C139.647 10.9404 139.668 10.6943 139.518 10.4483L138.958 9.51316V9.51193ZM147.78 3.55684H146.171C146.116 3.55785 146.061 3.57036 146.01 3.59363C145.959 3.6169 145.914 3.65043 145.876 3.69219C145.835 3.73558 145.802 3.78651 145.779 3.84229C145.758 3.89876 145.746 3.95885 145.747 4.01947V4.22371C145.544 3.98167 145.295 3.78409 145.014 3.64297C144.609 3.43011 144.136 3.32553 143.601 3.32553C143.092 3.32553 142.591 3.42765 142.117 3.6319C141.638 3.83631 141.204 4.13534 140.84 4.51162C140.46 4.9102 140.158 5.37925 139.952 5.89335C139.722 6.47038 139.608 7.08828 139.618 7.71064C139.618 8.37505 139.729 8.98655 139.95 9.52792C140.173 10.0619 140.468 10.5331 140.833 10.9158C141.188 11.2943 141.614 11.5956 142.087 11.8014C142.56 12.0072 143.069 12.1132 143.584 12.113C144.076 12.1217 144.563 12.0125 145.006 11.7943C145.314 11.6343 145.559 11.4412 145.747 11.2148V11.4326C145.745 11.4921 145.756 11.5513 145.778 11.6062C145.801 11.6612 145.834 11.7106 145.877 11.7512C145.916 11.7913 145.961 11.8232 146.012 11.8452C146.062 11.8671 146.116 11.8787 146.171 11.8792H147.78C147.837 11.8806 147.893 11.8699 147.946 11.8476C147.998 11.8254 148.046 11.7921 148.085 11.75C148.166 11.6649 148.21 11.5508 148.208 11.4326V4.0207C148.21 3.90149 148.167 3.78617 148.087 3.69834C148.049 3.65272 148.002 3.61618 147.948 3.59129C147.895 3.56679 147.838 3.555 147.78 3.55684ZM145.606 8.4907C145.437 8.95456 145.095 9.33232 144.655 9.54269C144.43 9.64997 144.184 9.70423 143.936 9.70141C143.685 9.70141 143.446 9.64727 143.224 9.54146C143.004 9.43906 142.806 9.2934 142.642 9.11285C142.477 8.9323 142.349 8.72044 142.266 8.48947C142.175 8.24565 142.129 7.98721 142.129 7.72663C142.129 7.44979 142.174 7.19018 142.264 6.94903C142.353 6.71894 142.481 6.50855 142.645 6.32891C142.812 6.15296 143.008 6.00901 143.224 5.90812C143.447 5.8023 143.69 5.74817 143.936 5.7494C144.199 5.7494 144.438 5.80353 144.655 5.90935C144.874 6.01393 145.066 6.15542 145.226 6.32891C145.388 6.50486 145.517 6.71402 145.606 6.94903C145.796 7.44486 145.796 7.99486 145.606 8.4907ZM156.622 9.40119L155.699 8.67157C155.522 8.52638 155.355 8.48701 155.21 8.54853C155.079 8.60436 154.964 8.69079 154.872 8.80076C154.673 9.05649 154.434 9.27863 154.167 9.45902C153.934 9.60913 153.629 9.68418 153.269 9.68418C153.004 9.68418 152.76 9.63496 152.542 9.53407C152.327 9.43495 152.134 9.2917 151.975 9.11328C151.812 8.93013 151.686 8.71715 151.602 8.48578C151.515 8.24262 151.471 7.98546 151.474 7.72663C151.474 7.4461 151.515 7.18772 151.602 6.94903C151.687 6.71279 151.811 6.50239 151.975 6.33014C152.138 6.15296 152.332 6.01024 152.546 5.90935C152.772 5.80107 153.019 5.74694 153.269 5.7494C153.629 5.7494 153.931 5.82814 154.167 5.97948C154.406 6.13451 154.646 6.35598 154.873 6.63651C154.968 6.7497 155.079 6.83337 155.21 6.88997C155.358 6.94903 155.523 6.90965 155.695 6.7657L156.618 6.03485C156.732 5.95424 156.817 5.83809 156.861 5.70387C156.886 5.63045 156.896 5.55227 156.889 5.47473C156.882 5.39719 156.858 5.32214 156.82 5.25478C156.464 4.67928 155.973 4.20275 155.391 3.86813C154.781 3.51009 154.05 3.32553 153.232 3.32553C152.668 3.32238 152.109 3.43311 151.588 3.65129C151.066 3.86947 150.593 4.19076 150.194 4.59652C149.805 4.99271 149.497 5.4701 149.29 5.99547C149.07 6.54494 148.957 7.13314 148.96 7.72663C148.96 8.33567 149.072 8.91765 149.29 9.45164C149.5 9.97332 149.807 10.4458 150.194 10.8395C150.593 11.2451 151.067 11.5663 151.588 11.7846C152.11 12.003 152.668 12.1142 153.232 12.1117C154.05 12.1117 154.781 11.9284 155.391 11.5654C155.976 11.232 156.468 10.7537 156.822 10.1751C156.86 10.1101 156.882 10.0374 156.889 9.96225C156.896 9.88643 156.886 9.80992 156.861 9.73832C156.813 9.60626 156.731 9.49007 156.622 9.40242V9.40119ZM165.194 11.1299L162.647 7.26277L164.827 4.29138C164.941 4.12036 164.971 3.95672 164.918 3.80292C164.88 3.69219 164.777 3.55684 164.514 3.55684H162.789C162.69 3.55775 162.593 3.58219 162.506 3.62821C162.398 3.68359 162.309 3.77173 162.253 3.88043L160.511 6.39904H160.089V0.447649C160.091 0.329229 160.048 0.214475 159.969 0.127748C159.929 0.0869473 159.881 0.0547186 159.828 0.0329554C159.776 0.0111921 159.719 0.000333517 159.663 0.00101762H158.051C157.964 0.00131009 157.88 0.0270233 157.807 0.0750545C157.735 0.123086 157.678 0.191382 157.643 0.271703C157.62 0.327334 157.608 0.387308 157.61 0.447649V11.4313C157.61 11.5581 157.656 11.6688 157.743 11.75C157.783 11.7911 157.831 11.8236 157.884 11.8456C157.937 11.8676 157.993 11.8786 158.051 11.878H159.664C159.721 11.8798 159.777 11.8692 159.83 11.8469C159.882 11.8246 159.929 11.7912 159.968 11.7488C160.007 11.7068 160.038 11.657 160.058 11.6024C160.08 11.5477 160.09 11.489 160.087 11.4301V8.52392H160.555L162.456 11.5335C162.592 11.7635 162.779 11.8792 163.013 11.8792H164.817C165.091 11.8792 165.205 11.7439 165.251 11.6307C165.316 11.4707 165.297 11.3083 165.194 11.1311V11.1299ZM125.015 3.55684H123.213C123.146 3.55424 123.079 3.56628 123.017 3.59218C122.954 3.61807 122.898 3.6572 122.852 3.70695C122.774 3.79331 122.72 3.89895 122.695 4.01332L121.365 9.14035H121.041L119.61 4.01332C119.586 3.90347 119.539 3.79998 119.473 3.70941C119.435 3.66072 119.386 3.62162 119.331 3.59516C119.276 3.5687 119.215 3.55559 119.154 3.55684H117.285C117.044 3.55684 116.892 3.63805 116.835 3.79431C116.786 3.94184 116.785 4.10149 116.832 4.24955L119.116 11.4658C119.152 11.5802 119.213 11.675 119.292 11.7512C119.337 11.7944 119.391 11.828 119.449 11.8499C119.507 11.8719 119.57 11.8818 119.632 11.8792H120.598L120.518 12.113L120.288 12.786C120.225 12.9927 120.103 13.1754 119.937 13.3101C119.784 13.4312 119.595 13.4954 119.402 13.4922C119.234 13.4914 119.069 13.4536 118.918 13.3815C118.768 13.312 118.625 13.2257 118.494 13.1243C118.375 13.0381 118.234 12.9889 118.089 12.9829H118.069C117.912 12.9829 117.775 13.0739 117.665 13.2486L117.091 14.1197C116.858 14.4938 116.987 14.7399 117.139 14.8764C117.422 15.152 117.778 15.3673 118.198 15.5211C118.614 15.6749 119.073 15.75 119.56 15.75C120.386 15.75 121.076 15.5199 121.605 15.0548C122.131 14.5922 122.52 13.9635 122.757 13.1797L125.405 4.24955C125.465 4.05884 125.465 3.90012 125.411 3.77093C125.366 3.6725 125.26 3.55684 125.015 3.55684Z"\n  fill="#838383"\n/>\n</svg>\n',o.appendChild(u);var g=document.createElement("style");return g.textContent='\n  .pre-checkout-modal {\n    display: none;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    width: 100vw;\n    height: 100%;\n    overflow: auto;\n    background-color: rgba(0, 0, 0, 0.75);\n    transition: all 0.2s ease;\n  }\n\n  .pre-checkout-modal.show {\n    display: block;\n  }\n\n  .pre-checkout-modal__content {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: #fefefe;\n    padding: 30px 24px;\n    padding-bottom: max(30px, env(safe-area-inset-bottom));\n    width: 100%;\n    border-radius: 6px 6px 0 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    max-width: 450px;\n\n    box-sizing: border-box;\n    transform: translateY(238px);\n    transition: transform 0.3s cubic-bezier(.16,.81,.32,1);\n  }\n\n  .modal-wrapper {\n    padding: 0 16px;\n  }\n\n  .payment-info {\n    position: relative;\n    padding-bottom: 15px;\n    border-bottom: solid 1px whitesmoke;\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    width: 100%;\n  }\n\n  .customer-email {\n    color: #737373;\n    font-size: 13px;\n    line-height: 16px;\n  }\n\n  .customer-info {\n    flex: 1;\n    text-align: right;\n  }\n\n  .merchant-logo {\n    display: flex;\n    align-items: center;\n    height: 30px;\n  }\n  .transaction-amount {\n    margin-top: 5px;\n    font-size: 13px;\n    line-height: 16px;\n    color: #737373;\n  }\n\n  .amount {\n    color: #29b263;\n    font-weight: bold;\n  }\n\n  @media only screen and (min-width: 500px) {\n    .pre-checkout-modal__content {\n      bottom: 0;\n      top: 0;\n      margin: auto;\n      border-radius: 6px;\n      height: fit-content;\n    }\n  }\n\n  .pre-checkout-modal__content.show {\n    transform: translateY(0);\n    margin: 0 auto;\n    margin-top: 100px;\n  }\n\n  .pre-checkout-modal__content > * {\n    margin-top: 0;\n    margin-bottom: 40px;\n  }\n  .pre-checkout-modal__content > *:last-child {\n    margin-bottom: 0;\n  }\n\n  .pre-checkout-modal__content svg {\n    margin: auto;\n    width: 100%;\n  }\n\n  #inline-button-wordmark--white {\n    position: absolute;\n    bottom: -50px;\n    margin: auto;\n    right: 0;\n    width: fit-content;\n  }\n\n  #inline-button-wordmark--grey {\n    display: none;\n  }\n\n  .pre-checkout-modal__content #apple-pay-mark--light {\n    margin-bottom: 16px;\n  }\n\n  .pre-checkout-modal p {\n    -webkit-text-size-adjust: 100%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-rendering: optimizeLegibility;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",\n      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n    color: #4E4E4E;\n    line-height: 28px;\n    font-size: 14px;\n    font-weight: 500;\n    margin: 0;\n    padding: 0 20px;\n    text-align: center;\n    letter-spacing: -0.3px;\n  }\n\n  .pre-checkout-modal button {\n    height: 42px;\n    width: 100%;\n    background: linear-gradient(180deg, #40ad57 21.43%, #44b669 88.1%), #44b669;\n    border: 1px solid #49a861;\n    box-sizing: border-box;\n    box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.1);\n    border-radius: 5px;\n    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);\n    color: #ffffff;\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 14px;\n    cursor: pointer;\n\n    -webkit-text-size-adjust: 100%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-rendering: optimizeLegibility;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",\n      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n  }\n\n  #payment-request-button {\n    width: 100%;\n    height: fit-content;\n    margin: 24px 0 16px 0;\n  }\n\n  #paystackpop-button {\n    padding: 0 16px;\n  }\n\n  #apple-pay-close-button {\n    position: absolute;\n    text-align: center;\n    top: 0;\n    right: -26px;\n    height: 16px;\n    width: 16px;\n    padding: 0;\n    display: inline-block;\n    z-index: 3;\n    border-radius: 50%;\n    background: transparent;\n    transition: all 300ms;\n    outline: none;\n    cursor: pointer;\n    border: none;\n  }\n\n  #apple-pay-close-button svg {\n    width: initial;\n  }\n  \n  #apple-pay-close-button:hover {\n    background-color: #e22b28;\n  }\n\n   @media only screen and (max-width: 500px) {\n    .pre-checkout-modal__content {\n      max-width: 500px;\n      border-radius: 0;\n      padding-bottom: 0;\n    }\n\n    .modal-wrapper {\n      padding: 0;\n    }\n\n    #inline-button-wordmark--white {\n      display: none\n    }\n    \n    #inline-button-wordmark--grey {\n      display: block;\n      width: 100%;\n      margin: 16px 0;\n      height: 13px;\n    }\n\n    #apple-pay-close-button {\n      display: none;\n    }\n  }\n',document.body.appendChild(g),document.body.appendChild(n),n}(q.id,r),q.paymentRequestContainer=R(q.preCheckoutModal),D(q.paymentRequestContainer,{channels:r.channels,styles:{applePay:{width:"100%",type:"pay",height:"42px",padding:"15px",borderRadius:"5px"}}}).then((function(){var r;q.registerPreCheckoutModalEventListeners(),q.registerPaymentRequestEventListeners(),r=q.preCheckoutModal,new Promise((function(e,t){try{var n=r.querySelector(".pre-checkout-modal__content");r.classList.add("show"),setTimeout((function(){n.classList.add("show"),e(!0)}),50)}catch(e){t(e)}})),e(t)})).catch((function(){q.closePreCheckoutModal(),q.animateCheckoutIn(),e(t)}))):(q.newTransaction({inlineTransaction:t}),e(t))})).catch((function(e){t.onSetupError({status:!1,message:e.message}),r(e)}))}))}},{key:"registerPreCheckoutModalEventListeners",value:function(){var e,t=this,r=!1,n=this.activeTransaction();document.addEventListener("touchstart",(function(t){t.preventDefault(),r||(r=!0,e=setTimeout((function(){r=!1}),125))}),!0),document.addEventListener("touchend",(function(t){t.target&&t.target.isSameNode(q.preCheckoutModal)&&r&&(clearTimeout(e),q.closePreCheckoutModal(),n&&n.cancel()),r=!1}),!0),I(this.preCheckoutModal).onclick=function(){t.closePreCheckoutModal(),t.animateCheckoutIn()},this.preCheckoutModal.querySelector("#apple-pay-close-button").onclick=function(){t.sendAnalyticsEventToCheckout("trackCheckoutClosed"),t.closePreCheckoutModalAndCancelTransaction()}}},{key:"closePreCheckoutModal",value:function(){var e;this.preCheckoutModal&&((e=this.preCheckoutModal)&&(e.querySelector(".pre-checkout-modal__content").classList.remove("show"),e.classList.remove("show")),this.preCheckoutModal.remove(),this.preCheckoutModal=null)}},{key:"closePreCheckoutModalAndCancelTransaction",value:function(){this.preCheckoutModal&&(this.cancelTransaction(),this.checkoutIframe&&this.checkoutIframe.contentWindow&&this.checkoutIframe.contentWindow.postMessage("close","*"),this.closePreCheckoutModal())}},{key:"newTransaction",value:function(e){var t,r=e.preload,n=e.inlineTransaction,o=h(e,W),i=this.paymentRequestContainer&&M(this.paymentRequestContainer);this.activeTransaction()&&!i&&this.activeTransaction().cancel();var s=Z(this.transactions,n?n.parameters:o),a=s||n||new j(o);return s?(a.isActive=!0,t={accessCode:a.accessCode}):(t=a.accessCode?{accessCode:a.accessCode}:a.urlParameters,this.transactions.push(a)),this.isDeprecatedApi||this.open(t,r),a}},{key:"preloadTransaction",value:function(e){var t=this;return this.newTransaction(o(o({},e),{},{preload:!0})),function(){return t.animateCheckoutIn()}}},{key:"paymentRequest",value:function(e){var t=e.container,r=e.styles,n=e.onElementsMount,o=h(e,$);return q=this,new Promise((function(i,s){var a=document.querySelector("#".concat(e.loadPaystackCheckoutButton));if(A()){q.activeTransaction()&&q.activeTransaction().cancel(),t&&O(t)||X("A container is required to mount the payment request button"),q.paymentRequestContainer=O(t);var l=Z(q.transactions,o),c=l||new j(o);c.requestInline().then((function(e){D(q.paymentRequestContainer,{channels:e.channels,styles:r}).then((function(e){n&&n(e)})).catch((function(){n&&n(null)})).finally((function(){if(l?c.isActive=!0:q.transactions.push(c),q.registerPaymentRequestEventListeners(),a){var e=q.preloadTransaction({inlineTransaction:c});a.onclick=e}i(c)}))})).catch((function(e){c.onSetupError({status:!1,message:e.message}),s(e)}))}else{if(e&&e.loadPaystackCheckoutButton)if(a){var h=q.preloadTransaction(o);a.onclick=h}else G("This device does not support any payment request wallet options. Please consult our documentation at https://developers.paystack.co/docs/paystack-inline to see how to load alternative payment options using 'loadPaystackCheckoutButton'");n&&n(null);var d=q.activeTransaction();i(d)}}))}},{key:"registerApplePayEventListener",value:function(){var e=this;M(this.paymentRequestContainer).onclick=function(){return e.startApplePay()}}},{key:"registerPaymentRequestEventListeners",value:function(){var e=this.activeTransaction();e&&P(e.response.channels)?this.registerApplePayEventListener():function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(this.paymentRequestContainer)}},{key:"startApplePay",value:function(){var e,t,r,n=this,i="apple pay",s=this.activeTransaction();if(s){var a={channel:"apple_pay",paymentMethod:i,currency:s.currency,amount:s.amount},l={channel:"apple_pay",currency:s.currency,amount:s.amount,timeSpent:s.getTimeSpent()};try{s.logAttempt(i),this.sendAnalyticsEventToCheckout("trackPaymentAttempt",a);var c=(t=(e={currency:s.response.currency,amount:s.response.amount,merchantName:s.response.merchant_name,interval:s.response.plan_details&&s.response.plan_details.interval}).amount,r=e.interval,o({countryCode:"NG",currencyCode:e.currency,merchantCapabilities:["supports3DS","supportsCredit","supportsDebit"],supportedNetworks:["visa","masterCard"],requiredBillingContactFields:["postalAddress","name","phone","email"],total:{label:"".concat(e.merchantName," - Paystack"),type:"final",amount:String(E(t))}},"string"==typeof r&&""!==r.trim()&&{lineItems:[{label:k(r),amount:String(E(t))}]})),h=new window.ApplePaySession(m.applePayVersion,c);h.onvalidatemerchant=function(e){var t=function(e){var t=e.transactionId,r=e.validationURL,n=e.merchantName,i=e.domainName,s=void 0===i?window&&window.location&&window.location.hostname:i,a="".concat(m.paymentBaseUrl).concat(m.applePayValidateSessionPath),l=S({transaction:t,sessionUrl:r,displayName:n,domainName:s});return fetch(a,o(o({},C),{},{body:l})).then((function(e){return e.json()}))}({validationURL:e.validationURL,transactionId:s.id,merchantName:s.response.merchant_name});t.then((function(e){"success"!==e.status?s.onSetupError(e):h.completeMerchantValidation(e.data),s.logValidationResponse(e.message)})).catch((function(e){s.onSetupError(e)}))},h.oncancel=function(){q.preCheckoutModal||s.onCancel()},h.onpaymentauthorized=function(e){var t=e.payment,r=function(e){var t=e.transactionId,r=e.payment,n="".concat(m.paymentBaseUrl).concat(m.applePayChargePath),i=S({transaction:t,paymentObject:JSON.stringify(r)});return fetch(n,o(o({},C),{},{body:i})).then((function(e){return e.json()}))}({transactionId:s.id,payment:t});r.then((function(e){s.logAPIResponse(e,i),"success"===e.status?(h.completePayment(h.STATUS_SUCCESS),s.onSuccess(e),n.sendAnalyticsEventToCheckout("trackPaymentCompletion",l)):(h.completePayment(h.STATUS_FAILURE),s.onSetupError(e),n.sendAnalyticsEventToCheckout(Y,{channel:"apple_pay",message:e&&e.message||"Transaction attempt failed"})),q.closePreCheckoutModal()})).catch((function(e){h.completePayment(h.STATUS_FAILURE),s.onSetupError(e),n.sendAnalyticsEventToCheckout(Y,{channel:"apple_pay",message:e&&e.message||"Error occurred"}),q.closePreCheckoutModal()}))},h.begin()}catch(e){s.onSetupError(e)}}else X("Could not initiate apple pay transaction")}},{key:"resumeTransaction",value:function(e){return this.newTransaction({accessCode:e})}},{key:"activeTransaction",value:function(){var e=this.transactions.filter((function(e){return e.isActive}));return e.length?e[e.length-1]:null}},{key:"cancelTransaction",value:function(e){var t=this.transactions.find((function(t){return t.id===e}))||this.activeTransaction();t&&(t.cancel(),this.close())}},{key:"respondToEvent",value:function(e){if(e){var t,r=this.activeTransaction();try{var n=e.data||e.message,o=n.event,i=n.data;if(o)switch(o){case"loaded:checkout":this.isLoaded=!0,r&&K({checkoutIframe:this.checkoutIframe,urlParameters:r.urlParameters});break;case"loaded:transaction":(t=this.backgroundIframe.contentWindow.document)&&(t.getElementById("app-loader").style.display="none"),r.onLoad(i);break;case"error":"setup"===i.type?r.onSetupError(i):r.logError(i);break;case"cancel":case"close":this.close();var s=i&&i.status;s&&r.setStatus(s),!(this.paymentRequestContainer&&M(this.paymentRequestContainer)&&!this.preCheckoutModal)&&(r.isActive=!1),r.onCancel();break;case"transfer:pending":this.close();var a=i&&i.status;a&&r.setStatus(a),r.onBankTransferConfirmationPending();break;case"success":this.close(),r.onSuccess(i)}}catch(e){}}}},{key:"respondToEmbedEvents",value:function(e){var t,r,n=this.activeTransaction(),o=e.data||e.message;if(o&&("string"==typeof o||o instanceof String)){var i={action:r=(t=o)&&"string"==typeof t?t.split(" ")[0]:null,data:r?t.split(" ").slice(2).join(" "):null};i&&"PaystackClose"===i.action&&i.data&&n.onSuccess(o),"PaystackTLSClose"===i.action&&n.cancel()}}},{key:"animateCheckoutIn",value:function(){var e,t=this;if(!this.isOpen){var r=this.checkoutIframe,n=this.backgroundIframe;(e={checkoutIframe:r,backgroundIframe:n},new Promise((function(t,r){e||r("No dom element provided");var n=e.checkoutIframe,o=e.backgroundIframe;n&&o||r("No dom element provided"),n.style.display="",n.style.visibility="visible",o.style.display="",o.style.visibility="visible",t()}))).then((function(){t.checkoutIframe.contentWindow.postMessage("render","*")})),this.isOpen=!0}}},{key:"open",value:function(e,t){e&&(K({checkoutIframe:this.checkoutIframe,urlParameters:e}),t||this.animateCheckoutIn())}},{key:"close",value:function(){var e=this;if(this.isOpen){var t,r=this.checkoutIframe,n=this.backgroundIframe;(t={checkoutIframe:r,backgroundIframe:n},new Promise((function(e,r){t||r("No dom element provided");var n=t.checkoutIframe,o=t.backgroundIframe;n&&o||r("No dom element provided"),o.style.opacity=0,n.style.display="none",n.style.visibility="hidden",setTimeout((function(){o.style.display="none",o.style.visibility="hidden",o.style.opacity=1,e()}),300)}))).then((function(){e.checkoutIframe.contentWindow.postMessage("close","*")})),this.isOpen=!1}}},{key:"isLoaded",value:function(){return this.isLoaded}}],[{key:"setup",value:function(t){var r=t&&t.container;q||(q=new e({isDeprecatedApi:!0,isEmbed:r})),U("PaystackPop.setup()","new PaystackPop()","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline");var n=q.newTransaction(t,"deprecated"),o=n.urlParameters;if(r){var i="".concat(m.siteUrl,"/assets/payment/production/inline.html?").concat(g(o)),s=function(e,t){var r=T("embed-checkout-".concat(e));return r.style.cssText="\n  background: transparent;\n  background: rgba(0,0,0,0);\n  border: 0px none transparent;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  nmargin: 0;\n  padding: 0;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  visibility: hidden;\n  display: none;\n",r.src=t,r.id=e,r.name=e,r}(q.id,i);!function(e,t){var r=document.getElementById(e);r.innerHTML="",r.removeAttribute("style"),r.className="paystack-embed-container",r.style.position="relative",r.style.width="100%",r.appendChild(t)}(t.container,s),s.onload=function(){var e;s.contentWindow.postMessage("PaystackOpen ".concat(q.id),"*"),e=s,new Promise((function(t,r){e||r("No dom element provided"),e.style.display="",e.style.visibility="visible",t()}))}}else n.openIframe=function(){U("openIframe","open","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline"),q.open(o)};return n}}]),e}();if(J=b().length>0,Q=y()&&"FORM"===y().parentElement.tagName,J&&Q){var te,re=function(){var e={},t=y();return b().forEach((function(r){var n=t.getAttribute(r),o=r.split("data-")[1].replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}));e[o]=n})),function(e){if(e.buttonId&&!document.getElementById(e.buttonId))throw new Error("Please make sure the buttonId is an element available in the DOM");var t=o({},e);t.buttonText=e.buttonText||"Pay",t.buttonVariant="normal",t.buttonWordmarkVariant="normal";var r=["normal","light"];return e.buttonVariant&&r.indexOf(e.buttonVariant)>-1&&(t.buttonVariant=e.buttonVariant),e.buttonWordmarkVariant&&r.indexOf(e.buttonWordmarkVariant)>-1&&(t.buttonWordmarkVariant=e.buttonWordmarkVariant),t}(e)}(),ne=y().parentElement;q||(q=new ee),function(e){var t;if(e.id)(t=document.getElementById(e.id)).setAttribute("data-inline-id",e.id);else{var r=document.createElement("div");r.id="inline-button-".concat(e.inlineId),r.innerHTML=function(e){var t,r,n={normal:'\n  <svg id="inline-button-wordmark" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#011B33"/>\n    </svg>',light:w};return"\n    <style>\n      #inline-button-".concat(e.inlineId," {\n        position: relative;\n        text-align: center;\n        display: inline-block;\n      }\n      #inline-button-").concat(e.inlineId,"__trigger {\n        ").concat((t=e.variant||"normal",r={normal:"\n    background: linear-gradient(180deg,#44b669 0,#40ad57);\n    text-shadow: 1px 1px 1px rgba(0,0,0,.1);\n    color: #ffffff;\n  ",light:"\n    background: white;\n    text-shadow: none;\n    color: #011b33;\n  "},"".concat("\n    box-sizing: border-box;\n    display: inline-block;\n    line-height: 1;\n    white-space: nowrap;\n    margin: 0 0 10px;\n    text-align: center;\n    -webkit-appearance: none;\n    outline: none;\n    font-size: 14px;\n    font-weight: 600;\n    border-radius: 6px;\n    cursor: pointer;\n    padding: 16px 24px;\n    box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.15);\n    transition: all .3s ease;\n    border: none;\n    min-width: 190px;\n  ").concat(r[t])),"\n      }\n      #inline-button-").concat(e.inlineId,"__trigger:hover {\n        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);\n      }\n      #inline-button-").concat(e.inlineId,'__trigger:active {\n        transform: translateY(3px);\n      }\n    </style>\n    <button id="inline-button-').concat(e.inlineId,'__trigger" data-inline-id="').concat(e.inlineId,'">').concat(e.text||"Pay"," ").concat(e.currency||"NGN"," ").concat(e.amount,'</button>\n    <div id="inline-button-').concat(e.inlineId,'__wordmark">\n      ').concat(n[e.wordmarkVariant||"normal"],"\n    </div>\n  ")}(e),e.parent.parentNode.insertBefore(r,e.parent.nextSibling),t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),1!==i.length);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e)||d(e,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.getElementsByTagName("button"))[0]}return t}({inlineId:q.id,amount:re.amount/100,currency:re.currency,id:re.buttonId,text:re.buttonText,variant:re.buttonVariant,wordmarkVariant:re.buttonWordmarkVariant,parent:y()}).addEventListener("click",(function(e){e.preventDefault(),te?q.resumeTransaction(te.accessCode):te=q.newTransaction(o(o({},re),{},{onSuccess:function(e){var t,r,n,o,i,s;r=(t={type:"hidden",name:"reference",value:e.reference,parent:ne}).type,n=t.value,o=t.name,i=t.parent,(s=document.createElement("input")).type=r,s.value=n,s.name=o,i.appendChild(s),ne.submit()}}))}))}},8826:function(e){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function i(e){return new Uint8Array(e)}function s(e,t,r,n,o){null==n&&null==o||(e=e.slice?e.slice(n,o):Array.prototype.slice.call(e,n,o)),t.set(e,r)}var a,l={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return o(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},c=(a="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(a[(240&n)>>4]+a[15&n])}return t.join("")}}),h={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],u=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],f=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],x=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],_=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],C=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function k(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var A=function(e){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(e,!0)}),this._prepare()};A.prototype._prepare=function(){var e=h[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),o=this.key.length/4,i=k(this.key);for(t=0;t<o;t++)r=t>>2,this._Ke[r][t%4]=i[t],this._Kd[e-r][t%4]=i[t];for(var s,a=0,l=o;l<n;){if(s=i[o-1],i[0]^=u[s>>16&255]<<24^u[s>>8&255]<<16^u[255&s]<<8^u[s>>24&255]^d[a]<<24,a+=1,8!=o)for(t=1;t<o;t++)i[t]^=i[t-1];else{for(t=1;t<o/2;t++)i[t]^=i[t-1];for(s=i[o/2-1],i[o/2]^=u[255&s]^u[s>>8&255]<<8^u[s>>16&255]<<16^u[s>>24&255]<<24,t=o/2+1;t<o;t++)i[t]^=i[t-1]}for(t=0;t<o&&l<n;)c=l>>2,p=l%4,this._Ke[c][p]=i[t],this._Kd[e-c][p]=i[t++],l++}for(var c=1;c<e;c++)for(var p=0;p<4;p++)s=this._Kd[c][p],this._Kd[c][p]=_[s>>24&255]^E[s>>16&255]^C[s>>8&255]^S[255&s]},A.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=k(e),o=0;o<4;o++)n[o]^=this._Ke[0][o];for(var s=1;s<t;s++){for(o=0;o<4;o++)r[o]=f[n[o]>>24&255]^m[n[(o+1)%4]>>16&255]^g[n[(o+2)%4]>>8&255]^v[255&n[(o+3)%4]]^this._Ke[s][o];n=r.slice()}var a,l=i(16);for(o=0;o<4;o++)a=this._Ke[t][o],l[4*o]=255&(u[n[o]>>24&255]^a>>24),l[4*o+1]=255&(u[n[(o+1)%4]>>16&255]^a>>16),l[4*o+2]=255&(u[n[(o+2)%4]>>8&255]^a>>8),l[4*o+3]=255&(u[255&n[(o+3)%4]]^a);return l},A.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=k(e),o=0;o<4;o++)n[o]^=this._Kd[0][o];for(var s=1;s<t;s++){for(o=0;o<4;o++)r[o]=y[n[o]>>24&255]^b[n[(o+3)%4]>>16&255]^w[n[(o+2)%4]>>8&255]^x[255&n[(o+1)%4]]^this._Kd[s][o];n=r.slice()}var a,l=i(16);for(o=0;o<4;o++)a=this._Kd[t][o],l[4*o]=255&(p[n[o]>>24&255]^a>>24),l[4*o+1]=255&(p[n[(o+3)%4]>>16&255]^a>>16),l[4*o+2]=255&(p[n[(o+2)%4]>>8&255]^a>>8),l[4*o+3]=255&(p[255&n[(o+1)%4]]^a);return l};var P=function(e){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new A(e)};P.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.encrypt(r),t,n);return t},P.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.decrypt(r),t,n);return t};var T=function(e,t){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastCipherblock=o(t,!0),this._aes=new A(e)};T.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,t,n)}return t},T.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),r=i(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)t[n+a]=r[a]^this._lastCipherblock[a];s(e,this._lastCipherblock,0,n,n+16)}return t};var M=function(e,t,r){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=i(16);r||(r=1),this.segmentSize=r,this._shiftRegister=o(t,!0),this._aes=new A(e)};M.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},M.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var O=function(e,t){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastPrecipher=o(t,!0),this._lastPrecipherIndex=16,this._aes=new A(e)};O.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},O.prototype.decrypt=O.prototype.encrypt;var D=function(e){if(!(this instanceof D))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=i(16),this.setValue(e)):this.setBytes(e)};D.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},D.prototype.setBytes=function(e){if(16!=(e=o(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},D.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof D||(t=new D(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new A(e)};I.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},I.prototype.decrypt=I.prototype.encrypt;var R={AES:A,Counter:D,ModeOfOperation:{ecb:P,cbc:T,cfb:M,ofb:O,ctr:I},utils:{hex:c,utf8:l},padding:{pkcs7:{pad:function(e){var t=16-(e=o(e,!0)).length%16,r=i(e.length+t);s(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=o(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var a=i(r);return s(e,a,0,0,r),a}}},_arrayTest:{coerceArray:o,createArray:i,copyArray:s}};e.exports=R}()},4306:function(e,t,r){"use strict";r.d(t,{Z:function(){return Sr}});var n,o,i,s,a=!1,l=!1,c=[];function h(e){let t=c.indexOf(e);-1!==t&&c.splice(t,1)}function d(){a=!1,l=!0;for(let e=0;e<c.length;e++)c[e]();c.length=0,l=!1}var u=!0;function p(e){o=e}var f=[],m=[],g=[];function v(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,m.push(t))}function y(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach((([r,n])=>{(void 0===t||t.includes(r))&&(n.forEach((e=>e())),delete e._x_attributeCleanups[r])}))}var b=new MutationObserver(A),w=!1;function x(){b.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),w=!0}var _=[],E=!1;function C(e){if(!w)return e();(_=_.concat(b.takeRecords())).length&&!E&&(E=!0,queueMicrotask((()=>{A(_),_.length=0,E=!1}))),b.disconnect(),w=!1;let t=e();return x(),t}var S=!1,k=[];function A(e){if(S)return void(k=k.concat(e));let t=[],r=[],n=new Map,o=new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&("childList"===e[i].type&&(e[i].addedNodes.forEach((e=>1===e.nodeType&&t.push(e))),e[i].removedNodes.forEach((e=>1===e.nodeType&&r.push(e)))),"attributes"===e[i].type)){let t=e[i].target,r=e[i].attributeName,s=e[i].oldValue,a=()=>{n.has(t)||n.set(t,[]),n.get(t).push({name:r,value:t.getAttribute(r)})},l=()=>{o.has(t)||o.set(t,[]),o.get(t).push(r)};t.hasAttribute(r)&&null===s?a():t.hasAttribute(r)?(l(),a()):l()}o.forEach(((e,t)=>{y(t,e)})),n.forEach(((e,t)=>{f.forEach((r=>r(t,e)))}));for(let e of r)if(!t.includes(e)&&(m.forEach((t=>t(e))),e._x_cleanups))for(;e._x_cleanups.length;)e._x_cleanups.pop()();t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let e of t)r.includes(e)||e.isConnected&&(delete e._x_ignoreSelf,delete e._x_ignore,g.forEach((t=>t(e))),e._x_ignore=!0,e._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,r=null,n=null,o=null}function P(e){return D(O(e))}function T(e,t,r){return e._x_dataStack=[t,...O(r||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function M(e,t){let r=e._x_dataStack[0];Object.entries(t).forEach((([e,t])=>{r[e]=t}))}function O(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?O(e.host):e.parentNode?O(e.parentNode):[]}function D(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:(t,r)=>e.some((e=>e.hasOwnProperty(r))),get:(r,n)=>(e.find((e=>{if(e.hasOwnProperty(n)){let r=Object.getOwnPropertyDescriptor(e,n);if(r.get&&r.get._x_alreadyBound||r.set&&r.set._x_alreadyBound)return!0;if((r.get||r.set)&&r.enumerable){let o=r.get,i=r.set,s=r;o=o&&o.bind(t),i=i&&i.bind(t),o&&(o._x_alreadyBound=!0),i&&(i._x_alreadyBound=!0),Object.defineProperty(e,n,{...s,get:o,set:i})}return!0}return!1}))||{})[n],set:(t,r,n)=>{let o=e.find((e=>e.hasOwnProperty(r)));return o?o[r]=n:e[e.length-1][r]=n,!0}});return t}function I(e){let t=(r,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach((([o,{value:i,enumerable:s}])=>{if(!1===s||void 0===i)return;let a=""===n?o:`${n}.${o}`;var l;"object"==typeof i&&null!==i&&i._x_interceptor?r[o]=i.initialize(e,a,o):"object"!=typeof(l=i)||Array.isArray(l)||null===l||i===r||i instanceof Element||t(i,a)}))};return t(e)}function R(e,t=(()=>{})){let r={initialValue:void 0,_x_interceptor:!0,initialize(t,r,n){return e(this.initialValue,(()=>function(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}(t,r)),(e=>F(t,r,e)),r,n)}};return t(r),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=r.initialize.bind(r);r.initialize=(n,o,i)=>{let s=e.initialize(n,o,i);return r.initialValue=s,t(n,o,i)}}else r.initialValue=e;return r}}function F(e,t,r){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),F(e[t[0]],t.slice(1),r)}e[t[0]]=r}var B={};function N(e,t){B[e]=t}function L(e,t){return Object.entries(B).forEach((([r,n])=>{Object.defineProperty(e,`$${r}`,{get(){let[e,r]=ne(t);return e={interceptor:R,...e},v(t,r),n(t,e)},enumerable:!1})})),e}function V(e,t,r,...n){try{return r(...n)}catch(r){z(r,e,t)}}function z(e,t,r){Object.assign(e,{el:t,expression:r}),console.warn(`Alpine Expression Error: ${e.message}\n\n${r?'Expression: "'+r+'"\n\n':""}`,t),setTimeout((()=>{throw e}),0)}var H=!0;function j(e,t,r={}){let n;return G(e,t)((e=>n=e),r),n}function G(...e){return U(...e)}var U=q;function q(e,t){let r={};L(r,e);let n=[r,...O(e)];if("function"==typeof t)return function(e,t){return(r=(()=>{}),{scope:n={},params:o=[]}={})=>{$(r,t.apply(D([n,...e]),o))}}(n,t);let o=function(e,t,r){let n=function(e,t){if(W[e])return W[e];let r=Object.getPrototypeOf((async function(){})).constructor,n=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(() => { ${e} })()`:e,o=(()=>{try{return new r(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(r){return z(r,t,e),Promise.resolve()}})();return W[e]=o,o}(t,r);return(o=(()=>{}),{scope:i={},params:s=[]}={})=>{n.result=void 0,n.finished=!1;let a=D([i,...e]);if("function"==typeof n){let e=n(n,a).catch((e=>z(e,r,t)));n.finished?($(o,n.result,a,s,r),n.result=void 0):e.then((e=>{$(o,e,a,s,r)})).catch((e=>z(e,r,t))).finally((()=>n.result=void 0))}}}(n,t,e);return V.bind(null,e,t,o)}var W={};function $(e,t,r,n,o){if(H&&"function"==typeof t){let i=t.apply(r,n);i instanceof Promise?i.then((t=>$(e,t,r,n))).catch((e=>z(e,o,t))):e(i)}else e(t)}var Z="x-";function K(e=""){return Z+e}var Y={};function X(e,t){Y[e]=t}function J(e,t,r){if(t=Array.from(t),e._x_virtualDirectives){let r=Object.entries(e._x_virtualDirectives).map((([e,t])=>({name:e,value:t}))),n=Q(r);r=r.map((e=>n.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),t=t.concat(r)}let n={},o=t.map(ie(((e,t)=>n[e]=t))).filter(le).map(function(e,t){return({name:r,value:n})=>{let o=r.match(ce()),i=r.match(/:([a-zA-Z0-9\-:]+)/),s=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[r]||r;return{type:o?o[1]:null,value:i?i[1]:null,modifiers:s.map((e=>e.replace(".",""))),expression:n,original:a}}}(n,r)).sort(ue);return o.map((t=>function(e,t){let r=Y[t.type]||(()=>{}),[n,o]=ne(e);!function(e,t,r){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(r)}(e,t.original,o);let i=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,n),r=r.bind(r,e,t,n),ee?te.get(re).push(r):r())};return i.runCleanups=o,i}(e,t)))}function Q(e){return Array.from(e).map(ie()).filter((e=>!le(e)))}var ee=!1,te=new Map,re=Symbol();function ne(e){let t=[],[r,n]=function(e){let t=()=>{};return[r=>{let n=o(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(n),t=()=>{void 0!==n&&(e._x_effects.delete(n),i(n))},n},()=>{t()}]}(e);return t.push(n),[{Alpine:Ke,effect:r,cleanup:e=>t.push(e),evaluateLater:G.bind(G,e),evaluate:j.bind(j,e)},()=>t.forEach((e=>e()))]}var oe=(e,t)=>({name:r,value:n})=>(r.startsWith(e)&&(r=r.replace(e,t)),{name:r,value:n});function ie(e=(()=>{})){return({name:t,value:r})=>{let{name:n,value:o}=se.reduce(((e,t)=>t(e)),{name:t,value:r});return n!==t&&e(n,t),{name:n,value:o}}}var se=[];function ae(e){se.push(e)}function le({name:e}){return ce().test(e)}var ce=()=>new RegExp(`^${Z}([^:^.]+)\\b`),he="DEFAULT",de=["ignore","ref","data","id","radio","tabs","switch","disclosure","menu","listbox","list","item","combobox","bind","init","for","mask","model","modelable","transition","show","if",he,"teleport"];function ue(e,t){let r=-1===de.indexOf(e.type)?he:e.type,n=-1===de.indexOf(t.type)?he:t.type;return de.indexOf(r)-de.indexOf(n)}function pe(e,t,r={}){e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}var fe=[],me=!1;function ge(e=(()=>{})){return queueMicrotask((()=>{me||setTimeout((()=>{ve()}))})),new Promise((t=>{fe.push((()=>{e(),t()}))}))}function ve(){for(me=!1;fe.length;)fe.shift()()}function ye(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>ye(e,t)));let r=!1;if(t(e,(()=>r=!0)),r)return;let n=e.firstElementChild;for(;n;)ye(n,t),n=n.nextElementSibling}function be(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var we=[],xe=[];function _e(){return we.map((e=>e()))}function Ee(){return we.concat(xe).map((e=>e()))}function Ce(e){we.push(e)}function Se(e){xe.push(e)}function ke(e,t=!1){return Ae(e,(e=>{if((t?Ee():_e()).some((t=>e.matches(t))))return!0}))}function Ae(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return Ae(e.parentElement,t)}}function Pe(e,t=ye){!function(r){ee=!0;let n=Symbol();re=n,te.set(n,[]);let o=()=>{for(;te.get(n).length;)te.get(n).shift()();te.delete(n)};t(e,((e,t)=>{J(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()})),ee=!1,o()}()}function Te(e,t){return Array.isArray(t)?Me(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let r=e=>e.split(" ").filter(Boolean),n=Object.entries(t).flatMap((([e,t])=>!!t&&r(e))).filter(Boolean),o=Object.entries(t).flatMap((([e,t])=>!t&&r(e))).filter(Boolean),i=[],s=[];return o.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),s.push(t))})),n.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),i.push(t))})),()=>{s.forEach((t=>e.classList.add(t))),i.forEach((t=>e.classList.remove(t)))}}(e,t):"function"==typeof t?Te(e,t()):Me(e,t)}function Me(e,t){return t=!0===t?t="":t||"",r=t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),e.classList.add(...r),()=>{e.classList.remove(...r)};var r}function Oe(e,t){return"object"==typeof t&&null!==t?function(e,t){let r={};return Object.entries(t).forEach((([t,n])=>{r[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,n)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{Oe(e,r)}}(e,t):function(e,t){let r=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",r||"")}}(e,t)}function De(e,t=(()=>{})){let r=!1;return function(){r?t.apply(this,arguments):(r=!0,e.apply(this,arguments))}}function Ie(e,t,r={}){e._x_transition||(e._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(r=(()=>{}),n=(()=>{})){Fe(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,n)},out(r=(()=>{}),n=(()=>{})){Fe(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,n)}})}function Re(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Re(t)}function Fe(e,t,{during:r,start:n,end:o}={},i=(()=>{}),s=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(r).length&&0===Object.keys(n).length&&0===Object.keys(o).length)return i(),void s();let a,l,c;!function(e,t){let r,n,o,i=De((()=>{C((()=>{r=!0,n||t.before(),o||(t.end(),ve()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:De((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();i()})),finish:i},C((()=>{t.start(),t.during()})),me=!0,requestAnimationFrame((()=>{if(r)return;let i=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),s=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===i&&(i=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),C((()=>{t.before()})),n=!0,requestAnimationFrame((()=>{r||(C((()=>{t.end()})),ve(),setTimeout(e._x_transitioning.finish,i+s),o=!0)}))}))}(e,{start(){a=t(e,n)},during(){l=t(e,r)},before:i,end(){a(),c=t(e,o)},after:s,cleanup(){l(),c()}})}function Be(e,t,r){if(-1===e.indexOf(t))return r;const n=e[e.indexOf(t)+1];if(!n)return r;if("scale"===t&&isNaN(n))return r;if("duration"===t){let e=n.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[n,e[e.indexOf(t)+2]].join(" "):n}X("transition",((e,{value:t,modifiers:r,expression:n},{evaluate:o})=>{"function"==typeof n&&(n=o(n)),n?function(e,t,r){Ie(e,Te,""),{enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}}[r](t)}(e,n,t):function(e,t,r){Ie(e,Oe);let n=!t.includes("in")&&!t.includes("out")&&!r,o=n||t.includes("in")||["enter"].includes(r),i=n||t.includes("out")||["leave"].includes(r);t.includes("in")&&!n&&(t=t.filter(((e,r)=>r<t.indexOf("out")))),t.includes("out")&&!n&&(t=t.filter(((e,r)=>r>t.indexOf("out"))));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity")?0:1,l=s||t.includes("scale")?Be(t,"scale",95)/100:1,c=Be(t,"delay",0),h=Be(t,"origin","center"),d="opacity, transform",u=Be(t,"duration",150)/1e3,p=Be(t,"duration",75)/1e3,f="cubic-bezier(0.4, 0.0, 0.2, 1)";o&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:c,transitionProperty:d,transitionDuration:`${u}s`,transitionTimingFunction:f},e._x_transition.enter.start={opacity:a,transform:`scale(${l})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),i&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:c,transitionProperty:d,transitionDuration:`${p}s`,transitionTimingFunction:f},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:a,transform:`scale(${l})`})}(e,r,t)})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,r,n){const o="visible"===document.visibilityState?requestAnimationFrame:setTimeout;let i=()=>o(r);t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(r):i():e._x_transition?e._x_transition.in(r):i():(e._x_hidePromise=e._x_transition?new Promise(((t,r)=>{e._x_transition.out((()=>{}),(()=>t(n))),e._x_transitioning.beforeCancel((()=>r({isFromCancelledTransition:!0})))})):Promise.resolve(n),queueMicrotask((()=>{let t=Re(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):o((()=>{let t=e=>{let r=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e()));return delete e._x_hidePromise,delete e._x_hideChildren,r};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var Ne=!1;function Le(e,t=(()=>{})){return(...r)=>Ne?t(...r):e(...r)}function Ve(e,t,r,o=[]){switch(e._x_bindings||(e._x_bindings=n({})),e._x_bindings[t]=r,t=o.includes("camel")?t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase())):t){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=ze(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Number.isInteger(t)||Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>ze(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const r=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=r.includes(e.value)}))}(e,t);else{if(e.value===t)return;e.value=t}}(e,r);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Oe(e,t)}(e,r);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Te(e,t)}(e,r);break;default:!function(e,t,r){[null,void 0,!1].includes(r)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(He(t)&&(r=t),function(e,t,r){e.getAttribute(t)!=r&&e.setAttribute(t,r)}(e,t,r))}(e,t,r)}}function ze(e,t){return e==t}function He(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function je(e,t){var r;return function(){var n=this,o=arguments,i=function(){r=null,e.apply(n,o)};clearTimeout(r),r=setTimeout(i,t)}}function Ge(e,t){let r;return function(){let n=this,o=arguments;r||(e.apply(n,o),r=!0,setTimeout((()=>r=!1),t))}}var Ue={},qe=!1,We={};function $e(e,t,r){let n=[];for(;n.length;)n.pop()();let o=Object.entries(t).map((([e,t])=>({name:e,value:t}))),i=Q(o);o=o.map((e=>i.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),J(e,o,r).map((e=>{n.push(e.runCleanups),e()}))}var Ze={},Ke={get reactive(){return n},get release(){return i},get effect(){return o},get raw(){return s},version:"3.10.5",flushAndStopDeferringMutations:function(){S=!1,A(k),k=[]},dontAutoEvaluateFunctions:function(e){let t=H;H=!1,e(),H=t},disableEffectScheduling:function(e){u=!1,e(),u=!0},setReactivityEngine:function(e){n=e.reactive,i=e.release,o=t=>e.effect(t,{scheduler:e=>{u?function(e){var t;t=e,c.includes(t)||c.push(t),l||a||(a=!0,queueMicrotask(d))}(e):e()}}),s=e.raw},closestDataStack:O,skipDuringClone:Le,addRootSelector:Ce,addInitSelector:Se,addScopeToNode:T,deferMutations:function(){S=!0},mapAttributes:ae,evaluateLater:G,setEvaluator:function(e){U=e},mergeProxies:D,findClosest:Ae,closestRoot:ke,interceptor:R,transition:Fe,setStyles:Oe,mutateDom:C,directive:X,throttle:Ge,debounce:je,evaluate:j,initTree:Pe,nextTick:ge,prefixed:K,prefix:function(e){Z=e},plugin:function(e){e(Ke)},magic:N,store:function(e,t){if(qe||(Ue=n(Ue),qe=!0),void 0===t)return Ue[e];Ue[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&Ue[e].init(),I(Ue[e])},start:function(){var e;document.body||be("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),pe(document,"alpine:init"),pe(document,"alpine:initializing"),x(),e=e=>Pe(e,ye),g.push(e),v((e=>{ye(e,(e=>y(e)))})),f.push(((e,t)=>{J(e,t).forEach((e=>e()))})),Array.from(document.querySelectorAll(Ee())).filter((e=>!ke(e.parentElement,!0))).forEach((e=>{Pe(e)})),pe(document,"alpine:initialized")},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),Ne=!0,function(e){let r=o;p(((e,t)=>{let n=r(e);return i(n),()=>{}})),function(e){let t=!1;Pe(e,((e,r)=>{ye(e,((e,n)=>{if(t&&function(e){return _e().some((t=>e.matches(t)))}(e))return n();t=!0,r(e,n)}))}))}(t),p(r)}(),Ne=!1},bound:function(e,t,r){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];let n=e.getAttribute(t);return null===n?"function"==typeof r?r():r:""===n||(He(t)?!![t,"true"].includes(n):n)},$data:P,data:function(e,t){Ze[e]=t},bind:function(e,t){let r="function"!=typeof t?()=>t:t;e instanceof Element?$e(e,r()):We[e]=r}};function Ye(e,t){const r=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)r[n[e]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}var Xe,Je=Object.freeze({}),Qe=(Object.freeze([]),Object.assign),et=Object.prototype.hasOwnProperty,tt=(e,t)=>et.call(e,t),rt=Array.isArray,nt=e=>"[object Map]"===at(e),ot=e=>"symbol"==typeof e,it=e=>null!==e&&"object"==typeof e,st=Object.prototype.toString,at=e=>st.call(e),lt=e=>at(e).slice(8,-1),ct=e=>"string"==typeof e&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,ht=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},dt=/-(\w)/g,ut=(ht((e=>e.replace(dt,((e,t)=>t?t.toUpperCase():"")))),/\B([A-Z])/g),pt=(ht((e=>e.replace(ut,"-$1").toLowerCase())),ht((e=>e.charAt(0).toUpperCase()+e.slice(1)))),ft=(ht((e=>e?`on${pt(e)}`:"")),(e,t)=>e!==t&&(e==e||t==t)),mt=new WeakMap,gt=[],vt=Symbol("iterate"),yt=Symbol("Map key iterate"),bt=0;function wt(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}var xt=!0,_t=[];function Et(){const e=_t.pop();xt=void 0===e||e}function Ct(e,t,r){if(!xt||void 0===Xe)return;let n=mt.get(e);n||mt.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=new Set),o.has(Xe)||(o.add(Xe),Xe.deps.push(o),Xe.options.onTrack&&Xe.options.onTrack({effect:Xe,target:e,type:t,key:r}))}function St(e,t,r,n,o,i){const s=mt.get(e);if(!s)return;const a=new Set,l=e=>{e&&e.forEach((e=>{(e!==Xe||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(l);else if("length"===r&&rt(e))s.forEach(((e,t)=>{("length"===t||t>=n)&&l(e)}));else switch(void 0!==r&&l(s.get(r)),t){case"add":rt(e)?ct(r)&&l(s.get("length")):(l(s.get(vt)),nt(e)&&l(s.get(yt)));break;case"delete":rt(e)||(l(s.get(vt)),nt(e)&&l(s.get(yt)));break;case"set":nt(e)&&l(s.get(vt))}a.forEach((s=>{s.options.onTrigger&&s.options.onTrigger({effect:s,target:e,key:r,type:t,newValue:n,oldValue:o,oldTarget:i}),s.options.scheduler?s.options.scheduler(s):s()}))}var kt=Ye("__proto__,__v_isRef,__isVue"),At=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(ot)),Pt=It(),Tt=It(!1,!0),Mt=It(!0),Ot=It(!0,!0),Dt={};function It(e=!1,t=!1){return function(r,n,o){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_raw"===n&&o===(e?t?lr:ar:t?sr:ir).get(r))return r;const i=rt(r);if(!e&&i&&tt(Dt,n))return Reflect.get(Dt,n,o);const s=Reflect.get(r,n,o);return(ot(n)?At.has(n):kt(n))?s:(e||Ct(r,"get",n),t?s:pr(s)?i&&ct(n)?s:s.value:it(s)?e?hr(s):cr(s):s)}}function Rt(e=!1){return function(t,r,n,o){let i=t[r];if(!e&&(n=ur(n),i=ur(i),!rt(t)&&pr(i)&&!pr(n)))return i.value=n,!0;const s=rt(t)&&ct(r)?Number(r)<t.length:tt(t,r),a=Reflect.set(t,r,n,o);return t===ur(o)&&(s?ft(n,i)&&St(t,"set",r,n,i):St(t,"add",r,n)),a}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];Dt[e]=function(...e){const r=ur(this);for(let e=0,t=this.length;e<t;e++)Ct(r,"get",e+"");const n=t.apply(r,e);return-1===n||!1===n?t.apply(r,e.map(ur)):n}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];Dt[e]=function(...e){_t.push(xt),xt=!1;const r=t.apply(this,e);return Et(),r}}));var Ft={get:Pt,set:Rt(),deleteProperty:function(e,t){const r=tt(e,t),n=e[t],o=Reflect.deleteProperty(e,t);return o&&r&&St(e,"delete",t,void 0,n),o},has:function(e,t){const r=Reflect.has(e,t);return ot(t)&&At.has(t)||Ct(e,"has",t),r},ownKeys:function(e){return Ct(e,"iterate",rt(e)?"length":vt),Reflect.ownKeys(e)}},Bt={get:Mt,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Nt=(Qe({},Ft,{get:Tt,set:Rt(!0)}),Qe({},Bt,{get:Ot}),e=>it(e)?cr(e):e),Lt=e=>it(e)?hr(e):e,Vt=e=>e,zt=e=>Reflect.getPrototypeOf(e);function Ht(e,t,r=!1,n=!1){const o=ur(e=e.__v_raw),i=ur(t);t!==i&&!r&&Ct(o,"get",t),!r&&Ct(o,"get",i);const{has:s}=zt(o),a=n?Vt:r?Lt:Nt;return s.call(o,t)?a(e.get(t)):s.call(o,i)?a(e.get(i)):void(e!==o&&e.get(t))}function jt(e,t=!1){const r=this.__v_raw,n=ur(r),o=ur(e);return e!==o&&!t&&Ct(n,"has",e),!t&&Ct(n,"has",o),e===o?r.has(e):r.has(e)||r.has(o)}function Gt(e,t=!1){return e=e.__v_raw,!t&&Ct(ur(e),"iterate",vt),Reflect.get(e,"size",e)}function Ut(e){e=ur(e);const t=ur(this);return zt(t).has.call(t,e)||(t.add(e),St(t,"add",e,e)),this}function qt(e,t){t=ur(t);const r=ur(this),{has:n,get:o}=zt(r);let i=n.call(r,e);i?or(r,n,e):(e=ur(e),i=n.call(r,e));const s=o.call(r,e);return r.set(e,t),i?ft(t,s)&&St(r,"set",e,t,s):St(r,"add",e,t),this}function Wt(e){const t=ur(this),{has:r,get:n}=zt(t);let o=r.call(t,e);o?or(t,r,e):(e=ur(e),o=r.call(t,e));const i=n?n.call(t,e):void 0,s=t.delete(e);return o&&St(t,"delete",e,void 0,i),s}function $t(){const e=ur(this),t=0!==e.size,r=nt(e)?new Map(e):new Set(e),n=e.clear();return t&&St(e,"clear",void 0,void 0,r),n}function Zt(e,t){return function(r,n){const o=this,i=o.__v_raw,s=ur(i),a=t?Vt:e?Lt:Nt;return!e&&Ct(s,"iterate",vt),i.forEach(((e,t)=>r.call(n,a(e),a(t),o)))}}function Kt(e,t,r){return function(...n){const o=this.__v_raw,i=ur(o),s=nt(i),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=o[e](...n),h=r?Vt:t?Lt:Nt;return!t&&Ct(i,"iterate",l?yt:vt),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function Yt(e){return function(...t){{const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${pt(e)} operation ${r}failed: target is readonly.`,ur(this))}return"delete"!==e&&this}}var Xt={get(e){return Ht(this,e)},get size(){return Gt(this)},has:jt,add:Ut,set:qt,delete:Wt,clear:$t,forEach:Zt(!1,!1)},Jt={get(e){return Ht(this,e,!1,!0)},get size(){return Gt(this)},has:jt,add:Ut,set:qt,delete:Wt,clear:$t,forEach:Zt(!1,!0)},Qt={get(e){return Ht(this,e,!0)},get size(){return Gt(this,!0)},has(e){return jt.call(this,e,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:Zt(!0,!1)},er={get(e){return Ht(this,e,!0,!0)},get size(){return Gt(this,!0)},has(e){return jt.call(this,e,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:Zt(!0,!0)};function tr(e,t){const r=t?e?er:Jt:e?Qt:Xt;return(t,n,o)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(tt(r,n)&&n in t?r:t,n,o)}["keys","values","entries",Symbol.iterator].forEach((e=>{Xt[e]=Kt(e,!1,!1),Qt[e]=Kt(e,!0,!1),Jt[e]=Kt(e,!1,!0),er[e]=Kt(e,!0,!0)}));var rr={get:tr(!1,!1)},nr=(tr(!1,!0),{get:tr(!0,!1)});function or(e,t,r){const n=ur(r);if(n!==r&&t.call(e,n)){const t=lt(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}tr(!0,!0);var ir=new WeakMap,sr=new WeakMap,ar=new WeakMap,lr=new WeakMap;function cr(e){return e&&e.__v_isReadonly?e:dr(e,!1,Ft,rr,ir)}function hr(e){return dr(e,!0,Bt,nr,ar)}function dr(e,t,r,n,o){if(!it(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(lt(a));var a;if(0===s)return e;const l=new Proxy(e,2===s?n:r);return o.set(e,l),l}function ur(e){return e&&ur(e.__v_raw)||e}function pr(e){return Boolean(e&&!0===e.__v_isRef)}N("nextTick",(()=>ge)),N("dispatch",(e=>pe.bind(pe,e))),N("watch",((e,{evaluateLater:t,effect:r})=>(n,o)=>{let i,s=t(n),a=!0,l=r((()=>s((e=>{JSON.stringify(e),a?i=e:queueMicrotask((()=>{o(e,i),i=e})),a=!1}))));e._x_effects.delete(l)})),N("store",(function(){return Ue})),N("data",(e=>P(e))),N("root",(e=>ke(e))),N("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=D(function(e){let t=[],r=e;for(;r;)r._x_refs&&t.push(r._x_refs),r=r.parentNode;return t}(e))),e._x_refs_proxy)));var fr={};function mr(e){return fr[e]||(fr[e]=0),++fr[e]}function gr(e,t,r){N(t,(t=>be(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,t)))}N("id",(e=>(t,r=null)=>{let n=function(e,t){return Ae(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}(e,t),o=n?n._x_ids[t]:mr(t);return r?`${t}-${o}-${r}`:`${t}-${o}`})),N("el",(e=>e)),gr("Focus","focus","focus"),gr("Persist","persist","persist"),X("modelable",((e,{expression:t},{effect:r,evaluateLater:n})=>{let o=n(t),i=()=>{let e;return o((t=>e=t)),e},s=n(`${t} = __placeholder`),a=e=>s((()=>{}),{scope:{__placeholder:e}}),l=i();a(l),queueMicrotask((()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,n=e._x_model.set;r((()=>a(t()))),r((()=>n(i())))}))})),X("teleport",((e,{expression:t},{cleanup:r})=>{"template"!==e.tagName.toLowerCase()&&be("x-teleport can only be used on a <template> tag",e);let n=document.querySelector(t);n||be(`Cannot find x-teleport element for selector: "${t}"`);let o=e.content.cloneNode(!0).firstElementChild;e._x_teleport=o,o._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{o.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),T(o,{},e),C((()=>{n.appendChild(o),Pe(o),o._x_ignore=!0})),r((()=>o.remove()))}));var vr=()=>{};function yr(e,t,r,n){let o=e,i=e=>n(e),s={},a=(e,t)=>r=>t(e,r);if(r.includes("dot")&&(t=t.replace(/-/g,".")),r.includes("camel")&&(t=t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))),r.includes("passive")&&(s.passive=!0),r.includes("capture")&&(s.capture=!0),r.includes("window")&&(o=window),r.includes("document")&&(o=document),r.includes("prevent")&&(i=a(i,((e,t)=>{t.preventDefault(),e(t)}))),r.includes("stop")&&(i=a(i,((e,t)=>{t.stopPropagation(),e(t)}))),r.includes("self")&&(i=a(i,((t,r)=>{r.target===e&&t(r)}))),(r.includes("away")||r.includes("outside"))&&(o=document,i=a(i,((t,r)=>{e.contains(r.target)||!1!==r.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(r))}))),r.includes("once")&&(i=a(i,((e,r)=>{e(r),o.removeEventListener(t,i,s)}))),i=a(i,((e,n)=>{(function(e){return["keydown","keyup"].includes(e)})(t)&&function(e,t){let r=t.filter((e=>!["window","document","prevent","stop","once"].includes(e)));if(r.includes("debounce")){let e=r.indexOf("debounce");r.splice(e,br((r[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===r.length)return!1;if(1===r.length&&wr(e.key).includes(r[0]))return!1;const n=["ctrl","shift","alt","meta","cmd","super"].filter((e=>r.includes(e)));return r=r.filter((e=>!n.includes(e))),!(n.length>0&&n.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===n.length&&wr(e.key).includes(r[0]))}(n,r)||e(n)})),r.includes("debounce")){let e=r[r.indexOf("debounce")+1]||"invalid-wait",t=br(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=je(i,t)}if(r.includes("throttle")){let e=r[r.indexOf("throttle")+1]||"invalid-wait",t=br(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=Ge(i,t)}return o.addEventListener(t,i,s),()=>{o.removeEventListener(t,i,s)}}function br(e){return!Array.isArray(e)&&!isNaN(e)}function wr(e){if(!e)return[];e=e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let t={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return t[e]=e,Object.keys(t).map((r=>{if(t[r]===e)return r})).filter((e=>e))}function xr(e){let t=e?parseFloat(e):null;return r=t,Array.isArray(r)||isNaN(r)?e:t;var r}function _r(e,t,r,n){let o={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,r)=>{o[e]=t[r]})):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t?e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{o[e]=t[e]})):o[e.item]=t,e.index&&(o[e.index]=r),e.collection&&(o[e.collection]=n),o}function Er(){}function Cr(e,t,r){X(t,(n=>be(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,n)))}vr.inline=(e,{modifiers:t},{cleanup:r})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,r((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},X("ignore",vr),X("effect",((e,{expression:t},{effect:r})=>r(G(e,t)))),X("model",((e,{modifiers:t,expression:r},{effect:n,cleanup:o})=>{let i=G(e,r),s=G(e,`${r} = rightSideOfExpression($event, ${r})`);var a="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let l=function(e,t,r){return"radio"===e.type&&C((()=>{e.hasAttribute("name")||e.setAttribute("name",r)})),(r,n)=>C((()=>{if(r instanceof CustomEvent&&void 0!==r.detail)return r.detail||r.target.value;if("checkbox"===e.type){if(Array.isArray(n)){let e=t.includes("number")?xr(r.target.value):r.target.value;return r.target.checked?n.concat([e]):n.filter((t=>!(t==e)))}return r.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(r.target.selectedOptions).map((e=>xr(e.value||e.text))):Array.from(r.target.selectedOptions).map((e=>e.value||e.text));{let e=r.target.value;return t.includes("number")?xr(e):t.includes("trim")?e.trim():e}}))}(e,t,r),c=yr(e,a,t,(e=>{s((()=>{}),{scope:{$event:e,rightSideOfExpression:l}})}));e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=c,o((()=>e._x_removeModelListeners.default()));let h=G(e,`${r} = __placeholder`);e._x_model={get(){let e;return i((t=>e=t)),e},set(e){h((()=>{}),{scope:{__placeholder:e}})}},e._x_forceModelUpdate=()=>{i((t=>{void 0===t&&r.match(/\./)&&(t=""),window.fromModel=!0,C((()=>Ve(e,"value",t))),delete window.fromModel}))},n((()=>{t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate()}))})),X("cloak",(e=>queueMicrotask((()=>C((()=>e.removeAttribute(K("cloak")))))))),Se((()=>`[${K("init")}]`)),X("init",Le(((e,{expression:t},{evaluate:r})=>"string"==typeof t?!!t.trim()&&r(t,{},!1):r(t,{},!1)))),X("text",((e,{expression:t},{effect:r,evaluateLater:n})=>{let o=n(t);r((()=>{o((t=>{C((()=>{e.textContent=t}))}))}))})),X("html",((e,{expression:t},{effect:r,evaluateLater:n})=>{let o=n(t);r((()=>{o((t=>{C((()=>{e.innerHTML=t,e._x_ignoreSelf=!0,Pe(e),delete e._x_ignoreSelf}))}))}))})),ae(oe(":",K("bind:"))),X("bind",((e,{value:t,modifiers:r,expression:n,original:o},{effect:i})=>{if(!t){let t={};return s=t,Object.entries(We).forEach((([e,t])=>{Object.defineProperty(s,e,{get(){return(...e)=>t(...e)}})})),void G(e,n)((t=>{$e(e,t,o)}),{scope:t})}var s;if("key"===t)return function(e,t){e._x_keyExpression=t}(e,n);let a=G(e,n);i((()=>a((o=>{void 0===o&&"string"==typeof n&&n.match(/\./)&&(o=""),C((()=>Ve(e,t,o,r)))}))))})),Ce((()=>`[${K("data")}]`)),X("data",Le(((e,{expression:t},{cleanup:r})=>{t=""===t?"{}":t;let o={};L(o,e);let i={};var s,a;s=i,a=o,Object.entries(Ze).forEach((([e,t])=>{Object.defineProperty(s,e,{get(){return(...e)=>t.bind(a)(...e)},enumerable:!1})}));let l=j(e,t,{scope:i});void 0===l&&(l={}),L(l,e);let c=n(l);I(c);let h=T(e,c);c.init&&j(e,c.init),r((()=>{c.destroy&&j(e,c.destroy),h()}))}))),X("show",((e,{modifiers:t,expression:r},{effect:n})=>{let o=G(e,r);e._x_doHide||(e._x_doHide=()=>{C((()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)}))}),e._x_doShow||(e._x_doShow=()=>{C((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")}))});let i,s=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(a),c=De((e=>e?a():s()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,a,s):t?l():s()})),h=!0;n((()=>o((e=>{(h||e!==i)&&(t.includes("immediate")&&(e?l():s()),c(e),i=e,h=!1)}))))})),X("for",((e,{expression:t},{effect:r,cleanup:o})=>{let i=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=e.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!r)return;let n={};n.items=r[2].trim();let o=r[1].replace(/^\s*\(|\)\s*$/g,"").trim(),i=o.match(t);return i?(n.item=o.replace(t,"").trim(),n.index=i[1].trim(),i[2]&&(n.collection=i[2].trim())):n.item=o,n}(t),s=G(e,i.items),a=G(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},r((()=>function(e,t,r,o){let i=e;r((r=>{var s;s=r,!Array.isArray(s)&&!isNaN(s)&&r>=0&&(r=Array.from(Array(r).keys(),(e=>e+1))),void 0===r&&(r=[]);let a=e._x_lookup,l=e._x_prevKeys,c=[],d=[];if("object"!=typeof(u=r)||Array.isArray(u))for(let e=0;e<r.length;e++){let n=_r(t,r[e],e,r);o((e=>d.push(e)),{scope:{index:e,...n}}),c.push(n)}else r=Object.entries(r).map((([e,n])=>{let i=_r(t,n,e,r);o((e=>d.push(e)),{scope:{index:e,...i}}),c.push(i)}));var u;let p=[],f=[],m=[],g=[];for(let e=0;e<l.length;e++){let t=l[e];-1===d.indexOf(t)&&m.push(t)}l=l.filter((e=>!m.includes(e)));let v="template";for(let e=0;e<d.length;e++){let t=d[e],r=l.indexOf(t);if(-1===r)l.splice(e,0,t),p.push([v,e]);else if(r!==e){let t=l.splice(e,1)[0],n=l.splice(r-1,1)[0];l.splice(e,0,n),l.splice(r,0,t),f.push([t,n])}else g.push(t);v=t}for(let e=0;e<m.length;e++){let t=m[e];a[t]._x_effects&&a[t]._x_effects.forEach(h),a[t].remove(),a[t]=null,delete a[t]}for(let e=0;e<f.length;e++){let[t,r]=f[e],n=a[t],o=a[r],i=document.createElement("div");C((()=>{o.after(i),n.after(o),o._x_currentIfEl&&o.after(o._x_currentIfEl),i.before(n),n._x_currentIfEl&&n.after(n._x_currentIfEl),i.remove()})),M(o,c[d.indexOf(r)])}for(let e=0;e<p.length;e++){let[t,r]=p[e],o="template"===t?i:a[t];o._x_currentIfEl&&(o=o._x_currentIfEl);let s=c[r],l=d[r],h=document.importNode(i.content,!0).firstElementChild;T(h,n(s),i),C((()=>{o.after(h),Pe(h)})),"object"==typeof l&&be("x-for key cannot be an object, it must be a string or an integer",i),a[l]=h}for(let e=0;e<g.length;e++)M(a[g[e]],c[d.indexOf(g[e])]);i._x_prevKeys=d}))}(e,i,s,a))),o((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),Er.inline=(e,{expression:t},{cleanup:r})=>{let n=ke(e);n._x_refs||(n._x_refs={}),n._x_refs[t]=e,r((()=>delete n._x_refs[t]))},X("ref",Er),X("if",((e,{expression:t},{effect:r,cleanup:n})=>{let o=G(e,t);r((()=>o((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;T(t,{},e),C((()=>{e.after(t),Pe(t)})),e._x_currentIfEl=t,e._x_undoIf=()=>{ye(t,(e=>{e._x_effects&&e._x_effects.forEach(h)})),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})))),n((()=>e._x_undoIf&&e._x_undoIf()))})),X("id",((e,{expression:t},{evaluate:r})=>{r(t).forEach((t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=mr(t))}(e,t)))})),ae(oe("@",K("on:"))),X("on",Le(((e,{value:t,modifiers:r,expression:n},{cleanup:o})=>{let i=n?G(e,n):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=yr(e,t,r,(e=>{i((()=>{}),{scope:{$event:e},params:[e]})}));o((()=>s()))}))),Cr("Collapse","collapse","collapse"),Cr("Intersect","intersect","intersect"),Cr("Focus","trap","focus"),Cr("Mask","mask","mask"),Ke.setEvaluator(q),Ke.setReactivityEngine({reactive:cr,effect:function(e,t=Je){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const r=function(e,t){const r=function(){if(!r.active)return e();if(!gt.includes(r)){wt(r);try{return _t.push(xt),xt=!0,gt.push(r),Xe=r,e()}finally{gt.pop(),Et(),Xe=gt[gt.length-1]}}};return r.id=bt++,r.allowRecurse=!!t.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=t,r}(e,t);return t.lazy||r(),r},release:function(e){e.active&&(wt(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:ur});var Sr=Ke},6030:function(e,t){"use strict";var r={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},n={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},o=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],i={CSS:{},springs:{}};function s(e,t,r){return Math.min(Math.max(e,t),r)}function a(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var c={arr:function(e){return Array.isArray(e)},obj:function(e){return a(Object.prototype.toString.call(e),"Object")},pth:function(e){return c.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||c.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return c.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return c.hex(e)||c.rgb(e)||c.hsl(e)},key:function(e){return!r.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function h(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function d(e,t){var r=h(e),n=s(c.und(r[0])?1:r[0],.1,100),o=s(c.und(r[1])?100:r[1],.1,100),a=s(c.und(r[2])?10:r[2],.1,100),l=s(c.und(r[3])?0:r[3],.1,100),d=Math.sqrt(o/n),u=a/(2*Math.sqrt(o*n)),p=u<1?d*Math.sqrt(1-u*u):0,f=u<1?(u*d-l)/p:-l+d;function m(e){var r=t?t*e/1e3:e;return r=u<1?Math.exp(-r*u*d)*(1*Math.cos(p*r)+f*Math.sin(p*r)):(1+f*r)*Math.exp(-r*d),0===e||1===e?e:1-r}return t?m:function(){var t=i.springs[e];if(t)return t;for(var r=1/6,n=0,o=0;;)if(1===m(n+=r)){if(++o>=16)break}else o=0;var s=n*r*1e3;return i.springs[e]=s,s}}function u(e){return void 0===e&&(e=10),function(t){return Math.ceil(s(t,1e-6,1)*e)*(1/e)}}var p,f,m=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function n(e){return 3*e}function o(e,o,i){return((t(o,i)*e+r(o,i))*e+n(o))*e}function i(e,o,i){return 3*t(o,i)*e*e+2*r(o,i)*e+n(o)}return function(t,r,n,s){if(0<=t&&t<=1&&0<=n&&n<=1){var a=new Float32Array(11);if(t!==r||n!==s)for(var l=0;l<11;++l)a[l]=o(l*e,t,n);return function(l){return t===r&&n===s||0===l||1===l?l:o(function(r){for(var s=0,l=1;10!==l&&a[l]<=r;++l)s+=e;--l;var c=s+(r-a[l])/(a[l+1]-a[l])*e,h=i(c,t,n);return h>=.001?function(e,t,r,n){for(var s=0;s<4;++s){var a=i(t,r,n);if(0===a)return t;t-=(o(t,r,n)-e)/a}return t}(r,c,t,n):0===h?c:function(e,t,r,n,i){var s,a,l=0;do{(s=o(a=t+(r-t)/2,n,i)-e)>0?r=a:t=a}while(Math.abs(s)>1e-7&&++l<10);return a}(r,s,s+e,t,n)}(l),r,s)}}}}(),g=(p={linear:function(){return function(e){return e}}},f={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,r=4;e<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var r=s(e,1,10),n=s(t,.1,2);return function(e){return 0===e||1===e?e:-r*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/n)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){f[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(f).forEach((function(e){var t=f[e];p["easeIn"+e]=t,p["easeOut"+e]=function(e,r){return function(n){return 1-t(e,r)(1-n)}},p["easeInOut"+e]=function(e,r){return function(n){return n<.5?t(e,r)(2*n)/2:1-t(e,r)(-2*n+2)/2}},p["easeOutIn"+e]=function(e,r){return function(n){return n<.5?(1-t(e,r)(1-2*n))/2:(t(e,r)(2*n-1)+1)/2}}})),p);function v(e,t){if(c.fnc(e))return e;var r=e.split("(")[0],n=g[r],o=h(e);switch(r){case"spring":return d(e,t);case"cubicBezier":return l(m,o);case"steps":return l(u,o);default:return l(n,o)}}function y(e){try{return document.querySelectorAll(e)}catch(e){return}}function b(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,o=[],i=0;i<r;i++)if(i in e){var s=e[i];t.call(n,s,i,e)&&o.push(s)}return o}function w(e){return e.reduce((function(e,t){return e.concat(c.arr(t)?w(t):t)}),[])}function x(e){return c.arr(e)?e:(c.str(e)&&(e=y(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function _(e,t){return e.some((function(e){return e===t}))}function E(e){var t={};for(var r in e)t[r]=e[r];return t}function C(e,t){var r=E(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function S(e,t){var r=E(e);for(var n in t)r[n]=c.und(e[n])?t[n]:e[n];return r}function k(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function A(e,t){return c.fnc(e)?e(t.target,t.id,t.total):e}function P(e,t){return e.getAttribute(t)}function T(e,t,r){if(_([r,"deg","rad","turn"],k(t)))return t;var n=i.CSS[t+r];if(!c.und(n))return n;var o=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(o),o.style.position="absolute",o.style.width=100+r;var a=100/o.offsetWidth;s.removeChild(o);var l=a*parseFloat(t);return i.CSS[t+r]=l,l}function M(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return r?T(e,o,r):o}}function O(e,t){return c.dom(e)&&!c.inp(e)&&(!c.nil(P(e,t))||c.svg(e)&&e[t])?"attribute":c.dom(e)&&_(o,t)?"transform":c.dom(e)&&"transform"!==t&&M(e,t)?"css":null!=e[t]?"object":void 0}function D(e){if(c.dom(e)){for(var t,r=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,o=new Map;t=n.exec(r);)o.set(t[1],t[2]);return o}}function I(e,t,r,n){switch(O(e,t)){case"transform":return function(e,t,r,n){var o=a(t,"scale")?1:0+function(e){return a(e,"translate")||"perspective"===e?"px":a(e,"rotate")||a(e,"skew")?"deg":void 0}(t),i=D(e).get(t)||o;return r&&(r.transforms.list.set(t,i),r.transforms.last=t),n?T(e,i,n):i}(e,t,n,r);case"css":return M(e,t,r);case"attribute":return P(e,t);default:return e[t]||0}}function R(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=k(e)||0,o=parseFloat(t),i=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return o+i+n;case"-":return o-i+n;case"*":return o*i+n}}function F(e,t){if(c.col(e))return function(e){return c.rgb(e)?(r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+r[1]+",1)":t:c.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"}(e):c.hsl(e)?function(e){var t,r,n,o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(o[1],10)/360,s=parseInt(o[2],10)/100,a=parseInt(o[3],10)/100,l=o[4]||1;function c(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0==s)t=r=n=a;else{var h=a<.5?a*(1+s):a+s-a*s,d=2*a-h;t=c(d,h,i+1/3),r=c(d,h,i),n=c(d,h,i-1/3)}return"rgba("+255*t+","+255*r+","+255*n+","+l+")"}(e):void 0;var t,r}(e);if(/\s/g.test(e))return e;var r=k(e),n=r?e.substr(0,e.length-r.length):e;return t?n+t:n}function B(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function N(e){for(var t,r=e.points,n=0,o=0;o<r.numberOfItems;o++){var i=r.getItem(o);o>0&&(n+=B(t,i)),t=i}return n}function L(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*P(e,"r")}(e);case"rect":return function(e){return 2*P(e,"width")+2*P(e,"height")}(e);case"line":return function(e){return B({x:P(e,"x1"),y:P(e,"y1")},{x:P(e,"x2"),y:P(e,"y2")})}(e);case"polyline":return N(e);case"polygon":return function(e){var t=e.points;return N(e)+B(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function V(e,t){var r=t||{},n=r.el||function(e){for(var t=e.parentNode;c.svg(t)&&c.svg(t.parentNode);)t=t.parentNode;return t}(e),o=n.getBoundingClientRect(),i=P(n,"viewBox"),s=o.width,a=o.height,l=r.viewBox||(i?i.split(" "):[0,0,s,a]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function z(e,t,r){function n(r){void 0===r&&(r=0);var n=t+r>=1?t+r:0;return e.el.getPointAtLength(n)}var o=V(e.el,e.svg),i=n(),s=n(-1),a=n(1),l=r?1:o.w/o.vW,c=r?1:o.h/o.vH;switch(e.property){case"x":return(i.x-o.x)*l;case"y":return(i.y-o.y)*c;case"angle":return 180*Math.atan2(a.y-s.y,a.x-s.x)/Math.PI}}function H(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=F(c.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:c.str(e)||t?n.split(r):[]}}function j(e){return b(e?w(c.arr(e)?e.map(x):x(e)):[],(function(e,t,r){return r.indexOf(e)===t}))}function G(e){var t=j(e);return t.map((function(e,r){return{target:e,id:r,total:t.length,transforms:{list:D(e)}}}))}function U(e,t){var r=E(t);if(/^spring/.test(r.easing)&&(r.duration=d(r.easing)),c.arr(e)){var n=e.length;2!==n||c.obj(e[0])?c.fnc(t.duration)||(r.duration=t.duration/n):e={value:e}}var o=c.arr(e)?e:[e];return o.map((function(e,r){var n=c.obj(e)&&!c.pth(e)?e:{value:e};return c.und(n.delay)&&(n.delay=r?0:t.delay),c.und(n.endDelay)&&(n.endDelay=r===o.length-1?t.endDelay:0),n})).map((function(e){return S(e,r)}))}var q={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,o){if(n.list.set(t,r),t===n.last||o){var i="";n.list.forEach((function(e,t){i+=t+"("+e+") "})),e.style.transform=i}}};function W(e,t){G(e).forEach((function(e){for(var r in t){var n=A(t[r],e),o=e.target,i=k(n),s=I(o,r,i,e),a=R(F(n,i||k(s)),s),l=O(o,r);q[l](o,r,a,e.transforms,!0)}}))}function $(e,t){return b(w(e.map((function(e){return t.map((function(t){return function(e,t){var r=O(e.target,t.name);if(r){var n=function(e,t){var r;return e.tweens.map((function(n){var o=function(e,t){var r={};for(var n in e){var o=A(e[n],t);c.arr(o)&&1===(o=o.map((function(e){return A(e,t)}))).length&&(o=o[0]),r[n]=o}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(n,t),i=o.value,s=c.arr(i)?i[1]:i,a=k(s),l=I(t.target,e.name,a,t),h=r?r.to.original:l,d=c.arr(i)?i[0]:h,u=k(d)||k(l),p=a||u;return c.und(s)&&(s=h),o.from=H(d,p),o.to=H(R(s,d),p),o.start=r?r.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=v(o.easing,o.duration),o.isPath=c.pth(i),o.isPathTargetInsideSVG=o.isPath&&c.svg(t.target),o.isColor=c.col(o.from.original),o.isColor&&(o.round=1),r=o,o}))}(t,e),o=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:o.end,delay:n[0].delay,endDelay:o.endDelay}}}(e,t)}))}))),(function(e){return!c.und(e)}))}function Z(e,t){var r=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},o={};return o.duration=r?Math.max.apply(Math,e.map((function(e){return n(e)+e.duration}))):t.duration,o.delay=r?Math.min.apply(Math,e.map((function(e){return n(e)+e.delay}))):t.delay,o.endDelay=r?o.duration-Math.max.apply(Math,e.map((function(e){return n(e)+e.duration-e.endDelay}))):t.endDelay,o}var K=0,Y=[],X=function(){var e;function t(r){for(var n=Y.length,o=0;o<n;){var i=Y[o];i.paused?(Y.splice(o,1),n--):(i.tick(r),o++)}e=o>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){Q.suspendWhenDocumentHidden&&(J()?e=cancelAnimationFrame(e):(Y.forEach((function(e){return e._onDocumentVisibility()})),X()))})),function(){e||J()&&Q.suspendWhenDocumentHidden||!(Y.length>0)||(e=requestAnimationFrame(t))}}();function J(){return!!document&&document.hidden}function Q(e){void 0===e&&(e={});var t,o=0,i=0,a=0,l=0,h=null;function d(e){var t=window.Promise&&new Promise((function(e){return h=e}));return e.finished=t,t}var u=function(e){var t=C(r,e),o=C(n,e),i=function(e,t){var r=[],n=t.keyframes;for(var o in n&&(t=S(function(e){for(var t=b(w(e.map((function(e){return Object.keys(e)}))),(function(e){return c.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),r={},n=function(n){var o=t[n];r[o]=e.map((function(e){var t={};for(var r in e)c.key(r)?r==o&&(t.value=e[r]):t[r]=e[r];return t}))},o=0;o<t.length;o++)n(o);return r}(n),t)),t)c.key(o)&&r.push({name:o,tweens:U(t[o],e)});return r}(o,e),s=G(e.targets),a=$(s,i),l=Z(a,o),h=K;return K++,S(t,{id:h,children:[],animatables:s,animations:a,duration:l.duration,delay:l.delay,endDelay:l.endDelay})}(e);function p(){var e=u.direction;"alternate"!==e&&(u.direction="normal"!==e?"normal":"reverse"),u.reversed=!u.reversed,t.forEach((function(e){return e.reversed=u.reversed}))}function f(e){return u.reversed?u.duration-e:e}function m(){o=0,i=f(u.currentTime)*(1/Q.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function v(e){for(var t=0,r=u.animations,n=r.length;t<n;){var o=r[t],i=o.animatable,a=o.tweens,l=a.length-1,c=a[l];l&&(c=b(a,(function(t){return e<t.end}))[0]||c);for(var h=s(e-c.start-c.delay,0,c.duration)/c.duration,d=isNaN(h)?1:c.easing(h),p=c.to.strings,f=c.round,m=[],g=c.to.numbers.length,v=void 0,y=0;y<g;y++){var w=void 0,x=c.to.numbers[y],_=c.from.numbers[y]||0;w=c.isPath?z(c.value,d*x,c.isPathTargetInsideSVG):_+d*(x-_),f&&(c.isColor&&y>2||(w=Math.round(w*f)/f)),m.push(w)}var E=p.length;if(E){v=p[0];for(var C=0;C<E;C++){p[C];var S=p[C+1],k=m[C];isNaN(k)||(v+=S?k+S:k+" ")}}else v=m[0];q[o.type](i.target,o.property,v,i.transforms),o.currentValue=v,t++}}function y(e){u[e]&&!u.passThrough&&u[e](u)}function x(e){var r=u.duration,n=u.delay,c=r-u.endDelay,m=f(e);u.progress=s(m/r*100,0,100),u.reversePlayback=m<u.currentTime,t&&function(e){if(u.reversePlayback)for(var r=l;r--;)g(e,t[r]);else for(var n=0;n<l;n++)g(e,t[n])}(m),!u.began&&u.currentTime>0&&(u.began=!0,y("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,y("loopBegin")),m<=n&&0!==u.currentTime&&v(0),(m>=c&&u.currentTime!==r||!r)&&v(r),m>n&&m<c?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,y("changeBegin")),y("change"),v(m)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,y("changeComplete")),u.currentTime=s(m,0,r),u.began&&y("update"),e>=r&&(i=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(o=a,y("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&p()):(u.paused=!0,u.completed||(u.completed=!0,y("loopComplete"),y("complete"),!u.passThrough&&"Promise"in window&&(h(),d(u)))))}return d(u),u.reset=function(){var e=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===e,u.remaining=u.loop,t=u.children;for(var r=l=t.length;r--;)u.children[r].reset();(u.reversed&&!0!==u.loop||"alternate"===e&&1===u.loop)&&u.remaining++,v(u.reversed?u.duration:0)},u._onDocumentVisibility=m,u.set=function(e,t){return W(e,t),u},u.tick=function(e){a=e,o||(o=a),x((a+(i-o))*Q.speed)},u.seek=function(e){x(f(e))},u.pause=function(){u.paused=!0,m()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,Y.push(u),m(),X())},u.reverse=function(){p(),u.completed=!u.reversed,m()},u.restart=function(){u.reset(),u.play()},u.remove=function(e){te(j(e),u)},u.reset(),u.autoplay&&u.play(),u}function ee(e,t){for(var r=t.length;r--;)_(e,t[r].animatable.target)&&t.splice(r,1)}function te(e,t){var r=t.animations,n=t.children;ee(e,r);for(var o=n.length;o--;){var i=n[o],s=i.animations;ee(e,s),s.length||i.children.length||n.splice(o,1)}r.length||n.length||t.pause()}Q.version="3.2.1",Q.speed=1,Q.suspendWhenDocumentHidden=!0,Q.running=Y,Q.remove=function(e){for(var t=j(e),r=Y.length;r--;)te(t,Y[r])},Q.get=I,Q.set=W,Q.convertPx=T,Q.path=function(e,t){var r=c.str(e)?y(e)[0]:e,n=t||100;return function(e){return{property:e,el:r,svg:V(r),totalLength:L(r)*(n/100)}}},Q.setDashoffset=function(e){var t=L(e);return e.setAttribute("stroke-dasharray",t),t},Q.stagger=function(e,t){void 0===t&&(t={});var r=t.direction||"normal",n=t.easing?v(t.easing):null,o=t.grid,i=t.axis,s=t.from||0,a="first"===s,l="center"===s,h="last"===s,d=c.arr(e),u=d?parseFloat(e[0]):parseFloat(e),p=d?parseFloat(e[1]):0,f=k(d?e[1]:e)||0,m=t.start||0+(d?u:0),g=[],y=0;return function(e,t,c){if(a&&(s=0),l&&(s=(c-1)/2),h&&(s=c-1),!g.length){for(var v=0;v<c;v++){if(o){var b=l?(o[0]-1)/2:s%o[0],w=l?(o[1]-1)/2:Math.floor(s/o[0]),x=b-v%o[0],_=w-Math.floor(v/o[0]),E=Math.sqrt(x*x+_*_);"x"===i&&(E=-x),"y"===i&&(E=-_),g.push(E)}else g.push(Math.abs(s-v));y=Math.max.apply(Math,g)}n&&(g=g.map((function(e){return n(e/y)*y}))),"reverse"===r&&(g=g.map((function(e){return i?e<0?-1*e:-e:Math.abs(y-e)})))}return m+(d?(p-u)/y:u)*(Math.round(100*g[t])/100)+f}},Q.timeline=function(e){void 0===e&&(e={});var t=Q(e);return t.duration=0,t.add=function(r,o){var i=Y.indexOf(t),s=t.children;function a(e){e.passThrough=!0}i>-1&&Y.splice(i,1);for(var l=0;l<s.length;l++)a(s[l]);var h=S(r,C(n,e));h.targets=h.targets||e.targets;var d=t.duration;h.autoplay=!1,h.direction=t.direction,h.timelineOffset=c.und(o)?d:R(o,d),a(t),t.seek(h.timelineOffset);var u=Q(h);a(u),s.push(u);var p=Z(s,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Q.easing=v,Q.penner=g,Q.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.Z=Q},9669:function(e,t,r){e.exports=r(1609)},5448:function(e,t,r){"use strict";var n=r(4867),o=r(6026),i=r(4372),s=r(5327),a=r(4097),l=r(4109),c=r(7985),h=r(7874),d=r(2648),u=r(644),p=r(205);e.exports=function(e){return new Promise((function(t,r){var f,m=e.data,g=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}n.isFormData(m)&&n.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+x)}var _=a(e.baseURL,e.url);function E(){if(b){var n="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,i={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:e,request:b};o((function(e){t(e),y()}),(function(e){r(e),y()}),i),b=null}}if(b.open(e.method.toUpperCase(),s(_,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(E)},b.onabort=function(){b&&(r(new d("Request aborted",d.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new d("Network Error",d.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||h;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new d(t,n.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,b)),b=null},n.isStandardBrowserEnv()){var C=(e.withCredentials||c(_))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;C&&(g[e.xsrfHeaderName]=C)}"setRequestHeader"in b&&n.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),v&&"json"!==v&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){b&&(r(!e||e&&e.type?new u:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),m||(m=null);var S=p(_);S&&-1===["http","https","file"].indexOf(S)?r(new d("Unsupported protocol "+S+":",d.ERR_BAD_REQUEST,e)):b.send(m)}))}},1609:function(e,t,r){"use strict";var n=r(4867),o=r(1849),i=r(321),s=r(7185),a=function e(t){var r=new i(t),a=o(i.prototype.request,r);return n.extend(a,i.prototype,r),n.extend(a,r),a.create=function(r){return e(s(t,r))},a}(r(5546));a.Axios=i,a.CanceledError=r(644),a.CancelToken=r(4972),a.isCancel=r(6502),a.VERSION=r(7288).version,a.toFormData=r(7675),a.AxiosError=r(2648),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=r(8713),a.isAxiosError=r(6268),e.exports=a,e.exports.default=a},4972:function(e,t,r){"use strict";var n=r(644);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},644:function(e,t,r){"use strict";var n=r(2648);function o(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(4867).inherits(o,n,{__CANCEL__:!0}),e.exports=o},6502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:function(e,t,r){"use strict";var n=r(4867),o=r(5327),i=r(782),s=r(3572),a=r(7185),l=r(4097),c=r(4875),h=c.validators;function d(e){this.defaults=e,this.interceptors={request:new i,response:new i}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:h.transitional(h.boolean),forcedJSONParsing:h.transitional(h.boolean),clarifyTimeoutError:h.transitional(h.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var i,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var d=[s,void 0];for(Array.prototype.unshift.apply(d,n),d=d.concat(l),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var u=t;n.length;){var p=n.shift(),f=n.shift();try{u=p(u)}catch(e){f(e);break}}try{i=s(u)}catch(e){return Promise.reject(e)}for(;l.length;)i=i.then(l.shift(),l.shift());return i},d.prototype.getUri=function(e){e=a(this.defaults,e);var t=l(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(a(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},2648:function(e,t,r){"use strict";var n=r(4867);function o(e,t,r,n,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}n.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(o,s),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,r,s,a,l){var c=Object.create(i);return n.toFlatObject(e,c,(function(e){return e!==Error.prototype})),o.call(c,e.message,t,r,s,a),c.name=e.name,l&&Object.assign(c,l),c},e.exports=o},782:function(e,t,r){"use strict";var n=r(4867);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},4097:function(e,t,r){"use strict";var n=r(1793),o=r(7303);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},3572:function(e,t,r){"use strict";var n=r(4867),o=r(8527),i=r(6502),s=r(5546),a=r(644);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7185:function(e,t,r){"use strict";var n=r(4867);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function i(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function s(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function l(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);n.isUndefined(o)&&t!==l||(r[e]=o)})),r}},6026:function(e,t,r){"use strict";var n=r(2648);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},8527:function(e,t,r){"use strict";var n=r(4867),o=r(5546);e.exports=function(e,t,r){var i=this||o;return n.forEach(r,(function(r){e=r.call(i,e,t)})),e}},5546:function(e,t,r){"use strict";var n=r(4867),o=r(6016),i=r(2648),s=r(7874),a=r(7675),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(h=r(5448)),h),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,i=n.isObject(e),s=t&&t["Content-Type"];if((r=n.isFileList(e))||i&&"multipart/form-data"===s){var l=this.env&&this.env.FormData;return a(r?{"files[]":e}:e,l&&new l)}return i||"application/json"===s?(c(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i.from(e,i.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(1623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){d.headers[e]=n.merge(l)})),e.exports=d},7874:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:function(e){e.exports={version:"0.27.2"}},1849:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5327:function(e,t,r){"use strict";var n=r(4867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,r){"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:function(e,t,r){"use strict";var n=r(4867);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},7985:function(e,t,r){"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},6016:function(e,t,r){"use strict";var n=r(4867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},1623:function(e){e.exports=null},4109:function(e,t,r){"use strict";var n=r(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},205:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7675:function(e,t,r){"use strict";var n=r(4867);e.exports=function(e,t){t=t||new FormData;var r=[];function o(e){return null===e?"":n.isDate(e)?e.toISOString():n.isArrayBuffer(e)||n.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,s){if(n.isPlainObject(i)||n.isArray(i)){if(-1!==r.indexOf(i))throw Error("Circular reference detected in "+s);r.push(i),n.forEach(i,(function(r,i){if(!n.isUndefined(r)){var a,l=s?s+"."+i:i;if(r&&!s&&"object"==typeof r)if(n.endsWith(i,"{}"))r=JSON.stringify(r);else if(n.endsWith(i,"[]")&&(a=n.toArray(r)))return void a.forEach((function(e){!n.isUndefined(e)&&t.append(l,o(e))}));e(r,l)}})),r.pop()}else t.append(s,o(i))}(e),t}},4875:function(e,t,r){"use strict";var n=r(7288).version,o=r(2648),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new o(i(n," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!s[n]&&(s[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var s=n[i],a=t[s];if(a){var l=e[s],c=void 0===l||a(l,s,e);if(!0!==c)throw new o("option "+s+" must be "+c,o.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o("Unknown option "+s,o.ERR_BAD_OPTION)}},validators:i}},4867:function(e,t,r){"use strict";var n,o=r(1849),i=Object.prototype.toString,s=(n=Object.create(null),function(e){var t=i.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var h=a("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function u(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),f=a("File"),m=a("Blob"),g=a("FileList");function v(e){return"[object Function]"===i.call(e)}var y=a("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),l(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var w,x=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});e.exports={isArray:l,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||i.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:u,isUndefined:c,isDate:p,isFile:f,isBlob:m,isFunction:v,isStream:function(e){return d(e)&&v(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:b,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):l(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)b(arguments[n],r);return t},extend:function(e,t,r){return b(t,(function(t,n){e[n]=r&&"function"==typeof t?o(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,o,i,s={};t=t||{};do{for(o=(n=Object.getOwnPropertyNames(e)).length;o-- >0;)s[i=n[o]]||(t[i]=e[i],s[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:x,isFileList:g}},2882:function(e){"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<t.length;n++){var o=t.charAt(n);if(void 0!==r[o])throw new TypeError(o+" is ambiguous");r[o]=n}function i(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function s(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}for(t=i(t),r=0;r<e.length;++r){var o=e.charCodeAt(r);t=i(t)^31&o}return t}function a(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),o=e.toUpperCase();if(e!==n&&e!==o)return"Mixed-case string "+e;var a=(e=n).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var l=e.slice(0,a),c=e.slice(a+1);if(c.length<6)return"Data too short";var h=s(l);if("string"==typeof h)return h;for(var d=[],u=0;u<c.length;++u){var p=c.charAt(u),f=r[p];if(void 0===f)return"Unknown character "+p;h=i(h)^f,u+6>=c.length||d.push(f)}return 1!==h?"Invalid checksum for "+e:{prefix:l,words:d}}function l(e,t,r,n){for(var o=0,i=0,s=(1<<r)-1,a=[],l=0;l<e.length;++l)for(o=o<<t|e[l],i+=t;i>=r;)i-=r,a.push(o>>i&s);if(n)i>0&&a.push(o<<r-i&s);else{if(i>=t)return"Excess padding";if(o<<r-i&s)return"Non-zero padding"}return a}e.exports={decodeUnsafe:function(){var e=a.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=a.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw new TypeError("Exceeds length limit");var o=s(e=e.toLowerCase());if("string"==typeof o)throw new Error(o);for(var a=e+"1",l=0;l<r.length;++l){var c=r[l];if(c>>5!=0)throw new Error("Non 5-bit word");o=i(o)^c,a+=t.charAt(c)}for(l=0;l<6;++l)o=i(o);for(o^=1,l=0;l<6;++l)a+=t.charAt(o>>5*(5-l)&31);return a},toWordsUnsafe:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},3550:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function o(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function l(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,o){for(var i=0,s=0,a=Math.min(e.length,r),l=t;l<a;l++){var c=e.charCodeAt(l)-48;i*=o,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<o,"Invalid character"),i+=s}return i}function h(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var o=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(o++,this.negative=1),o<e.length&&(16===t?this._parseHex(e,o,r):(this._parseBase(e,t,o),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var i,s,a=0;if("be"===r)for(o=e.length-1,i=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(o=0,i=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,i=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)o=l(e,t,n)<<i,this.words[s]|=67108863&o,i>=18?(i-=18,s+=1,this.words[s]|=o>>>26):i+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)o=l(e,t,n)<<i,this.words[s]|=67108863&o,i>=18?(i-=18,s+=1,this.words[s]|=o>>>26):i+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,o=1;o<=67108863;o*=t)n++;n--,o=o/t|0;for(var i=e.length-r,s=i%n,a=Math.min(i,i-s)+r,l=0,h=r;h<a;h+=n)l=c(e,h,h+n,t),this.imuln(o),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var d=1;for(l=c(e,h,e.length,t),h=0;h<s;h++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){h(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var o=0|e.words[0],i=0|t.words[0],s=o*i,a=67108863&s,l=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=l>>>26,d=67108863&l,u=Math.min(c,t.length-1),p=Math.max(0,c-e.length+1);p<=u;p++){var f=c-p|0;h+=(s=(o=0|e.words[f])*(i=0|t.words[p])+d)/67108864|0,d=67108863&s}r.words[c]=0|d,l=0|h}return 0!==l?r.words[c]=0|l:r.length--,r._strip()}i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var o=0,i=0,s=0;s<this.length;s++){var a=this.words[s],l=(16777215&(a<<o|i)).toString(16);i=a>>>24-o&16777215,(o+=2)>=26&&(o-=26,s--),r=0!==i||s!==this.length-1?u[6-l.length]+l+r:l+r}for(0!==i&&(r=i.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=p[e],h=f[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(h).toString(e);r=(d=d.idivn(h)).isZero()?m+r:u[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,r){this._strip();var o=this.byteLength(),i=r||Math.max(1,o);n(o<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,i);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,o),s},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,o=0,i=0;o<this.length;o++){var s=this.words[o]<<i|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===i?(r<e.length&&(e[r++]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,o=0,i=0;o<this.length;o++){var s=this.words[o]<<i|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===i?(r>=0&&(e[r--]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var o=0;o<t;o++)this.words[o]=67108863&~this.words[o];return r>0&&(this.words[o]=~this.words[o]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,o=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<o:this.words[r]&~(1<<o),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var o=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+o,this.words[i]=67108863&t,o=t>>>26;for(;0!==o&&i<r.length;i++)t=(0|r.words[i])+o,this.words[i]=67108863&t,o=t>>>26;if(this.length=r.length,0!==o)this.words[this.length]=o,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,o=this.cmp(e);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,o,i,s=e.words,a=t.words,l=r.words,c=0,h=0|s[0],d=8191&h,u=h>>>13,p=0|s[1],f=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,x=b>>>13,_=0|s[4],E=8191&_,C=_>>>13,S=0|s[5],k=8191&S,A=S>>>13,P=0|s[6],T=8191&P,M=P>>>13,O=0|s[7],D=8191&O,I=O>>>13,R=0|s[8],F=8191&R,B=R>>>13,N=0|s[9],L=8191&N,V=N>>>13,z=0|a[0],H=8191&z,j=z>>>13,G=0|a[1],U=8191&G,q=G>>>13,W=0|a[2],$=8191&W,Z=W>>>13,K=0|a[3],Y=8191&K,X=K>>>13,J=0|a[4],Q=8191&J,ee=J>>>13,te=0|a[5],re=8191&te,ne=te>>>13,oe=0|a[6],ie=8191&oe,se=oe>>>13,ae=0|a[7],le=8191&ae,ce=ae>>>13,he=0|a[8],de=8191&he,ue=he>>>13,pe=0|a[9],fe=8191&pe,me=pe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(d,H))|0)+((8191&(o=(o=Math.imul(d,j))+Math.imul(u,H)|0))<<13)|0;c=((i=Math.imul(u,j))+(o>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(f,H),o=(o=Math.imul(f,j))+Math.imul(m,H)|0,i=Math.imul(m,j);var ve=(c+(n=n+Math.imul(d,U)|0)|0)+((8191&(o=(o=o+Math.imul(d,q)|0)+Math.imul(u,U)|0))<<13)|0;c=((i=i+Math.imul(u,q)|0)+(o>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,H),o=(o=Math.imul(v,j))+Math.imul(y,H)|0,i=Math.imul(y,j),n=n+Math.imul(f,U)|0,o=(o=o+Math.imul(f,q)|0)+Math.imul(m,U)|0,i=i+Math.imul(m,q)|0;var ye=(c+(n=n+Math.imul(d,$)|0)|0)+((8191&(o=(o=o+Math.imul(d,Z)|0)+Math.imul(u,$)|0))<<13)|0;c=((i=i+Math.imul(u,Z)|0)+(o>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,H),o=(o=Math.imul(w,j))+Math.imul(x,H)|0,i=Math.imul(x,j),n=n+Math.imul(v,U)|0,o=(o=o+Math.imul(v,q)|0)+Math.imul(y,U)|0,i=i+Math.imul(y,q)|0,n=n+Math.imul(f,$)|0,o=(o=o+Math.imul(f,Z)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,Z)|0;var be=(c+(n=n+Math.imul(d,Y)|0)|0)+((8191&(o=(o=o+Math.imul(d,X)|0)+Math.imul(u,Y)|0))<<13)|0;c=((i=i+Math.imul(u,X)|0)+(o>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(E,H),o=(o=Math.imul(E,j))+Math.imul(C,H)|0,i=Math.imul(C,j),n=n+Math.imul(w,U)|0,o=(o=o+Math.imul(w,q)|0)+Math.imul(x,U)|0,i=i+Math.imul(x,q)|0,n=n+Math.imul(v,$)|0,o=(o=o+Math.imul(v,Z)|0)+Math.imul(y,$)|0,i=i+Math.imul(y,Z)|0,n=n+Math.imul(f,Y)|0,o=(o=o+Math.imul(f,X)|0)+Math.imul(m,Y)|0,i=i+Math.imul(m,X)|0;var we=(c+(n=n+Math.imul(d,Q)|0)|0)+((8191&(o=(o=o+Math.imul(d,ee)|0)+Math.imul(u,Q)|0))<<13)|0;c=((i=i+Math.imul(u,ee)|0)+(o>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(k,H),o=(o=Math.imul(k,j))+Math.imul(A,H)|0,i=Math.imul(A,j),n=n+Math.imul(E,U)|0,o=(o=o+Math.imul(E,q)|0)+Math.imul(C,U)|0,i=i+Math.imul(C,q)|0,n=n+Math.imul(w,$)|0,o=(o=o+Math.imul(w,Z)|0)+Math.imul(x,$)|0,i=i+Math.imul(x,Z)|0,n=n+Math.imul(v,Y)|0,o=(o=o+Math.imul(v,X)|0)+Math.imul(y,Y)|0,i=i+Math.imul(y,X)|0,n=n+Math.imul(f,Q)|0,o=(o=o+Math.imul(f,ee)|0)+Math.imul(m,Q)|0,i=i+Math.imul(m,ee)|0;var xe=(c+(n=n+Math.imul(d,re)|0)|0)+((8191&(o=(o=o+Math.imul(d,ne)|0)+Math.imul(u,re)|0))<<13)|0;c=((i=i+Math.imul(u,ne)|0)+(o>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(T,H),o=(o=Math.imul(T,j))+Math.imul(M,H)|0,i=Math.imul(M,j),n=n+Math.imul(k,U)|0,o=(o=o+Math.imul(k,q)|0)+Math.imul(A,U)|0,i=i+Math.imul(A,q)|0,n=n+Math.imul(E,$)|0,o=(o=o+Math.imul(E,Z)|0)+Math.imul(C,$)|0,i=i+Math.imul(C,Z)|0,n=n+Math.imul(w,Y)|0,o=(o=o+Math.imul(w,X)|0)+Math.imul(x,Y)|0,i=i+Math.imul(x,X)|0,n=n+Math.imul(v,Q)|0,o=(o=o+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,i=i+Math.imul(y,ee)|0,n=n+Math.imul(f,re)|0,o=(o=o+Math.imul(f,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var _e=(c+(n=n+Math.imul(d,ie)|0)|0)+((8191&(o=(o=o+Math.imul(d,se)|0)+Math.imul(u,ie)|0))<<13)|0;c=((i=i+Math.imul(u,se)|0)+(o>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(D,H),o=(o=Math.imul(D,j))+Math.imul(I,H)|0,i=Math.imul(I,j),n=n+Math.imul(T,U)|0,o=(o=o+Math.imul(T,q)|0)+Math.imul(M,U)|0,i=i+Math.imul(M,q)|0,n=n+Math.imul(k,$)|0,o=(o=o+Math.imul(k,Z)|0)+Math.imul(A,$)|0,i=i+Math.imul(A,Z)|0,n=n+Math.imul(E,Y)|0,o=(o=o+Math.imul(E,X)|0)+Math.imul(C,Y)|0,i=i+Math.imul(C,X)|0,n=n+Math.imul(w,Q)|0,o=(o=o+Math.imul(w,ee)|0)+Math.imul(x,Q)|0,i=i+Math.imul(x,ee)|0,n=n+Math.imul(v,re)|0,o=(o=o+Math.imul(v,ne)|0)+Math.imul(y,re)|0,i=i+Math.imul(y,ne)|0,n=n+Math.imul(f,ie)|0,o=(o=o+Math.imul(f,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var Ee=(c+(n=n+Math.imul(d,le)|0)|0)+((8191&(o=(o=o+Math.imul(d,ce)|0)+Math.imul(u,le)|0))<<13)|0;c=((i=i+Math.imul(u,ce)|0)+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(F,H),o=(o=Math.imul(F,j))+Math.imul(B,H)|0,i=Math.imul(B,j),n=n+Math.imul(D,U)|0,o=(o=o+Math.imul(D,q)|0)+Math.imul(I,U)|0,i=i+Math.imul(I,q)|0,n=n+Math.imul(T,$)|0,o=(o=o+Math.imul(T,Z)|0)+Math.imul(M,$)|0,i=i+Math.imul(M,Z)|0,n=n+Math.imul(k,Y)|0,o=(o=o+Math.imul(k,X)|0)+Math.imul(A,Y)|0,i=i+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,o=(o=o+Math.imul(E,ee)|0)+Math.imul(C,Q)|0,i=i+Math.imul(C,ee)|0,n=n+Math.imul(w,re)|0,o=(o=o+Math.imul(w,ne)|0)+Math.imul(x,re)|0,i=i+Math.imul(x,ne)|0,n=n+Math.imul(v,ie)|0,o=(o=o+Math.imul(v,se)|0)+Math.imul(y,ie)|0,i=i+Math.imul(y,se)|0,n=n+Math.imul(f,le)|0,o=(o=o+Math.imul(f,ce)|0)+Math.imul(m,le)|0,i=i+Math.imul(m,ce)|0;var Ce=(c+(n=n+Math.imul(d,de)|0)|0)+((8191&(o=(o=o+Math.imul(d,ue)|0)+Math.imul(u,de)|0))<<13)|0;c=((i=i+Math.imul(u,ue)|0)+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,H),o=(o=Math.imul(L,j))+Math.imul(V,H)|0,i=Math.imul(V,j),n=n+Math.imul(F,U)|0,o=(o=o+Math.imul(F,q)|0)+Math.imul(B,U)|0,i=i+Math.imul(B,q)|0,n=n+Math.imul(D,$)|0,o=(o=o+Math.imul(D,Z)|0)+Math.imul(I,$)|0,i=i+Math.imul(I,Z)|0,n=n+Math.imul(T,Y)|0,o=(o=o+Math.imul(T,X)|0)+Math.imul(M,Y)|0,i=i+Math.imul(M,X)|0,n=n+Math.imul(k,Q)|0,o=(o=o+Math.imul(k,ee)|0)+Math.imul(A,Q)|0,i=i+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,o=(o=o+Math.imul(E,ne)|0)+Math.imul(C,re)|0,i=i+Math.imul(C,ne)|0,n=n+Math.imul(w,ie)|0,o=(o=o+Math.imul(w,se)|0)+Math.imul(x,ie)|0,i=i+Math.imul(x,se)|0,n=n+Math.imul(v,le)|0,o=(o=o+Math.imul(v,ce)|0)+Math.imul(y,le)|0,i=i+Math.imul(y,ce)|0,n=n+Math.imul(f,de)|0,o=(o=o+Math.imul(f,ue)|0)+Math.imul(m,de)|0,i=i+Math.imul(m,ue)|0;var Se=(c+(n=n+Math.imul(d,fe)|0)|0)+((8191&(o=(o=o+Math.imul(d,me)|0)+Math.imul(u,fe)|0))<<13)|0;c=((i=i+Math.imul(u,me)|0)+(o>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,U),o=(o=Math.imul(L,q))+Math.imul(V,U)|0,i=Math.imul(V,q),n=n+Math.imul(F,$)|0,o=(o=o+Math.imul(F,Z)|0)+Math.imul(B,$)|0,i=i+Math.imul(B,Z)|0,n=n+Math.imul(D,Y)|0,o=(o=o+Math.imul(D,X)|0)+Math.imul(I,Y)|0,i=i+Math.imul(I,X)|0,n=n+Math.imul(T,Q)|0,o=(o=o+Math.imul(T,ee)|0)+Math.imul(M,Q)|0,i=i+Math.imul(M,ee)|0,n=n+Math.imul(k,re)|0,o=(o=o+Math.imul(k,ne)|0)+Math.imul(A,re)|0,i=i+Math.imul(A,ne)|0,n=n+Math.imul(E,ie)|0,o=(o=o+Math.imul(E,se)|0)+Math.imul(C,ie)|0,i=i+Math.imul(C,se)|0,n=n+Math.imul(w,le)|0,o=(o=o+Math.imul(w,ce)|0)+Math.imul(x,le)|0,i=i+Math.imul(x,ce)|0,n=n+Math.imul(v,de)|0,o=(o=o+Math.imul(v,ue)|0)+Math.imul(y,de)|0,i=i+Math.imul(y,ue)|0;var ke=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(o=(o=o+Math.imul(f,me)|0)+Math.imul(m,fe)|0))<<13)|0;c=((i=i+Math.imul(m,me)|0)+(o>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,$),o=(o=Math.imul(L,Z))+Math.imul(V,$)|0,i=Math.imul(V,Z),n=n+Math.imul(F,Y)|0,o=(o=o+Math.imul(F,X)|0)+Math.imul(B,Y)|0,i=i+Math.imul(B,X)|0,n=n+Math.imul(D,Q)|0,o=(o=o+Math.imul(D,ee)|0)+Math.imul(I,Q)|0,i=i+Math.imul(I,ee)|0,n=n+Math.imul(T,re)|0,o=(o=o+Math.imul(T,ne)|0)+Math.imul(M,re)|0,i=i+Math.imul(M,ne)|0,n=n+Math.imul(k,ie)|0,o=(o=o+Math.imul(k,se)|0)+Math.imul(A,ie)|0,i=i+Math.imul(A,se)|0,n=n+Math.imul(E,le)|0,o=(o=o+Math.imul(E,ce)|0)+Math.imul(C,le)|0,i=i+Math.imul(C,ce)|0,n=n+Math.imul(w,de)|0,o=(o=o+Math.imul(w,ue)|0)+Math.imul(x,de)|0,i=i+Math.imul(x,ue)|0;var Ae=(c+(n=n+Math.imul(v,fe)|0)|0)+((8191&(o=(o=o+Math.imul(v,me)|0)+Math.imul(y,fe)|0))<<13)|0;c=((i=i+Math.imul(y,me)|0)+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,Y),o=(o=Math.imul(L,X))+Math.imul(V,Y)|0,i=Math.imul(V,X),n=n+Math.imul(F,Q)|0,o=(o=o+Math.imul(F,ee)|0)+Math.imul(B,Q)|0,i=i+Math.imul(B,ee)|0,n=n+Math.imul(D,re)|0,o=(o=o+Math.imul(D,ne)|0)+Math.imul(I,re)|0,i=i+Math.imul(I,ne)|0,n=n+Math.imul(T,ie)|0,o=(o=o+Math.imul(T,se)|0)+Math.imul(M,ie)|0,i=i+Math.imul(M,se)|0,n=n+Math.imul(k,le)|0,o=(o=o+Math.imul(k,ce)|0)+Math.imul(A,le)|0,i=i+Math.imul(A,ce)|0,n=n+Math.imul(E,de)|0,o=(o=o+Math.imul(E,ue)|0)+Math.imul(C,de)|0,i=i+Math.imul(C,ue)|0;var Pe=(c+(n=n+Math.imul(w,fe)|0)|0)+((8191&(o=(o=o+Math.imul(w,me)|0)+Math.imul(x,fe)|0))<<13)|0;c=((i=i+Math.imul(x,me)|0)+(o>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,Q),o=(o=Math.imul(L,ee))+Math.imul(V,Q)|0,i=Math.imul(V,ee),n=n+Math.imul(F,re)|0,o=(o=o+Math.imul(F,ne)|0)+Math.imul(B,re)|0,i=i+Math.imul(B,ne)|0,n=n+Math.imul(D,ie)|0,o=(o=o+Math.imul(D,se)|0)+Math.imul(I,ie)|0,i=i+Math.imul(I,se)|0,n=n+Math.imul(T,le)|0,o=(o=o+Math.imul(T,ce)|0)+Math.imul(M,le)|0,i=i+Math.imul(M,ce)|0,n=n+Math.imul(k,de)|0,o=(o=o+Math.imul(k,ue)|0)+Math.imul(A,de)|0,i=i+Math.imul(A,ue)|0;var Te=(c+(n=n+Math.imul(E,fe)|0)|0)+((8191&(o=(o=o+Math.imul(E,me)|0)+Math.imul(C,fe)|0))<<13)|0;c=((i=i+Math.imul(C,me)|0)+(o>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,re),o=(o=Math.imul(L,ne))+Math.imul(V,re)|0,i=Math.imul(V,ne),n=n+Math.imul(F,ie)|0,o=(o=o+Math.imul(F,se)|0)+Math.imul(B,ie)|0,i=i+Math.imul(B,se)|0,n=n+Math.imul(D,le)|0,o=(o=o+Math.imul(D,ce)|0)+Math.imul(I,le)|0,i=i+Math.imul(I,ce)|0,n=n+Math.imul(T,de)|0,o=(o=o+Math.imul(T,ue)|0)+Math.imul(M,de)|0,i=i+Math.imul(M,ue)|0;var Me=(c+(n=n+Math.imul(k,fe)|0)|0)+((8191&(o=(o=o+Math.imul(k,me)|0)+Math.imul(A,fe)|0))<<13)|0;c=((i=i+Math.imul(A,me)|0)+(o>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,ie),o=(o=Math.imul(L,se))+Math.imul(V,ie)|0,i=Math.imul(V,se),n=n+Math.imul(F,le)|0,o=(o=o+Math.imul(F,ce)|0)+Math.imul(B,le)|0,i=i+Math.imul(B,ce)|0,n=n+Math.imul(D,de)|0,o=(o=o+Math.imul(D,ue)|0)+Math.imul(I,de)|0,i=i+Math.imul(I,ue)|0;var Oe=(c+(n=n+Math.imul(T,fe)|0)|0)+((8191&(o=(o=o+Math.imul(T,me)|0)+Math.imul(M,fe)|0))<<13)|0;c=((i=i+Math.imul(M,me)|0)+(o>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(L,le),o=(o=Math.imul(L,ce))+Math.imul(V,le)|0,i=Math.imul(V,ce),n=n+Math.imul(F,de)|0,o=(o=o+Math.imul(F,ue)|0)+Math.imul(B,de)|0,i=i+Math.imul(B,ue)|0;var De=(c+(n=n+Math.imul(D,fe)|0)|0)+((8191&(o=(o=o+Math.imul(D,me)|0)+Math.imul(I,fe)|0))<<13)|0;c=((i=i+Math.imul(I,me)|0)+(o>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(L,de),o=(o=Math.imul(L,ue))+Math.imul(V,de)|0,i=Math.imul(V,ue);var Ie=(c+(n=n+Math.imul(F,fe)|0)|0)+((8191&(o=(o=o+Math.imul(F,me)|0)+Math.imul(B,fe)|0))<<13)|0;c=((i=i+Math.imul(B,me)|0)+(o>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Re=(c+(n=Math.imul(L,fe))|0)+((8191&(o=(o=Math.imul(L,me))+Math.imul(V,fe)|0))<<13)|0;return c=((i=Math.imul(V,me))+(o>>>13)|0)+(Re>>>26)|0,Re&=67108863,l[0]=ge,l[1]=ve,l[2]=ye,l[3]=be,l[4]=we,l[5]=xe,l[6]=_e,l[7]=Ee,l[8]=Ce,l[9]=Se,l[10]=ke,l[11]=Ae,l[12]=Pe,l[13]=Te,l[14]=Me,l[15]=Oe,l[16]=De,l[17]=Ie,l[18]=Re,0!==c&&(l[19]=c,r.length++),r};function v(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,o=0,i=0;i<r.length-1;i++){var s=o;o=0;for(var a=67108863&n,l=Math.min(i,t.length-1),c=Math.max(0,i-e.length+1);c<=l;c++){var h=i-c,d=(0|e.words[h])*(0|t.words[c]),u=67108863&d;a=67108863&(u=u+a|0),o+=(s=(s=s+(d/67108864|0)|0)+(u>>>26)|0)>>>26,s&=67108863}r.words[i]=a,n=s,s=o}return 0!==n?r.words[i]=n:r.length--,r._strip()}function y(e,t,r){return v(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(g=m),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?m(this,e,t):r<1024?v(this,e,t):y(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,o=0;o<t;o++)n|=(1&e)<<t-o-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,o,i){for(var s=0;s<i;s++)n[s]=t[e[s]],o[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,o,i){this.permute(i,e,t,r,n,o);for(var s=1;s<o;s<<=1)for(var a=s<<1,l=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<o;h+=a)for(var d=l,u=c,p=0;p<s;p++){var f=r[h+p],m=n[h+p],g=r[h+p+s],v=n[h+p+s],y=d*g-u*v;v=d*v+u*g,g=y,r[h+p]=f+g,n[h+p]=m+v,r[h+p+s]=f-g,n[h+p+s]=m-v,p!==a&&(y=l*d-c*u,u=l*u+c*d,d=y)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,o=0;for(r=r/2|0;r;r>>>=1)o++;return 1<<o+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var o=e[n];e[n]=e[r-n-1],e[r-n-1]=o,o=t[n],t[n]=-t[r-n-1],t[r-n-1]=-o}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var o=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&o,r=o<67108864?0:o/67108864|0}return e},b.prototype.convert13b=function(e,t,r,o){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<o;++s)r[s]=0;n(0===i),n(0==(-8192&i))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),o=this.makeRBT(n),i=this.stub(n),s=new Array(n),a=new Array(n),l=new Array(n),c=new Array(n),h=new Array(n),d=new Array(n),u=r.words;u.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,i,a,l,n,o),this.transform(c,i,h,d,n,o);for(var p=0;p<n;p++){var f=a[p]*h[p]-l[p]*d[p];l[p]=a[p]*d[p]+l[p]*h[p],a[p]=f}return this.conjugate(a,l,n),this.transform(a,l,u,i,n,o),this.conjugate(u,i,n),this.normalize13b(u,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),y(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,o=0;o<this.length;o++){var i=(0|this.words[o])*e,s=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=s>>>26,this.words[o]=67108863&s}return 0!==r&&(this.words[o]=r,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,o=r%26;t[r]=e.words[n]>>>o&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,o=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&i,l=(0|this.words[t])-a<<r;this.words[t]=l|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==o){for(t=this.length-1;t>=0;t--)this.words[t+o]=this.words[t];for(t=0;t<o;t++)this.words[t]=0;this.length+=o}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var o;n("number"==typeof e&&e>=0),o=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),a=67108863^67108863>>>i<<i,l=r;if(o-=s,o=Math.max(0,o),l){for(var c=0;c<s;c++)l.words[c]=this.words[c];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=o);c--){var d=0|this.words[c];this.words[c]=h<<26-i|d>>>i,h=d&a}return l&&0!==h&&(l.words[l.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,o=1<<t;return!(this.length<=r||!(this.words[r]&o))},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var o=67108863^67108863>>>t<<t;this.words[this.length-1]&=o}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var o,i,s=e.length+r;this._expand(s);var a=0;for(o=0;o<e.length;o++){i=(0|this.words[o+r])+a;var l=(0|e.words[o])*t;a=((i-=67108863&l)>>26)-(l/67108864|0),this.words[o+r]=67108863&i}for(;o<this.length-r;o++)a=(i=(0|this.words[o+r])+a)>>26,this.words[o+r]=67108863&i;if(0===a)return this._strip();for(n(-1===a),a=0,o=0;o<this.length;o++)a=(i=-(0|this.words[o])+a)>>26,this.words[o]=67108863&i;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,l=n.length-o.length;if("mod"!==t){(a=new i(null)).length=l+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(o,1,l);0===h.negative&&(n=h,a&&(a.words[l]=1));for(var d=l-1;d>=0;d--){var u=67108864*(0|n.words[o.length+d])+(0|n.words[o.length+d-1]);for(u=Math.min(u/s|0,67108863),n._ishlnsubmul(o,u,d);0!==n.negative;)u--,n.negative=0,n._ishlnsubmul(o,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=u)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),o=e.andln(1),i=r.cmp(n);return i<0||1===o&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,o=0,i=this.length-1;i>=0;i--)o=(r*o+(0|this.words[i]))%e;return t?-o:o},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,o=this.length-1;o>=0;o--){var i=(0|this.words[o])+67108864*r;this.words[o]=i/e|0,r=i%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),l=new i(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),d=t.clone();!t.isZero();){for(var u=0,p=1;0==(t.words[0]&p)&&u<26;++u,p<<=1);if(u>0)for(t.iushrn(u);u-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(h),s.isub(d)),o.iushrn(1),s.iushrn(1);for(var f=0,m=1;0==(r.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(h),l.isub(d)),a.iushrn(1),l.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a),s.isub(l)):(r.isub(t),a.isub(o),l.isub(s))}return{a:a,b:l,gcd:r.iushln(c)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,s=new i(1),a=new i(0),l=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;0==(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var d=0,u=1;0==(r.words[0]&u)&&d<26;++d,u<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(o=0===t.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var o=t.cmp(r);if(o<0){var i=t;t=r,r=i}else if(0===o||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,o=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=o,this;for(var i=o,s=r;0!==i&&s<this.length;s++){var a=0|this.words[s];i=(a+=i)>>>26,a&=67108863,this.words[s]=a}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var o=0|this.words[0];t=o===e?0:o<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],o=0|e.words[r];if(n!==o){n<o?t=-1:n>o&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new k(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function C(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},o(_,x),_.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),o=0;o<n;o++)t.words[o]=e.words[o];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=i&r,o=10;o<e.length;o++){var s=0|e.words[o];e.words[o-10]=(s&r)<<4|i>>>22,i=s}i>>>=22,e.words[o-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},o(E,x),o(C,x),o(S,x),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,o=67108863&n;n>>>=26,e.words[r]=o,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new E;else if("p192"===e)t=new C;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return w[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(h(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);n(!o.isZero());var a=new i(1).toRed(this),l=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);0!==this.pow(h,c).cmp(l);)h.redIAdd(l);for(var d=this.pow(h,o),u=this.pow(e,o.addn(1).iushrn(1)),p=this.pow(e,o),f=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<f);var v=this.pow(d,new i(1).iushln(f-g-1));u=u.redMul(v),d=v.redSqr(),p=p.redMul(d),f=g}return u},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,l=t.bitLength()%26;for(0===l&&(l=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=l-1;h>=0;h--){var d=c>>h&1;o!==r[0]&&(o=this.sqr(o)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===n&&0===h)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}l=26}return o},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},o(A,k),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),i=o;return o.cmp(this.m)>=0?i=o.isub(this.m):o.cmpn(0)<0&&(i=o.iadd(this.m)),i._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},6856:function(e,t,r){"use strict";r.d(t,{Z:function(){return Lr}});var n=r(200),o=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,n){const o=t.listeners[n],i=t.duration;o.forEach((n=>n({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(r-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=n.r.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((r,n)=>{if(!r.running||!r.items.length)return;const o=r.items;let i,s=o.length-1,a=!1;for(;s>=0;--s)i=o[s],i._active?(i._total>r.duration&&(r.duration=i._total),i.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(n.draw(),this._notify(n,r,e,"progress")),o.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),t+=o.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const i="transparent",s={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const o=(0,n.c)(e||i),s=o.valid&&(0,n.c)(t||i);return s&&s.valid?s.mix(o,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class a{constructor(e,t,r,o){const i=t[r];o=(0,n.a)([e.to,o,i,e.from]);const a=(0,n.a)([e.from,i,o]);this._active=!0,this._fn=e.fn||s[e.type||typeof a],this._easing=n.e[e.easing]||n.e.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const o=this._target[this._prop],i=r-this._start,s=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=(0,n.a)([e.to,t,o,e.from]),this._from=(0,n.a)([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,n=this._prop,o=this._from,i=this._loop,s=this._to;let a;if(this._active=o!==s&&(i||t<r),!this._active)return this._target[n]=s,void this._notify(!0);t<0?this._target[n]=o:(a=t/r%2,a=i&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[n]=this._fn(o,s,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,r)=>{e.push({res:t,rej:r})}))}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let e=0;e<r.length;e++)r[e][t]()}}n.d.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const l=Object.keys(n.d.animation);n.d.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),n.d.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),n.d.describe("animations",{_fallback:"animation"}),n.d.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class c{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!(0,n.i)(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const o=e[r];if(!(0,n.i)(o))return;const i={};for(const e of l)i[e]=o[e];((0,n.b)(o.properties)&&o.properties||[r]).forEach((e=>{e!==r&&t.has(e)||t.set(e,i)}))}))}_animateOptions(e,t){const r=t.options,n=function(e,t){if(!t)return;let r=e.options;if(r)return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r;e.options=t}(e,r);if(!n)return[];const o=this._createAnimations(n,r);return r.$shared&&function(e,t){const r=[],n=Object.keys(t);for(let t=0;t<n.length;t++){const o=e[n[t]];o&&o.active()&&r.push(o.wait())}return Promise.all(r)}(e.options.$animations,r).then((()=>{e.options=r}),(()=>{})),o}_createAnimations(e,t){const r=this._properties,n=[],o=e.$animations||(e.$animations={}),i=Object.keys(t),s=Date.now();let l;for(l=i.length-1;l>=0;--l){const c=i[l];if("$"===c.charAt(0))continue;if("options"===c){n.push(...this._animateOptions(e,t));continue}const h=t[c];let d=o[c];const u=r.get(c);if(d){if(u&&d.active()){d.update(u,h,s);continue}d.cancel()}u&&u.duration?(o[c]=d=new a(u,e,c,h),n.push(d)):e[c]=h}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(o.add(this._chart,r),!0):void 0}}function h(e,t){const r=e&&e.options||{},n=r.reverse,o=void 0===r.min?t:0,i=void 0===r.max?t:0;return{start:n?i:o,end:n?o:i}}function d(e,t){const r=[],n=e._getSortedDatasetMetas(t);let o,i;for(o=0,i=n.length;o<i;++o)r.push(n[o].index);return r}function u(e,t,r,o={}){const i=e.keys,s="single"===o.mode;let a,l,c,h;if(null!==t){for(a=0,l=i.length;a<l;++a){if(c=+i[a],c===r){if(o.all)continue;break}h=e.values[c],(0,n.g)(h)&&(s||0===t||(0,n.s)(t)===(0,n.s)(h))&&(t+=h)}return t}}function p(e,t){const r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function f(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function m(e,t,r,n){for(const o of t.getMatchingVisibleMetas(n).reverse()){const t=e[o.index];if(r&&t>0||!r&&t<0)return o.index}return null}function g(e,t){const{chart:r,_cachedMeta:n}=e,o=r._stacks||(r._stacks={}),{iScale:i,vScale:s,index:a}=n,l=i.axis,c=s.axis,h=function(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}(i,s,n),d=t.length;let u;for(let e=0;e<d;++e){const r=t[e],{[l]:i,[c]:d}=r;u=(r._stacks||(r._stacks={}))[c]=f(o,h,i),u[a]=d,u._top=m(u,s,!0,n.type),u._bottom=m(u,s,!1,n.type)}}function v(e,t){const r=e.scales;return Object.keys(r).filter((e=>r[e].axis===t)).shift()}function y(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][r])return;delete t[n][r]}}}const b=e=>"reset"===e||"none"===e,w=(e,t)=>t?e:Object.assign({},e);class x{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=p(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&y(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),o=(e,t,r,n)=>"x"===e?t:"r"===e?n:r,i=t.xAxisID=(0,n.v)(r.xAxisID,v(e,"x")),s=t.yAxisID=(0,n.v)(r.yAxisID,v(e,"y")),a=t.rAxisID=(0,n.v)(r.rAxisID,v(e,"r")),l=t.indexAxis,c=t.iAxisID=o(l,i,s,a),h=t.vAxisID=o(l,s,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&(0,n.u)(this._data,this),e._stacked&&y(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if((0,n.i)(t))this._data=function(e){const t=Object.keys(e),r=new Array(t.length);let n,o,i;for(n=0,o=t.length;n<o;++n)i=t[n],r[n]={x:i,y:e[i]};return r}(t);else if(r!==t){if(r){(0,n.u)(r,this);const e=this._cachedMeta;y(e),e._parsed=[]}t&&Object.isExtensible(t)&&(0,n.l)(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const o=t._stacked;t._stacked=p(t.vScale,t),t.stack!==r.stack&&(n=!0,y(t),t.stack=r.stack),this._resyncElements(e),(n||o!==t._stacked)&&g(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:o}=this,{iScale:i,_stacked:s}=r,a=i.axis;let l,c,h,d=0===e&&t===o.length||r._sorted,u=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,h=o;else{h=(0,n.b)(o[e])?this.parseArrayData(r,o,e,t):(0,n.i)(o[e])?this.parseObjectData(r,o,e,t):this.parsePrimitiveData(r,o,e,t);const i=()=>null===c[a]||u&&c[a]<u[a];for(l=0;l<t;++l)r._parsed[l+e]=c=h[l],d&&(i()&&(d=!1),u=c);r._sorted=d}s&&g(this,h)}parsePrimitiveData(e,t,r,n){const{iScale:o,vScale:i}=e,s=o.axis,a=i.axis,l=o.getLabels(),c=o===i,h=new Array(n);let d,u,p;for(d=0,u=n;d<u;++d)p=d+r,h[d]={[s]:c||o.parse(l[p],p),[a]:i.parse(t[p],p)};return h}parseArrayData(e,t,r,n){const{xScale:o,yScale:i}=e,s=new Array(n);let a,l,c,h;for(a=0,l=n;a<l;++a)c=a+r,h=t[c],s[a]={x:o.parse(h[0],c),y:i.parse(h[1],c)};return s}parseObjectData(e,t,r,o){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(o);let h,d,u,p;for(h=0,d=o;h<d;++h)u=h+r,p=t[u],c[h]={x:i.parse((0,n.f)(p,a),u),y:s.parse((0,n.f)(p,l),u)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const n=this.chart,o=this._cachedMeta,i=t[e.axis];return u({keys:d(n,!0),values:t._stacks[e.axis]},i,o.index,{mode:r})}updateRangeFromParsed(e,t,r,n){const o=r[t.axis];let i=null===o?NaN:o;const s=n&&r._stacks[t.axis];n&&s&&(n.values=s,i=u(n,o,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const r=this._cachedMeta,o=r._parsed,i=r._sorted&&e===r.iScale,s=o.length,a=this._getOtherScale(e),l=((e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:d(r,!0),values:null})(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=function(e){const{min:t,max:r,minDefined:n,maxDefined:o}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:o?r:Number.POSITIVE_INFINITY}}(a);let p,f;function m(){f=o[p];const t=f[a.axis];return!(0,n.g)(f[e.axis])||h>t||u<t}for(p=0;p<s&&(m()||(this.updateRangeFromParsed(c,e,f,l),!i));++p);if(i)for(p=s-1;p>=0;--p)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let o,i,s;for(o=0,i=t.length;o<i;++o)s=t[o][e.axis],(0,n.g)(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,n=t.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:n?""+n.getLabelForValue(o[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,r,o,i;return(0,n.i)(e)?(t=e.top,r=e.right,o=e.bottom,i=e.left):t=r=o=i=e,{top:t,right:r,bottom:o,left:i,disabled:!1===e}}((0,n.v)(this.options.clip,function(e,t,r){if(!1===r)return!1;const n=h(e,r),o=h(t,r);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,n=r.data||[],o=t.chartArea,i=[],s=this._drawStart||0,a=this._drawCount||n.length-s,l=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,o,s,a),c=s;c<s+a;++c){const t=n[c];t.hidden||(t.active&&l?i.push(t):t.draw(e,o))}for(c=0;c<i.length;++c)i[c].draw(e,o)}getStyle(e,t){const r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const o=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,r){return(0,n.h)(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=o.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return(0,n.h)(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=o,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const o="active"===t,i=this._cachedDataOpts,s=e+"-"+t,a=i[s],l=this.enableOptionSharing&&(0,n.j)(r);if(a)return w(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),d=o?[`${e}Hover`,"hover",e,""]:[e,""],u=c.getOptionScopes(this.getDataset(),h),p=Object.keys(n.d.elements[e]),f=c.resolveNamedOptions(u,p,(()=>this.getContext(r,o)),d);return f.$shared&&(f.$shared=l,i[s]=Object.freeze(w(f,l))),f}_resolveAnimations(e,t,r){const n=this.chart,o=this._cachedDataOpts,i=`animation-${t}`,s=o[i];if(s)return s;let a;if(!1!==n.options.animation){const n=this.chart.config,o=n.datasetAnimationScopeKeys(this._type,t),i=n.getOptionScopes(this.getDataset(),o);a=n.createResolver(i,this.getContext(e,r,t))}const l=new c(n,a&&a.animations);return a&&a._cacheable&&(o[i]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||b(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),n=this._sharedOptions,o=this.getSharedOptions(r),i=this.includeOptions(t,o)||o!==n;return this.updateSharedOptions(o,t,r),{sharedOptions:o,includeOptions:i}}updateElement(e,t,r,n){b(n)?Object.assign(e,r):this._resolveAnimations(t,n).update(e,r)}updateSharedOptions(e,t,r){e&&!b(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,n){e.active=n;const o=this.getStyle(t,n);this._resolveAnimations(t,r,n).update(e,{options:!n&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[e,t,r]of this._syncList)this[e](t,r);this._syncList=[];const n=r.length,o=t.length,i=Math.min(o,n);i&&this.parse(0,i),o>n?this._insertElements(n,o-n,e):o<n&&this._removeElements(o,n-o)}_insertElements(e,t,r=!0){const n=this._cachedMeta,o=n.data,i=e+t;let s;const a=e=>{for(e.length+=t,s=e.length-1;s>=i;s--)e[s]=e[s-t]};for(a(o),s=e;s<i;++s)o[s]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}updateElements(e,t,r,n){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,t);r._stacked&&y(r,n)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,n]=e;this[t](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function _(e){const t=e.iScale,r=function(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let o=[];for(let t=0,n=r.length;t<n;t++)o=o.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=(0,n._)(o.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let o,i,s,a,l=t._length;const c=()=>{32767!==s&&-32768!==s&&((0,n.j)(a)&&(l=Math.min(l,Math.abs(s-a)||l)),a=s)};for(o=0,i=r.length;o<i;++o)s=t.getPixelForValue(r[o]),c();for(a=void 0,o=0,i=t.ticks.length;o<i;++o)s=t.getPixelForTick(o),c();return l}function E(e,t,r,o){return(0,n.b)(e)?function(e,t,r,n){const o=r.parse(e[0],n),i=r.parse(e[1],n),s=Math.min(o,i),a=Math.max(o,i);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:o,end:i,min:s,max:a}}(e,t,r,o):t[r.axis]=r.parse(e,o),t}function C(e,t,r,n){const o=e.iScale,i=e.vScale,s=o.getLabels(),a=o===i,l=[];let c,h,d,u;for(c=r,h=r+n;c<h;++c)u=t[c],d={},d[o.axis]=a||o.parse(s[c],c),l.push(E(u,d,i,c));return l}function S(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function k(e,t,r,n){let o=t.borderSkipped;const i={};if(!o)return void(e.borderSkipped=i);if(!0===o)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:c,bottom:h}=function(e){let t,r,n,o,i;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(o="end",i="start"):(o="start",i="end"),{start:r,end:n,reverse:t,top:o,bottom:i}}(e);"middle"===o&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?o=c:(r._bottom||0)===n?o=h:(i[A(h,s,a,l)]=!0,o=c)),i[A(o,s,a,l)]=!0,e.borderSkipped=i}function A(e,t,r,n){var o,i,s;return n?(s=r,e=P(e=(o=e)===(i=t)?s:o===s?i:o,r,t)):e=P(e,t,r),e}function P(e,t,r){return"start"===e?t:"end"===e?r:e}function T(e,{inflateAmount:t},r){e.inflateAmount="auto"===t?1===r?.33:0:t}x.defaults={},x.prototype.datasetElementType=null,x.prototype.dataElementType=null;class M extends x{parsePrimitiveData(e,t,r,n){return C(e,t,r,n)}parseArrayData(e,t,r,n){return C(e,t,r,n)}parseObjectData(e,t,r,o){const{iScale:i,vScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c="x"===i.axis?a:l,h="x"===s.axis?a:l,d=[];let u,p,f,m;for(u=r,p=r+o;u<p;++u)m=t[u],f={},f[i.axis]=i.parse((0,n.f)(m,c),u),d.push(E((0,n.f)(m,h),f,s,u));return d}updateRangeFromParsed(e,t,r,n){super.updateRangeFromParsed(e,t,r,n);const o=r._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:n}=t,o=this.getParsed(e),i=o._custom,s=S(i)?"["+i.start+", "+i.end+"]":""+n.getLabelForValue(o[n.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,o){const i="reset"===o,{index:s,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,o);for(let p=t;p<t+r;p++){const t=this.getParsed(p),r=i||(0,n.k)(t[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),f=this._calculateBarIndexPixels(p,h),m=(t._stacks||{})[a.axis],g={horizontal:c,base:r.base,enableBorderRadius:!m||S(t._custom)||s===m._top||s===m._bottom,x:c?r.head:f.center,y:c?f.center:r.head,height:c?f.size:Math.abs(r.size),width:c?Math.abs(r.size):f.size};u&&(g.options=d||this.resolveDataElementOptions(p,e[p].active?"active":o));const v=g.options||e[p].options;k(g,v,m,s),T(g,v,h.ratio),this.updateElement(e[p],p,g,o)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=r.options.stacked,s=[],a=e=>{const r=e.controller.getParsed(t),o=r&&r[e.vScale.axis];if((0,n.k)(o)||isNaN(o))return!0};for(const r of o)if((void 0===t||!a(r))&&((!1===i||-1===s.indexOf(r.stack)||void 0===i&&void 0===r.stack)&&s.push(r.stack),r.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){const n=this._getStacks(e,r),o=void 0!==t?n.indexOf(t):-1;return-1===o?n.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,n=[];let o,i;for(o=0,i=t.data.length;o<i;++o)n.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const s=e.barThickness;return{min:s||_(t),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r},options:{base:o,minBarLength:i}}=this,s=o||0,a=this.getParsed(e),l=a._custom,c=S(l);let h,d,u=a[t.axis],p=0,f=r?this.applyStack(t,a,r):u;f!==u&&(p=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,0!==u&&(0,n.s)(u)!==(0,n.s)(l.barEnd)&&(p=0),p+=u);const m=(0,n.k)(o)||c?p:o;let g=t.getPixelForValue(m);if(h=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):g,d=h-g,Math.abs(d)<i){d=function(e,t,r){return 0!==e?(0,n.s)(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}(d,t,s)*i,u===s&&(g-=d/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),o=Math.min(e,r),a=Math.max(e,r);g=Math.max(Math.min(g,a),o),h=g+d}if(g===t.getPixelForValue(s)){const e=(0,n.s)(d)*t.getLineWidthForValue(s)/2;g+=e,d-=e}return{size:d,base:g,head:h,center:h+d/2}}_calculateBarIndexPixels(e,t){const r=t.scale,o=this.options,i=o.skipNull,s=(0,n.v)(o.maxBarThickness,1/0);let a,l;if(t.grouped){const r=i?this._getStackCount(e):t.stackCount,c="flex"===o.barThickness?function(e,t,r,n){const o=t.pixels,i=o[e];let s=e>0?o[e-1]:null,a=e<o.length-1?o[e+1]:null;const l=r.categoryPercentage;null===s&&(s=i-(null===a?t.end-t.start:a-i)),null===a&&(a=i+i-s);const c=i-(i-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/n,ratio:r.barPercentage,start:c}}(e,t,o,r):function(e,t,r,o){const i=r.barThickness;let s,a;return(0,n.k)(i)?(s=t.min*r.categoryPercentage,a=r.barPercentage):(s=i*o,a=1),{chunk:s/o,ratio:a,start:t.pixels[e]-s/2}}(e,t,o,r),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=c.start+c.chunk*h+c.chunk/2,l=Math.min(s,c.chunk*c.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(s,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,n=r.length;let o=0;for(;o<n;++o)null!==this.getParsed(o)[t.axis]&&r[o].draw(this._ctx)}}M.id="bar",M.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},M.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class O extends x{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,n){const o=super.parsePrimitiveData(e,t,r,n);for(let e=0;e<o.length;e++)o[e]._custom=this.resolveDataElementOptions(e+r).radius;return o}parseArrayData(e,t,r,o){const i=super.parseArrayData(e,t,r,o);for(let e=0;e<i.length;e++){const o=t[r+e];i[e]._custom=(0,n.v)(o[2],this.resolveDataElementOptions(e+r).radius)}return i}parseObjectData(e,t,r,o){const i=super.parseObjectData(e,t,r,o);for(let e=0;e<i.length;e++){const o=t[r+e];i[e]._custom=(0,n.v)(o&&o.r&&+o.r,this.resolveDataElementOptions(e+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:r,yScale:n}=t,o=this.getParsed(e),i=r.getLabelForValue(o.x),s=n.getLabelForValue(o.y),a=o._custom;return{label:t.label,value:"("+i+", "+s+(a?", "+a:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,n){const o="reset"===n,{iScale:i,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,n),c=i.axis,h=s.axis;for(let d=t;d<t+r;d++){const t=e[d],r=!o&&this.getParsed(d),u={},p=u[c]=o?i.getPixelForDecimal(.5):i.getPixelForValue(r[c]),f=u[h]=o?s.getBasePixel():s.getPixelForValue(r[h]);u.skip=isNaN(p)||isNaN(f),l&&(u.options=a||this.resolveDataElementOptions(d,t.active?"active":n),o&&(u.options.radius=0)),this.updateElement(t,d,u,n)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,t);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const i=o.radius;return"active"!==t&&(o.radius=0),o.radius+=(0,n.v)(r&&r._custom,i),o}}O.id="bubble",O.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},O.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};class D extends x{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let i,s,a=e=>+r[e];if((0,n.i)(r[e])){const{key:e="value"}=this._parsing;a=t=>+(0,n.f)(r[t],e)}for(i=e,s=e+t;i<s;++i)o._parsed[i]=a(i)}}_getRotation(){return(0,n.t)(this.options.rotation-90)}_getCircumference(){return(0,n.t)(this.options.circumference)}_getRotationExtents(){let e=n.T,t=-n.T;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const n=this.chart.getDatasetMeta(r).controller,o=n._getRotation(),i=n._getCircumference();e=Math.min(e,o),t=Math.max(t,o+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,o=this._cachedMeta,i=o.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-s)/2,0),l=Math.min((0,n.m)(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:p,offsetX:f,offsetY:m}=function(e,t,r){let o=1,i=1,s=0,a=0;if(t<n.T){const l=e,c=l+t,h=Math.cos(l),d=Math.sin(l),u=Math.cos(c),p=Math.sin(c),f=(e,t,o)=>(0,n.p)(e,l,c,!0)?1:Math.max(t,t*r,o,o*r),m=(e,t,o)=>(0,n.p)(e,l,c,!0)?-1:Math.min(t,t*r,o,o*r),g=f(0,h,u),v=f(n.H,d,p),y=m(n.P,h,u),b=m(n.P+n.H,d,p);o=(g-y)/2,i=(v-b)/2,s=-(g+y)/2,a=-(v+b)/2}return{ratioX:o,ratioY:i,offsetX:s,offsetY:a}}(d,h,l),g=(r.width-s)/u,v=(r.height-s)/p,y=Math.max(Math.min(g,v)/2,0),b=(0,n.n)(this.options.radius,y),w=(b-Math.max(b*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*b,this.offsetY=m*b,o.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const r=this.options,o=this._cachedMeta,i=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*i/n.T)}updateElements(e,t,r,n){const o="reset"===n,i=this.chart,s=i.chartArea,a=i.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,h=o&&a.animateScale,d=h?0:this.innerRadius,u=h?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,n);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,o);for(m=t;m<t+r;++m){const t=this._circumference(m,o),r=e[m],i={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:u,innerRadius:d};f&&(i.options=p||this.resolveDataElementOptions(m,r.active?"active":n)),g+=t,this.updateElement(r,m,i,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,n=0;for(r=0;r<t.length;r++){const o=e._parsed[r];null===o||isNaN(o)||!this.chart.getDataVisibility(r)||t[r].hidden||(n+=Math.abs(o))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?n.T*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,o=r.data.labels||[],i=(0,n.o)(t._parsed[e],r.options.locale);return{label:o[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const r=this.chart;let n,o,i,s,a;if(!e)for(n=0,o=r.data.datasets.length;n<o;++n)if(r.isDatasetVisible(n)){i=r.getDatasetMeta(n),e=i.data,s=i.controller;break}if(!e)return 0;for(n=0,o=e.length;n<o;++n)a=s.resolveDataElementOptions(n),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,n=e.length;r<n;++r){const e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max((0,n.v)(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}D.id="doughnut",D.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},D.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},D.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map(((t,n)=>{const o=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const r=": "+e.formattedValue;return(0,n.b)(t)?(t=t.slice(),t[0]+=r):t+=r,t}}}}};class I extends x{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:o=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:a,count:l}=(0,n.q)(t,o,s);this._drawStart=a,this._drawCount=l,(0,n.w)(t)&&(a=0,l=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=o;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:c},e),this.updateElements(o,a,l,e)}updateElements(e,t,r,o){const i="reset"===o,{iScale:s,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,o),u=s.axis,p=a.axis,{spanGaps:f,segment:m}=this.options,g=(0,n.x)(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===o;let y=t>0&&this.getParsed(t-1);for(let f=t;f<t+r;++f){const t=e[f],r=this.getParsed(f),b=v?t:{},w=(0,n.k)(r[p]),x=b[u]=s.getPixelForValue(r[u],f),_=b[p]=i||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,r,l):r[p],f);b.skip=isNaN(x)||isNaN(_)||w,b.stop=f>0&&Math.abs(r[u]-y[u])>g,m&&(b.parsed=r,b.raw=c.data[f]),d&&(b.options=h||this.resolveDataElementOptions(f,t.active?"active":o)),v||this.updateElement(t,f,b,o),y=r}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return r;const o=n[0].size(this.resolveDataElementOptions(0)),i=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,o,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}I.id="line",I.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},I.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class R extends x{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,o=r.data.labels||[],i=(0,n.o)(t._parsed[e].r,r.options.locale);return{label:o[e]||"",value:i}}parseObjectData(e,t,r,o){return n.y.bind(this)(e,t,r,o)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,r)=>{const n=this.getParsed(r).r;!isNaN(n)&&this.chart.getDataVisibility(r)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(n/2,0),i=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-i*this.index,this.innerRadius=this.outerRadius-i}updateElements(e,t,r,o){const i="reset"===o,s=this.chart,a=s.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,h=l.yCenter,d=l.getIndexAngle(0)-.5*n.P;let u,p=d;const f=360/this.countVisibleElements();for(u=0;u<t;++u)p+=this._computeAngle(u,o,f);for(u=t;u<t+r;u++){const t=e[u];let r=p,n=p+this._computeAngle(u,o,f),m=s.getDataVisibility(u)?l.getDistanceFromCenterForValue(this.getParsed(u).r):0;p=n,i&&(a.animateScale&&(m=0),a.animateRotate&&(r=n=d));const g={x:c,y:h,innerRadius:0,outerRadius:m,startAngle:r,endAngle:n,options:this.resolveDataElementOptions(u,t.active?"active":o)};this.updateElement(t,u,g,o)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++})),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?(0,n.t)(this.resolveDataElementOptions(e,t).angle||r):0}}R.id="polarArea",R.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},R.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map(((t,n)=>{const o=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class F extends D{}F.id="pie",F.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class B extends x{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,o){return n.y.bind(this)(e,t,r,o)}update(e){const t=this._cachedMeta,r=t.dataset,n=t.data||[],o=t.iScale.getLabels();if(r.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const i={_loop:!0,_fullLoop:o.length===n.length,options:t};this.updateElement(r,void 0,i,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,r,n){const o=this._cachedMeta.rScale,i="reset"===n;for(let s=t;s<t+r;s++){const t=e[s],r=this.resolveDataElementOptions(s,t.active?"active":n),a=o.getPointPositionForValue(s,this.getParsed(s).r),l=i?o.xCenter:a.x,c=i?o.yCenter:a.y,h={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:r};this.updateElement(t,s,h,n)}}}B.id="radar",B.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},B.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class N{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return(0,n.x)(this.x)&&(0,n.x)(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const n={};return e.forEach((e=>{n[e]=r[e]&&r[e].active()?r[e]._to:this[e]})),n}}N.defaults={},N.defaultRoutes=void 0;const L={values(e){return(0,n.b)(e)?e:""+e},numeric(e,t,r){if(0===e)return"0";const o=this.chart.options.locale;let i,s=e;if(r.length>1){const t=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}(e,r)}const a=(0,n.z)(Math.abs(s)),l=Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),(0,n.o)(e,o,c)},logarithmic(e,t,r){if(0===e)return"0";const o=e/Math.pow(10,Math.floor((0,n.z)(e)));return 1===o||2===o||5===o?L.numeric.call(this,e,t,r):""}};var V={formatters:L};function z(e,t,r,o,i){const s=(0,n.v)(o,0),a=Math.min((0,n.v)(i,e.length),e.length);let l,c,h,d=0;for(r=Math.ceil(r),i&&(l=i-o,r=l/Math.floor(l/r)),h=s;h<0;)d++,h=Math.round(s+d*r);for(c=Math.max(s,0);c<a;c++)c===h&&(t.push(e[c]),d++,h=Math.round(s+d*r))}n.d.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:V.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.d.route("scale.ticks","color","","color"),n.d.route("scale.grid","color","","borderColor"),n.d.route("scale.grid","borderColor","","borderColor"),n.d.route("scale.title","color","","color"),n.d.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),n.d.describe("scales",{_fallback:"scale"}),n.d.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const H=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r;function j(e,t){const r=[],n=e.length/t,o=e.length;let i=0;for(;i<o;i+=n)r.push(e[Math.floor(i)]);return r}function G(e,t,r){const n=e.ticks.length,o=Math.min(t,n-1),i=e._startPixel,s=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(o);if(!(r&&(l=1===n?Math.max(c-i,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(o-1))/2,c+=o<t?l:-l,c<i-a||c>s+a)))return c}function U(e){return e.drawTicks?e.tickLength:0}function q(e,t){if(!e.display)return 0;const r=(0,n.O)(e.font,t),o=(0,n.K)(e.padding);return((0,n.b)(e.text)?e.text.length:1)*r.lineHeight+o.height}function W(e,t,r){let o=(0,n.R)(e);return(r&&"right"!==t||!r&&"right"===t)&&(o=(e=>"left"===e?"right":"right"===e?"left":e)(o)),o}class $ extends N{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:o}=this;return e=(0,n.B)(e,Number.POSITIVE_INFINITY),t=(0,n.B)(t,Number.NEGATIVE_INFINITY),r=(0,n.B)(r,Number.POSITIVE_INFINITY),o=(0,n.B)(o,Number.NEGATIVE_INFINITY),{min:(0,n.B)(e,r),max:(0,n.B)(t,o),minDefined:(0,n.g)(e),maxDefined:(0,n.g)(t)}}getMinMax(e){let t,{min:r,max:o,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:r,max:o};const a=this.getMatchingVisibleMetas();for(let n=0,l=a.length;n<l;++n)t=a[n].controller.getMinMax(this,e),i||(r=Math.min(r,t.min)),s||(o=Math.max(o,t.max));return r=s&&r>o?o:r,o=i&&r>o?r:o,{min:(0,n.B)(r,(0,n.B)(o,r)),max:(0,n.B)(o,(0,n.B)(r,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,n.C)(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:o,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,n.D)(this,i,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?j(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function(e,t){const r=e.options.ticks,o=r.maxTicksLimit||function(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),o=e._maxLength/r;return Math.floor(Math.min(n,o))}(e),i=r.major.enabled?function(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}(t):[],s=i.length,a=i[0],l=i[s-1],c=[];if(s>o)return function(e,t,r,n){let o,i=0,s=r[0];for(n=Math.ceil(n),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=r[i*n])}(t,c,i,s/o),c;const h=function(e,t,r){const o=function(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}(e),i=t.length/r;if(!o)return Math.max(i,1);const s=(0,n.A)(o);for(let e=0,t=s.length-1;e<t;e++){const t=s[e];if(t>i)return t}return Math.max(i,1)}(i,t,o);if(s>0){let e,r;const o=s>1?Math.round((l-a)/(s-1)):null;for(z(t,c,h,(0,n.k)(o)?0:a-o,a),e=0,r=s-1;e<r;e++)z(t,c,h,i[e],i[e+1]);return z(t,c,h,l,(0,n.k)(o)?t.length:l+o),c}return z(t,c,h),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,n.C)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,n.C)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,n.C)(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),(0,n.C)(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,n.C)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r],i.label=(0,n.C)(t.callback,[i.value,r,e],this)}afterTickToLabelConversion(){(0,n.C)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,n.C)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=this.ticks.length,o=t.minRotation||0,i=t.maxRotation;let s,a,l,c=o;if(!this._isVisible()||!t.display||o>=i||r<=1||!this.isHorizontal())return void(this.labelRotation=o);const h=this._getLabelSizes(),d=h.widest.width,u=h.highest.height,p=(0,n.E)(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/r:p/(r-1),d+6>s&&(s=p/(r-(e.offset?.5:1)),a=this.maxHeight-U(e.grid)-t.padding-q(e.title,this.chart.options.font),l=Math.sqrt(d*d+u*u),c=(0,n.F)(Math.min(Math.asin((0,n.E)((h.highest.height+6)/s,-1,1)),Math.asin((0,n.E)(a/l,-1,1))-Math.asin((0,n.E)(u/l,-1,1)))),c=Math.max(o,Math.min(i,c))),this.labelRotation=c}afterCalculateLabelRotation(){(0,n.C)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,n.C)(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:o,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=q(o,t.options.font);if(a?(e.width=this.maxWidth,e.height=U(i)+s):(e.height=this.maxHeight,e.width=U(i)+s),r.display&&this.ticks.length){const{first:t,last:o,widest:i,highest:s}=this._getLabelSizes(),l=2*r.padding,c=(0,n.t)(this.labelRotation),h=Math.cos(c),d=Math.sin(c);if(a){const t=r.mirror?0:d*i.width+h*s.height;e.height=Math.min(this.maxHeight,e.height+t+l)}else{const t=r.mirror?0:h*i.width+d*s.height;e.width=Math.min(this.maxWidth,e.width+t+l)}this._calculatePadding(t,o,d,h)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,n){const{ticks:{align:o,padding:i},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;a?l?(h=n*e.width,d=r*t.height):(h=r*e.height,d=n*t.width):"start"===o?d=t.width:"end"===o?h=e.width:"inner"!==o&&(h=e.width/2,d=t.width/2),this.paddingLeft=Math.max((h-s+i)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+i)*this.width/(this.width-c),0)}else{let r=t.height/2,n=e.height/2;"start"===o?(r=0,n=e.height):"end"===o&&(r=t.height,n=0),this.paddingTop=r+i,this.paddingBottom=n+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,n.C)(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)(0,n.k)(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=j(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(e,t){const{ctx:r,_longestTextCache:o}=this,i=[],s=[];let a,l,c,h,d,u,p,f,m,g,v,y=0,b=0;for(a=0;a<t;++a){if(h=e[a].label,d=this._resolveTickFontOptions(a),r.font=u=d.string,p=o[u]=o[u]||{data:{},gc:[]},f=d.lineHeight,m=g=0,(0,n.k)(h)||(0,n.b)(h)){if((0,n.b)(h))for(l=0,c=h.length;l<c;++l)v=h[l],(0,n.k)(v)||(0,n.b)(v)||(m=(0,n.G)(r,p.data,p.gc,m,v),g+=f)}else m=(0,n.G)(r,p.data,p.gc,m,h),g=f;i.push(m),s.push(g),y=Math.max(m,y),b=Math.max(g,b)}!function(e,t){(0,n.Q)(e,(e=>{const r=e.gc,n=r.length/2;let o;if(n>t){for(o=0;o<n;++o)delete e.data[r[o]];r.splice(0,n)}}))}(o,t);const w=i.indexOf(y),x=s.indexOf(b),_=e=>({width:i[e]||0,height:s[e]||0});return{first:_(0),last:_(t-1),widest:_(w),highest:_(x),widths:i,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return(0,n.I)(this._alignToPixels?(0,n.J)(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function(e,t,r){return(0,n.h)(e,{tick:r,index:t,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=(r=this.chart.getContext(),this,(0,n.h)(r,{scale:this,type:"scale"})));var r}_tickSize(){const e=this.options.ticks,t=(0,n.t)(this.labelRotation),r=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,l=i?i.highest.height+s:0;return this.isHorizontal()?l*r>a*o?a/r:l/o:l*o<a*r?l/r:a/o}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,o=this.options,{grid:i,position:s}=o,a=i.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),h=U(i),d=[],u=i.setContext(this.getContext()),p=u.drawBorder?u.borderWidth:0,f=p/2,m=function(e){return(0,n.J)(r,e,p)};let g,v,y,b,w,x,_,E,C,S,k,A;if("top"===s)g=m(this.bottom),x=this.bottom-h,E=g-f,S=m(e.top)+f,A=e.bottom;else if("bottom"===s)g=m(this.top),S=e.top,A=m(e.bottom)-f,x=g+f,E=this.top+h;else if("left"===s)g=m(this.right),w=this.right-h,_=g-f,C=m(e.left)+f,k=e.right;else if("right"===s)g=m(this.left),C=e.left,k=m(e.right)-f,w=g+f,_=this.left+h;else if("x"===t){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if((0,n.i)(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}S=e.top,A=e.bottom,x=g+f,E=x+h}else if("y"===t){if("center"===s)g=m((e.left+e.right)/2);else if((0,n.i)(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}w=g-f,_=w-h,C=e.left,k=e.right}const P=(0,n.v)(o.ticks.maxTicksLimit,c),T=Math.max(1,Math.ceil(c/P));for(v=0;v<c;v+=T){const e=i.setContext(this.getContext(v)),t=e.lineWidth,o=e.color,s=e.borderDash||[],c=e.borderDashOffset,h=e.tickWidth,u=e.tickColor,p=e.tickBorderDash||[],f=e.tickBorderDashOffset;y=G(this,v,a),void 0!==y&&(b=(0,n.J)(r,y,t),l?w=_=C=k=b:x=E=S=A=b,d.push({tx1:w,ty1:x,tx2:_,ty2:E,x1:C,y1:S,x2:k,y2:A,width:t,color:o,borderDash:s,borderDashOffset:c,tickWidth:h,tickColor:u,tickBorderDash:p,tickBorderDashOffset:f}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,r=this.options,{position:o,ticks:i}=r,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:d}=i,u=U(r.grid),p=u+h,f=d?-h:p,m=-(0,n.t)(this.labelRotation),g=[];let v,y,b,w,x,_,E,C,S,k,A,P,T="middle";if("top"===o)_=this.bottom-f,E=this._getXAxisLabelAlignment();else if("bottom"===o)_=this.top+f,E=this._getXAxisLabelAlignment();else if("left"===o){const e=this._getYAxisLabelAlignment(u);E=e.textAlign,x=e.x}else if("right"===o){const e=this._getYAxisLabelAlignment(u);E=e.textAlign,x=e.x}else if("x"===t){if("center"===o)_=(e.top+e.bottom)/2+p;else if((0,n.i)(o)){const e=Object.keys(o)[0],t=o[e];_=this.chart.scales[e].getPixelForValue(t)+p}E=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===o)x=(e.left+e.right)/2-p;else if((0,n.i)(o)){const e=Object.keys(o)[0],t=o[e];x=this.chart.scales[e].getPixelForValue(t)}E=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===l?T="top":"end"===l&&(T="bottom"));const M=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){b=a[v],w=b.label;const e=i.setContext(this.getContext(v));C=this.getPixelForTick(v)+i.labelOffset,S=this._resolveTickFontOptions(v),k=S.lineHeight,A=(0,n.b)(w)?w.length:1;const t=A/2,r=e.color,l=e.textStrokeColor,h=e.textStrokeWidth;let u,p=E;if(s?(x=C,"inner"===E&&(p=v===y-1?this.options.reverse?"left":"right":0===v?this.options.reverse?"right":"left":"center"),P="top"===o?"near"===c||0!==m?-A*k+k/2:"center"===c?-M.highest.height/2-t*k+k:-M.highest.height+k/2:"near"===c||0!==m?k/2:"center"===c?M.highest.height/2-t*k:M.highest.height-A*k,d&&(P*=-1)):(_=C,P=(1-A)*k/2),e.showLabelBackdrop){const t=(0,n.K)(e.backdropPadding),r=M.heights[v],o=M.widths[v];let i=_+P-t.top,s=x-t.left;switch(T){case"middle":i-=r/2;break;case"bottom":i-=r}switch(E){case"center":s-=o/2;break;case"right":s-=o}u={left:s,top:i,width:o+t.width,height:r+t.height,color:e.backdropColor}}g.push({rotation:m,label:w,font:S,color:r,strokeColor:l,strokeWidth:h,textOffset:P,textAlign:p,textBaseline:T,translation:[x,_],backdrop:u})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-(0,n.t)(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:n,padding:o}}=this.options,i=e+o,s=this._getLabelSizes().widest.width;let a,l;return"left"===t?n?(l=this.right+o,"near"===r?a="left":"center"===r?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-i,"near"===r?a="right":"center"===r?(a="center",l-=s/2):(a="left",l=this.left)):"right"===t?n?(l=this.left+o,"near"===r?a="right":"center"===r?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+i,"near"===r?a="left":"center"===r?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:n,width:o,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,n,o,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex((t=>t.value===e));return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,i;const s=(e,t,n)=>{n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(t.display)for(o=0,i=n.length;o<i;++o){const e=n[o];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:r}}=this,o=r.setContext(this.getContext()),i=r.drawBorder?o.borderWidth:0;if(!i)return;const s=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,h,d;this.isHorizontal()?(l=(0,n.J)(e,this.left,i)-i/2,c=(0,n.J)(e,this.right,s)+s/2,h=d=a):(h=(0,n.J)(e,this.top,i)-i/2,d=(0,n.J)(e,this.bottom,s)+s/2,l=c=a),t.save(),t.lineWidth=o.borderWidth,t.strokeStyle=o.borderColor,t.beginPath(),t.moveTo(l,h),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,r=this._computeLabelArea();r&&(0,n.L)(t,r);const o=this._labelItems||(this._labelItems=this._computeLabelItems(e));let i,s;for(i=0,s=o.length;i<s;++i){const e=o[i],r=e.font,s=e.label;e.backdrop&&(t.fillStyle=e.backdrop.color,t.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height));let a=e.textOffset;(0,n.M)(t,s,0,a,r,e)}r&&(0,n.N)(t)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:o}}=this;if(!r.display)return;const i=(0,n.O)(r.font),s=(0,n.K)(r.padding),a=r.align;let l=i.lineHeight/2;"bottom"===t||"center"===t||(0,n.i)(t)?(l+=s.bottom,(0,n.b)(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=s.top;const{titleX:c,titleY:h,maxWidth:d,rotation:u}=function(e,t,r,o){const{top:i,left:s,bottom:a,right:l,chart:c}=e,{chartArea:h,scales:d}=c;let u,p,f,m=0;const g=a-i,v=l-s;if(e.isHorizontal()){if(p=(0,n.S)(o,s,l),(0,n.i)(r)){const e=Object.keys(r)[0],n=r[e];f=d[e].getPixelForValue(n)+g-t}else f="center"===r?(h.bottom+h.top)/2+g-t:H(e,r,t);u=l-s}else{if((0,n.i)(r)){const e=Object.keys(r)[0],n=r[e];p=d[e].getPixelForValue(n)-v+t}else p="center"===r?(h.left+h.right)/2-v+t:H(e,r,t);f=(0,n.S)(o,a,i),m="left"===r?-n.H:n.H}return{titleX:p,titleY:f,maxWidth:u,rotation:m}}(this,l,t,a);(0,n.M)(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:u,textAlign:W(a,t,o),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=(0,n.v)(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===$.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let o,i;for(o=0,i=t.length;o<i;++o){const i=t[o];i[r]!==this.id||e&&i.type!==e||n.push(i)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return(0,n.O)(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Z{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function(e){return"id"in e&&"defaults"in e})(t)&&(r=this.register(t));const o=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in o||(o[i]=e,function(e,t,r){const o=(0,n.V)(Object.create(null),[r?n.d.get(r):{},n.d.get(t),e.defaults]);n.d.set(t,o),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((r=>{const o=r.split("."),i=o.pop(),s=[e].concat(o).join("."),a=t[r].split("."),l=a.pop(),c=a.join(".");n.d.route(s,i,c,l)}))}(t,e.defaultRoutes),e.descriptors&&n.d.describe(t,e.descriptors)}(e,s,r),this.override&&n.d.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,o=this.scope;r in t&&delete t[r],o&&r in n.d[o]&&(delete n.d[o][r],this.override&&delete n.U[r])}}var K=new class{constructor(){this.controllers=new Z(x,"datasets",!0),this.elements=new Z(N,"elements"),this.plugins=new Z(Object,"plugins"),this.scales=new Z($,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach((t=>{const o=r||this._getRegistryForType(t);r||o.isForType(t)||o===this.plugins&&t.id?this._exec(e,o,t):(0,n.Q)(t,(t=>{const n=r||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,r){const o=(0,n.W)(e);(0,n.C)(r["before"+o],[],r),t[e](r),(0,n.C)(r["after"+o],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+r+".");return n}};class Y extends x{update(e){const t=this._cachedMeta,{data:r=[]}=t,o=this.chart._animationsDisabled;let{start:i,count:s}=(0,n.q)(t,r,o);if(this._drawStart=i,this._drawCount=s,(0,n.w)(t)&&(i=0,s=r.length),this.options.showLine){const{dataset:n,_dataset:i}=t;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:s},e)}this.updateElements(r,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=K.getElement("line")),super.addElements()}updateElements(e,t,r,o){const i="reset"===o,{iScale:s,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(t,o),d=this.getSharedOptions(h),u=this.includeOptions(o,d),p=s.axis,f=a.axis,{spanGaps:m,segment:g}=this.options,v=(0,n.x)(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||"none"===o;let b=t>0&&this.getParsed(t-1);for(let h=t;h<t+r;++h){const t=e[h],r=this.getParsed(h),m=y?t:{},w=(0,n.k)(r[f]),x=m[p]=s.getPixelForValue(r[p],h),_=m[f]=i||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,r,l):r[f],h);m.skip=isNaN(x)||isNaN(_)||w,m.stop=h>0&&Math.abs(r[p]-b[p])>v,g&&(m.parsed=r,m.raw=c.data[h]),u&&(m.options=d||this.resolveDataElementOptions(h,t.active?"active":o)),y||this.updateElement(t,h,m,o),b=r}this.updateSharedOptions(d,o,h)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}const r=e.dataset,n=r.options&&r.options.borderWidth||0;if(!t.length)return n;const o=t[0].size(this.resolveDataElementOptions(0)),i=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,o,i)/2}}Y.id="scatter",Y.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Y.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var X=Object.freeze({__proto__:null,BarController:M,BubbleController:O,DoughnutController:D,LineController:I,PolarAreaController:R,PieController:F,RadarController:B,ScatterController:Y});function J(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Q{constructor(e){this.options=e||{}}init(e){}formats(){return J()}parse(e,t){return J()}format(e,t){return J()}add(e,t,r){return J()}diff(e,t,r){return J()}startOf(e,t,r){return J()}endOf(e,t){return J()}}Q.override=function(e){Object.assign(Q.prototype,e)};var ee={_date:Q};function te(e,t,r,o){const{controller:i,data:s,_sorted:a}=e,l=i._cachedMeta.iScale;if(l&&t===l.axis&&"r"!==t&&a&&s.length){const e=l._reversePixels?n.Y:n.Z;if(!o)return e(s,t,r);if(i._sharedOptions){const n=s[0],o="function"==typeof n.getRange&&n.getRange(t);if(o){const n=e(s,t,r-o),i=e(s,t,r+o);return{lo:n.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function re(e,t,r,n,o){const i=e.getSortedVisibleDatasetMetas(),s=r[t];for(let e=0,r=i.length;e<r;++e){const{index:r,data:a}=i[e],{lo:l,hi:c}=te(i[e],t,s,o);for(let e=l;e<=c;++e){const t=a[e];t.skip||n(t,r,e)}}}function ne(e,t,r,o,i){const s=[];return i||e.isPointInArea(t)?(re(e,r,t,(function(r,a,l){(i||(0,n.$)(r,e.chartArea,0))&&r.inRange(t.x,t.y,o)&&s.push({element:r,datasetIndex:a,index:l})}),!0),s):s}function oe(e,t,r,o,i,s){return s||e.isPointInArea(t)?"r"!==r||o?function(e,t,r,n,o,i){let s=[];const a=function(e){const t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,n){const o=t?Math.abs(e.x-n.x):0,i=r?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(i,2))}}(r);let l=Number.POSITIVE_INFINITY;return re(e,r,t,(function(r,c,h){const d=r.inRange(t.x,t.y,o);if(n&&!d)return;const u=r.getCenterPoint(o);if(!i&&!e.isPointInArea(u)&&!d)return;const p=a(t,u);p<l?(s=[{element:r,datasetIndex:c,index:h}],l=p):p===l&&s.push({element:r,datasetIndex:c,index:h})})),s}(e,t,r,o,i,s):function(e,t,r,o){let i=[];return re(e,r,t,(function(e,r,s){const{startAngle:a,endAngle:l}=e.getProps(["startAngle","endAngle"],o),{angle:c}=(0,n.a0)(e,{x:t.x,y:t.y});(0,n.p)(c,a,l)&&i.push({element:e,datasetIndex:r,index:s})})),i}(e,t,r,i):[]}function ie(e,t,r,n,o){const i=[],s="x"===r?"inXRange":"inYRange";let a=!1;return re(e,r,t,((e,n,l)=>{e[s](t[r],o)&&(i.push({element:e,datasetIndex:n,index:l}),a=a||e.inRange(t.x,t.y,o))})),n&&!a?[]:i}var se={evaluateInteractionItems:re,modes:{index(e,t,r,o){const i=(0,n.X)(t,e),s=r.axis||"x",a=r.includeInvisible||!1,l=r.intersect?ne(e,i,s,o,a):oe(e,i,s,!1,o,a),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=l[0].index,r=e.data[t];r&&!r.skip&&c.push({element:r,datasetIndex:e.index,index:t})})),c):[]},dataset(e,t,r,o){const i=(0,n.X)(t,e),s=r.axis||"xy",a=r.includeInvisible||!1;let l=r.intersect?ne(e,i,s,o,a):oe(e,i,s,!1,o,a);if(l.length>0){const t=l[0].datasetIndex,r=e.getDatasetMeta(t).data;l=[];for(let e=0;e<r.length;++e)l.push({element:r[e],datasetIndex:t,index:e})}return l},point(e,t,r,o){return ne(e,(0,n.X)(t,e),r.axis||"xy",o,r.includeInvisible||!1)},nearest(e,t,r,o){const i=(0,n.X)(t,e),s=r.axis||"xy",a=r.includeInvisible||!1;return oe(e,i,s,r.intersect,o,a)},x(e,t,r,o){return ie(e,(0,n.X)(t,e),"x",r.intersect,o)},y(e,t,r,o){return ie(e,(0,n.X)(t,e),"y",r.intersect,o)}}};const ae=["left","top","right","bottom"];function le(e,t){return e.filter((e=>e.pos===t))}function ce(e,t){return e.filter((e=>-1===ae.indexOf(e.pos)&&e.box.axis===t))}function he(e,t){return e.sort(((e,r)=>{const n=t?r:e,o=t?e:r;return n.weight===o.weight?n.index-o.index:n.weight-o.weight}))}function de(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function ue(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function pe(e,t,r,o){const{pos:i,box:s}=r,a=e.maxPadding;if(!(0,n.i)(i)){r.size&&(e[i]-=r.size);const t=o[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?s.height:s.width),r.size=t.size/t.count,e[i]+=r.size}s.getPadding&&ue(a,s.getPadding());const l=Math.max(0,t.outerWidth-de(a,e,"left","right")),c=Math.max(0,t.outerHeight-de(a,e,"top","bottom")),h=l!==e.w,d=c!==e.h;return e.w=l,e.h=c,r.horizontal?{same:h,other:d}:{same:d,other:h}}function fe(e,t){const r=t.maxPadding;return function(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],r[e])})),n}(e?["left","right"]:["top","bottom"])}function me(e,t,r,n){const o=[];let i,s,a,l,c,h;for(i=0,s=e.length,c=0;i<s;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,fe(a.horizontal,t));const{same:s,other:d}=pe(t,r,a,n);c|=s&&o.length,h=h||d,l.fullSize||o.push(a)}return c&&me(o,t,r,n)||h}function ge(e,t,r,n,o){e.top=r,e.left=t,e.right=t+n,e.bottom=r+o,e.width=n,e.height=o}function ve(e,t,r,o){const i=r.padding;let{x:s,y:a}=t;for(const l of e){const e=l.box,c=o[l.stack]||{count:1,placed:0,weight:1},h=l.stackWeight/c.weight||1;if(l.horizontal){const o=t.w*h,s=c.size||e.height;(0,n.j)(c.start)&&(a=c.start),e.fullSize?ge(e,i.left,a,r.outerWidth-i.right-i.left,s):ge(e,t.left+c.placed,a,o,s),c.start=a,c.placed+=o,a=e.bottom}else{const o=t.h*h,a=c.size||e.width;(0,n.j)(c.start)&&(s=c.start),e.fullSize?ge(e,s,i.top,a,r.outerHeight-i.bottom-i.top):ge(e,s,t.top+c.placed,a,o),c.start=s,c.placed+=o,s=e.right}}t.x=s,t.y=a}n.d.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ye={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,o){if(!e)return;const i=(0,n.K)(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(r-i.height,0),l=function(e){const t=function(e){const t=[];let r,n,o,i,s,a;for(r=0,n=(e||[]).length;r<n;++r)o=e[r],({position:i,options:{stack:s,stackWeight:a=1}}=o),t.push({index:r,box:o,pos:i,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&i+s,stackWeight:a});return t}(e),r=he(t.filter((e=>e.box.fullSize)),!0),n=he(le(t,"left"),!0),o=he(le(t,"right")),i=he(le(t,"top"),!0),s=he(le(t,"bottom")),a=ce(t,"x"),l=ce(t,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:le(t,"chartArea"),vertical:n.concat(o).concat(l),horizontal:i.concat(s).concat(a)}}(e.boxes),c=l.vertical,h=l.horizontal;(0,n.Q)(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const d=c.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:r,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/d,hBoxMaxHeight:a/2}),p=Object.assign({},i);ue(p,(0,n.K)(o));const f=Object.assign({maxPadding:p,w:s,h:a,x:i.left,y:i.top},i),m=function(e,t){const r=function(e){const t={};for(const r of e){const{stack:e,pos:n,stackWeight:o}=r;if(!e||!ae.includes(n))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=o}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:o}=t;let i,s,a;for(i=0,s=e.length;i<s;++i){a=e[i];const{fullSize:s}=a.box,l=r[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*n:s&&t.availableWidth,a.height=o):(a.width=n,a.height=c?c*o:s&&t.availableHeight)}return r}(c.concat(h),u);me(l.fullSize,f,u,m),me(c,f,u,m),me(h,f,u,m)&&me(c,f,u,m),function(e){const t=e.maxPadding;function r(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(f),ve(l.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,ve(l.rightAndBottom,f,u,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},(0,n.Q)(l.chartArea,(t=>{const r=t.box;Object.assign(r,e.chartArea),r.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class be{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,n){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):r)}}isAttached(e){return!0}updateConfig(e){}}class we extends be{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_e=e=>null===e||""===e,Ee=!!n.a5&&{passive:!0};function Ce(e,t,r){e.canvas.removeEventListener(t,r,Ee)}function Se(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function ke(e,t,r){const n=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const r of e)t=t||Se(r.addedNodes,n),t=t&&!Se(r.removedNodes,n);t&&r()}));return o.observe(document,{childList:!0,subtree:!0}),o}function Ae(e,t,r){const n=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const r of e)t=t||Se(r.removedNodes,n),t=t&&!Se(r.addedNodes,n);t&&r()}));return o.observe(document,{childList:!0,subtree:!0}),o}const Pe=new Map;let Te=0;function Me(){const e=window.devicePixelRatio;e!==Te&&(Te=e,Pe.forEach(((t,r)=>{r.currentDevicePixelRatio!==e&&t()})))}function Oe(e,t,r){const o=e.canvas,i=o&&(0,n.a2)(o);if(!i)return;const s=(0,n.a4)(((e,t)=>{const n=i.clientWidth;r(e,t),n<i.clientWidth&&r()}),window),a=new ResizeObserver((e=>{const t=e[0],r=t.contentRect.width,n=t.contentRect.height;0===r&&0===n||s(r,n)}));return a.observe(i),function(e,t){Pe.size||window.addEventListener("resize",Me),Pe.set(e,t)}(e,s),a}function De(e,t,r){r&&r.disconnect(),"resize"===t&&function(e){Pe.delete(e),Pe.size||window.removeEventListener("resize",Me)}(e)}function Ie(e,t,r){const o=e.canvas,i=(0,n.a4)((t=>{null!==e.ctx&&r(function(e,t){const r=xe[e.type]||e.type,{x:o,y:i}=(0,n.X)(e,t);return{type:r,chart:t,native:e,x:void 0!==o?o:null,y:void 0!==i?i:null}}(t,e))}),e,(e=>{const t=e[0];return[t,t.offsetX,t.offsetY]}));return function(e,t,r){e.addEventListener(t,r,Ee)}(o,t,i),i}class Re extends be{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){const r=e.style,o=e.getAttribute("height"),i=e.getAttribute("width");if(e.$chartjs={initial:{height:o,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",_e(i)){const t=(0,n.a3)(e,"width");void 0!==t&&(e.width=t)}if(_e(o))if(""===e.style.height)e.height=e.width/(t||2);else{const t=(0,n.a3)(e,"height");void 0!==t&&(e.height=t)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t.$chartjs)return!1;const r=t.$chartjs.initial;["height","width"].forEach((e=>{const o=r[e];(0,n.k)(o)?t.removeAttribute(e):t.setAttribute(e,o)}));const o=r.style||{};return Object.keys(o).forEach((e=>{t.style[e]=o[e]})),t.width=t.width,delete t.$chartjs,!0}addEventListener(e,t,r){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),o={attach:ke,detach:Ae,resize:Oe}[t]||Ie;n[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),n=r[t];n&&(({attach:De,detach:De,resize:De}[t]||Ce)(e,t,n),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,o){return(0,n.a1)(e,t,r,o)}isAttached(e){const t=(0,n.a2)(e);return!(!t||!t.isConnected)}}class Fe{constructor(){this._init=[]}notify(e,t,r,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=n?this._descriptors(e).filter(n):this._descriptors(e),i=this._notify(o,e,t,r);return"afterDestroy"===t&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,r,o){o=o||{};for(const i of e){const e=i.plugin,s=e[r],a=[t,o,i.options];if(!1===(0,n.C)(s,a,e)&&o.cancelable)return!1}return!0}invalidate(){(0,n.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,o=(0,n.v)(r.options&&r.options.plugins,{}),i=function(e){const t={},r=[],n=Object.keys(K.plugins.items);for(let e=0;e<n.length;e++)r.push(K.getPlugin(n[e]));const o=e.plugins||[];for(let e=0;e<o.length;e++){const n=o[e];-1===r.indexOf(n)&&(r.push(n),t[n.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==o||t?function(e,{plugins:t,localIds:r},n,o){const i=[],s=e.getContext();for(const a of t){const t=a.id,l=Be(n[t],o);null!==l&&i.push({plugin:a,options:Ne(e.config,{plugin:a,local:r[t]},l,s)})}return i}(e,i,o,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,r),e,"stop"),this._notify(n(r,t),e,"start")}}function Be(e,t){return t||!1!==e?!0===e?{}:e:null}function Ne(e,{plugin:t,local:r},n,o){const i=e.pluginScopeKeys(t),s=e.getOptionScopes(n,i);return r&&t.defaults&&s.push(t.defaults),e.createResolver(s,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Le(e,t){const r=n.d.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function Ve(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(r=t.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||e.charAt(0).toLowerCase();var r}function ze(e){const t=e.options||(e.options={});t.plugins=(0,n.v)(t.plugins,{}),t.scales=function(e,t){const r=n.U[e.type]||{scales:{}},o=t.scales||{},i=Le(e.type,t),s=Object.create(null),a=Object.create(null);return Object.keys(o).forEach((e=>{const t=o[e];if(!(0,n.i)(t))return console.error(`Invalid scale configuration for scale: ${e}`);if(t._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const l=Ve(e,t),c=function(e,t){return e===t?"_index_":"_value_"}(l,i),h=r.scales||{};s[l]=s[l]||e,a[e]=(0,n.ac)(Object.create(null),[{axis:l},t,h[l],h[c]])})),e.data.datasets.forEach((r=>{const i=r.type||e.type,l=r.indexAxis||Le(i,t),c=(n.U[i]||{}).scales||{};Object.keys(c).forEach((e=>{const t=function(e,t){let r=e;return"_index_"===e?r=t:"_value_"===e&&(r="x"===t?"y":"x"),r}(e,l),i=r[t+"AxisID"]||s[t]||t;a[i]=a[i]||Object.create(null),(0,n.ac)(a[i],[{axis:t},o[i],c[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];(0,n.ac)(t,[n.d.scales[t.type],n.d.scale])})),a}(e,t)}function He(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const je=new Map,Ge=new Set;function Ue(e,t){let r=je.get(e);return r||(r=t(),je.set(e,r),Ge.add(r)),r}const qe=(e,t,r)=>{const o=(0,n.f)(t,r);void 0!==o&&e.add(o)};class We{constructor(e){this._config=function(e){return(e=e||{}).data=He(e.data),ze(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=He(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ze(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ue(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return Ue(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return Ue(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return Ue(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const r=this._scopeCache;let n=r.get(e);return n&&!t||(n=new Map,r.set(e,n)),n}getOptionScopes(e,t,r){const{options:o,type:i}=this,s=this._cachedScopes(e,r),a=s.get(t);if(a)return a;const l=new Set;t.forEach((t=>{e&&(l.add(e),t.forEach((t=>qe(l,e,t)))),t.forEach((e=>qe(l,o,e))),t.forEach((e=>qe(l,n.U[i]||{},e))),t.forEach((e=>qe(l,n.d,e))),t.forEach((e=>qe(l,n.a7,e)))}));const c=Array.from(l);return 0===c.length&&c.push(Object.create(null)),Ge.has(t)&&s.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,n.U[t]||{},n.d.datasets[t]||{},{type:t},n.d,n.a7]}resolveNamedOptions(e,t,r,o=[""]){const i={$shared:!0},{resolver:s,subPrefixes:a}=$e(this._resolverCache,e,o);let l=s;if(function(e,t){const{isScriptable:r,isIndexable:o}=(0,n.ab)(e);for(const i of t){const t=r(i),s=o(i),a=(s||t)&&e[i];if(t&&((0,n.a8)(a)||Ze(a))||s&&(0,n.b)(a))return!0}return!1}(s,t)){i.$shared=!1,r=(0,n.a8)(r)?r():r;const t=this.createResolver(e,r,a);l=(0,n.a9)(s,r,t)}for(const e of t)i[e]=l[e];return i}createResolver(e,t,r=[""],o){const{resolver:i}=$e(this._resolverCache,e,r);return(0,n.i)(t)?(0,n.a9)(i,t,void 0,o):i}}function $e(e,t,r){let o=e.get(t);o||(o=new Map,e.set(t,o));const i=r.join();let s=o.get(i);return s||(s={resolver:(0,n.aa)(t,r),subPrefixes:r.filter((e=>!e.toLowerCase().includes("hover")))},o.set(i,s)),s}const Ze=e=>(0,n.i)(e)&&Object.getOwnPropertyNames(e).reduce(((t,r)=>t||(0,n.a8)(e[r])),!1),Ke=["top","bottom","left","right","chartArea"];function Ye(e,t){return"top"===e||"bottom"===e||-1===Ke.indexOf(e)&&"x"===t}function Xe(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function Je(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),(0,n.C)(r&&r.onComplete,[e],t)}function Qe(e){const t=e.chart,r=t.options.animation;(0,n.C)(r&&r.onProgress,[e],t)}function et(e){return(0,n.a6)()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const tt={},rt=e=>{const t=et(e);return Object.values(tt).filter((e=>e.canvas===t)).pop()};function nt(e,t,r){const n=Object.keys(e);for(const o of n){const n=+o;if(n>=t){const i=e[o];delete e[o],(r>0||n>t)&&(e[n+r]=i)}}}class ot{constructor(e,t){const r=this.config=new We(t),i=et(e),s=rt(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!(0,n.a6)()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?we:Re}(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,a.aspectRatio),c=l&&l.canvas,h=c&&c.height,d=c&&c.width;this.id=(0,n.ad)(),this.ctx=l,this.canvas=c,this.width=d,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Fe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,n.ae)((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],tt[this.id]=this,l&&c?(o.listen(this,"complete",Je),o.listen(this,"progress",Qe),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:o,_aspectRatio:i}=this;return(0,n.k)(e)?t&&i?i:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,n.af)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,n.ag)(this.canvas,this.ctx),this}stop(){return o.stop(this),this}resize(e,t){o.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,o=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(o,e,t,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,(0,n.af)(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),(0,n.C)(r.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};(0,n.Q)(e,((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,o=Object.keys(r).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const r=t[e],n=Ve(e,r),o="r"===n,i="x"===n;return{options:r,dposition:o?"chartArea":i?"bottom":"left",dtype:o?"radialLinear":i?"category":"linear"}})))),(0,n.Q)(i,(t=>{const i=t.options,s=i.id,a=Ve(s,i),l=(0,n.v)(i.type,t.dtype);void 0!==i.position&&Ye(i.position,a)===Ye(t.dposition)||(i.position=t.dposition),o[s]=!0;let c=null;s in r&&r[s].type===l?c=r[s]:(c=new(K.getScale(l))({id:s,type:l,ctx:this.ctx,chart:this}),r[c.id]=c),c.init(i,e)})),(0,n.Q)(o,((e,t)=>{e||delete r[t]})),(0,n.Q)(r,(e=>{ye.configure(this,e,e.options),ye.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort(((e,t)=>e.index-t.index)),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Xe("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,r)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(r)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=t.length;r<o;r++){const o=t[r];let i=this.getDatasetMeta(r);const s=o.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(r),i=this.getDatasetMeta(r)),i.type=s,i.indexAxis=o.indexAxis||Le(s,this.options),i.order=o.order||0,i.index=r,i.label=""+o.label,i.visible=this.isDatasetVisible(r),i.controller)i.controller.updateIndex(r),i.controller.linkScales();else{const t=K.getController(s),{datasetElementType:o,dataElementType:a}=n.d.datasets[s];Object.assign(t.prototype,{dataElementType:K.getElement(a),datasetElementType:o&&K.getElement(o)}),i.controller=new t(this,r),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){(0,n.Q)(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),r=!o&&-1===i.indexOf(t);t.buildOrUpdateElements(r),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),o||(0,n.Q)(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Xe("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){(0,n.Q)(this.scales,(e=>{ye.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(0,n.ah)(t,r)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:o}of t)nt(e,n,"_removeElements"===r?-o:o)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),o=r(0);for(let e=1;e<t;e++)if(!(0,n.ah)(o,r(e)))return;return Array.from(o).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ye.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],(0,n.Q)(this.boxes,(e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,(0,n.a8)(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(r.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(o.has(this)?this.attached&&!o.running(this)&&o.start(this):(this.draw(),Je({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let n,o;for(n=0,o=t.length;n<o;++n){const o=t[n];e&&!o.visible||r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,o=!r.disabled,i=this.chartArea,s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(o&&(0,n.L)(t,{left:!1===r.left?0:i.left-r.left,right:!1===r.right?this.width:i.right+r.right,top:!1===r.top?0:i.top-r.top,bottom:!1===r.bottom?this.height:i.bottom+r.bottom}),e.controller.draw(),o&&(0,n.N)(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return(0,n.$)(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,n){const o=se.modes[t];return"function"==typeof o?o(this,e,r,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let n=r.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=(0,n.h)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const o=r?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,o);(0,n.j)(t)?(i.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),s.update(i,{visible:r}),this.update((t=>t.datasetIndex===e?o:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),o.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),(0,n.ag)(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete tt[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},o=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};(0,n.Q)(this.options.events,(e=>r(e,o)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(r,n)=>{e[r]&&(t.removeEventListener(this,r,n),delete e[r])},o=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const s=()=>{n("attach",s),this.attached=!0,this.resize(),r("resize",o),r("detach",i)};i=()=>{this.attached=!1,n("resize",o),this._stop(),this._resize(0,0),r("attach",s)},t.isAttached(this.canvas)?s():i()}unbindEvents(){(0,n.Q)(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},(0,n.Q)(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const n=r?"set":"remove";let o,i,s,a;for("dataset"===t&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+n+"DatasetHoverStyle"]()),s=0,a=e.length;s<a;++s){i=e[s];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[n+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map((({datasetIndex:e,index:t})=>{const r=this.getDatasetMeta(e);if(!r)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[t],index:t}}));!(0,n.ai)(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}_updateHoverStyles(e,t,r){const n=this.options.hover,o=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=o(t,e),s=r?e:o(e,t);i.length&&this.updateHoverStyle(i,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,n))return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:o=[],options:i}=this,s=t,a=this._getActiveElements(e,o,r,s),l=(0,n.aj)(e),c=function(e,t,r,n){return r&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,r,l);r&&(this._lastEvent=null,(0,n.C)(i.onHover,[e,a,this],this),l&&(0,n.C)(i.onClick,[e,a,this],this));const h=!(0,n.ai)(a,o);return(h||t)&&(this._active=a,this._updateHoverStyles(a,o,t)),this._lastEvent=c,h}_getActiveElements(e,t,r,n){if("mouseout"===e.type)return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,n)}}const it=()=>(0,n.Q)(ot.instances,(e=>e._plugins.invalidate())),st=!0;function at(e,t,r){const{startAngle:o,pixelMargin:i,x:s,y:a,outerRadius:l,innerRadius:c}=t;let h=i/l;e.beginPath(),e.arc(s,a,l,o-h,r+h),c>i?(h=i/c,e.arc(s,a,c,r+h,o-h,!0)):e.arc(s,a,i,r+n.H,o-n.H),e.closePath(),e.clip()}function lt(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function ct(e,t,r,o,i,s){const{x:a,y:l,startAngle:c,pixelMargin:h,innerRadius:d}=t,u=Math.max(t.outerRadius+o+r-h,0),p=d>0?d+o+r+h:0;let f=0;const m=i-c;if(o){const e=((d>0?d-o:0)+(u>0?u-o:0))/2;f=(m-(0!==e?m*e/(e+o):m))/2}const g=(m-Math.max(.001,m*u-r/n.P)/u)/2,v=c+g+f,y=i-g-f,{outerStart:b,outerEnd:w,innerStart:x,innerEnd:_}=function(e,t,r,o){const i=(s=e.options.borderRadius,(0,n.al)(s,["outerStart","outerEnd","innerStart","innerEnd"]));var s;const a=(r-t)/2,l=Math.min(a,o*t/2),c=e=>{const t=(r-Math.min(a,e))*o/2;return(0,n.E)(e,0,Math.min(a,t))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:(0,n.E)(i.innerStart,0,l),innerEnd:(0,n.E)(i.innerEnd,0,l)}}(t,p,u,y-v),E=u-b,C=u-w,S=v+b/E,k=y-w/C,A=p+x,P=p+_,T=v+x/A,M=y-_/P;if(e.beginPath(),s){if(e.arc(a,l,u,S,k),w>0){const t=lt(C,k,a,l);e.arc(t.x,t.y,w,k,y+n.H)}const t=lt(P,y,a,l);if(e.lineTo(t.x,t.y),_>0){const t=lt(P,M,a,l);e.arc(t.x,t.y,_,y+n.H,M+Math.PI)}if(e.arc(a,l,p,y-_/p,v+x/p,!0),x>0){const t=lt(A,T,a,l);e.arc(t.x,t.y,x,T+Math.PI,v-n.H)}const r=lt(E,v,a,l);if(e.lineTo(r.x,r.y),b>0){const t=lt(E,S,a,l);e.arc(t.x,t.y,b,v-n.H,S)}}else{e.moveTo(a,l);const t=Math.cos(S)*u+a,r=Math.sin(S)*u+l;e.lineTo(t,r);const n=Math.cos(k)*u+a,o=Math.sin(k)*u+l;e.lineTo(n,o)}e.closePath()}Object.defineProperties(ot,{defaults:{enumerable:st,value:n.d},instances:{enumerable:st,value:tt},overrides:{enumerable:st,value:n.U},registry:{enumerable:st,value:K},version:{enumerable:st,value:"3.9.1"},getChart:{enumerable:st,value:rt},register:{enumerable:st,value:(...e)=>{K.add(...e),it()}},unregister:{enumerable:st,value:(...e)=>{K.remove(...e),it()}}});class ht extends N{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const o=this.getProps(["x","y"],r),{angle:i,distance:s}=(0,n.a0)(o,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),u=this.options.spacing/2,p=(0,n.v)(d,l-a)>=n.T||(0,n.p)(i,a,l),f=(0,n.ak)(s,c+u,h+u);return p&&f}getCenterPoint(e){const{x:t,y:r,startAngle:n,endAngle:o,innerRadius:i,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:a,spacing:l}=this.options,c=(n+o)/2,h=(i+s+l+a)/2;return{x:t+Math.cos(c)*h,y:r+Math.sin(c)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,o=(t.offset||0)/2,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>n.T?Math.floor(r/n.T):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=0;if(o){a=o/2;const t=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(t)*a,Math.sin(t)*a),this.circumference>=n.P&&(a=o)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const l=function(e,t,r,o,i){const{fullCircles:s,startAngle:a,circumference:l}=t;let c=t.endAngle;if(s){ct(e,t,r,o,a+n.T,i);for(let t=0;t<s;++t)e.fill();isNaN(l)||(c=a+l%n.T,l%n.T==0&&(c+=n.T))}return ct(e,t,r,o,c,i),e.fill(),c}(e,this,a,i,s);(function(e,t,r,o,i,s){const{options:a}=t,{borderWidth:l,borderJoinStyle:c}=a,h="inner"===a.borderAlign;l&&(h?(e.lineWidth=2*l,e.lineJoin=c||"round"):(e.lineWidth=l,e.lineJoin=c||"bevel"),t.fullCircles&&function(e,t,r){const{x:o,y:i,startAngle:s,pixelMargin:a,fullCircles:l}=t,c=Math.max(t.outerRadius-a,0),h=t.innerRadius+a;let d;for(r&&at(e,t,s+n.T),e.beginPath(),e.arc(o,i,h,s+n.T,s,!0),d=0;d<l;++d)e.stroke();for(e.beginPath(),e.arc(o,i,c,s,s+n.T),d=0;d<l;++d)e.stroke()}(e,t,h),h&&at(e,t,i),ct(e,t,r,o,i,s),e.stroke())})(e,this,a,i,l,s),e.restore()}}function dt(e,t,r=t){e.lineCap=(0,n.v)(r.borderCapStyle,t.borderCapStyle),e.setLineDash((0,n.v)(r.borderDash,t.borderDash)),e.lineDashOffset=(0,n.v)(r.borderDashOffset,t.borderDashOffset),e.lineJoin=(0,n.v)(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=(0,n.v)(r.borderWidth,t.borderWidth),e.strokeStyle=(0,n.v)(r.borderColor,t.borderColor)}function ut(e,t,r){e.lineTo(r.x,r.y)}function pt(e,t,r={}){const n=e.length,{start:o=0,end:i=n-1}=r,{start:s,end:a}=t,l=Math.max(o,s),c=Math.min(i,a),h=o<s&&i<s||o>a&&i>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!h?n+c-l:c-l}}function ft(e,t,r,o){const{points:i,options:s}=t,{count:a,start:l,loop:c,ilen:h}=pt(i,r,o),d=function(e){return e.stepped?n.as:e.tension||"monotone"===e.cubicInterpolationMode?n.at:ut}(s);let u,p,f,{move:m=!0,reverse:g}=o||{};for(u=0;u<=h;++u)p=i[(l+(g?h-u:u))%a],p.skip||(m?(e.moveTo(p.x,p.y),m=!1):d(e,f,p,g,s.stepped),f=p);return c&&(p=i[(l+(g?h:0))%a],d(e,f,p,g,s.stepped)),!!c}function mt(e,t,r,n){const o=t.points,{count:i,start:s,ilen:a}=pt(o,r,n),{move:l=!0,reverse:c}=n||{};let h,d,u,p,f,m,g=0,v=0;const y=e=>(s+(c?a-e:e))%i,b=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(d=o[y(0)],e.moveTo(d.x,d.y)),h=0;h<=a;++h){if(d=o[y(h)],d.skip)continue;const t=d.x,r=d.y,n=0|t;n===u?(r<p?p=r:r>f&&(f=r),g=(v*g+t)/++v):(b(),e.lineTo(t,r),u=n,v=0,p=f=r),m=r}b()}function gt(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||r?ft:mt}ht.id="arc",ht.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},ht.defaultRoutes={backgroundColor:"backgroundColor"};const vt="function"==typeof Path2D;class yt extends N{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;(0,n.am)(this._points,r,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,n.an)(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,o=e[t],i=this.points,s=(0,n.ao)(this,{property:t,start:o,end:o});if(!s.length)return;const a=[],l=function(e){return e.stepped?n.ap:e.tension||"monotone"===e.cubicInterpolationMode?n.aq:n.ar}(r);let c,h;for(c=0,h=s.length;c<h;++c){const{start:n,end:h}=s[c],d=i[n],u=i[h];if(d===u){a.push(d);continue}const p=l(d,u,Math.abs((o-d[t])/(u[t]-d[t])),r.stepped);p[t]=e[t],a.push(p)}return 1===a.length?a[0]:a}pathSegment(e,t,r){return gt(this)(e,this,t,r)}path(e,t,r){const n=this.segments,o=gt(this);let i=this._loop;t=t||0,r=r||this.points.length-t;for(const s of n)i&=o(e,this,s,{start:t,end:t+r-1});return!!i}draw(e,t,r,n){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),function(e,t,r,n){vt&&!t.options.segment?function(e,t,r,n){let o=t._path;o||(o=t._path=new Path2D,t.path(o,r,n)&&o.closePath()),dt(e,t.options),e.stroke(o)}(e,t,r,n):function(e,t,r,n){const{segments:o,options:i}=t,s=gt(t);for(const a of o)dt(e,i,a.style),e.beginPath(),s(e,t,a,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}(e,t,r,n)}(e,this,r,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function bt(e,t,r,n){const o=e.options,{[r]:i}=e.getProps([r],n);return Math.abs(t-i)<o.radius+o.hitRadius}yt.id="line",yt.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},yt.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},yt.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class wt extends N{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.options,{x:o,y:i}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(t-i,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return bt(this,e,"x",t)}inYRange(e,t){return bt(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const r=this.options;this.skip||r.radius<.1||!(0,n.$)(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,(0,n.au)(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function xt(e,t){const{x:r,y:n,base:o,width:i,height:s}=e.getProps(["x","y","base","width","height"],t);let a,l,c,h,d;return e.horizontal?(d=s/2,a=Math.min(r,o),l=Math.max(r,o),c=n-d,h=n+d):(d=i/2,a=r-d,l=r+d,c=Math.min(n,o),h=Math.max(n,o)),{left:a,top:c,right:l,bottom:h}}function _t(e,t,r,o){return e?0:(0,n.E)(t,r,o)}function Et(e,t,r,o){const i=null===t,s=null===r,a=e&&!(i&&s)&&xt(e,o);return a&&(i||(0,n.ak)(t,a.left,a.right))&&(s||(0,n.ak)(r,a.top,a.bottom))}function Ct(e,t){e.rect(t.x,t.y,t.w,t.h)}function St(e,t,r={}){const n=e.x!==r.x?-t:0,o=e.y!==r.y?-t:0,i=(e.x+e.w!==r.x+r.w?t:0)-n,s=(e.y+e.h!==r.y+r.h?t:0)-o;return{x:e.x+n,y:e.y+o,w:e.w+i,h:e.h+s,radius:e.radius}}wt.id="point",wt.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},wt.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class kt extends N{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:o}}=this,{inner:i,outer:s}=function(e){const t=xt(e),r=t.right-t.left,o=t.bottom-t.top,i=function(e,t,r){const o=e.options.borderWidth,i=e.borderSkipped,s=(0,n.aw)(o);return{t:_t(i.top,s.top,0,r),r:_t(i.right,s.right,0,t),b:_t(i.bottom,s.bottom,0,r),l:_t(i.left,s.left,0,t)}}(e,r/2,o/2),s=function(e,t,r){const{enableBorderRadius:o}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=(0,n.ax)(i),a=Math.min(t,r),l=e.borderSkipped,c=o||(0,n.i)(i);return{topLeft:_t(!c||l.top||l.left,s.topLeft,0,a),topRight:_t(!c||l.top||l.right,s.topRight,0,a),bottomLeft:_t(!c||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:_t(!c||l.bottom||l.right,s.bottomRight,0,a)}}(e,r/2,o/2);return{outer:{x:t.left,y:t.top,w:r,h:o,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:r-i.l-i.r,h:o-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}(this),a=(l=s.radius).topLeft||l.topRight||l.bottomLeft||l.bottomRight?n.av:Ct;var l;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),a(e,St(s,t,i)),e.clip(),a(e,St(i,-t,s)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,St(i,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,r){return Et(this,e,t,r)}inXRange(e,t){return Et(this,e,null,t)}inYRange(e,t){return Et(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+n)/2:t,y:o?r:(r+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}kt.id="bar",kt.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},kt.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var At=Object.freeze({__proto__:null,ArcElement:ht,LineElement:yt,PointElement:wt,BarElement:kt});function Pt(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function Tt(e){e.data.datasets.forEach((e=>{Pt(e)}))}var Mt={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,r)=>{if(!r.enabled)return void Tt(e);const o=e.width;e.data.datasets.forEach(((t,i)=>{const{_data:s,indexAxis:a}=t,l=e.getDatasetMeta(i),c=s||t.data;if("y"===(0,n.a)([a,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const h=e.scales[l.xAxisID];if("linear"!==h.type&&"time"!==h.type)return;if(e.options.parsing)return;let d,{start:u,count:p}=function(e,t){const r=t.length;let o,i=0;const{iScale:s}=e,{min:a,max:l,minDefined:c,maxDefined:h}=s.getUserBounds();return c&&(i=(0,n.E)((0,n.Z)(t,s.axis,a).lo,0,r-1)),o=h?(0,n.E)((0,n.Z)(t,s.axis,l).hi+1,i,r)-i:r-i,{start:i,count:o}}(l,c);if(p<=(r.threshold||4*o))Pt(t);else{switch((0,n.k)(s)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),r.algorithm){case"lttb":d=function(e,t,r,n,o){const i=o.samples||n;if(i>=r)return e.slice(t,t+r);const s=[],a=(r-2)/(i-2);let l=0;const c=t+r-1;let h,d,u,p,f,m=t;for(s[l++]=e[m],h=0;h<i-2;h++){let n,o=0,i=0;const c=Math.floor((h+1)*a)+1+t,g=Math.min(Math.floor((h+2)*a)+1,r)+t,v=g-c;for(n=c;n<g;n++)o+=e[n].x,i+=e[n].y;o/=v,i/=v;const y=Math.floor(h*a)+1+t,b=Math.min(Math.floor((h+1)*a)+1,r)+t,{x:w,y:x}=e[m];for(u=p=-1,n=y;n<b;n++)p=.5*Math.abs((w-o)*(e[n].y-x)-(w-e[n].x)*(i-x)),p>u&&(u=p,d=e[n],f=n);s[l++]=d,m=f}return s[l++]=e[c],s}(c,u,p,o,r);break;case"min-max":d=function(e,t,r,o){let i,s,a,l,c,h,d,u,p,f,m=0,g=0;const v=[],y=t+r-1,b=e[t].x,w=e[y].x-b;for(i=t;i<t+r;++i){s=e[i],a=(s.x-b)/w*o,l=s.y;const t=0|a;if(t===c)l<p?(p=l,h=i):l>f&&(f=l,d=i),m=(g*m+s.x)/++g;else{const r=i-1;if(!(0,n.k)(h)&&!(0,n.k)(d)){const t=Math.min(h,d),n=Math.max(h,d);t!==u&&t!==r&&v.push({...e[t],x:m}),n!==u&&n!==r&&v.push({...e[n],x:m})}i>0&&r!==u&&v.push(e[r]),v.push(s),c=t,g=0,p=f=l,h=d=u=i}}return v}(c,u,p,o);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}t._decimated=d}}))},destroy(e){Tt(e)}};function Ot(e,t,r,o){if(o)return;let i=t[e],s=r[e];return"angle"===e&&(i=(0,n.az)(i),s=(0,n.az)(s)),{property:e,start:i,end:s}}function Dt(e,t,r){for(;t>e;t--){const e=r[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function It(e,t,r,n){return e&&t?n(e[r],t[r]):e?e[r]:t?t[r]:0}function Rt(e,t){let r=[],o=!1;return(0,n.b)(e)?(o=!0,r=e):r=function(e,t){const{x:r=null,y:n=null}=e||{},o=t.points,i=[];return t.segments.forEach((({start:e,end:t})=>{t=Dt(e,t,o);const s=o[e],a=o[t];null!==n?(i.push({x:s.x,y:n}),i.push({x:a.x,y:n})):null!==r&&(i.push({x:r,y:s.y}),i.push({x:r,y:a.y}))})),i}(e,t),r.length?new yt({points:r,options:{tension:0},_loop:o,_fullLoop:o}):null}function Ft(e){return e&&!1!==e.fill}function Bt(e,t,r){let o=e[t].fill;const i=[t];let s;if(!r)return o;for(;!1!==o&&-1===i.indexOf(o);){if(!(0,n.g)(o))return o;if(s=e[o],!s)return!1;if(s.visible)return o;i.push(o),o=s.fill}return!1}function Nt(e,t,r){const o=function(e){const t=e.options,r=t.fill;let o=(0,n.v)(r&&r.target,r);return void 0===o&&(o=!!t.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}(e);if((0,n.i)(o))return!isNaN(o.value)&&o;let i=parseFloat(o);return(0,n.g)(i)&&Math.floor(i)===i?function(e,t,r,n){return"-"!==e&&"+"!==e||(r=t+r),!(r===t||r<0||r>=n)&&r}(o[0],t,i,r):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function Lt(e,t,r){const n=[];for(let o=0;o<r.length;o++){const i=r[o],{first:s,last:a,point:l}=Vt(i,t,"x");if(!(!l||s&&a))if(s)n.unshift(l);else if(e.push(l),!a)break}e.push(...n)}function Vt(e,t,r){const o=e.interpolate(t,r);if(!o)return{};const i=o[r],s=e.segments,a=e.points;let l=!1,c=!1;for(let e=0;e<s.length;e++){const t=s[e],o=a[t.start][r],h=a[t.end][r];if((0,n.ak)(i,o,h)){l=i===o,c=i===h;break}}return{first:l,last:c,point:o}}class zt{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:o,y:i,radius:s}=this;return t=t||{start:0,end:n.T},e.arc(o,i,s,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:n}=this,o=e.angle;return{x:t+Math.cos(o)*n,y:r+Math.sin(o)*n,angle:o}}}function Ht(e,t,r){const o=function(e){const{chart:t,fill:r,line:o}=e;if((0,n.g)(r))return function(e,t){const r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}(t,r);if("stack"===r)return function(e){const{scale:t,index:r,line:n}=e,o=[],i=n.segments,s=n.points,a=function(e,t){const r=[],n=e.getMatchingVisibleMetas("line");for(let e=0;e<n.length;e++){const o=n[e];if(o.index===t)break;o.hidden||r.unshift(o.dataset)}return r}(t,r);a.push(Rt({x:null,y:t.bottom},n));for(let e=0;e<i.length;e++){const t=i[e];for(let e=t.start;e<=t.end;e++)Lt(o,s[e],a)}return new yt({points:o,options:{}})}(e);if("shape"===r)return!0;const i=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:r}=e,o=t.options,i=t.getLabels().length,s=o.reverse?t.max:t.min,a=function(e,t,r){let o;return o="start"===e?r:"end"===e?t.options.reverse?t.min:t.max:(0,n.i)(e)?e.value:t.getBaseValue(),o}(r,t,s),l=[];if(o.grid.circular){const e=t.getPointPositionForValue(0,s);return new zt({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(a)})}for(let e=0;e<i;++e)l.push(t.getPointPositionForValue(e,a));return l}(e):function(e){const{scale:t={},fill:r}=e,o=function(e,t){let r=null;return"start"===e?r=t.bottom:"end"===e?r=t.top:(0,n.i)(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}(r,t);if((0,n.g)(o)){const e=t.isHorizontal();return{x:e?o:null,y:e?null:o}}return null}(e)}(e);return i instanceof zt?i:Rt(i,o)}(t),{line:i,scale:s,axis:a}=t,l=i.options,c=l.fill,h=l.backgroundColor,{above:d=h,below:u=h}=c||{};o&&i.points.length&&((0,n.L)(e,r),function(e,t){const{line:r,target:n,above:o,below:i,area:s,scale:a}=t,l=r._loop?"angle":t.axis;e.save(),"x"===l&&i!==o&&(jt(e,n,s.top),Gt(e,{line:r,target:n,color:o,scale:a,property:l}),e.restore(),e.save(),jt(e,n,s.bottom)),Gt(e,{line:r,target:n,color:i,scale:a,property:l}),e.restore()}(e,{line:i,target:o,above:d,below:u,area:r,scale:s,axis:a}),(0,n.N)(e))}function jt(e,t,r){const{segments:n,points:o}=t;let i=!0,s=!1;e.beginPath();for(const a of n){const{start:n,end:l}=a,c=o[n],h=o[Dt(n,l,o)];i?(e.moveTo(c.x,c.y),i=!1):(e.lineTo(c.x,r),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(h.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function Gt(e,t){const{line:r,target:o,property:i,color:s,scale:a}=t,l=function(e,t,r){const o=e.segments,i=e.points,s=t.points,a=[];for(const e of o){let{start:o,end:l}=e;l=Dt(o,l,i);const c=Ot(r,i[o],i[l],e.loop);if(!t.segments){a.push({source:e,target:c,start:i[o],end:i[l]});continue}const h=(0,n.ao)(t,c);for(const t of h){const o=Ot(r,s[t.start],s[t.end],t.loop),l=(0,n.ay)(e,i,o);for(const e of l)a.push({source:e,target:t,start:{[r]:It(c,o,"start",Math.max)},end:{[r]:It(c,o,"end",Math.min)}})}}return a}(r,o,i);for(const{source:t,target:n,start:c,end:h}of l){const{style:{backgroundColor:l=s}={}}=t,d=!0!==o;e.save(),e.fillStyle=l,Ut(e,a,d&&Ot(i,c,h)),e.beginPath();const u=!!r.pathSegment(e,t);let p;if(d){u?e.closePath():qt(e,o,h,i);const t=!!o.pathSegment(e,n,{move:u,reverse:!0});p=u&&t,p||qt(e,o,c,i)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function Ut(e,t,r){const{top:n,bottom:o}=t.chart.chartArea,{property:i,start:s,end:a}=r||{};"x"===i&&(e.beginPath(),e.rect(s,n,a-s,o-n),e.clip())}function qt(e,t,r,n){const o=t.interpolate(r,n);o&&e.lineTo(o.x,o.y)}var Wt={id:"filler",afterDatasetsUpdate(e,t,r){const n=(e.data.datasets||[]).length,o=[];let i,s,a,l;for(s=0;s<n;++s)i=e.getDatasetMeta(s),a=i.dataset,l=null,a&&a.options&&a instanceof yt&&(l={visible:e.isDatasetVisible(s),index:s,fill:Nt(a,s,n),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,o.push(l);for(s=0;s<n;++s)l=o[s],l&&!1!==l.fill&&(l.fill=Bt(o,s,r.propagate))},beforeDraw(e,t,r){const n="beforeDraw"===r.drawTime,o=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let t=o.length-1;t>=0;--t){const r=o[t].$filler;r&&(r.line.updateControlPoints(i,r.axis),n&&r.fill&&Ht(e.ctx,r,i))}},beforeDatasetsDraw(e,t,r){if("beforeDatasetsDraw"!==r.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let t=n.length-1;t>=0;--t){const r=n[t].$filler;Ft(r)&&Ht(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,r){const n=t.meta.$filler;Ft(n)&&"beforeDatasetDraw"===r.drawTime&&Ht(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $t=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}};class Zt extends N{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=(0,n.C)(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,r)=>e.sort(t,r,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,o=(0,n.O)(r.font),i=o.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=$t(r,i);let c,h;t.font=o.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(s,i,a,l)+10):(h=this.maxHeight,c=this._fitCols(s,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,n){const{ctx:o,maxWidth:i,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+s;let h=e;o.textAlign="left",o.textBaseline="middle";let d=-1,u=-c;return this.legendItems.forEach(((e,p)=>{const f=r+t/2+o.measureText(e.text).width;(0===p||l[l.length-1]+f+2*s>i)&&(h+=c,l[l.length-(p>0?0:1)]=0,u+=c,d++),a[p]={left:0,top:u,row:d,width:f,height:n},l[l.length-1]+=f+s})),h}_fitCols(e,t,r,n){const{ctx:o,maxHeight:i,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=i-e;let h=s,d=0,u=0,p=0,f=0;return this.legendItems.forEach(((e,i)=>{const m=r+t/2+o.measureText(e.text).width;i>0&&u+n+2*s>c&&(h+=d+s,l.push({width:d,height:u}),p+=d+s,f++,d=u=0),a[i]={left:p,top:u,col:f,width:m,height:n},d=Math.max(d,m),u+=n+s})),h+=d,l.push({width:d,height:u}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:o},rtl:i}}=this,s=(0,n.aA)(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=(0,n.S)(r,this.left+o,this.right-this.lineWidths[i]);for(const l of t)i!==l.row&&(i=l.row,a=(0,n.S)(r,this.left+o,this.right-this.lineWidths[i])),l.top+=this.top+e+o,l.left=s.leftForLtr(s.x(a),l.width),a+=l.width+o}else{let i=0,a=(0,n.S)(r,this.top+e+o,this.bottom-this.columnSizes[i].height);for(const l of t)l.col!==i&&(i=l.col,a=(0,n.S)(r,this.top+e+o,this.bottom-this.columnSizes[i].height)),l.top=a,l.left+=this.left+o,l.left=s.leftForLtr(s.x(l.left),l.width),a+=l.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;(0,n.L)(e,this),this._draw(),(0,n.N)(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:o}=this,{align:i,labels:s}=e,a=n.d.color,l=(0,n.aA)(e.rtl,this.left,this.width),c=(0,n.O)(s.font),{color:h,padding:d}=s,u=c.size,p=u/2;let f;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:v}=$t(s,u),y=this.isHorizontal(),b=this._computeTitleHeight();f=y?{x:(0,n.S)(i,this.left+d,this.right-r[0]),y:this.top+d+b,line:0}:{x:this.left+d,y:(0,n.S)(i,this.top+b+d,this.bottom-t[0].height),line:0},(0,n.aB)(this.ctx,e.textDirection);const w=v+d;this.legendItems.forEach(((x,_)=>{o.strokeStyle=x.fontColor||h,o.fillStyle=x.fontColor||h;const E=o.measureText(x.text).width,C=l.textAlign(x.textAlign||(x.textAlign=s.textAlign)),S=m+p+E;let k=f.x,A=f.y;l.setWidth(this.width),y?_>0&&k+S+d>this.right&&(A=f.y+=w,f.line++,k=f.x=(0,n.S)(i,this.left+d,this.right-r[f.line])):_>0&&A+w>this.bottom&&(k=f.x=k+t[f.line].width+d,f.line++,A=f.y=(0,n.S)(i,this.top+b+d,this.bottom-t[f.line].height)),function(e,t,r){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;o.save();const i=(0,n.v)(r.lineWidth,1);if(o.fillStyle=(0,n.v)(r.fillStyle,a),o.lineCap=(0,n.v)(r.lineCap,"butt"),o.lineDashOffset=(0,n.v)(r.lineDashOffset,0),o.lineJoin=(0,n.v)(r.lineJoin,"miter"),o.lineWidth=i,o.strokeStyle=(0,n.v)(r.strokeStyle,a),o.setLineDash((0,n.v)(r.lineDash,[])),s.usePointStyle){const a={radius:g*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:i},c=l.xPlus(e,m/2),h=t+p;(0,n.aE)(o,a,c,h,s.pointStyleWidth&&m)}else{const s=t+Math.max((u-g)/2,0),a=l.leftForLtr(e,m),c=(0,n.ax)(r.borderRadius);o.beginPath(),Object.values(c).some((e=>0!==e))?(0,n.av)(o,{x:a,y:s,w:m,h:g,radius:c}):o.rect(a,s,m,g),o.fill(),0!==i&&o.stroke()}o.restore()}(l.x(k),A,x),k=(0,n.aC)(C,k+m+p,y?k+S:this.right,e.rtl),function(e,t,r){(0,n.M)(o,r.text,e,t+v/2,c,{strikethrough:r.hidden,textAlign:l.textAlign(r.textAlign)})}(l.x(k),A,x),y?f.x+=S+d:f.y+=w})),(0,n.aD)(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=(0,n.O)(t.font),o=(0,n.K)(t.padding);if(!t.display)return;const i=(0,n.aA)(e.rtl,this.left,this.width),s=this.ctx,a=t.position,l=r.size/2,c=o.top+l;let h,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),h=this.top+c,d=(0,n.S)(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);h=c+(0,n.S)(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const p=(0,n.S)(a,d,d+u);s.textAlign=i.textAlign((0,n.R)(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=r.string,(0,n.M)(s,t.text,p,h,r)}_computeTitleHeight(){const e=this.options.title,t=(0,n.O)(e.font),r=(0,n.K)(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,o,i;if((0,n.ak)(e,this.left,this.right)&&(0,n.ak)(t,this.top,this.bottom))for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(o=i[r],(0,n.ak)(e,o.left,o.left+o.width)&&(0,n.ak)(t,o.top,o.top+o.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,a=(i=r,null!==(o=s)&&null!==i&&o.datasetIndex===i.datasetIndex&&o.index===i.index);s&&!a&&(0,n.C)(t.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!a&&(0,n.C)(t.onHover,[e,r,this],this)}else r&&(0,n.C)(t.onClick,[e,r,this],this);var o,i}}var Kt={id:"legend",_element:Zt,start(e,t,r){const n=e.legend=new Zt({ctx:e.ctx,options:r,chart:e});ye.configure(e,n,r),ye.addBox(e,n)},stop(e){ye.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;ye.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,o=r.chart;o.isDatasetVisible(n)?(o.hide(n),t.hidden=!0):(o.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:o,textAlign:i,color:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const a=e.controller.getStyle(r?0:void 0),l=(0,n.K)(a.borderWidth);return{text:t[e.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:o||a.pointStyle,rotation:a.rotation,textAlign:i||a.textAlign,borderRadius:0,datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Yt extends N{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const o=(0,n.b)(r.text)?r.text.length:1;this._padding=(0,n.K)(r.padding);const i=o*(0,n.O)(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:o,right:i,options:s}=this,a=s.align;let l,c,h,d=0;return this.isHorizontal()?(c=(0,n.S)(a,r,i),h=t+e,l=i-r):("left"===s.position?(c=r+e,h=(0,n.S)(a,o,t),d=-.5*n.P):(c=i-e,h=(0,n.S)(a,t,o),d=.5*n.P),l=o-t),{titleX:c,titleY:h,maxWidth:l,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=(0,n.O)(t.font),o=r.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:a,rotation:l}=this._drawArgs(o);(0,n.M)(e,t.text,0,0,r,{color:t.color,maxWidth:a,rotation:l,textAlign:(0,n.R)(t.align),textBaseline:"middle",translation:[i,s]})}}var Xt={id:"title",_element:Yt,start(e,t,r){!function(e,t){const r=new Yt({ctx:e.ctx,options:t,chart:e});ye.configure(e,r,t),ye.addBox(e,r),e.titleBlock=r}(e,r)},stop(e){const t=e.titleBlock;ye.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;ye.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jt=new WeakMap;var Qt={id:"subtitle",start(e,t,r){const n=new Yt({ctx:e.ctx,options:r,chart:e});ye.configure(e,n,r),ye.addBox(e,n),Jt.set(e,n)},stop(e){ye.removeBox(e,Jt.get(e)),Jt.delete(e)},beforeUpdate(e,t,r){const n=Jt.get(e);ye.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const er={average(e){if(!e.length)return!1;let t,r,n=0,o=0,i=0;for(t=0,r=e.length;t<r;++t){const r=e[t].element;if(r&&r.hasValue()){const e=r.tooltipPosition();n+=e.x,o+=e.y,++i}}return{x:n/i,y:o/i}},nearest(e,t){if(!e.length)return!1;let r,o,i,s=t.x,a=t.y,l=Number.POSITIVE_INFINITY;for(r=0,o=e.length;r<o;++r){const o=e[r].element;if(o&&o.hasValue()){const e=o.getCenterPoint(),r=(0,n.aG)(t,e);r<l&&(l=r,i=o)}}if(i){const e=i.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function tr(e,t){return t&&((0,n.b)(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function rr(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function nr(e,t){const{element:r,datasetIndex:n,index:o}=t,i=e.getDatasetMeta(n).controller,{label:s,value:a}=i.getLabelAndValue(o);return{chart:e,label:s,parsed:i.getParsed(o),raw:e.data.datasets[n].data[o],formattedValue:a,dataset:i.getDataset(),dataIndex:o,datasetIndex:n,element:r}}function or(e,t){const r=e.chart.ctx,{body:o,footer:i,title:s}=e,{boxWidth:a,boxHeight:l}=t,c=(0,n.O)(t.bodyFont),h=(0,n.O)(t.titleFont),d=(0,n.O)(t.footerFont),u=s.length,p=i.length,f=o.length,m=(0,n.K)(t.padding);let g=m.height,v=0,y=o.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);y+=e.beforeBody.length+e.afterBody.length,u&&(g+=u*h.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),y&&(g+=f*(t.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(y-f)*c.lineHeight+(y-1)*t.bodySpacing),p&&(g+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let b=0;const w=function(e){v=Math.max(v,r.measureText(e).width+b)};return r.save(),r.font=h.string,(0,n.Q)(e.title,w),r.font=c.string,(0,n.Q)(e.beforeBody.concat(e.afterBody),w),b=t.displayColors?a+2+t.boxPadding:0,(0,n.Q)(o,(e=>{(0,n.Q)(e.before,w),(0,n.Q)(e.lines,w),(0,n.Q)(e.after,w)})),b=0,r.font=d.string,(0,n.Q)(e.footer,w),r.restore(),v+=m.width,{width:v,height:g}}function ir(e,t,r,n){const{x:o,width:i}=r,{width:s,chartArea:{left:a,right:l}}=e;let c="center";return"center"===n?c=o<=(a+l)/2?"left":"right":o<=i/2?c="left":o>=s-i/2&&(c="right"),function(e,t,r,n){const{x:o,width:i}=n,s=r.caretSize+r.caretPadding;return"left"===e&&o+i+s>t.width||"right"===e&&o-i-s<0||void 0}(c,e,t,r)&&(c="center"),c}function sr(e,t,r){const n=r.yAlign||t.yAlign||function(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||ir(e,t,r,n),yAlign:n}}function ar(e,t,r,o){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:l,yAlign:c}=r,h=i+s,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:f}=(0,n.ax)(a);let m=function(e,t){let{x:r,width:n}=e;return"right"===t?r-=n:"center"===t&&(r-=n/2),r}(t,l);const g=function(e,t,r){let{y:n,height:o}=e;return"top"===t?n+=r:n-="bottom"===t?o+r:o/2,n}(t,c,h);return"center"===c?"left"===l?m+=h:"right"===l&&(m-=h):"left"===l?m-=Math.max(d,p)+i:"right"===l&&(m+=Math.max(u,f)+i),{x:(0,n.E)(m,0,o.width-t.width),y:(0,n.E)(g,0,o.height-t.height)}}function lr(e,t,r){const o=(0,n.K)(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-o.right:e.x+o.left}function cr(e){return tr([],rr(e))}function hr(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}class dr extends N{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&t.options.animation&&r.animations,o=new c(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),this,t=this._tooltipItems,(0,n.h)(e,{tooltip:this,tooltipItems:t,type:"tooltip"})));var e,t}getTitle(e,t){const{callbacks:r}=t,n=r.beforeTitle.apply(this,[e]),o=r.title.apply(this,[e]),i=r.afterTitle.apply(this,[e]);let s=[];return s=tr(s,rr(n)),s=tr(s,rr(o)),s=tr(s,rr(i)),s}getBeforeBody(e,t){return cr(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:r}=t,o=[];return(0,n.Q)(e,(e=>{const t={before:[],lines:[],after:[]},n=hr(r,e);tr(t.before,rr(n.beforeLabel.call(this,e))),tr(t.lines,n.label.call(this,e)),tr(t.after,rr(n.afterLabel.call(this,e))),o.push(t)})),o}getAfterBody(e,t){return cr(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:r}=t,n=r.beforeFooter.apply(this,[e]),o=r.footer.apply(this,[e]),i=r.afterFooter.apply(this,[e]);let s=[];return s=tr(s,rr(n)),s=tr(s,rr(o)),s=tr(s,rr(i)),s}_createItems(e){const t=this._active,r=this.chart.data,o=[],i=[],s=[];let a,l,c=[];for(a=0,l=t.length;a<l;++a)c.push(nr(this.chart,t[a]));return e.filter&&(c=c.filter(((t,n,o)=>e.filter(t,n,o,r)))),e.itemSort&&(c=c.sort(((t,n)=>e.itemSort(t,n,r)))),(0,n.Q)(c,(t=>{const r=hr(e.callbacks,t);o.push(r.labelColor.call(this,t)),i.push(r.labelPointStyle.call(this,t)),s.push(r.labelTextColor.call(this,t))})),this.labelColors=o,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=c,c}update(e,t){const r=this.options.setContext(this.getContext()),n=this._active;let o,i=[];if(n.length){const e=er[r.position].call(this,n,this._eventPosition);i=this._createItems(r),this.title=this.getTitle(i,r),this.beforeBody=this.getBeforeBody(i,r),this.body=this.getBody(i,r),this.afterBody=this.getAfterBody(i,r),this.footer=this.getFooter(i,r);const t=this._size=or(this,r),s=Object.assign({},e,t),a=sr(this.chart,r,s),l=ar(r,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,o={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=i,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,n){const o=this.getCaretPosition(e,r,n);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,r){const{xAlign:o,yAlign:i}=this,{caretSize:s,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:d}=(0,n.ax)(a),{x:u,y:p}=e,{width:f,height:m}=t;let g,v,y,b,w,x;return"center"===i?(w=p+m/2,"left"===o?(g=u,v=g-s,b=w+s,x=w-s):(g=u+f,v=g+s,b=w-s,x=w+s),y=g):(v="left"===o?u+Math.max(l,h)+s:"right"===o?u+f-Math.max(c,d)-s:this.caretX,"top"===i?(b=p,w=b-s,g=v-s,y=v+s):(b=p+m,w=b+s,g=v+s,y=v-s),x=b),{x1:g,x2:v,x3:y,y1:b,y2:w,y3:x}}drawTitle(e,t,r){const o=this.title,i=o.length;let s,a,l;if(i){const c=(0,n.aA)(r.rtl,this.x,this.width);for(e.x=lr(this,r.titleAlign,r),t.textAlign=c.textAlign(r.titleAlign),t.textBaseline="middle",s=(0,n.O)(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=s.string,l=0;l<i;++l)t.fillText(o[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,o,i){const s=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c,boxPadding:h}=i,d=(0,n.O)(i.bodyFont),u=lr(this,"left",i),p=o.x(u),f=l<d.lineHeight?(d.lineHeight-l)/2:0,m=t.y+f;if(i.usePointStyle){const t={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},r=o.leftForLtr(p,c)+c/2,h=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,(0,n.au)(e,t,r,h),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,(0,n.au)(e,t,r,h)}else{e.lineWidth=(0,n.i)(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=o.leftForLtr(p,c-h),r=o.leftForLtr(o.xPlus(p,1),c-h-2),a=(0,n.ax)(s.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,(0,n.av)(e,{x:t,y:m,w:c,h:l,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),(0,n.av)(e,{x:r,y:m+1,w:c-2,h:l-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,m,c,l),e.strokeRect(t,m,c,l),e.fillStyle=s.backgroundColor,e.fillRect(r,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:o}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=r,d=(0,n.O)(r.bodyFont);let u=d.lineHeight,p=0;const f=(0,n.aA)(r.rtl,this.x,this.width),m=function(r){t.fillText(r,f.x(e.x+p),e.y+u/2),e.y+=u+i},g=f.textAlign(s);let v,y,b,w,x,_,E;for(t.textAlign=s,t.textBaseline="middle",t.font=d.string,e.x=lr(this,g,r),t.fillStyle=r.bodyColor,(0,n.Q)(this.beforeBody,m),p=a&&"right"!==g?"center"===s?c/2+h:c+2+h:0,w=0,_=o.length;w<_;++w){for(v=o[w],y=this.labelTextColors[w],t.fillStyle=y,(0,n.Q)(v.before,m),b=v.lines,a&&b.length&&(this._drawColorBox(t,e,w,f,r),u=Math.max(d.lineHeight,l)),x=0,E=b.length;x<E;++x)m(b[x]),u=d.lineHeight;(0,n.Q)(v.after,m)}p=0,u=d.lineHeight,(0,n.Q)(this.afterBody,m),e.y-=i}drawFooter(e,t,r){const o=this.footer,i=o.length;let s,a;if(i){const l=(0,n.aA)(r.rtl,this.x,this.width);for(e.x=lr(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",s=(0,n.O)(r.footerFont),t.fillStyle=r.footerColor,t.font=s.string,a=0;a<i;++a)t.fillText(o[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r.footerSpacing}}drawBackground(e,t,r,o){const{xAlign:i,yAlign:s}=this,{x:a,y:l}=e,{width:c,height:h}=r,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:f}=(0,n.ax)(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(a+d,l),"top"===s&&this.drawCaret(e,t,r,o),t.lineTo(a+c-u,l),t.quadraticCurveTo(a+c,l,a+c,l+u),"center"===s&&"right"===i&&this.drawCaret(e,t,r,o),t.lineTo(a+c,l+h-f),t.quadraticCurveTo(a+c,l+h,a+c-f,l+h),"bottom"===s&&this.drawCaret(e,t,r,o),t.lineTo(a+p,l+h),t.quadraticCurveTo(a,l+h,a,l+h-p),"center"===s&&"left"===i&&this.drawCaret(e,t,r,o),t.lineTo(a,l+d),t.quadraticCurveTo(a,l,a+d,l),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,n=r&&r.x,o=r&&r.y;if(n||o){const r=er[e.position].call(this,this._active,this._eventPosition);if(!r)return;const i=this._size=or(this,e),s=Object.assign({},r,this._size),a=sr(t,e,s),l=ar(e,s,a,t);n._to===l.x&&o._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=i.width,this.height=i.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const s=(0,n.K)(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,o,t),(0,n.aB)(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),(0,n.aD)(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,o=e.map((({datasetIndex:e,index:t})=>{const r=this.chart.getDatasetMeta(e);if(!r)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[t],index:t}})),i=!(0,n.ai)(r,o),s=this._positionChanged(o,t);(i||s)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,r),a=this._positionChanged(s,e),l=t||!(0,n.ai)(s,i)||a;return l&&(this._active=s,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,n){const o=this.options;if("mouseout"===e.type)return[];if(!n)return t;const i=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:r,caretY:n,options:o}=this,i=er[o.position].call(this,e,t);return!1!==i&&(r!==i.x||n!==i.y)}}dr.positioners=er;var ur={id:"tooltip",_element:dr,positioners:er,afterInit(e,t,r){r&&(e.tooltip=new dr({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",r))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:n.aF,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:n.aF,beforeBody:n.aF,beforeLabel:n.aF,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return(0,n.k)(r)||(t+=r),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:n.aF,afterBody:n.aF,beforeFooter:n.aF,footer:n.aF,afterFooter:n.aF}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},pr=Object.freeze({__proto__:null,Decimation:Mt,Filler:Wt,Legend:Kt,SubTitle:Qt,Title:Xt,Tooltip:ur});class fr extends ${constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:r,label:n}of t)e[r]===n&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if((0,n.k)(e))return null;const r=this.getLabels();return((e,t)=>null===e?null:(0,n.E)(Math.round(e),0,t))(t=isFinite(t)&&r[t]===e?t:function(e,t,r,n){const o=e.indexOf(t);return-1===o?((e,t,r,n)=>("string"==typeof t?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r))(e,t,r,n):o!==e.lastIndexOf(t)?r:o}(r,e,(0,n.v)(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,n=[];let o=this.getLabels();o=0===e&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let r=e;r<=t;r++)n.push({value:r});return n}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function mr(e,t,{horizontal:r,minRotation:o}){const i=(0,n.t)(o),s=(r?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+e).length;return Math.min(t/s,a)}fr.id="category",fr.defaults={ticks:{callback:fr.prototype.getLabelForValue}};class gr extends ${constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return(0,n.k)(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:i}=this;const s=e=>o=t?o:e,a=e=>i=r?i:e;if(e){const e=(0,n.s)(o),t=(0,n.s)(i);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(o===i){let t=1;(i>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(t=Math.abs(.05*i)),a(i+t),e||s(o-t)}this.min=o,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:r,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o=function(e,t){const r=[],{bounds:o,step:i,min:s,max:a,precision:l,count:c,maxTicks:h,maxDigits:d,includeBounds:u}=e,p=i||1,f=h-1,{min:m,max:g}=t,v=!(0,n.k)(s),y=!(0,n.k)(a),b=!(0,n.k)(c),w=(g-m)/(d+1);let x,_,E,C,S=(0,n.aI)((g-m)/f/p)*p;if(S<1e-14&&!v&&!y)return[{value:m},{value:g}];C=Math.ceil(g/S)-Math.floor(m/S),C>f&&(S=(0,n.aI)(C*S/f/p)*p),(0,n.k)(l)||(x=Math.pow(10,l),S=Math.ceil(S*x)/x),"ticks"===o?(_=Math.floor(m/S)*S,E=Math.ceil(g/S)*S):(_=m,E=g),v&&y&&i&&(0,n.aJ)((a-s)/i,S/1e3)?(C=Math.round(Math.min((a-s)/S,h)),S=(a-s)/C,_=s,E=a):b?(_=v?s:_,E=y?a:E,C=c-1,S=(E-_)/C):(C=(E-_)/S,C=(0,n.aK)(C,Math.round(C),S/1e3)?Math.round(C):Math.ceil(C));const k=Math.max((0,n.aL)(S),(0,n.aL)(_));x=Math.pow(10,(0,n.k)(l)?k:l),_=Math.round(_*x)/x,E=Math.round(E*x)/x;let A=0;for(v&&(u&&_!==s?(r.push({value:s}),_<s&&A++,(0,n.aK)(Math.round((_+A*S)*x)/x,s,mr(s,w,e))&&A++):_<s&&A++);A<C;++A)r.push({value:Math.round((_+A*S)*x)/x});return y&&u&&E!==a?r.length&&(0,n.aK)(r[r.length-1].value,a,mr(a,w,e))?r[r.length-1].value=a:r.push({value:a}):y&&E!==a||r.push({value:E}),r}({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&(0,n.aH)(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-t)/Math.max(e.length-1,1)/2;t-=n,r+=n}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return(0,n.o)(e,this.chart.options.locale,this.options.ticks.format)}}class vr extends gr{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=(0,n.g)(e)?e:0,this.max=(0,n.g)(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=(0,n.t)(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/o))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function yr(e){return 1==e/Math.pow(10,Math.floor((0,n.z)(e)))}vr.id="linear",vr.defaults={ticks:{callback:V.formatters.numeric}};class br extends ${constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=gr.prototype.parse.apply(this,[e,t]);if(0!==r)return(0,n.g)(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=(0,n.g)(e)?Math.max(0,e):null,this.max=(0,n.g)(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,o=this.max;const i=t=>r=e?r:t,s=e=>o=t?o:e,a=(e,t)=>Math.pow(10,Math.floor((0,n.z)(e))+t);r===o&&(r<=0?(i(1),s(10)):(i(a(r,-1)),s(a(o,1)))),r<=0&&i(a(o,-1)),o<=0&&s(a(r,1)),this._zero&&this.min!==this._suggestedMin&&r===a(this.min,0)&&i(a(r,-1)),this.min=r,this.max=o}buildTicks(){const e=this.options,t=function(e,t){const r=Math.floor((0,n.z)(t.max)),o=Math.ceil(t.max/Math.pow(10,r)),i=[];let s=(0,n.B)(e.min,Math.pow(10,Math.floor((0,n.z)(t.min)))),a=Math.floor((0,n.z)(s)),l=Math.floor(s/Math.pow(10,a)),c=a<0?Math.pow(10,Math.abs(a)):1;do{i.push({value:s,major:yr(s)}),++l,10===l&&(l=1,++a,c=a>=0?1:c),s=Math.round(l*Math.pow(10,a)*c)/c}while(a<r||a===r&&l<o);const h=(0,n.B)(e.max,s);return i.push({value:h,major:yr(s)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&(0,n.aH)(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":(0,n.o)(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=(0,n.z)(e),this._valueRange=(0,n.z)(this.max)-(0,n.z)(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:((0,n.z)(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function wr(e){const t=e.ticks;if(t.display&&e.display){const e=(0,n.K)(t.backdropPadding);return(0,n.v)(t.font&&t.font.size,n.d.font.size)+e.height}return 0}function xr(e,t,r,n,o){return e===n||e===o?{start:t-r/2,end:t+r/2}:e<n||e>o?{start:t-r,end:t}:{start:t,end:t+r}}function _r(e,t,r,n,o){const i=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/i,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/i,e.r=Math.max(e.r,t.r+a)),o.start<t.t?(l=(t.t-o.start)/s,e.t=Math.min(e.t,t.t-l)):o.end>t.b&&(l=(o.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function Er(e){return 0===e||180===e?"center":e<180?"left":"right"}function Cr(e,t,r){return 90===r||270===r?e-=t/2:(r>270||r<90)&&(e-=t),e}function Sr(e,t,r,o){const{ctx:i}=e;if(r)i.arc(e.xCenter,e.yCenter,t,0,n.T);else{let r=e.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let n=1;n<o;n++)r=e.getPointPosition(n,t),i.lineTo(r.x,r.y)}}br.id="logarithmic",br.defaults={ticks:{callback:V.formatters.logarithmic,major:{enabled:!0}}};class kr extends gr{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=(0,n.K)(wr(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=(0,n.g)(e)&&!isNaN(e)?e:0,this.max=(0,n.g)(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wr(this.options))}generateTickLabels(e){gr.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const r=(0,n.C)(this.options.pointLabels.callback,[e,t],this);return r||0===r?r:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?function(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),o=[],i=[],s=e._pointLabels.length,a=e.options.pointLabels,l=a.centerPointLabels?n.P/s:0;for(let u=0;u<s;u++){const s=a.setContext(e.getPointLabelContext(u));i[u]=s.padding;const p=e.getPointPosition(u,e.drawingArea+i[u],l),f=(0,n.O)(s.font),m=(c=e.ctx,h=f,d=e._pointLabels[u],d=(0,n.b)(d)?d:[d],{w:(0,n.aM)(c,h.string,d),h:d.length*h.lineHeight});o[u]=m;const g=(0,n.az)(e.getIndexAngle(u)+l),v=Math.round((0,n.F)(g));_r(r,t,g,xr(v,p.x,m.w,0,180),xr(v,p.y,m.h,90,270))}var c,h,d;e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=function(e,t,r){const o=[],i=e._pointLabels.length,s=e.options,a=wr(s)/2,l=e.drawingArea,c=s.pointLabels.centerPointLabels?n.P/i:0;for(let s=0;s<i;s++){const i=e.getPointPosition(s,l+a+r[s],c),p=Math.round((0,n.F)((0,n.az)(i.angle+n.H))),f=t[s],m=Cr(i.y,f.h,p),g=Er(p),v=(h=i.x,d=f.w,"right"===(u=g)?h-=d:"center"===u&&(h-=d/2),h);o.push({x:i.x,y:m,textAlign:g,left:v,top:m,right:v+f.w,bottom:m+f.h})}var h,d,u;return o}(e,o,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,n))}getIndexAngle(e){const t=n.T/(this._pointLabels.length||1),r=this.options.startAngle||0;return(0,n.az)(e*t+(0,n.t)(r))}getDistanceFromCenterForValue(e){if((0,n.k)(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if((0,n.k)(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function(e,t,r){return(0,n.h)(e,{label:r,index:t,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const o=this.getIndexAngle(e)-n.H+r;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:n,bottom:o}=this._pointLabelItems[e];return{left:t,top:r,right:n,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Sr(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:o}=t,i=this._pointLabels.length;let s,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:r,options:{pointLabels:o}}=e;for(let i=t-1;i>=0;i--){const t=o.setContext(e.getPointLabelContext(i)),s=(0,n.O)(t.font),{x:a,y:l,textAlign:c,left:h,top:d,right:u,bottom:p}=e._pointLabelItems[i],{backdropColor:f}=t;if(!(0,n.k)(f)){const e=(0,n.ax)(t.borderRadius),o=(0,n.K)(t.backdropPadding);r.fillStyle=f;const i=h-o.left,s=d-o.top,a=u-h+o.width,l=p-d+o.height;Object.values(e).some((e=>0!==e))?(r.beginPath(),(0,n.av)(r,{x:i,y:s,w:a,h:l,radius:e}),r.fill()):r.fillRect(i,s,a,l)}(0,n.M)(r,e._pointLabels[i],a,l+s.lineHeight/2,s,{color:t.color,textAlign:c,textBaseline:"middle"})}}(this,i),o.display&&this.ticks.forEach(((e,t)=>{0!==t&&(a=this.getDistanceFromCenterForValue(e.value),function(e,t,r,n){const o=e.ctx,i=t.circular,{color:s,lineWidth:a}=t;!i&&!n||!s||!a||r<0||(o.save(),o.strokeStyle=s,o.lineWidth=a,o.setLineDash(t.borderDash),o.lineDashOffset=t.borderDashOffset,o.beginPath(),Sr(e,r,i,n),o.closePath(),o.stroke(),o.restore())}(this,o.setContext(this.getContext(t-1)),a,i))})),r.display){for(e.save(),s=i-1;s>=0;s--){const n=r.setContext(this.getPointLabelContext(s)),{color:o,lineWidth:i}=n;i&&o&&(e.lineWidth=i,e.strokeStyle=o,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,a=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(s,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const o=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((o,a)=>{if(0===a&&!t.reverse)return;const l=r.setContext(this.getContext(a)),c=(0,n.O)(l.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),l.showLabelBackdrop){e.font=c.string,s=e.measureText(o.label).width,e.fillStyle=l.backdropColor;const t=(0,n.K)(l.backdropPadding);e.fillRect(-s/2-t.left,-i-c.size/2-t.top,s+t.width,c.size+t.height)}(0,n.M)(e,o.label,0,-i,c,{color:l.color})})),e.restore()}drawTitle(){}}kr.id="radialLinear",kr.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:V.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}},kr.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},kr.descriptors={angleLines:{_fallback:"grid"}};const Ar={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pr=Object.keys(Ar);function Tr(e,t){return e-t}function Mr(e,t){if((0,n.k)(t))return null;const r=e._adapter,{parser:o,round:i,isoWeekday:s}=e._parseOpts;let a=t;return"function"==typeof o&&(a=o(a)),(0,n.g)(a)||(a="string"==typeof o?r.parse(a,o):r.parse(a)),null===a?null:(i&&(a="week"!==i||!(0,n.x)(s)&&!0!==s?r.startOf(a,i):r.startOf(a,"isoWeek",s)),+a)}function Or(e,t,r,n){const o=Pr.length;for(let i=Pr.indexOf(e);i<o-1;++i){const e=Ar[Pr[i]],o=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(o*e.size))<=n)return Pr[i]}return Pr[o-1]}function Dr(e,t,r){if(r){if(r.length){const{lo:o,hi:i}=(0,n.aO)(r,t);e[r[o]>=t?r[o]:r[i]]=!0}}else e[t]=!0}function Ir(e,t,r){const n=[],o={},i=t.length;let s,a;for(s=0;s<i;++s)a=t[s],o[a]=s,n.push({value:a,major:!1});return 0!==i&&r?function(e,t,r,n){const o=e._adapter,i=+o.startOf(t[0].value,n),s=t[t.length-1].value;let a,l;for(a=i;a<=s;a=+o.add(a,1,n))l=r[a],l>=0&&(t[l].major=!0);return t}(e,n,o,r):n}class Rr extends ${constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const r=e.time||(e.time={}),o=this._adapter=new ee._date(e.adapters.date);o.init(t),(0,n.ac)(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Mr(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:o,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function l(e){s||isNaN(e.min)||(o=Math.min(o,e.min)),a||isNaN(e.max)||(i=Math.max(i,e.max))}s&&a||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),o=(0,n.g)(o)&&!isNaN(o)?o:+t.startOf(Date.now(),r),i=(0,n.g)(i)&&!isNaN(i)?i:+t.endOf(Date.now(),r)+1,this.min=Math.min(o,i-1),this.max=Math.max(o+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const i=this.min,s=this.max,a=(0,n.aN)(o,i,s);return this._unit=t.unit||(r.autoSkip?Or(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,r,n,o){for(let i=Pr.length-1;i>=Pr.indexOf(r);i--){const r=Pr[i];if(Ar[r].common&&e._adapter.diff(o,n,r)>=t-1)return r}return Pr[r?Pr.indexOf(r):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=Pr.indexOf(e)+1,r=Pr.length;t<r;++t)if(Ar[Pr[t]].common)return Pr[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&a.reverse(),Ir(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e){let t,r,o=0,i=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),o=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,r=this.getDecimalForValue(e[e.length-1]),i=1===e.length?r:(r-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;o=(0,n.E)(o,0,s),i=(0,n.E)(i,0,s),this._offsets={start:o,end:i,factor:1/(o+1+i)}}_generate(){const e=this._adapter,t=this.min,r=this.max,o=this.options,i=o.time,s=i.unit||Or(i.minUnit,t,r,this._getLabelCapacity(t)),a=(0,n.v)(i.stepSize,1),l="week"===s&&i.isoWeekday,c=(0,n.x)(l)||!0===l,h={};let d,u,p=t;if(c&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,c?"day":s),e.diff(r,t,s)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+s);const f="data"===o.ticks.source&&this.getDataTimestamps();for(d=p,u=0;d<r;d=+e.add(d,a,s),u++)Dr(h,d,f);return d!==r&&"ticks"!==o.bounds&&1!==u||Dr(h,d,f),Object.keys(h).sort(((e,t)=>e-t)).map((e=>+e))}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}_tickFormatFunction(e,t,r,o){const i=this.options,s=i.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&s[a],h=l&&s[l],d=r[t],u=l&&h&&d&&d.major,p=this._adapter.format(e,o||(u?h:c)),f=i.ticks.callback;return f?(0,n.C)(f,[p,t,r],this):p}generateTickLabels(e){let t,r,n;for(t=0,r=e.length;t<r;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,o=(0,n.t)(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(o),s=Math.sin(o),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*s,h:r*s+a*i}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,n=r[t.unit]||r.millisecond,o=this._tickFormatFunction(e,0,Ir(this,[e],this._majorUnit),n),i=this._getLabelSize(o),s=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)r=r.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const n=this.getLabels();for(t=0,r=n.length;t<r;++t)e.push(Mr(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return(0,n._)(e.sort(Tr))}}function Fr(e,t,r){let o,i,s,a,l=0,c=e.length-1;r?(t>=e[l].pos&&t<=e[c].pos&&({lo:l,hi:c}=(0,n.Z)(e,"pos",t)),({pos:o,time:s}=e[l]),({pos:i,time:a}=e[c])):(t>=e[l].time&&t<=e[c].time&&({lo:l,hi:c}=(0,n.Z)(e,"time",t)),({time:o,pos:s}=e[l]),({time:i,pos:a}=e[c]));const h=i-o;return h?s+(a-s)*(t-o)/h:s}Rr.id="time",Rr.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Br extends Rr{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Fr(t,this.min),this._tableRange=Fr(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,n=[],o=[];let i,s,a,l,c;for(i=0,s=e.length;i<s;++i)l=e[i],l>=t&&l<=r&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(i=0,s=n.length;i<s;++i)c=n[i+1],a=n[i-1],l=n[i],Math.round((c+a)/2)!==l&&o.push({time:l,pos:i/(s-1)});return o}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Fr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Fr(this._table,r*this._tableRange+this._minPos,!0)}}Br.id="timeseries",Br.defaults=Rr.defaults;const Nr=[X,At,pr,Object.freeze({__proto__:null,CategoryScale:fr,LinearScale:vr,LogarithmicScale:br,RadialLinearScale:kr,TimeScale:Rr,TimeSeriesScale:Br})];ot.register(...Nr);var Lr=ot},200:function(e,t,r){"use strict";function n(){}r.d(t,{$:function(){return pt},A:function(){return z},B:function(){return c},C:function(){return p},D:function(){return Ot},E:function(){return Q},F:function(){return W},G:function(){return at},H:function(){return R},I:function(){return ee},J:function(){return ct},K:function(){return Pt},L:function(){return ft},M:function(){return yt},N:function(){return mt},O:function(){return Tt},P:function(){return T},Q:function(){return f},R:function(){return pe},S:function(){return fe},T:function(){return M},U:function(){return rt},V:function(){return b},W:function(){return C},X:function(){return ir},Y:function(){return oe},Z:function(){return ne},_:function(){return ce},a:function(){return Mt},a0:function(){return Z},a1:function(){return ar},a2:function(){return er},a3:function(){return hr},a4:function(){return de},a5:function(){return cr},a6:function(){return Qt},a7:function(){return nt},a8:function(){return k},a9:function(){return Rt},aA:function(){return gr},aB:function(){return vr},aC:function(){return me},aD:function(){return yr},aE:function(){return ut},aF:function(){return n},aG:function(){return K},aH:function(){return U},aI:function(){return V},aJ:function(){return G},aK:function(){return j},aL:function(){return $},aM:function(){return lt},aN:function(){return ie},aO:function(){return re},aa:function(){return It},ab:function(){return Ft},ac:function(){return w},ad:function(){return o},ae:function(){return ue},af:function(){return lr},ag:function(){return ht},ah:function(){return A},ai:function(){return m},aj:function(){return P},ak:function(){return te},al:function(){return St},am:function(){return Jt},an:function(){return Er},ao:function(){return _r},ap:function(){return ur},aq:function(){return pr},ar:function(){return dr},as:function(){return gt},at:function(){return vt},au:function(){return dt},av:function(){return wt},aw:function(){return kt},ax:function(){return At},ay:function(){return xr},az:function(){return X},b:function(){return s},c:function(){return et},d:function(){return st},e:function(){return xe},f:function(){return E},g:function(){return l},h:function(){return Dt},i:function(){return a},j:function(){return S},k:function(){return i},l:function(){return ae},m:function(){return d},n:function(){return u},o:function(){return mr},p:function(){return J},q:function(){return ge},r:function(){return he},s:function(){return L},t:function(){return q},u:function(){return le},v:function(){return h},w:function(){return ve},x:function(){return H},y:function(){return Wt},z:function(){return N}});const o=function(){let e=0;return function(){return e++}}();function i(e){return null==e}function s(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function a(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const l=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function c(e,t){return l(e)?e:t}function h(e,t){return void 0===e?t:e}const d=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t,u=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function p(e,t,r){if(e&&"function"==typeof e.call)return e.apply(r,t)}function f(e,t,r,n){let o,i,l;if(s(e))if(i=e.length,n)for(o=i-1;o>=0;o--)t.call(r,e[o],o);else for(o=0;o<i;o++)t.call(r,e[o],o);else if(a(e))for(l=Object.keys(e),i=l.length,o=0;o<i;o++)t.call(r,e[l[o]],l[o])}function m(e,t){let r,n,o,i;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(o=e[r],i=t[r],o.datasetIndex!==i.datasetIndex||o.index!==i.index)return!1;return!0}function g(e){if(s(e))return e.map(g);if(a(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let o=0;for(;o<n;++o)t[r[o]]=g(e[r[o]]);return t}return e}function v(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function y(e,t,r,n){if(!v(e))return;const o=t[e],i=r[e];a(o)&&a(i)?b(o,i,n):t[e]=g(i)}function b(e,t,r){const n=s(t)?t:[t],o=n.length;if(!a(e))return e;const i=(r=r||{}).merger||y;for(let s=0;s<o;++s){if(!a(t=n[s]))continue;const o=Object.keys(t);for(let n=0,s=o.length;n<s;++n)i(o[n],e,t,r)}return e}function w(e,t){return b(e,t,{merger:x})}function x(e,t,r){if(!v(e))return;const n=t[e],o=r[e];a(n)&&a(o)?w(n,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=g(o))}const _={"":e=>e,x:e=>e.x,y:e=>e.y};function E(e,t){const r=_[t]||(_[t]=function(e){const t=function(e){const t=e.split("."),r=[];let n="";for(const e of t)n+=e,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}(e);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t));return r(e)}function C(e){return e.charAt(0).toUpperCase()+e.slice(1)}const S=e=>void 0!==e,k=e=>"function"==typeof e,A=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function P(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}const T=Math.PI,M=2*T,O=M+T,D=Number.POSITIVE_INFINITY,I=T/180,R=T/2,F=T/4,B=2*T/3,N=Math.log10,L=Math.sign;function V(e){const t=Math.round(e);e=j(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(N(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function z(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n==0&&(t.push(n),t.push(e/n));return r===(0|r)&&t.push(r),t.sort(((e,t)=>e-t)).pop(),t}function H(e){return!isNaN(parseFloat(e))&&isFinite(e)}function j(e,t,r){return Math.abs(e-t)<r}function G(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function U(e,t,r){let n,o,i;for(n=0,o=e.length;n<o;n++)i=e[n][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function q(e){return e*(T/180)}function W(e){return e*(180/T)}function $(e){if(!l(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function Z(e,t){const r=t.x-e.x,n=t.y-e.y,o=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*T&&(i+=M),{angle:i,distance:o}}function K(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Y(e,t){return(e-t+O)%M-T}function X(e){return(e%M+M)%M}function J(e,t,r,n){const o=X(e),i=X(t),s=X(r),a=X(i-o),l=X(s-o),c=X(o-i),h=X(o-s);return o===i||o===s||n&&i===s||a>l&&c<h}function Q(e,t,r){return Math.max(t,Math.min(r,e))}function ee(e){return Q(e,-32768,32767)}function te(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function re(e,t,r){r=r||(r=>e[r]<t);let n,o=e.length-1,i=0;for(;o-i>1;)n=i+o>>1,r(n)?i=n:o=n;return{lo:i,hi:o}}const ne=(e,t,r,n)=>re(e,r,n?n=>e[n][t]<=r:n=>e[n][t]<r),oe=(e,t,r)=>re(e,r,(n=>e[n][t]>=r));function ie(e,t,r){let n=0,o=e.length;for(;n<o&&e[n]<t;)n++;for(;o>n&&e[o-1]>r;)o--;return n>0||o<e.length?e.slice(n,o):e}const se=["push","pop","shift","splice","unshift"];function ae(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),se.forEach((t=>{const r="_onData"+C(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const o=n.apply(this,t);return e._chartjs.listeners.forEach((e=>{"function"==typeof e[r]&&e[r](...t)})),o}})})))}function le(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,o=n.indexOf(t);-1!==o&&n.splice(o,1),n.length>0||(se.forEach((t=>{delete e[t]})),delete e._chartjs)}function ce(e){const t=new Set;let r,n;for(r=0,n=e.length;r<n;++r)t.add(e[r]);return t.size===n?e:Array.from(t)}const he="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function de(e,t,r){const n=r||(e=>Array.prototype.slice.call(e));let o=!1,i=[];return function(...r){i=n(r),o||(o=!0,he.call(window,(()=>{o=!1,e.apply(t,i)})))}}function ue(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const pe=e=>"start"===e?"left":"end"===e?"right":"center",fe=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2,me=(e,t,r,n)=>e===(n?"left":"right")?r:"center"===e?(t+r)/2:t;function ge(e,t,r){const n=t.length;let o=0,i=n;if(e._sorted){const{iScale:s,_parsed:a}=e,l=s.axis,{min:c,max:h,minDefined:d,maxDefined:u}=s.getUserBounds();d&&(o=Q(Math.min(ne(a,s.axis,c).lo,r?n:ne(t,l,s.getPixelForValue(c)).lo),0,n-1)),i=u?Q(Math.max(ne(a,s.axis,h,!0).hi+1,r?0:ne(t,l,s.getPixelForValue(h),!0).hi+1),o,n)-o:n-o}return{start:o,count:i}}function ve(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,o={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=o,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,o),i}const ye=e=>0===e||1===e,be=(e,t,r)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*M/r),we=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*M/r)+1,xe={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*R),easeOutSine:e=>Math.sin(e*R),easeInOutSine:e=>-.5*(Math.cos(T*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ye(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ye(e)?e:be(e,.075,.3),easeOutElastic:e=>ye(e)?e:we(e,.075,.3),easeInOutElastic(e){const t=.1125;return ye(e)?e:e<.5?.5*be(2*e,t,.45):.5+.5*we(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-xe.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:e=>e<.5?.5*xe.easeInBounce(2*e):.5*xe.easeOutBounce(2*e-1)+.5};function _e(e){return e+.5|0}const Ee=(e,t,r)=>Math.max(Math.min(e,r),t);function Ce(e){return Ee(_e(2.55*e),0,255)}function Se(e){return Ee(_e(255*e),0,255)}function ke(e){return Ee(_e(e/2.55)/100,0,1)}function Ae(e){return Ee(_e(100*e),0,100)}const Pe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Te=[..."0123456789ABCDEF"],Me=e=>Te[15&e],Oe=e=>Te[(240&e)>>4]+Te[15&e],De=e=>(240&e)>>4==(15&e);const Ie=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Re(e,t,r){const n=t*Math.min(r,1-r),o=(t,o=(t+e/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[o(0),o(8),o(4)]}function Fe(e,t,r){const n=(n,o=(n+e/60)%6)=>r-r*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function Be(e,t,r){const n=Re(e,1,.5);let o;for(t+r>1&&(o=1/(t+r),t*=o,r*=o),o=0;o<3;o++)n[o]*=1-t-r,n[o]+=t;return n}function Ne(e){const t=e.r/255,r=e.g/255,n=e.b/255,o=Math.max(t,r,n),i=Math.min(t,r,n),s=(o+i)/2;let a,l,c;return o!==i&&(c=o-i,l=s>.5?c/(2-o-i):c/(o+i),a=function(e,t,r,n,o){return e===o?(t-r)/n+(t<r?6:0):t===o?(r-e)/n+2:(e-t)/n+4}(t,r,n,c,o),a=60*a+.5),[0|a,l||0,s]}function Le(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(Se)}function Ve(e,t,r){return Le(Re,e,t,r)}function ze(e){return(e%360+360)%360}const He={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},je={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ge;const Ue=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,qe=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,We=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function $e(e,t,r){if(e){let n=Ne(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,0===t?360:1)),n=Ve(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Ze(e,t){return e?Object.assign(t||{},e):e}function Ke(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Se(e[3]))):(t=Ze(e,{r:0,g:0,b:0,a:1})).a=Se(t.a),t}function Ye(e){return"r"===e.charAt(0)?function(e){const t=Ue.exec(e);let r,n,o,i=255;if(t){if(t[7]!==r){const e=+t[7];i=t[8]?Ce(e):Ee(255*e,0,255)}return r=+t[1],n=+t[3],o=+t[5],r=255&(t[2]?Ce(r):Ee(r,0,255)),n=255&(t[4]?Ce(n):Ee(n,0,255)),o=255&(t[6]?Ce(o):Ee(o,0,255)),{r:r,g:n,b:o,a:i}}}(e):function(e){const t=Ie.exec(e);let r,n=255;if(!t)return;t[5]!==r&&(n=t[6]?Ce(+t[5]):Se(+t[5]));const o=ze(+t[2]),i=+t[3]/100,s=+t[4]/100;return r="hwb"===t[1]?function(e,t,r){return Le(Be,e,t,r)}(o,i,s):"hsv"===t[1]?function(e,t,r){return Le(Fe,e,t,r)}(o,i,s):Ve(o,i,s),{r:r[0],g:r[1],b:r[2],a:n}}(e)}class Xe{constructor(e){if(e instanceof Xe)return e;const t=typeof e;let r;var n,o,i;"object"===t?r=Ke(e):"string"===t&&(i=(n=e).length,"#"===n[0]&&(4===i||5===i?o={r:255&17*Pe[n[1]],g:255&17*Pe[n[2]],b:255&17*Pe[n[3]],a:5===i?17*Pe[n[4]]:255}:7!==i&&9!==i||(o={r:Pe[n[1]]<<4|Pe[n[2]],g:Pe[n[3]]<<4|Pe[n[4]],b:Pe[n[5]]<<4|Pe[n[6]],a:9===i?Pe[n[7]]<<4|Pe[n[8]]:255})),r=o||function(e){Ge||(Ge=function(){const e={},t=Object.keys(je),r=Object.keys(He);let n,o,i,s,a;for(n=0;n<t.length;n++){for(s=a=t[n],o=0;o<r.length;o++)i=r[o],a=a.replace(i,He[i]);i=parseInt(je[s],16),e[a]=[i>>16&255,i>>8&255,255&i]}return e}(),Ge.transparent=[0,0,0,0]);const t=Ge[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||Ye(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Ze(this._rgb);return e&&(e.a=ke(e.a)),e}set rgb(e){this._rgb=Ke(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ke(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function(e){var t=(e=>De(e.r)&&De(e.g)&&De(e.b)&&De(e.a))(e)?Me:Oe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Ne(e),r=t[0],n=Ae(t[1]),o=Ae(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${o}%, ${ke(e.a)})`:`hsl(${r}, ${n}%, ${o}%)`}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,n=e.rgb;let o;const i=t===o?.5:t,s=2*i-1,a=r.a-n.a,l=((s*a==-1?s:(s+a)/(1+s*a))+1)/2;o=1-l,r.r=255&l*r.r+o*n.r+.5,r.g=255&l*r.g+o*n.g+.5,r.b=255&l*r.b+o*n.b+.5,r.a=i*r.a+(1-i)*n.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){const n=We(ke(e.r)),o=We(ke(e.g)),i=We(ke(e.b));return{r:Se(qe(n+r*(We(ke(t.r))-n))),g:Se(qe(o+r*(We(ke(t.g))-o))),b:Se(qe(i+r*(We(ke(t.b))-i))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Xe(this.rgb)}alpha(e){return this._rgb.a=Se(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=_e(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $e(this._rgb,2,e),this}darken(e){return $e(this._rgb,2,-e),this}saturate(e){return $e(this._rgb,1,e),this}desaturate(e){return $e(this._rgb,1,-e),this}rotate(e){return function(e,t){var r=Ne(e);r[0]=ze(r[0]+t),r=Ve(r),e.r=r[0],e.g=r[1],e.b=r[2]}(this._rgb,e),this}}function Je(e){return new Xe(e)}function Qe(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function et(e){return Qe(e)?e:Je(e)}function tt(e){return Qe(e)?e:Je(e).saturate(.5).darken(.1).hexString()}const rt=Object.create(null),nt=Object.create(null);function ot(e,t){if(!t)return e;const r=t.split(".");for(let t=0,n=r.length;t<n;++t){const n=r[t];e=e[n]||(e[n]=Object.create(null))}return e}function it(e,t,r){return"string"==typeof t?b(ot(e,t),r):b(ot(e,""),t)}var st=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>tt(t.backgroundColor),this.hoverBorderColor=(e,t)=>tt(t.borderColor),this.hoverColor=(e,t)=>tt(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return it(this,e,t)}get(e){return ot(this,e)}describe(e,t){return it(nt,e,t)}override(e,t){return it(rt,e,t)}route(e,t,r,n){const o=ot(this,e),i=ot(this,r),s="_"+t;Object.defineProperties(o,{[s]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=i[n];return a(e)?Object.assign({},t,e):h(e,t)},set(e){this[s]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function at(e,t,r,n,o){let i=t[o];return i||(i=t[o]=e.measureText(o).width,r.push(o)),i>n&&(n=i),n}function lt(e,t,r,n){let o=(n=n||{}).data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(o=n.data={},i=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let a=0;const l=r.length;let c,h,d,u,p;for(c=0;c<l;c++)if(u=r[c],null!=u&&!0!==s(u))a=at(e,o,i,a,u);else if(s(u))for(h=0,d=u.length;h<d;h++)p=u[h],null==p||s(p)||(a=at(e,o,i,a,p));e.restore();const f=i.length/2;if(f>r.length){for(c=0;c<f;c++)delete o[i[c]];i.splice(0,f)}return a}function ct(e,t,r){const n=e.currentDevicePixelRatio,o=0!==r?Math.max(r/2,.5):0;return Math.round((t-o)*n)/n+o}function ht(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function dt(e,t,r,n){ut(e,t,r,n,null)}function ut(e,t,r,n,o){let i,s,a,l,c,h;const d=t.pointStyle,u=t.rotation,p=t.radius;let f=(u||0)*I;if(d&&"object"==typeof d&&(i=d.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(r,n),e.rotate(f),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),d){default:o?e.ellipse(r,n,o/2,p,0,0,M):e.arc(r,n,p,0,M),e.closePath();break;case"triangle":e.moveTo(r+Math.sin(f)*p,n-Math.cos(f)*p),f+=B,e.lineTo(r+Math.sin(f)*p,n-Math.cos(f)*p),f+=B,e.lineTo(r+Math.sin(f)*p,n-Math.cos(f)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,s=Math.cos(f+F)*l,a=Math.sin(f+F)*l,e.arc(r-s,n-a,c,f-T,f-R),e.arc(r+a,n-s,c,f-R,f),e.arc(r+s,n+a,c,f,f+R),e.arc(r-a,n+s,c,f+R,f+T),e.closePath();break;case"rect":if(!u){l=Math.SQRT1_2*p,h=o?o/2:l,e.rect(r-h,n-l,2*h,2*l);break}f+=F;case"rectRot":s=Math.cos(f)*p,a=Math.sin(f)*p,e.moveTo(r-s,n-a),e.lineTo(r+a,n-s),e.lineTo(r+s,n+a),e.lineTo(r-a,n+s),e.closePath();break;case"crossRot":f+=F;case"cross":s=Math.cos(f)*p,a=Math.sin(f)*p,e.moveTo(r-s,n-a),e.lineTo(r+s,n+a),e.moveTo(r+a,n-s),e.lineTo(r-a,n+s);break;case"star":s=Math.cos(f)*p,a=Math.sin(f)*p,e.moveTo(r-s,n-a),e.lineTo(r+s,n+a),e.moveTo(r+a,n-s),e.lineTo(r-a,n+s),f+=F,s=Math.cos(f)*p,a=Math.sin(f)*p,e.moveTo(r-s,n-a),e.lineTo(r+s,n+a),e.moveTo(r+a,n-s),e.lineTo(r-a,n+s);break;case"line":s=o?o/2:Math.cos(f)*p,a=Math.sin(f)*p,e.moveTo(r-s,n-a),e.lineTo(r+s,n+a);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(f)*p,n+Math.sin(f)*p)}e.fill(),t.borderWidth>0&&e.stroke()}}function pt(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function ft(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function mt(e){e.restore()}function gt(e,t,r,n,o){if(!t)return e.lineTo(r.x,r.y);if("middle"===o){const n=(t.x+r.x)/2;e.lineTo(n,t.y),e.lineTo(n,r.y)}else"after"===o!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function vt(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function yt(e,t,r,n,o,a={}){const l=s(t)?t:[t],c=a.strokeWidth>0&&""!==a.strokeColor;let h,d;for(e.save(),e.font=o.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),i(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),h=0;h<l.length;++h)d=l[h],c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),i(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,r,n,a.maxWidth)),e.fillText(d,r,n,a.maxWidth),bt(e,r,n,d,a),n+=o.lineHeight;e.restore()}function bt(e,t,r,n,o){if(o.strikethrough||o.underline){const i=e.measureText(n),s=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=r-i.actualBoundingBoxAscent,c=r+i.actualBoundingBoxDescent,h=o.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(s,h),e.lineTo(a,h),e.stroke()}}function wt(e,t){const{x:r,y:n,w:o,h:i,radius:s}=t;e.arc(r+s.topLeft,n+s.topLeft,s.topLeft,-R,T,!0),e.lineTo(r,n+i-s.bottomLeft),e.arc(r+s.bottomLeft,n+i-s.bottomLeft,s.bottomLeft,T,R,!0),e.lineTo(r+o-s.bottomRight,n+i),e.arc(r+o-s.bottomRight,n+i-s.bottomRight,s.bottomRight,R,0,!0),e.lineTo(r+o,n+s.topRight),e.arc(r+o-s.topRight,n+s.topRight,s.topRight,0,-R,!0),e.lineTo(r+s.topLeft,n)}const xt=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),_t=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Et(e,t){const r=(""+e).match(xt);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}const Ct=e=>+e||0;function St(e,t){const r={},n=a(t),o=n?Object.keys(t):t,i=a(e)?n?r=>h(e[r],e[t[r]]):t=>e[t]:()=>e;for(const e of o)r[e]=Ct(i(e));return r}function kt(e){return St(e,{top:"y",right:"x",bottom:"y",left:"x"})}function At(e){return St(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Pt(e){const t=kt(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Tt(e,t){e=e||{},t=t||st.font;let r=h(e.size,t.size);"string"==typeof r&&(r=parseInt(r,10));let n=h(e.style,t.style);n&&!(""+n).match(_t)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");const o={family:h(e.family,t.family),lineHeight:Et(h(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:h(e.weight,t.weight),string:""};return o.string=function(e){return!e||i(e.size)||i(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(o),o}function Mt(e,t,r,n){let o,i,a,l=!0;for(o=0,i=e.length;o<i;++o)if(a=e[o],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),l=!1),void 0!==r&&s(a)&&(a=a[r%a.length],l=!1),void 0!==a))return n&&!l&&(n.cacheable=!1),a}function Ot(e,t,r){const{min:n,max:o}=e,i=u(t,(o-n)/2),s=(e,t)=>r&&0===e?0:e+t;return{min:s(n,-Math.abs(i)),max:s(o,i)}}function Dt(e,t){return Object.assign(Object.create(e),t)}function It(e,t=[""],r=e,n,o=(()=>e[0])){S(n)||(n=Ut("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:o,override:o=>It([o,...e],t,r,n)};return new Proxy(i,{deleteProperty(t,r){return delete t[r],delete t._keys,delete e[0][r],!0},get(r,n){return Lt(r,n,(()=>function(e,t,r,n){let o;for(const i of t)if(o=Ut(Bt(i,e),r),S(o))return Nt(e,o)?jt(r,n,e,o):o}(n,t,e,r)))},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(e,t){return qt(e).includes(t)},ownKeys(e){return qt(e)},set(e,t,r){const n=e._storage||(e._storage=o());return e[t]=n[t]=r,delete e._keys,!0}})}function Rt(e,t,r,n){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:Ft(e,n),setContext:t=>Rt(e,t,r,n),override:o=>Rt(e.override(o),t,r,n)};return new Proxy(o,{deleteProperty(t,r){return delete t[r],delete e[r],!0},get(e,t,r){return Lt(e,t,(()=>function(e,t,r){const{_proxy:n,_context:o,_subProxy:i,_descriptors:l}=e;let c=n[t];return k(c)&&l.isScriptable(t)&&(c=function(e,t,r,n){const{_proxy:o,_context:i,_subProxy:s,_stack:a}=r;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(i,s||n),a.delete(e),Nt(e,t)&&(t=jt(o._scopes,o,e,t)),t}(t,c,e,r)),s(c)&&c.length&&(c=function(e,t,r,n){const{_proxy:o,_context:i,_subProxy:s,_descriptors:l}=r;if(S(i.index)&&n(e))t=t[i.index%t.length];else if(a(t[0])){const r=t,n=o._scopes.filter((e=>e!==r));t=[];for(const a of r){const r=jt(n,o,e,a);t.push(Rt(r,i,s&&s[e],l))}}return t}(t,c,e,l.isIndexable)),Nt(t,c)&&(c=Rt(c,o,i&&i[t],l)),c}(e,t,r)))},getOwnPropertyDescriptor(t,r){return t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(t,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(t,r,n){return e[r]=n,delete t[r],!0}})}function Ft(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:r,indexable:n,isScriptable:k(r)?r:()=>r,isIndexable:k(n)?n:()=>n}}const Bt=(e,t)=>e?e+C(t):t,Nt=(e,t)=>a(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Lt(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=r();return e[t]=n,n}function Vt(e,t,r){return k(e)?e(t,r):e}const zt=(e,t)=>!0===e?t:"string"==typeof e?E(t,e):void 0;function Ht(e,t,r,n,o){for(const i of t){const t=zt(r,i);if(t){e.add(t);const i=Vt(t._fallback,r,o);if(S(i)&&i!==r&&i!==n)return i}else if(!1===t&&S(n)&&r!==n)return null}return!1}function jt(e,t,r,n){const o=t._rootScopes,i=Vt(t._fallback,r,n),l=[...e,...o],c=new Set;c.add(n);let h=Gt(c,l,r,i||r,n);return null!==h&&(!S(i)||i===r||(h=Gt(c,l,i,h,n),null!==h))&&It(Array.from(c),[""],o,i,(()=>function(e,t,r){const n=e._getTarget();t in n||(n[t]={});const o=n[t];return s(o)&&a(r)?r:o}(t,r,n)))}function Gt(e,t,r,n,o){for(;r;)r=Ht(e,t,r,n,o);return r}function Ut(e,t){for(const r of t){if(!r)continue;const t=r[e];if(S(t))return t}}function qt(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const r of e)for(const e of Object.keys(r).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Wt(e,t,r,n){const{iScale:o}=e,{key:i="r"}=this._parsing,s=new Array(n);let a,l,c,h;for(a=0,l=n;a<l;++a)c=a+r,h=t[c],s[a]={r:o.parse(E(h,i),c)};return s}const $t=Number.EPSILON||1e-14,Zt=(e,t)=>t<e.length&&!e[t].skip&&e[t],Kt=e=>"x"===e?"y":"x";function Yt(e,t,r,n){const o=e.skip?t:e,i=t,s=r.skip?t:r,a=K(i,o),l=K(s,i);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const d=n*c,u=n*h;return{previous:{x:i.x-d*(s.x-o.x),y:i.y-d*(s.y-o.y)},next:{x:i.x+u*(s.x-o.x),y:i.y+u*(s.y-o.y)}}}function Xt(e,t,r){return Math.max(Math.min(e,r),t)}function Jt(e,t,r,n,o){let i,s,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){const r=Kt(t),n=e.length,o=Array(n).fill(0),i=Array(n);let s,a,l,c=Zt(e,0);for(s=0;s<n;++s)if(a=l,l=c,c=Zt(e,s+1),l){if(c){const e=c[t]-l[t];o[s]=0!==e?(c[r]-l[r])/e:0}i[s]=a?c?L(o[s-1])!==L(o[s])?0:(o[s-1]+o[s])/2:o[s-1]:o[s]}!function(e,t,r){const n=e.length;let o,i,s,a,l,c=Zt(e,0);for(let h=0;h<n-1;++h)l=c,c=Zt(e,h+1),l&&c&&(j(t[h],0,$t)?r[h]=r[h+1]=0:(o=r[h]/t[h],i=r[h+1]/t[h],a=Math.pow(o,2)+Math.pow(i,2),a<=9||(s=3/Math.sqrt(a),r[h]=o*s*t[h],r[h+1]=i*s*t[h])))}(e,o,i),function(e,t,r="x"){const n=Kt(r),o=e.length;let i,s,a,l=Zt(e,0);for(let c=0;c<o;++c){if(s=a,a=l,l=Zt(e,c+1),!a)continue;const o=a[r],h=a[n];s&&(i=(o-s[r])/3,a[`cp1${r}`]=o-i,a[`cp1${n}`]=h-i*t[c]),l&&(i=(l[r]-o)/3,a[`cp2${r}`]=o+i,a[`cp2${n}`]=h+i*t[c])}}(e,i,t)}(e,o);else{let r=n?e[e.length-1]:e[0];for(i=0,s=e.length;i<s;++i)a=e[i],l=Yt(r,a,e[Math.min(i+1,s-(n?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,r=a}t.capBezierPoints&&function(e,t){let r,n,o,i,s,a=pt(e[0],t);for(r=0,n=e.length;r<n;++r)s=i,i=a,a=r<n-1&&pt(e[r+1],t),i&&(o=e[r],s&&(o.cp1x=Xt(o.cp1x,t.left,t.right),o.cp1y=Xt(o.cp1y,t.top,t.bottom)),a&&(o.cp2x=Xt(o.cp2x,t.left,t.right),o.cp2y=Xt(o.cp2y,t.top,t.bottom)))}(e,r)}function Qt(){return"undefined"!=typeof window&&"undefined"!=typeof document}function er(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function tr(e,t,r){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[r])):n=e,n}const rr=e=>window.getComputedStyle(e,null),nr=["top","right","bottom","left"];function or(e,t,r){const n={};r=r?"-"+r:"";for(let o=0;o<4;o++){const i=nr[o];n[i]=parseFloat(e[t+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function ir(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,o=rr(r),i="border-box"===o.boxSizing,s=or(o,"padding"),a=or(o,"border","width"),{x:l,y:c,box:h}=function(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:o,offsetY:i}=n;let s,a,l=!1;if(((e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot))(o,i,e.target))s=o,a=i;else{const e=t.getBoundingClientRect();s=n.clientX-e.left,a=n.clientY-e.top,l=!0}return{x:s,y:a,box:l}}(e,r),d=s.left+(h&&a.left),u=s.top+(h&&a.top);let{width:p,height:f}=t;return i&&(p-=s.width+a.width,f-=s.height+a.height),{x:Math.round((l-d)/p*r.width/n),y:Math.round((c-u)/f*r.height/n)}}const sr=e=>Math.round(10*e)/10;function ar(e,t,r,n){const o=rr(e),i=or(o,"margin"),s=tr(o.maxWidth,e,"clientWidth")||D,a=tr(o.maxHeight,e,"clientHeight")||D,l=function(e,t,r){let n,o;if(void 0===t||void 0===r){const i=er(e);if(i){const e=i.getBoundingClientRect(),s=rr(i),a=or(s,"border","width"),l=or(s,"padding");t=e.width-l.width-a.width,r=e.height-l.height-a.height,n=tr(s.maxWidth,i,"clientWidth"),o=tr(s.maxHeight,i,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:n||D,maxHeight:o||D}}(e,t,r);let{width:c,height:h}=l;if("content-box"===o.boxSizing){const e=or(o,"border","width"),t=or(o,"padding");c-=t.width+e.width,h-=t.height+e.height}return c=Math.max(0,c-i.width),h=Math.max(0,n?Math.floor(c/n):h-i.height),c=sr(Math.min(c,s,l.maxWidth)),h=sr(Math.min(h,a,l.maxHeight)),c&&!h&&(h=sr(c/2)),{width:c,height:h}}function lr(e,t,r){const n=t||1,o=Math.floor(e.height*n),i=Math.floor(e.width*n);e.height=o/n,e.width=i/n;const s=e.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||s.height!==o||s.width!==i)&&(e.currentDevicePixelRatio=n,s.height=o,s.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0)}const cr=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function hr(e,t){const r=function(e,t){return rr(e).getPropertyValue(t)}(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function dr(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function ur(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:"middle"===n?r<.5?e.y:t.y:"after"===n?r<1?e.y:t.y:r>0?t.y:e.y}}function pr(e,t,r,n){const o={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},s=dr(e,o,r),a=dr(o,i,r),l=dr(i,t,r),c=dr(s,a,r),h=dr(a,l,r);return dr(c,h,r)}const fr=new Map;function mr(e,t,r){return function(e,t){t=t||{};const r=e+JSON.stringify(t);let n=fr.get(r);return n||(n=new Intl.NumberFormat(e,t),fr.set(r,n)),n}(t,r).format(e)}function gr(e,t,r){return e?function(e,t){return{x(r){return e+e+t-r},setWidth(e){t=e},textAlign(e){return"center"===e?e:"right"===e?"left":"right"},xPlus(e,t){return e-t},leftForLtr(e,t){return e-t}}}(t,r):{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}}function vr(e,t){let r,n;"ltr"!==t&&"rtl"!==t||(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function yr(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function br(e){return"angle"===e?{between:J,compare:Y,normalize:X}:{between:te,compare:(e,t)=>e-t,normalize:e=>e}}function wr({start:e,end:t,count:r,loop:n,style:o}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r==0,style:o}}function xr(e,t,r){if(!r)return[e];const{property:n,start:o,end:i}=r,s=t.length,{compare:a,between:l,normalize:c}=br(n),{start:h,end:d,loop:u,style:p}=function(e,t,r){const{property:n,start:o,end:i}=r,{between:s,normalize:a}=br(n),l=t.length;let c,h,{start:d,end:u,loop:p}=e;if(p){for(d+=l,u+=l,c=0,h=l;c<h&&s(a(t[d%l][n]),o,i);++c)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:p,style:e.style}}(e,t,r),f=[];let m,g,v,y=!1,b=null;for(let e=h,r=h;e<=d;++e)g=t[e%s],g.skip||(m=c(g[n]),m!==v&&(y=l(m,o,i),null===b&&(y||l(o,v,m)&&0!==a(o,v))&&(b=0===a(m,o)?e:r),null!==b&&(!y||0===a(i,m)||l(i,v,m))&&(f.push(wr({start:b,end:e,loop:u,count:s,style:p})),b=null),r=e,v=m));return null!==b&&f.push(wr({start:b,end:d,loop:u,count:s,style:p})),f}function _r(e,t){const r=[],n=e.segments;for(let o=0;o<n.length;o++){const i=xr(n[o],e.points,t);i.length&&r.push(...i)}return r}function Er(e,t){const r=e.points,n=e.options.spanGaps,o=r.length;if(!o)return[];const i=!!e._loop,{start:s,end:a}=function(e,t,r,n){let o=0,i=t-1;if(r&&!n)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,r&&(i+=o);i>o&&e[i%t].skip;)i--;return i%=t,{start:o,end:i}}(r,o,i,n);return Cr(e,!0===n?[{start:s,end:a,loop:i}]:function(e,t,r,n){const o=e.length,i=[];let s,a=t,l=e[t];for(s=t+1;s<=r;++s){const r=e[s%o];r.skip||r.stop?l.skip||(n=!1,i.push({start:t%o,end:(s-1)%o,loop:n}),t=a=r.stop?s:null):(a=s,l.skip&&(t=s)),l=r}return null!==a&&i.push({start:t%o,end:a%o,loop:n}),i}(r,s,a<s?a+o:a,!!e._fullLoop&&0===s&&a===o-1),r,t)}function Cr(e,t,r,n){return n&&n.setContext&&r?function(e,t,r,n){const o=e._chart.getContext(),i=Sr(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=r.length,c=[];let h=i,d=t[0].start,u=d;function p(e,t,n,o){const i=a?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=i;for(;r[t%l].skip;)t+=i;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:n,style:o}),h=o,d=t%l)}}for(const e of t){d=a?d:e.start;let t,i=r[d%l];for(u=d+1;u<=e.end;u++){const a=r[u%l];t=Sr(n.setContext(Dt(o,{type:"segment",p0:i,p1:a,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:s}))),kr(t,h)&&p(d,u-1,e.loop,h),i=a,h=t}d<u-1&&p(d,u-1,e.loop,h)}return c}(e,t,r,n):t}function Sr(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function kr(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}},5918:function(e,t,r){"use strict";r.d(t,{Xt:function(){return n.X}});var n=r(200)},9425:function(e,t){!function(e){"use strict";var t=[{name:"Banescard",bins:/^(603182)[0-9]{10,12}/,codeLength:3},{name:"Maxxvan",bins:/^(603182)[0-9]{10,12}/,codeLength:3},{name:"Cabal",bins:/^(604324|604330|604337|604203|604338)[0-9]{10,12}/,codeLength:3},{name:"GoodCard",bins:/^(606387|605680|605674|603574)[0-9]{10,12}/,codeLength:3},{name:"Elo",bins:/^(401178|401179|431274|438935|451416|457393|457631|457632|504175|627780|636297|636368|(506699|5067[0-6]\d|50677[0-8])|(50900\d|5090[1-9]\d|509[1-9]\d{2})|65003[1-3]|(65003[5-9]|65004\d|65005[0-1])|(65040[5-9]|6504[1-3]\d)|(65048[5-9]|65049\d|6505[0-2]\d|65053[0-8])|(65054[1-9]|6505[5-8]\d|65059[0-8])|(65070\d|65071[0-8])|65072[0-7]|(6509[0-9])|(65165[2-9]|6516[6-7]\d)|(65500\d|65501\d)|(65502[1-9]|6550[3-4]\d|65505[0-8]))[0-9]{10,12}/,codeLength:3},{name:"Diners",bins:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,codeLength:3},{name:"Discover",bins:/^6(?:011|5[0-9]{2}|4[4-9][0-9]{1}|(22(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[01][0-9]|92[0-5]$)[0-9]{10}$))[0-9]{12}$/,codeLength:4},{name:"Amex",bins:/^3[47][0-9]{13}$/,codeLength:4},{name:"Aura",bins:/^50[0-9]{14,17}$/,codeLength:3},{name:"Mastercard",bins:/^(603136|603689|608619|606200|603326|605919|608783|607998|603690|604891|603600|603134|608718|603680|608710|604998)|(5[1-5][0-9]{14}|2221[0-9]{12}|222[2-9][0-9]{12}|22[3-9][0-9]{13}|2[3-6][0-9]{14}|27[01][0-9]{13}|2720[0-9]{12})$/,codeLength:3},{name:"Visa",bins:/^4[0-9]{12}(?:[0-9]{3})?$/,codeLength:3},{name:"Hipercard",bins:/^(38[0-9]{17}|60[0-9]{14})$/,codeLength:3},{name:"JCB",bins:/^(?:2131|1800|35\d{3})\d{11}$/,codeLength:3}],r=1e3,n=function(e){return c(e).name||"Credit card is invalid!"};function o(e,r){return!r||!r.length||function(e,r){return o=r,i=t.map((function(e){return e.name.toLowerCase()})),o.every((function(e){return i.includes(e.toLowerCase())}))&&r.map((function(e){return e.toLowerCase()})).includes(n(e).toLowerCase());var o,i}(e,r)}function i(e){return e&&e.length<=19}function s(e){return e.replace(/\D/g,"")}function a(e){return new RegExp("[^0-9- ]").test(e)}function l(e){return e>0&&e%10==0}function c(e){if(!e)return{};var r=e.replace(/[^\d]/g,"");return t.find((function(e){return e.bins.test(r)&&e}))||{}}function h(e){return 2===e.length?d(e):4===e.length?e:0}function d(){var e=parseInt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0),t=new Date;return Math.floor(t.getFullYear()/r)*r+e}function u(e){for(var t=[0,2,4,6,8,1,3,5,7,9],r=0,n=0,o=e.length,i=!0;o--;)n=Number(e[o]),r+=(i=!i)?t[n]:n;return r}e.getCreditCardNameByNumber=n,e.isExpirationDateValid=function(e,t){return function(e){return!isNaN(e)&&e>=1&&e<=12}(e)&&function(e){return!isNaN(e)&&function(e){return e>=d()&&e<=d(r)}(h(e))}(t)&&function(e,t){var r=h(t),n=new Date,o=new Date;return n.setFullYear(n.getFullYear(),n.getMonth(),1),o.setFullYear(r,e-1,1),n<=o}(e,t)},e.isSecurityCodeValid=function(e,t){var r=c(e).codeLength||3;return new RegExp("^[0-9]{".concat(r,"}$")).test(t)},e.isValid=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cards,r=s(e);return!(a(e)||!i(r))&&l(u(r))&&o(e,t)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},3631:function(e,t,r){"use strict";r.d(t,{qY:function(){return u}});var n=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},i=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},s=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},a=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function u(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?p(navigator.userAgent):"undefined"!=typeof process&&process.version?new i(process.version.slice(1)):null}function p(e){var t=function(e){return""!==e&&h.reduce((function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]}),!1)}(e);if(!t)return null;var r=t[0],i=t[1];if("searchbot"===r)return new a;var l=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);l?l.length<3&&(l=n(n([],l,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-l.length),!0)):l=[];var u=l.join("."),p=function(e){for(var t=0,r=d.length;t<r;t++){var n=d[t],o=n[0];if(n[1].exec(e))return o}return null}(e),f=c.exec(e);return f&&f[1]?new s(r,u,p,f[1]):new o(r,u,p)}},8174:function(e,t,r){"use strict";r.r(t),r.d(t,{BaseContract:function(){return On},BigNumber:function(){return $},Contract:function(){return Dn},ContractFactory:function(){return In},FixedNumber:function(){return Un},Signer:function(){return ar},VoidSigner:function(){return lr},Wallet:function(){return yi},Wordlist:function(){return xo},constants:function(){return o},errors:function(){return m},getDefaultProvider:function(){return sl},logger:function(){return Bl},providers:function(){return i},utils:function(){return a},version:function(){return Fl},wordlists:function(){return So}});var n={};r.r(n),r.d(n,{decode:function(){return Se},encode:function(){return _e}});var o={};r.r(o),r.d(o,{AddressZero:function(){return xi},EtherSymbol:function(){return Ei},HashZero:function(){return _i},MaxInt256:function(){return ft},MaxUint256:function(){return ut},MinInt256:function(){return pt},NegativeOne:function(){return at},One:function(){return ct},Two:function(){return ht},WeiPerEther:function(){return dt},Zero:function(){return lt}});var i={};r.r(i),r.d(i,{AlchemyProvider:function(){return fa},AlchemyWebSocketProvider:function(){return pa},AnkrProvider:function(){return ya},BaseProvider:function(){return Gs},CloudflareProvider:function(){return wa},EtherscanProvider:function(){return Pa},FallbackProvider:function(){return Ga},Formatter:function(){return ms},InfuraProvider:function(){return Za},InfuraWebSocketProvider:function(){return $a},IpcProvider:function(){return Ua},JsonRpcBatchProvider:function(){return Ka},JsonRpcProvider:function(){return ra},JsonRpcSigner:function(){return Qs},NodesmithProvider:function(){return Xa},PocketProvider:function(){return el},Provider:function(){return rr},Resolver:function(){return zs},StaticJsonRpcProvider:function(){return ca},UrlJsonRpcProvider:function(){return ha},Web3Provider:function(){return ol},WebSocketProvider:function(){return aa},getDefaultProvider:function(){return sl},getNetwork:function(){return Oi},isCommunityResourcable:function(){return gs},isCommunityResource:function(){return vs},showThrottleMessage:function(){return bs}});var s={};r.r(s),r.d(s,{decode:function(){return Di},encode:function(){return Ii}});var a={};r.r(a),r.d(a,{AbiCoder:function(){return Ut},ConstructorFragment:function(){return It},ErrorFragment:function(){return Bt},EventFragment:function(){return Tt},FormatTypes:function(){return Ct},Fragment:function(){return Pt},FunctionFragment:function(){return Rt},HDNode:function(){return Bo},Indexed:function(){return Yt},Interface:function(){return Qt},LogDescription:function(){return $t},Logger:function(){return v},ParamType:function(){return kt},RLP:function(){return n},SigningKey:function(){return Yr},SupportedAlgorithm:function(){return po},TransactionDescription:function(){return Zt},TransactionTypes:function(){return en},UnicodeNormalizationForm:function(){return Le},Utf8ErrorFuncs:function(){return He},Utf8ErrorReason:function(){return Ve},_TypedDataEncoder:function(){return co},_fetchData:function(){return ls},_toEscapedUtf8String:function(){return qe},accessListify:function(){return hn},arrayify:function(){return C},base58:function(){return uo},base64:function(){return s},checkProperties:function(){return re},checkResultErrors:function(){return de},commify:function(){return Ml},computeAddress:function(){return sn},computeHmac:function(){return yo},computePublicKey:function(){return Jr},concat:function(){return S},deepCopy:function(){return ae},defaultAbiCoder:function(){return qt},defaultPath:function(){return Fo},defineReadOnly:function(){return Q},dnsEncode:function(){return ns},entropyToMnemonic:function(){return Vo},fetchJson:function(){return cs},formatBytes32String:function(){return kl},formatEther:function(){return Il},formatUnits:function(){return Ol},getAccountPath:function(){return Ho},getAddress:function(){return De},getContractAddress:function(){return Fe},getCreate2Address:function(){return Be},getIcapAddress:function(){return Re},getJsonWalletAddress:function(){return fi},getStatic:function(){return ee},hashMessage:function(){return $n},hexConcat:function(){return I},hexDataLength:function(){return O},hexDataSlice:function(){return D},hexStripZeros:function(){return F},hexValue:function(){return R},hexZeroPad:function(){return B},hexlify:function(){return M},id:function(){return Ke},isAddress:function(){return Ie},isBytes:function(){return E},isBytesLike:function(){return x},isHexString:function(){return P},isValidMnemonic:function(){return zo},isValidName:function(){return ts},joinSignature:function(){return L},keccak256:function(){return ve},mnemonicToEntropy:function(){return Lo},mnemonicToSeed:function(){return No},namehash:function(){return rs},nameprep:function(){return Sl},parseBytes32String:function(){return Al},parseEther:function(){return Rl},parseTransaction:function(){return gn},parseUnits:function(){return Dl},poll:function(){return hs},randomBytes:function(){return qo},recoverAddress:function(){return an},recoverPublicKey:function(){return Xr},resolveProperties:function(){return te},ripemd160:function(){return mo},serializeTransaction:function(){return fn},sha256:function(){return go},sha512:function(){return vo},shallowCopy:function(){return ne},shuffled:function(){return Ta},solidityKeccak256:function(){return pl},solidityPack:function(){return ul},soliditySha256:function(){return fl},splitSignature:function(){return N},stripZeros:function(){return k},toUtf8Bytes:function(){return Ge},toUtf8CodePoints:function(){return Ze},toUtf8String:function(){return $e},verifyMessage:function(){return bi},verifyTypedData:function(){return wi},zeroPad:function(){return A}});let l=!1,c=!1;const h={debug:1,default:2,info:2,warning:3,error:4,off:5};let d=h.default,u=null;const p=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var f,m;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(f||(f={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(m||(m={}));const g="0123456789abcdef";class v{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==h[r]&&this.throwArgumentError("invalid log level name","logLevel",e),d>h[r]||console.log.apply(console,t)}debug(...e){this._log(v.levels.DEBUG,e)}info(...e){this._log(v.levels.INFO,e)}warn(...e){this._log(v.levels.WARNING,e)}makeError(e,t,r){if(c)return this.makeError("censored error",t,{});t||(t=v.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=g[t[e]>>4],r+=g[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const o=e;let i="";switch(t){case m.NUMERIC_FAULT:{i="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":i+="-"+t;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result"}break}case m.CALL_EXCEPTION:case m.INSUFFICIENT_FUNDS:case m.MISSING_NEW:case m.NONCE_EXPIRED:case m.REPLACEMENT_UNDERPRICED:case m.TRANSACTION_REPLACED:case m.UNPREDICTABLE_GAS_LIMIT:i=t}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=o,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,v.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),p&&this.throwError("platform missing String.prototype.normalize",v.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,v.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,v.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",v.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return u||(u=new v("logger/5.7.0")),u}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l){if(!e)return;this.globalLogger().throwError("error censorship permanent",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c=!!e,l=!!t}static setLogLevel(e){const t=h[e.toLowerCase()];null!=t?d=t:v.globalLogger().warn("invalid log level - "+e)}static from(e){return new v(e)}}v.errors=m,v.levels=f;const y=new v("bytes/5.7.0");function b(e){return!!e.toHexString}function w(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return w(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function x(e){return P(e)&&!(e.length%2)||E(e)}function _(e){return"number"==typeof e&&e==e&&e%1==0}function E(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!_(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!_(r)||r<0||r>=256)return!1}return!0}function C(e,t){if(t||(t={}),"number"==typeof e){y.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),w(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),b(e)&&(e=e.toHexString()),P(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":y.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return w(new Uint8Array(n))}return E(e)?w(new Uint8Array(e)):y.throwArgumentError("invalid arrayify value","value",e)}function S(e){const t=e.map((e=>C(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),w(n)}function k(e){let t=C(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function A(e,t){(e=C(e)).length>t&&y.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),w(r)}function P(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const T="0123456789abcdef";function M(e,t){if(t||(t={}),"number"==typeof e){y.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=T[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),b(e))return e.toHexString();if(P(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":y.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(E(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=T[(240&n)>>4]+T[15&n]}return t}return y.throwArgumentError("invalid hexlify value","value",e)}function O(e){if("string"!=typeof e)e=M(e);else if(!P(e)||e.length%2)return null;return(e.length-2)/2}function D(e,t,r){return"string"!=typeof e?e=M(e):(!P(e)||e.length%2)&&y.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function I(e){let t="0x";return e.forEach((e=>{t+=M(e).substring(2)})),t}function R(e){const t=F(M(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function F(e){"string"!=typeof e&&(e=M(e)),P(e)||y.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function B(e,t){for("string"!=typeof e?e=M(e):P(e)||y.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&y.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function N(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(x(e)){let r=C(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=M(r.slice(0,32)),t.s=M(r.slice(32,64))):65===r.length?(t.r=M(r.slice(0,32)),t.s=M(r.slice(32,64)),t.v=r[64]):y.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:y.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=M(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=A(C(t._vs),32);t._vs=M(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&y.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const o=M(r);null==t.s?t.s=o:t.s!==o&&y.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?y.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&y.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&P(t.r)?t.r=B(t.r,32):y.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&P(t.s)?t.s=B(t.s,32):y.throwArgumentError("signature missing or invalid s","signature",e);const r=C(t.s);r[0]>=128&&y.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=M(r);t._vs&&(P(t._vs)||y.throwArgumentError("signature invalid _vs","signature",e),t._vs=B(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&y.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function L(e){return M(S([(e=N(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var V=r(3550),z=r.n(V);const H="bignumber/5.7.0";var j=z().BN;const G=new v(H),U={},q=9007199254740991;let W=!1;class ${constructor(e,t){e!==U&&G.throwError("cannot call constructor directly; use BigNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return K(Y(this).fromTwos(e))}toTwos(e){return K(Y(this).toTwos(e))}abs(){return"-"===this._hex[0]?$.from(this._hex.substring(1)):this}add(e){return K(Y(this).add(Y(e)))}sub(e){return K(Y(this).sub(Y(e)))}div(e){return $.from(e).isZero()&&X("division-by-zero","div"),K(Y(this).div(Y(e)))}mul(e){return K(Y(this).mul(Y(e)))}mod(e){const t=Y(e);return t.isNeg()&&X("division-by-zero","mod"),K(Y(this).umod(t))}pow(e){const t=Y(e);return t.isNeg()&&X("negative-power","pow"),K(Y(this).pow(t))}and(e){const t=Y(e);return(this.isNegative()||t.isNeg())&&X("unbound-bitwise-result","and"),K(Y(this).and(t))}or(e){const t=Y(e);return(this.isNegative()||t.isNeg())&&X("unbound-bitwise-result","or"),K(Y(this).or(t))}xor(e){const t=Y(e);return(this.isNegative()||t.isNeg())&&X("unbound-bitwise-result","xor"),K(Y(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&X("negative-width","mask"),K(Y(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&X("negative-width","shl"),K(Y(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&X("negative-width","shr"),K(Y(this).shrn(e))}eq(e){return Y(this).eq(Y(e))}lt(e){return Y(this).lt(Y(e))}lte(e){return Y(this).lte(Y(e))}gt(e){return Y(this).gt(Y(e))}gte(e){return Y(this).gte(Y(e))}isNegative(){return"-"===this._hex[0]}isZero(){return Y(this).isZero()}toNumber(){try{return Y(this).toNumber()}catch(e){X("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return G.throwError("this platform does not support BigInt",v.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?W||(W=!0,G.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?G.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",v.errors.UNEXPECTED_ARGUMENT,{}):G.throwError("BigNumber.toString does not accept parameters",v.errors.UNEXPECTED_ARGUMENT,{})),Y(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof $)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new $(U,Z(e)):e.match(/^-?[0-9]+$/)?new $(U,Z(new j(e))):G.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&X("underflow","BigNumber.from",e),(e>=q||e<=-q)&&X("overflow","BigNumber.from",e),$.from(String(e));const t=e;if("bigint"==typeof t)return $.from(t.toString());if(E(t))return $.from(M(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return $.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(P(e)||"-"===e[0]&&P(e.substring(1))))return $.from(e)}return G.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function Z(e){if("string"!=typeof e)return Z(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&G.throwArgumentError("invalid hex","value",e),"0x00"===(e=Z(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function K(e){return $.from(Z(e))}function Y(e){const t=$.from(e).toHexString();return"-"===t[0]?new j("-"+t.substring(3),16):new j(t.substring(2),16)}function X(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),G.throwError(e,v.errors.NUMERIC_FAULT,n)}const J=new v("properties/5.7.0");function Q(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function ee(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function te(e){return t=this,r=void 0,o=function*(){const t=Object.keys(e).map((t=>{const r=e[t];return Promise.resolve(r).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})},new((n=void 0)||(n=Promise))((function(e,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,a)}l((o=o.apply(t,r||[])).next())}));var t,r,n,o}function re(e,t){e&&"object"==typeof e||J.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((r=>{t[r]||J.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function ne(e){const t={};for(const r in e)t[r]=e[r];return t}const oe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function ie(e){if(null==e||oe[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch(e){continue}if(!ie(n))return!1}return!0}return J.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function se(e){if(ie(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>ae(e))));if("object"==typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&Q(t,r,ae(n))}return t}return J.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function ae(e){return se(e)}class le{constructor(e){for(const t in e)this[t]=ae(e[t])}}const ce="abi/5.7.0",he=new v(ce);function de(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let o in n){const i=e.slice();i.push(o);try{r(i,n[o])}catch(e){t.push({path:i,error:e})}}};return r([],e),t}class ue{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){he.throwArgumentError(e,this.localName,t)}}class pe{constructor(e){Q(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return I(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(S(e._data))}writeBytes(e){let t=C(e);const r=t.length%this.wordSize;return r&&(t=S([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=C($.from(e));return t.length>this.wordSize&&he.throwError("value out-of-bounds",v.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=S([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class fe{constructor(e,t,r,n){Q(this,"_data",C(e)),Q(this,"wordSize",t||32),Q(this,"_coerceFunc",r),Q(this,"allowLoose",n),this._offset=0}get data(){return M(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):fe.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:he.throwError("data out-of-bounds",v.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new fe(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return $.from(this.readBytes(this.wordSize))}}var me=r(1094),ge=r.n(me);function ve(e){return"0x"+ge().keccak_256(C(e))}const ye=new v("rlp/5.7.0");function be(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function we(e,t,r){let n=0;for(let o=0;o<r;o++)n=256*n+e[t+o];return n}function xe(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(xe(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=be(t.length);return r.unshift(247+r.length),r.concat(t)}x(e)||ye.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(C(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=be(t.length);return r.unshift(183+r.length),r.concat(t)}function _e(e){return M(xe(e))}function Ee(e,t,r,n){const o=[];for(;r<t+1+n;){const i=Ce(e,r);o.push(i.result),(r+=i.consumed)>t+1+n&&ye.throwError("child data too short",v.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function Ce(e,t){if(0===e.length&&ye.throwError("data too short",v.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&ye.throwError("data short segment too short",v.errors.BUFFER_OVERRUN,{});const n=we(e,t+1,r);return t+1+r+n>e.length&&ye.throwError("data long segment too short",v.errors.BUFFER_OVERRUN,{}),Ee(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&ye.throwError("data array too short",v.errors.BUFFER_OVERRUN,{}),Ee(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&ye.throwError("data array too short",v.errors.BUFFER_OVERRUN,{});const n=we(e,t+1,r);return t+1+r+n>e.length&&ye.throwError("data array too short",v.errors.BUFFER_OVERRUN,{}),{consumed:1+r+n,result:M(e.slice(t+1+r,t+1+r+n))}}if(e[t]>=128){const r=e[t]-128;return t+1+r>e.length&&ye.throwError("data too short",v.errors.BUFFER_OVERRUN,{}),{consumed:1+r,result:M(e.slice(t+1,t+1+r))}}return{consumed:1,result:M(e[t])}}function Se(e){const t=C(e),r=Ce(t,0);return r.consumed!==t.length&&ye.throwArgumentError("invalid rlp data","data",e),r.result}const ke=new v("address/5.7.0");function Ae(e){P(e,20)||ke.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const n=C(ve(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Pe={};for(let e=0;e<10;e++)Pe[String(e)]=String(e);for(let e=0;e<26;e++)Pe[String.fromCharCode(65+e)]=String(10+e);const Te=Math.floor((Me=9007199254740991,Math.log10?Math.log10(Me):Math.log(Me)/Math.LN10));var Me;function Oe(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Pe[e])).join("");for(;t.length>=Te;){let e=t.substring(0,Te);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function De(e){let t=null;if("string"!=typeof e&&ke.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Ae(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ke.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Oe(e)&&ke.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new j(r,36).toString(16);t.length<40;)t="0"+t;t=Ae("0x"+t)}else ke.throwArgumentError("invalid address","address",e);var r;return t}function Ie(e){try{return De(e),!0}catch(e){}return!1}function Re(e){let t=(r=De(e).substring(2),new j(r,16).toString(36)).toUpperCase();for(var r;t.length<30;)t="0"+t;return"XE"+Oe("XE00"+t)+t}function Fe(e){let t=null;try{t=De(e.from)}catch(t){ke.throwArgumentError("missing from address","transaction",e)}return De(D(ve(_e([t,k(C($.from(e.nonce).toHexString()))])),12))}function Be(e,t,r){return 32!==O(t)&&ke.throwArgumentError("salt must be 32 bytes","salt",t),32!==O(r)&&ke.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),De(D(ve(S(["0xff",De(e),t,r])),12))}const Ne=new v("strings/5.7.0");var Le,Ve;function ze(e,t,r,n,o){if(e===Ve.BAD_PREFIX||e===Ve.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===Ve.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Le||(Le={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Ve||(Ve={}));const He=Object.freeze({error:function(e,t,r,n,o){return Ne.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:ze,replace:function(e,t,r,n,o){return e===Ve.OVERLONG?(n.push(o),0):(n.push(65533),ze(e,t,r))}});function je(e,t){null==t&&(t=He.error),e=C(e);const r=[];let n=0;for(;n<e.length;){const o=e[n++];if(o>>7==0){r.push(o);continue}let i=null,s=null;if(192==(224&o))i=1,s=127;else if(224==(240&o))i=2,s=2047;else{if(240!=(248&o)){n+=t(128==(192&o)?Ve.UNEXPECTED_CONTINUE:Ve.BAD_PREFIX,n-1,e,r);continue}i=3,s=65535}if(n-1+i>=e.length){n+=t(Ve.OVERRUN,n-1,e,r);continue}let a=o&(1<<8-i-1)-1;for(let o=0;o<i;o++){let o=e[n];if(128!=(192&o)){n+=t(Ve.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&o,n++}null!==a&&(a>1114111?n+=t(Ve.OUT_OF_RANGE,n-1-i,e,r,a):a>=55296&&a<=57343?n+=t(Ve.UTF16_SURROGATE,n-1-i,e,r,a):a<=s?n+=t(Ve.OVERLONG,n-1-i,e,r,a):r.push(a))}return r}function Ge(e,t=Le.current){t!=Le.current&&(Ne.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const o=e.charCodeAt(t);if(t>=e.length||56320!=(64512&o))throw new Error("invalid utf-8 string");const i=65536+((1023&n)<<10)+(1023&o);r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return C(r)}function Ue(e){const t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function qe(e,t){return'"'+je(e,t).map((e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?Ue(e):Ue(55296+((e-=65536)>>10&1023))+Ue(56320+(1023&e))})).join("")+'"'}function We(e){return e.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function $e(e,t){return We(je(e,t))}function Ze(e,t=Le.current){return je(Ge(e,t))}function Ke(e){return ve(Ge(e))}class Ye extends ue{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=De(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return De(B(e.readValue().toHexString(),20))}}class Xe extends ue{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Je=new v(ce);function Qe(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||Je.throwError("cannot encode object for signature with missing names",v.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&Je.throwError("cannot encode object for signature with duplicate names",v.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else Je.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&Je.throwArgumentError("types/value length mismatch","tuple",r);let o=new pe(e.wordSize),i=new pe(e.wordSize),s=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=i.length;e.encode(i,r);let n=o.writeUpdatableValue();s.push((e=>{n(e+t)}))}else e.encode(o,r)})),s.forEach((e=>{e(o.length)}));let a=e.appendWriter(o);return a+=e.appendWriter(i),a}function et(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let o=null;if(t.dynamic){let r=e.readValue(),i=n.subReader(r.toNumber());try{o=t.decode(i)}catch(e){if(e.code===v.errors.BUFFER_OVERRUN)throw e;o=e,o.baseType=t.name,o.name=t.localName,o.type=t.type}}else try{o=t.decode(e)}catch(e){if(e.code===v.errors.BUFFER_OVERRUN)throw e;o=e,o.baseType=t.name,o.name=t.localName,o.type=t.type}null!=o&&r.push(o)}));const o=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==o[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const i=r[t];i instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw i}}):r[n]=i}));for(let e=0;e<r.length;e++){const t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class tt extends ue{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),Je.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return Qe(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&Je.throwError("insufficient data length",v.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let e=0;e<t;e++)r.push(new Xe(this.coder));return e.coerce(this.name,et(e,r))}}class rt extends ue{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class nt extends ue{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=C(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class ot extends nt{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,M(super.decode(e)))}}class it extends ue{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=C(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,M(e.readBytes(this.size)))}}class st extends ue{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const at=$.from(-1),lt=$.from(0),ct=$.from(1),ht=$.from(2),dt=$.from("1000000000000000000"),ut=$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),pt=$.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),ft=$.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class mt extends ue{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=$.from(t),n=ut.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(ct).mul(at)))&&this._throwError("value out-of-bounds",t)}else(r.lt(lt)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class gt extends nt{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Ge(t))}decode(e){return $e(super.decode(e))}}class vt extends ue{constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)})),super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let o=r.localName;o&&1===t[o]&&("length"===o&&(o="_length"),null==e[o]&&(e[o]=e[n]))})),Object.freeze(e)}encode(e,t){return Qe(e,this.coders,t)}decode(e){return e.coerce(this.name,et(e,this.coders))}}const yt=new v(ce),bt={};let wt={calldata:!0,memory:!0,storage:!0},xt={calldata:!0,memory:!0};function _t(e,t){if("bytes"===e||"string"===e){if(wt[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&xt[t])return!0;return(wt[t]||"payable"===t)&&yt.throwArgumentError("invalid modifier","name",t),!1}function Et(e,t){for(let r in t)Q(e,r,t[r])}const Ct=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),St=new RegExp(/^(.*)\[([0-9]*)\]$/);class kt{constructor(e,t){e!==bt&&yt.throwError("use fromString",v.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Et(this,t);let r=this.type.match(St);Et(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:kt.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Ct.sighash),Ct[e]||yt.throwArgumentError("invalid format type","format",e),e===Ct.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==Ct.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===Ct.full?", ":",")+")"):t+=this.type,e!==Ct.sighash&&(!0===this.indexed&&(t+=" indexed"),e===Ct.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?kt.fromString(e,t):kt.fromObject(e)}static fromObject(e){return kt.isParamType(e)?e:new kt(bt,{name:e.name||null,type:Nt(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(kt.fromObject):null})}static fromString(e,t){return r=function(e,t){let r=e;function n(t){yt.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function o(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let i={type:"",name:"",state:{allowType:!0}},s=i;for(let r=0;r<e.length;r++){let i=e[r];switch(i){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(r),s.state.allowType=!1,s.type=Nt(s.type),s.components=[o(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),_t(s.type,s.name)&&(s.name=""),s.type=Nt(s.type);let e=s;s=s.parent,s||n(r),delete e.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),_t(s.type,s.name)&&(s.name=""),s.type=Nt(s.type);let a=o(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=Nt(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(r),s.indexed&&n(r),s.indexed=!0,s.name=""):_t(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(r),s.type+=i,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(r),s.type+=i,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=i,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=i,delete s.state.allowArray):s.state.readArray?s.type+=i:n(r)}}return s.parent&&yt.throwArgumentError("unexpected eof","param",e),delete i.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):_t(s.type,s.name)&&(s.name=""),i.type=Nt(i.type),i}(e,!!t),kt.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}}function At(e,t){return function(e){e=e.trim();let t=[],r="",n=0;for(let o=0;o<e.length;o++){let i=e[o];","===i&&0===n?(t.push(r),r=""):(r+=i,"("===i?n++:")"===i&&(n--,-1===n&&yt.throwArgumentError("unbalanced parenthesis","value",e)))}return r&&t.push(r),t}(e).map((e=>kt.fromString(e,t)))}class Pt{constructor(e,t){e!==bt&&yt.throwError("use a static from method",v.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Et(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Pt.isFragment(e)?e:"string"==typeof e?Pt.fromString(e):Pt.fromObject(e)}static fromObject(e){if(Pt.isFragment(e))return e;switch(e.type){case"function":return Rt.fromObject(e);case"event":return Tt.fromObject(e);case"constructor":return It.fromObject(e);case"error":return Bt.fromObject(e);case"fallback":case"receive":return null}return yt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Tt.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?Rt.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?It.fromString(e.trim()):"error"===e.split(" ")[0]?Bt.fromString(e.substring(5).trim()):yt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class Tt extends Pt{format(e){if(e||(e=Ct.sighash),Ct[e]||yt.throwArgumentError("invalid format type","format",e),e===Ct.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Ct.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Ct.full?", ":",")+") ",e!==Ct.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?Tt.fromString(e):Tt.fromObject(e)}static fromObject(e){if(Tt.isEventFragment(e))return e;"event"!==e.type&&yt.throwArgumentError("invalid event object","value",e);const t={name:Vt(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(kt.fromObject):[],type:"event"};return new Tt(bt,t)}static fromString(e){let t=e.match(zt);t||yt.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:yt.warn("unknown modifier: "+e)}})),Tt.fromObject({name:t[1].trim(),anonymous:r,inputs:At(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function Mt(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&yt.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||yt.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=$.from(r[1]),r[0]):e}function Ot(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function Dt(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&yt.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&yt.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||yt.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&yt.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&yt.throwArgumentError("unable to determine stateMutability","value",e),t}class It extends Pt{format(e){if(e||(e=Ct.sighash),Ct[e]||yt.throwArgumentError("invalid format type","format",e),e===Ct.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===Ct.sighash&&yt.throwError("cannot format a constructor for sighash",v.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===Ct.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?It.fromString(e):It.fromObject(e)}static fromObject(e){if(It.isConstructorFragment(e))return e;"constructor"!==e.type&&yt.throwArgumentError("invalid constructor object","value",e);let t=Dt(e);t.constant&&yt.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(kt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?$.from(e.gas):null};return new It(bt,r)}static fromString(e){let t={type:"constructor"},r=(e=Mt(e,t)).match(zt);return r&&"constructor"===r[1].trim()||yt.throwArgumentError("invalid constructor string","value",e),t.inputs=At(r[2].trim(),!1),Ot(r[3].trim(),t),It.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class Rt extends It{format(e){if(e||(e=Ct.sighash),Ct[e]||yt.throwArgumentError("invalid format type","format",e),e===Ct.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Ct.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Ct.full?", ":",")+") ",e!==Ct.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?Rt.fromString(e):Rt.fromObject(e)}static fromObject(e){if(Rt.isFunctionFragment(e))return e;"function"!==e.type&&yt.throwArgumentError("invalid function object","value",e);let t=Dt(e);const r={type:e.type,name:Vt(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(kt.fromObject):[],outputs:e.outputs?e.outputs.map(kt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?$.from(e.gas):null};return new Rt(bt,r)}static fromString(e){let t={type:"function"},r=(e=Mt(e,t)).split(" returns ");r.length>2&&yt.throwArgumentError("invalid function string","value",e);let n=r[0].match(zt);if(n||yt.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&Vt(t.name),t.inputs=At(n[2],!1),Ot(n[3].trim(),t),r.length>1){let n=r[1].match(zt);""==n[1].trim()&&""==n[3].trim()||yt.throwArgumentError("unexpected tokens","value",e),t.outputs=At(n[2],!1)}else t.outputs=[];return Rt.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function Ft(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||yt.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class Bt extends Pt{format(e){if(e||(e=Ct.sighash),Ct[e]||yt.throwArgumentError("invalid format type","format",e),e===Ct.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Ct.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Ct.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?Bt.fromString(e):Bt.fromObject(e)}static fromObject(e){if(Bt.isErrorFragment(e))return e;"error"!==e.type&&yt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Vt(e.name),inputs:e.inputs?e.inputs.map(kt.fromObject):[]};return Ft(new Bt(bt,t))}static fromString(e){let t={type:"error"},r=e.match(zt);return r||yt.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&Vt(t.name),t.inputs=At(r[2],!1),Ft(Bt.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function Nt(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const Lt=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Vt(e){return e&&e.match(Lt)||yt.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const zt=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),Ht=new v(ce),jt=new RegExp(/^bytes([0-9]*)$/),Gt=new RegExp(/^(u?int)([0-9]*)$/);class Ut{constructor(e){Q(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Ye(e.name);case"bool":return new rt(e.name);case"string":return new gt(e.name);case"bytes":return new ot(e.name);case"array":return new tt(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new vt((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new st(e.name)}let t=e.type.match(Gt);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&Ht.throwArgumentError("invalid "+t[1]+" bit length","param",e),new mt(r/8,"int"===t[1],e.name)}if(t=e.type.match(jt),t){let r=parseInt(t[1]);return(0===r||r>32)&&Ht.throwArgumentError("invalid bytes length","param",e),new it(r,e.name)}return Ht.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new fe(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new pe(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(kt.from(e))));return new vt(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Ht.throwError("types/values length mismatch",v.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder(kt.from(e)))),n=new vt(r,"_"),o=this._getWriter();return n.encode(o,t),o.data}decode(e,t,r){const n=e.map((e=>this._getCoder(kt.from(e))));return new vt(n,"_").decode(this._getReader(C(t),r))}}const qt=new Ut,Wt=new v(ce);class $t extends le{}class Zt extends le{}class Kt extends le{}class Yt extends le{static isIndexed(e){return!(!e||!e._isIndexed)}}const Xt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Jt(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class Qt{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,Q(this,"fragments",t.map((e=>Pt.from(e))).filter((e=>null!=e))),Q(this,"_abiCoder",ee(new.target,"getAbiCoder")()),Q(this,"functions",{}),Q(this,"errors",{}),Q(this,"events",{}),Q(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void Wt.warn("duplicate definition - constructor"):void Q(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?Wt.warn("duplicate definition - "+r):t[r]=e})),this.deploy||Q(this,"deploy",It.from({payable:!1,type:"constructor"})),Q(this,"_isInterface",!0)}format(e){e||(e=Ct.full),e===Ct.sighash&&Wt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===Ct.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return qt}static getAddress(e){return De(e)}static getSighash(e){return D(Ke(e.format()),0,4)}static getEventTopic(e){return Ke(e.format())}getFunction(e){if(P(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];Wt.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===r.length?Wt.throwArgumentError("no matching function","name",t):r.length>1&&Wt.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}const t=this.functions[Rt.fromString(e).format()];return t||Wt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(P(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];Wt.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===r.length?Wt.throwArgumentError("no matching event","name",t):r.length>1&&Wt.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}const t=this.events[Tt.fromString(e).format()];return t||Wt.throwArgumentError("no matching event","signature",e),t}getError(e){if(P(e)){const t=ee(this.constructor,"getSighash");for(const r in this.errors)if(e===t(this.errors[r]))return this.errors[r];Wt.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===r.length?Wt.throwArgumentError("no matching error","name",t):r.length>1&&Wt.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}const t=this.errors[Rt.fromString(e).format()];return t||Wt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return ee(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),ee(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const r=C(t);return M(r.slice(0,4))!==this.getSighash(e)&&Wt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",M(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),M(S([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const r=C(t);return M(r.slice(0,4))!==this.getSighash(e)&&Wt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",M(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),M(S([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=C(t),n=null,o="",i=null,s=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{const e=M(r.slice(0,4)),t=Xt[e];if(t)i=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.signature,t.reason&&(n=i[0]),"Error"===s?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(i[0])}`:"Panic"===s&&(o=`; VM Exception while processing transaction: reverted with panic code ${i[0]}`);else try{const t=this.getError(e);i=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.format()}catch(e){}break}}return Wt.throwError("call revert exception"+o,v.errors.CALL_EXCEPTION,{method:e.format(),data:M(t),errorArgs:i,errorName:s,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),M(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&Wt.throwError("too many arguments for "+e.format(),v.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const n=(e,t)=>"string"===e.type?Ke(t):"bytes"===e.type?ve(M(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=$.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),B(M(t),32));for(t.forEach(((t,o)=>{let i=e.inputs[o];i.indexed?null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?Wt.throwArgumentError("filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map((e=>n(i,e)))):r.push(n(i,t)):null!=t&&Wt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const r=[],n=[],o=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Wt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,i)=>{const s=t[i];if(e.indexed)if("string"===e.type)r.push(Ke(s));else if("bytes"===e.type)r.push(ve(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),o.push(s)})),{data:this._abiCoder.encode(n,o),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);P(r[0],32)&&r[0].toLowerCase()===t||Wt.throwError("fragment/topic mismatch",v.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],o=[],i=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(kt.fromObject({type:"bytes32",name:e.name})),i.push(!0)):(n.push(e),i.push(!1)):(o.push(e),i.push(!1))}));let s=null!=r?this._abiCoder.decode(n,S(r)):null,a=this._abiCoder.decode(o,t,!0),l=[],c=0,h=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==s)l[t]=new Yt({_isIndexed:!0,hash:null});else if(i[t])l[t]=new Yt({_isIndexed:!0,hash:s[h++]});else try{l[t]=s[h++]}catch(e){l[t]=e}else try{l[t]=a[c++]}catch(e){l[t]=e}if(e.name&&null==l[e.name]){const r=l[t];r instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:()=>{throw Jt(`property ${JSON.stringify(e.name)}`,r)}}):l[e.name]=r}}));for(let e=0;e<l.length;e++){const t=l[e];t instanceof Error&&Object.defineProperty(l,e,{enumerable:!0,get:()=>{throw Jt(`index ${e}`,t)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Zt({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:$.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new $t({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=M(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new Kt({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!(!e||!e._isInterface)}}const er=new v("abstract-provider/5.7.0");class tr extends le{static isForkEvent(e){return!(!e||!e._isForkEvent)}}class rr{constructor(){er.checkAbstract(new.target,rr),Q(this,"_isProvider",!0)}getFeeData(){return e=this,t=void 0,n=function*(){const{block:e,gasPrice:t}=yield te({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let r=null,n=null,o=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,o=$.from("1500000000"),n=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:o,gasPrice:t}},new((r=void 0)||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}));var e,t,r,n}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var nr=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const or=new v("abstract-signer/5.7.0"),ir=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],sr=[v.errors.INSUFFICIENT_FUNDS,v.errors.NONCE_EXPIRED,v.errors.REPLACEMENT_UNDERPRICED];class ar{constructor(){or.checkAbstract(new.target,ar),Q(this,"_isSigner",!0)}getBalance(e){return nr(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return nr(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return nr(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield te(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return nr(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield te(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return nr(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return nr(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return nr(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return nr(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return nr(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e)-1===ir.indexOf(t)&&or.throwArgumentError("invalid transaction key: "+t,"transaction",e);const t=ne(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&or.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return nr(this,void 0,void 0,(function*(){const t=yield te(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>nr(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&or.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||or.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):or.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&or.throwError("network does not support EIP-1559",v.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):or.throwError("failed to get consistent fee data",v.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(sr.indexOf(e.code)>=0)throw e;return or.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&or.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield te(t)}))}_checkProvider(e){this.provider||or.throwError("missing provider",v.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class lr extends ar{constructor(e,t){super(),Q(this,"address",e),Q(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{or.throwError(e,v.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new lr(this.address,e)}}var cr=r(3715),hr=r.n(cr);function dr(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},e(r,r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var ur=pr;function pr(e,t){if(!e)throw new Error(t||"Assertion failed")}pr.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var fr=dr((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var o=e.charCodeAt(n),i=o>>8,s=255&o;i?r.push(i,s):r.push(s)}return r},r.zero2=n,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}})),mr=dr((function(e,t){var r=t;r.assert=ur,r.toArray=fr.toArray,r.zero2=fr.zero2,r.toHex=fr.toHex,r.encode=fr.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var o=1<<t+1,i=e.clone(),s=0;s<n.length;s++){var a,l=i.andln(o-1);i.isOdd()?(a=l>(o>>1)-1?(o>>1)-l:l,i.isubn(a)):a=0,n[s]=a,i.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,o=0,i=0;e.cmpn(-o)>0||t.cmpn(-i)>0;){var s,a,l=e.andln(3)+o&3,c=t.andln(3)+i&3;3===l&&(l=-1),3===c&&(c=-1),s=0==(1&l)?0:3!=(n=e.andln(7)+o&7)&&5!==n||2!==c?l:-l,r[0].push(s),a=0==(1&c)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==l?c:-c,r[1].push(a),2*o===s+1&&(o=1-o),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(z())(e,"hex","le")}})),gr=mr.getNAF,vr=mr.getJSF,yr=mr.assert;function br(e,t){this.type=e,this.p=new(z())(t.p,16),this.red=t.prime?z().red(t.prime):z().mont(this.p),this.zero=new(z())(0).toRed(this.red),this.one=new(z())(1).toRed(this.red),this.two=new(z())(2).toRed(this.red),this.n=t.n&&new(z())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var wr=br;function xr(e,t){this.curve=e,this.type=t,this.precomputed=null}br.prototype.point=function(){throw new Error("Not implemented")},br.prototype.validate=function(){throw new Error("Not implemented")},br.prototype._fixedNafMul=function(e,t){yr(e.precomputed);var r=e._getDoubles(),n=gr(t,1,this._bitLength),o=(1<<r.step+1)-(r.step%2==0?2:1);o/=3;var i,s,a=[];for(i=0;i<n.length;i+=r.step){s=0;for(var l=i+r.step-1;l>=i;l--)s=(s<<1)+n[l];a.push(s)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=o;d>0;d--){for(i=0;i<a.length;i++)(s=a[i])===d?h=h.mixedAdd(r.points[i]):s===-d&&(h=h.mixedAdd(r.points[i].neg()));c=c.add(h)}return c.toP()},br.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var o=n.points,i=gr(t,r,this._bitLength),s=this.jpoint(null,null,null),a=i.length-1;a>=0;a--){for(var l=0;a>=0&&0===i[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var c=i[a];yr(0!==c),s="affine"===e.type?c>0?s.mixedAdd(o[c-1>>1]):s.mixedAdd(o[-c-1>>1].neg()):c>0?s.add(o[c-1>>1]):s.add(o[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},br.prototype._wnafMulAdd=function(e,t,r,n,o){var i,s,a,l=this._wnafT1,c=this._wnafT2,h=this._wnafT3,d=0;for(i=0;i<n;i++){var u=(a=t[i])._getNAFPoints(e);l[i]=u.wnd,c[i]=u.points}for(i=n-1;i>=1;i-=2){var p=i-1,f=i;if(1===l[p]&&1===l[f]){var m=[t[p],null,null,t[f]];0===t[p].y.cmp(t[f].y)?(m[1]=t[p].add(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg())):0===t[p].y.cmp(t[f].y.redNeg())?(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].add(t[f].neg())):(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=vr(r[p],r[f]);for(d=Math.max(v[0].length,d),h[p]=new Array(d),h[f]=new Array(d),s=0;s<d;s++){var y=0|v[0][s],b=0|v[1][s];h[p][s]=g[3*(y+1)+(b+1)],h[f][s]=0,c[p]=m}}else h[p]=gr(r[p],l[p],this._bitLength),h[f]=gr(r[f],l[f],this._bitLength),d=Math.max(h[p].length,d),d=Math.max(h[f].length,d)}var w=this.jpoint(null,null,null),x=this._wnafT4;for(i=d;i>=0;i--){for(var _=0;i>=0;){var E=!0;for(s=0;s<n;s++)x[s]=0|h[s][i],0!==x[s]&&(E=!1);if(!E)break;_++,i--}if(i>=0&&_++,w=w.dblp(_),i<0)break;for(s=0;s<n;s++){var C=x[s];0!==C&&(C>0?a=c[s][C-1>>1]:C<0&&(a=c[s][-C-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(i=0;i<n;i++)c[i]=null;return o?w:w.toP()},br.BasePoint=xr,xr.prototype.eq=function(){throw new Error("Not implemented")},xr.prototype.validate=function(){return this.curve.validate(this)},br.prototype.decodePoint=function(e,t){e=mr.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?yr(e[e.length-1]%2==0):7===e[0]&&yr(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},xr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},xr.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},xr.prototype.encode=function(e,t){return mr.encode(this._encode(t),e)},xr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},xr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},xr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,o=0;o<t;o+=e){for(var i=0;i<e;i++)n=n.dbl();r.push(n)}return{step:e,points:r}},xr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),o=1;o<r;o++)t[o]=t[o-1].add(n);return{wnd:e,points:t}},xr.prototype._getBeta=function(){return null},xr.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var _r=dr((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),Er=mr.assert;function Cr(e){wr.call(this,"short",e),this.a=new(z())(e.a,16).toRed(this.red),this.b=new(z())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}_r(Cr,wr);var Sr=Cr;function kr(e,t,r,n){wr.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(z())(t,16),this.y=new(z())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Ar(e,t,r,n){wr.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(z())(0)):(this.x=new(z())(t,16),this.y=new(z())(r,16),this.z=new(z())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Cr.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(z())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(z())(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],Er(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(z())(e.a,16),b:new(z())(e.b,16)}})):this._getEndoBasis(r)}}},Cr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:z().mont(e),r=new(z())(2).toRed(t).redInvm(),n=r.redNeg(),o=new(z())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},Cr.prototype._getEndoBasis=function(e){for(var t,r,n,o,i,s,a,l,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,u=this.n.clone(),p=new(z())(1),f=new(z())(0),m=new(z())(0),g=new(z())(1),v=0;0!==d.cmpn(0);){var y=u.div(d);l=u.sub(y.mul(d)),c=m.sub(y.mul(p));var b=g.sub(y.mul(f));if(!n&&l.cmp(h)<0)t=a.neg(),r=p,n=l.neg(),o=c;else if(n&&2==++v)break;a=l,u=d,d=l,m=p,p=c,g=f,f=b}i=l.neg(),s=c;var w=n.sqr().add(o.sqr());return i.sqr().add(s.sqr()).cmp(w)>=0&&(i=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),i.negative&&(i=i.neg(),s=s.neg()),[{a:n,b:o},{a:i,b:s}]},Cr.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],o=n.b.mul(e).divRound(this.n),i=r.b.neg().mul(e).divRound(this.n),s=o.mul(r.a),a=i.mul(n.a),l=o.mul(r.b),c=i.mul(n.b);return{k1:e.sub(s).sub(a),k2:l.add(c).neg()}},Cr.prototype.pointFromX=function(e,t){(e=new(z())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},Cr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(o).cmpn(0)},Cr.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,o=this._endoWnafT2,i=0;i<e.length;i++){var s=this._endoSplit(t[i]),a=e[i],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*i]=a,n[2*i+1]=l,o[2*i]=s.k1,o[2*i+1]=s.k2}for(var c=this._wnafMulAdd(1,n,o,2*i,r),h=0;h<2*i;h++)n[h]=null,o[h]=null;return c},_r(kr,wr.BasePoint),Cr.prototype.point=function(e,t,r){return new kr(this,e,t,r)},Cr.prototype.pointFromJSON=function(e,t){return kr.fromJSON(this,e,t)},kr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},kr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},kr.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function o(t){return e.point(t[0],t[1],r)}var i=t[2];return n.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[n].concat(i.doubles.points.map(o))},naf:i.naf&&{wnd:i.naf.wnd,points:[n].concat(i.naf.points.map(o))}},n},kr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},kr.prototype.isInfinity=function(){return this.inf},kr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},kr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),o=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),i=o.redSqr().redISub(this.x.redAdd(this.x)),s=o.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},kr.prototype.getX=function(){return this.x.fromRed()},kr.prototype.getY=function(){return this.y.fromRed()},kr.prototype.mul=function(e){return e=new(z())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},kr.prototype.mulAdd=function(e,t,r){var n=[this,t],o=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,o):this.curve._wnafMulAdd(1,n,o,2)},kr.prototype.jmulAdd=function(e,t,r){var n=[this,t],o=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,o,!0):this.curve._wnafMulAdd(1,n,o,2,!0)},kr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},kr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},kr.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},_r(Ar,wr.BasePoint),Cr.prototype.jpoint=function(e,t,r){return new Ar(this,e,t,r)},Ar.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Ar.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ar.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),o=e.x.redMul(r),i=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(o),l=i.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),h=c.redMul(a),d=n.redMul(c),u=l.redSqr().redIAdd(h).redISub(d).redISub(d),p=l.redMul(d.redISub(u)).redISub(i.redMul(h)),f=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(u,p,f)},Ar.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),o=this.y,i=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=o.redSub(i);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),h=r.redMul(l),d=a.redSqr().redIAdd(c).redISub(h).redISub(h),u=a.redMul(h.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(s);return this.curve.jpoint(d,u,p)},Ar.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,o=this.curve.tinv,i=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var h=i.redSqr(),d=c.redSqr(),u=d.redSqr(),p=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(l)),f=i.redMul(d),m=p.redSqr().redISub(f.redAdd(f)),g=f.redISub(m),v=p.redMul(g);v=v.redIAdd(v).redISub(u);var y=c.redMul(a);t+1<e&&(l=l.redMul(u)),i=m,a=y,c=v}return this.curve.jpoint(i,c.redMul(o),a)},Ar.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ar.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),c=i.redIAdd(i);c=(c=c.redIAdd(c)).redIAdd(c),e=l,t=a.redMul(s.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),d=this.y.redSqr(),u=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(h).redISub(u);p=p.redIAdd(p);var f=h.redAdd(h).redIAdd(h),m=f.redSqr(),g=u.redIAdd(u);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(p).redISub(p),t=f.redMul(p.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Ar.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var c=i.redIAdd(i);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(s.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),d=this.y.redSqr(),u=this.x.redMul(d),p=this.x.redSub(h).redMul(this.x.redAdd(h));p=p.redAdd(p).redIAdd(p);var f=u.redIAdd(u),m=(f=f.redIAdd(f)).redAdd(f);e=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(h);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=p.redMul(f.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},Ar.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,o=n.redSqr().redSqr(),i=t.redSqr(),s=r.redSqr(),a=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(o)),l=t.redAdd(t),c=(l=l.redIAdd(l)).redMul(s),h=a.redSqr().redISub(c.redAdd(c)),d=c.redISub(h),u=s.redSqr();u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var p=a.redMul(d).redISub(u),f=r.redAdd(r).redMul(n);return this.curve.jpoint(h,p,f)},Ar.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),o=e.redAdd(e).redIAdd(e),i=o.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(i)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var c=o.redIAdd(s).redSqr().redISub(i).redISub(a).redISub(l),h=t.redMul(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.x.redMul(a).redISub(h);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.y.redMul(c.redMul(l.redISub(c)).redISub(s.redMul(a)));u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var p=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,u,p)},Ar.prototype.mul=function(e,t){return e=new(z())(e,t),this.curve._wnafMul(this,e)},Ar.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),o=r.redMul(e.z);return 0===this.y.redMul(o).redISub(e.y.redMul(n)).cmpn(0)},Ar.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),o=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(o),0===this.x.cmp(r))return!0}},Ar.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ar.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Pr=dr((function(e,t){var r=t;r.base=wr,r.short=Sr,r.mont=null,r.edwards=null})),Tr=dr((function(e,t){var r,n=t,o=mr.assert;function i(e){"short"===e.type?this.curve=new Pr.short(e):"edwards"===e.type?this.curve=new Pr.edwards(e):this.curve=new Pr.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new i(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=i,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hr().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Mr(e){if(!(this instanceof Mr))return new Mr(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=fr.toArray(e.entropy,e.entropyEnc||"hex"),r=fr.toArray(e.nonce,e.nonceEnc||"hex"),n=fr.toArray(e.pers,e.persEnc||"hex");ur(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Or=Mr;Mr.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Mr.prototype._hmac=function(){return new(hr().hmac)(this.hash,this.K)},Mr.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Mr.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=fr.toArray(e,t),r=fr.toArray(r,n),ur(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Mr.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=fr.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var i=o.slice(0,e);return this._update(r),this._reseed++,fr.encode(i,t)};var Dr=mr.assert;function Ir(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Rr=Ir;Ir.fromPublic=function(e,t,r){return t instanceof Ir?t:new Ir(e,{pub:t,pubEnc:r})},Ir.fromPrivate=function(e,t,r){return t instanceof Ir?t:new Ir(e,{priv:t,privEnc:r})},Ir.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ir.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Ir.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Ir.prototype._importPrivate=function(e,t){this.priv=new(z())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Ir.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Dr(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Dr(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Ir.prototype.derive=function(e){return e.validate()||Dr(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Ir.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Ir.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Ir.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Fr=mr.assert;function Br(e,t){if(e instanceof Br)return e;this._importDER(e,t)||(Fr(e.r&&e.s,"Signature without r or s"),this.r=new(z())(e.r,16),this.s=new(z())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Nr=Br;function Lr(){this.place=0}function Vr(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var o=0,i=0,s=t.place;i<n;i++,s++)o<<=8,o|=e[s],o>>>=0;return!(o<=127)&&(t.place=s,o)}function zr(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Hr(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Br.prototype._importDER=function(e,t){e=mr.toArray(e,t);var r=new Lr;if(48!==e[r.place++])return!1;var n=Vr(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=Vr(e,r);if(!1===o)return!1;var i=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var s=Vr(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===i[0]){if(!(128&i[1]))return!1;i=i.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(z())(i),this.s=new(z())(a),this.recoveryParam=null,!0},Br.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=zr(t),r=zr(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Hr(n,t.length),(n=n.concat(t)).push(2),Hr(n,r.length);var o=n.concat(r),i=[48];return Hr(i,o.length),i=i.concat(o),mr.encode(i,e)};var jr=function(){throw new Error("unsupported")},Gr=mr.assert;function Ur(e){if(!(this instanceof Ur))return new Ur(e);"string"==typeof e&&(Gr(Object.prototype.hasOwnProperty.call(Tr,e),"Unknown curve "+e),e=Tr[e]),e instanceof Tr.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var qr=Ur;Ur.prototype.keyPair=function(e){return new Rr(this,e)},Ur.prototype.keyFromPrivate=function(e,t){return Rr.fromPrivate(this,e,t)},Ur.prototype.keyFromPublic=function(e,t){return Rr.fromPublic(this,e,t)},Ur.prototype.genKeyPair=function(e){e||(e={});for(var t=new Or({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||jr(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(z())(2));;){var o=new(z())(t.generate(r));if(!(o.cmp(n)>0))return o.iaddn(1),this.keyFromPrivate(o)}},Ur.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Ur.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(z())(e,16));for(var o=this.n.byteLength(),i=t.getPrivate().toArray("be",o),s=e.toArray("be",o),a=new Or({hash:this.hash,entropy:i,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new(z())(1)),c=0;;c++){var h=n.k?n.k(c):new(z())(a.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(l)>=0)){var d=this.g.mul(h);if(!d.isInfinity()){var u=d.getX(),p=u.umod(this.n);if(0!==p.cmpn(0)){var f=h.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e));if(0!==(f=f.umod(this.n)).cmpn(0)){var m=(d.getY().isOdd()?1:0)|(0!==u.cmp(p)?2:0);return n.canonical&&f.cmp(this.nh)>0&&(f=this.n.sub(f),m^=1),new Nr({r:p,s:f,recoveryParam:m})}}}}}},Ur.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(z())(e,16)),r=this.keyFromPublic(r,n);var o=(t=new Nr(t,"hex")).r,i=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s,a=i.invm(this.n),l=a.mul(e).umod(this.n),c=a.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,r.getPublic(),c)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,r.getPublic(),c)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},Ur.prototype.recoverPubKey=function(e,t,r,n){Gr((3&r)===r,"The recovery param is more than two bits"),t=new Nr(t,n);var o=this.n,i=new(z())(e),s=t.r,a=t.s,l=1&r,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");s=c?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var h=t.r.invm(o),d=o.sub(i).mul(h).umod(o),u=a.mul(h).umod(o);return this.g.mulAdd(d,s,u)},Ur.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Nr(t,n)).recoveryParam)return t.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(e,t,o)}catch(e){continue}if(i.eq(r))return o}throw new Error("Unable to find valid recovery factor")};var Wr=dr((function(e,t){var r=t;r.version="6.5.4",r.utils=mr,r.rand=function(){throw new Error("unsupported")},r.curve=Pr,r.curves=Tr,r.ec=qr,r.eddsa=null})).ec;const $r=new v("signing-key/5.7.0");let Zr=null;function Kr(){return Zr||(Zr=new Wr("secp256k1")),Zr}class Yr{constructor(e){Q(this,"curve","secp256k1"),Q(this,"privateKey",M(e)),32!==O(this.privateKey)&&$r.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Kr().keyFromPrivate(C(this.privateKey));Q(this,"publicKey","0x"+t.getPublic(!1,"hex")),Q(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Q(this,"_isSigningKey",!0)}_addPoint(e){const t=Kr().keyFromPublic(C(this.publicKey)),r=Kr().keyFromPublic(C(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=Kr().keyFromPrivate(C(this.privateKey)),r=C(e);32!==r.length&&$r.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return N({recoveryParam:n.recoveryParam,r:B("0x"+n.r.toString(16),32),s:B("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=Kr().keyFromPrivate(C(this.privateKey)),r=Kr().keyFromPublic(C(Jr(e)));return B("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Xr(e,t){const r=N(t),n={r:C(r.r),s:C(r.s)};return"0x"+Kr().recoverPubKey(C(e),n,r.recoveryParam).encode("hex",!1)}function Jr(e,t){const r=C(e);if(32===r.length){const e=new Yr(r);return t?"0x"+Kr().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?M(r):"0x"+Kr().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+Kr().keyFromPublic(r).getPublic(!0,"hex"):M(r):$r.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Qr=new v("transactions/5.7.0");var en;function tn(e){return"0x"===e?null:De(e)}function rn(e){return"0x"===e?lt:$.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(en||(en={}));const nn=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],on={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function sn(e){return De(D(ve(D(Jr(e),1)),12))}function an(e,t){return sn(Xr(C(e),t))}function ln(e,t){const r=k($.from(e).toHexString());return r.length>32&&Qr.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function cn(e,t){return{address:De(e),storageKeys:(t||[]).map(((t,r)=>(32!==O(t)&&Qr.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase())))}}function hn(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&Qr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),cn(e[0],e[1])):cn(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return cn(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function dn(e){return hn(e).map((e=>[e.address,e.storageKeys]))}function un(e,t){if(null!=e.gasPrice){const t=$.from(e.gasPrice),r=$.from(e.maxFeePerGas||0);t.eq(r)||Qr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[ln(e.chainId||0,"chainId"),ln(e.nonce||0,"nonce"),ln(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ln(e.maxFeePerGas||0,"maxFeePerGas"),ln(e.gasLimit||0,"gasLimit"),null!=e.to?De(e.to):"0x",ln(e.value||0,"value"),e.data||"0x",dn(e.accessList||[])];if(t){const e=N(t);r.push(ln(e.recoveryParam,"recoveryParam")),r.push(k(e.r)),r.push(k(e.s))}return I(["0x02",_e(r)])}function pn(e,t){const r=[ln(e.chainId||0,"chainId"),ln(e.nonce||0,"nonce"),ln(e.gasPrice||0,"gasPrice"),ln(e.gasLimit||0,"gasLimit"),null!=e.to?De(e.to):"0x",ln(e.value||0,"value"),e.data||"0x",dn(e.accessList||[])];if(t){const e=N(t);r.push(ln(e.recoveryParam,"recoveryParam")),r.push(k(e.r)),r.push(k(e.s))}return I(["0x01",_e(r)])}function fn(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&Qr.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){re(e,on);const r=[];nn.forEach((function(t){let n=e[t.name]||[];const o={};t.numeric&&(o.hexPad="left"),n=C(M(n,o)),t.length&&n.length!==t.length&&n.length>0&&Qr.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=k(n),n.length>t.maxLength&&Qr.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)),r.push(M(n))}));let n=0;if(null!=e.chainId?(n=e.chainId,"number"!=typeof n&&Qr.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!x(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(M(n)),r.push("0x"),r.push("0x")),!t)return _e(r);const o=N(t);let i=27+o.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),i+=2*n+8,o.v>28&&o.v!==i&&Qr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):o.v!==i&&Qr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(M(i)),r.push(k(C(o.r))),r.push(k(C(o.s))),_e(r)}(e,t);switch(e.type){case 1:return pn(e,t);case 2:return un(e,t)}return Qr.throwError(`unsupported transaction type: ${e.type}`,v.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function mn(e,t,r){try{const r=rn(t[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");e.v=r}catch(e){Qr.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=B(t[1],32),e.s=B(t[2],32);try{const t=ve(r(e));e.from=an(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function gn(e){const t=C(e);if(t[0]>127)return function(e){const t=Se(e);9!==t.length&&6!==t.length&&Qr.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:rn(t[0]).toNumber(),gasPrice:rn(t[1]),gasLimit:rn(t[2]),to:tn(t[3]),value:rn(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=$.from(t[6]).toNumber()}catch(e){return r}if(r.r=B(t[7],32),r.s=B(t[8],32),$.from(r.r).isZero()&&$.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const o=t.slice(0,6);0!==r.chainId&&(o.push(M(r.chainId)),o.push("0x"),o.push("0x"),n-=2*r.chainId+8);const i=ve(_e(o));try{r.from=an(i,{r:M(r.r),s:M(r.s),recoveryParam:n})}catch(e){}r.hash=ve(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){const t=Se(e.slice(1));8!==t.length&&11!==t.length&&Qr.throwArgumentError("invalid component count for transaction type: 1","payload",M(e));const r={type:1,chainId:rn(t[0]).toNumber(),nonce:rn(t[1]).toNumber(),gasPrice:rn(t[2]),gasLimit:rn(t[3]),to:tn(t[4]),value:rn(t[5]),data:t[6],accessList:hn(t[7])};return 8===t.length||(r.hash=ve(e),mn(r,t.slice(8),pn)),r}(t);case 2:return function(e){const t=Se(e.slice(1));9!==t.length&&12!==t.length&&Qr.throwArgumentError("invalid component count for transaction type: 2","payload",M(e));const r=rn(t[2]),n=rn(t[3]),o={type:2,chainId:rn(t[0]).toNumber(),nonce:rn(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:rn(t[4]),to:tn(t[5]),value:rn(t[6]),data:t[7],accessList:hn(t[8])};return 9===t.length||(o.hash=ve(e),mn(o,t.slice(9),un)),o}(t)}return Qr.throwError(`unsupported transaction type: ${t[0]}`,v.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}var vn=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const yn=new v("contracts/5.7.0"),bn={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function wn(e,t){return vn(this,void 0,void 0,(function*(){const r=yield t;"string"!=typeof r&&yn.throwArgumentError("invalid address or ENS name","name",r);try{return De(r)}catch(e){}e||yn.throwError("a provider or signer is needed to resolve ENS names",v.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return null==n&&yn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function xn(e,t,r){return vn(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>xn(e,Array.isArray(t)?t[n]:t[r.name],r)))):"address"===r.type?yield wn(e,t):"tuple"===r.type?yield xn(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>xn(e,t,r.arrayChildren)))):Promise.reject(yn.makeError("invalid value for array",v.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function _n(e,t,r){return vn(this,void 0,void 0,(function*(){let n={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=ne(r.pop())),yn.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=te({override:wn(e.signer,n.from),signer:e.signer.getAddress()}).then((e=>vn(this,void 0,void 0,(function*(){return De(e.signer)!==e.override&&yn.throwError("Contract with a Signer cannot override from",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):n.from=e.signer.getAddress():n.from&&(n.from=wn(e.provider,n.from));const o=yield te({args:xn(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:te(n)||{}}),i=e.interface.encodeFunctionData(t,o.args),s={data:i,to:o.address},a=o.overrides;if(null!=a.nonce&&(s.nonce=$.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=$.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=$.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=$.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=$.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=hn(a.accessList)),null==s.gasLimit&&null!=t.gas){let e=21e3;const r=C(i);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);s.gasLimit=$.from(t.gas).add(e)}if(a.value){const e=$.from(a.value);e.isZero()||t.payable||yn.throwError("non-payable method cannot override value",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=e}a.customData&&(s.customData=ne(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter((e=>null!=n[e]));return l.length&&yn.throwError(`cannot override ${l.map((e=>JSON.stringify(e))).join(",")}`,v.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s}))}function En(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then((t=>(t.events=t.logs.map((r=>{let n=ae(r),o=null;try{o=e.interface.parseLog(r)}catch(e){}return o&&(n.args=o.args,n.decode=(t,r)=>e.interface.decodeEventLog(o.eventFragment,t,r),n.event=o.name,n.eventSignature=o.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n})),t)))}function Cn(e,t,r){const n=e.signer||e.provider;return function(...o){return vn(this,void 0,void 0,(function*(){let i;if(o.length===t.inputs.length+1&&"object"==typeof o[o.length-1]){const e=ne(o.pop());null!=e.blockTag&&(i=yield e.blockTag),delete e.blockTag,o.push(e)}null!=e.deployTransaction&&(yield e._deployed(i));const s=yield _n(e,t,o),a=yield n.call(s,i);try{let n=e.interface.decodeFunctionResult(t,a);return r&&1===t.outputs.length&&(n=n[0]),n}catch(t){throw t.code===v.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=o,t.transaction=s),t}}))}}function Sn(e,t,r){return t.constant?Cn(e,t,r):function(e,t){return function(...r){return vn(this,void 0,void 0,(function*(){e.signer||yn.throwError("sending a transaction requires a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const n=yield _n(e,t,r),o=yield e.signer.sendTransaction(n);return En(e,o),o}))}}(e,t)}function kn(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class An{constructor(e,t){Q(this,"tag",e),Q(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((r=>!(!t&&r.listener===e&&(t=!0,1))))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const r=e.slice();return setTimeout((()=>{t.listener.apply(this,r)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class Pn extends An{constructor(){super("error",null)}}class Tn extends An{constructor(e,t,r,n){const o={address:e};let i=t.getEventTopic(r);n?(i!==n[0]&&yn.throwArgumentError("topic mismatch","topics",n),o.topics=n.slice()):o.topics=[i],super(kn(o),o),Q(this,"address",e),Q(this,"interface",t),Q(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=de(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class Mn extends An{constructor(e,t){super("*",{address:e}),Q(this,"address",e),Q(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class On{constructor(e,t,r){Q(this,"interface",ee(new.target,"getInterface")(t)),null==r?(Q(this,"provider",null),Q(this,"signer",null)):ar.isSigner(r)?(Q(this,"provider",r.provider||null),Q(this,"signer",r)):rr.isProvider(r)?(Q(this,"provider",r),Q(this,"signer",null)):yn.throwArgumentError("invalid signer or provider","signerOrProvider",r),Q(this,"callStatic",{}),Q(this,"estimateGas",{}),Q(this,"functions",{}),Q(this,"populateTransaction",{}),Q(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const r=this.interface.events[t];Q(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)}))),e[r.name]||(e[r.name]=[]),e[r.name].push(t)})),Object.keys(e).forEach((t=>{const r=e[t];1===r.length?Q(this.filters,t,this.filters[r[0]]):yn.warn(`Duplicate definition of ${t} (${r.join(", ")})`)}))}if(Q(this,"_runningEvents",{}),Q(this,"_wrappedEmits",{}),null==e&&yn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Q(this,"address",e),this.provider)Q(this,"resolvedAddress",wn(this.provider,e));else try{Q(this,"resolvedAddress",Promise.resolve(De(e)))}catch(e){yn.throwError("provider is required to use ENS name as contract address",v.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const n={},o={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(o[e])yn.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{o[e]=!0;{const r=t.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(e)}null==this[e]&&Q(this,e,Sn(this,t,!0)),null==this.functions[e]&&Q(this.functions,e,Sn(this,t,!1)),null==this.callStatic[e]&&Q(this.callStatic,e,Cn(this,t,!0)),null==this.populateTransaction[e]&&Q(this.populateTransaction,e,function(e,t){return function(...r){return _n(e,t,r)}}(this,t)),null==this.estimateGas[e]&&Q(this.estimateGas,e,function(e,t){const r=e.signer||e.provider;return function(...n){return vn(this,void 0,void 0,(function*(){r||yn.throwError("estimate require a provider or signer",v.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield _n(e,t,n);return yield r.estimateGas(o)}))}}(this,t))}})),Object.keys(n).forEach((e=>{const t=n[e];if(t.length>1)return;e=e.substring(1);const r=t[0];try{null==this[e]&&Q(this,e,this[r])}catch(e){}null==this.functions[e]&&Q(this.functions,e,this.functions[r]),null==this.callStatic[e]&&Q(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&Q(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&Q(this.estimateGas,e,this.estimateGas[r])}))}static getContractAddress(e){return Fe(e)}static getInterface(e){return Qt.isInterface(e)?e:new Qt(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&yn.throwError("contract not deployed",v.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||yn.throwError("sending a transactions require a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=ne(e||{});return["from","to"].forEach((function(e){null!=t[e]&&yn.throwError("cannot override "+e,v.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new lr(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Q(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Yt.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new Pn);if("event"===e)return this._normalizeRunningEvent(new An("event",null));if("*"===e)return this._normalizeRunningEvent(new Mn(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Tn(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new Tn(this.address,this.interface,r,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new An(kn(t),t))}return this._normalizeRunningEvent(new Mn(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const n=ae(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||yn.throwError("events require a provider or a signer with a provider",v.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){const n=this._getRunningEvent(e),o=ne(n.filter);return"string"==typeof t&&P(t,32)?(null!=r&&yn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),o.blockHash=t):(o.fromBlock=null!=t?t:0,o.toBlock=null!=r?r:"latest"),this.provider.getLogs(o).then((e=>e.map((e=>this._wrapEvent(n,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class Dn extends On{}class In{constructor(e,t,r){let n=null;n="string"==typeof t?t:E(t)?M(t):t&&"string"==typeof t.object?t.object:"!","0x"!==n.substring(0,2)&&(n="0x"+n),(!P(n)||n.length%2)&&yn.throwArgumentError("invalid bytecode","bytecode",t),r&&!ar.isSigner(r)&&yn.throwArgumentError("invalid signer","signer",r),Q(this,"bytecode",n),Q(this,"interface",ee(new.target,"getInterface")(e)),Q(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){t=ne(e.pop());for(const e in t)if(!bn[e])throw new Error("unknown transaction override "+e)}return["data","from","to"].forEach((e=>{null!=t[e]&&yn.throwError("cannot override "+e,v.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.value&&($.from(t.value).isZero()||this.interface.deploy.payable||yn.throwError("non-payable constructor cannot override value",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})),yn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=M(S([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return vn(this,void 0,void 0,(function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),yn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield xn(this.signer,e,this.interface.deploy.inputs);r.push(t);const n=this.getDeployTransaction(...r),o=yield this.signer.sendTransaction(n),i=ee(this.constructor,"getContractAddress")(o),s=ee(this.constructor,"getContract")(i,this.interface,this.signer);return En(s,o),Q(s,"deployTransaction",o),s}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&yn.throwError("missing compiler output",v.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));const r=e.abi;let n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}static getInterface(e){return Dn.getInterface(e)}static getContractAddress(e){return Fe(e)}static getContract(e,t,r){return new Dn(e,t,r)}}const Rn=new v(H),Fn={},Bn=$.from(0),Nn=$.from(-1);function Ln(e,t,r,n){const o={fault:t,operation:r};return void 0!==n&&(o.value=n),Rn.throwError(e,v.errors.NUMERIC_FAULT,o)}let Vn="0";for(;Vn.length<256;)Vn+=Vn;function zn(e){if("number"!=typeof e)try{e=$.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+Vn.substring(0,e):Rn.throwArgumentError("invalid decimal size","decimals",e)}function Hn(e,t){null==t&&(t=0);const r=zn(t),n=(e=$.from(e)).lt(Bn);n&&(e=e.mul(Nn));let o=e.mod(r).toString();for(;o.length<r.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=e.div(r).toString();return e=1===r.length?i:i+"."+o,n&&(e="-"+e),e}function jn(e,t){null==t&&(t=0);const r=zn(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||Rn.throwArgumentError("invalid decimal value","value",e);const n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&Rn.throwArgumentError("missing value","value",e);const o=e.split(".");o.length>2&&Rn.throwArgumentError("too many decimal points","value",e);let i=o[0],s=o[1];for(i||(i="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&Ln("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=$.from(i),l=$.from(s);let c=a.mul(r).add(l);return n&&(c=c.mul(Nn)),c}class Gn{constructor(e,t,r,n){e!==Fn&&Rn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=zn(n),Object.freeze(this)}static from(e){if(e instanceof Gn)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||Rn.throwArgumentError("invalid fixed format","format",e),t="u"!==o[1],r=parseInt(o[2]),n=parseInt(o[3])}else if(e){const o=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&Rn.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=o("signed","boolean",t),r=o("width","number",r),n=o("decimals","number",n)}return r%8&&Rn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&Rn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Gn(Fn,t,r,n)}}class Un{constructor(e,t,r,n){e!==Fn&&Rn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Rn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=jn(this._value,this.format.decimals),r=jn(e._value,e.format.decimals);return Un.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=jn(this._value,this.format.decimals),r=jn(e._value,e.format.decimals);return Un.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=jn(this._value,this.format.decimals),r=jn(e._value,e.format.decimals);return Un.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=jn(this._value,this.format.decimals),r=jn(e._value,e.format.decimals);return Un.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=Un.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(qn.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=Un.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(qn.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&Rn.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=Un.from("1"+Vn.substring(0,e),this.format),n=Wn.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){return null==e?this._hex:(e%8&&Rn.throwArgumentError("invalid byte width","width",e),B($.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Un.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||function(e){return null!=e&&($.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||P(e)||"bigint"==typeof e||E(e))}(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),Un.fromString(Hn(e,t),Gn.from(r))}static fromString(e,t){null==t&&(t="fixed");const r=Gn.from(t),n=jn(e,r.decimals);!r.signed&&n.lt(Bn)&&Ln("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=n.toTwos(r.width).toHexString():(o=n.toHexString(),o=B(o,r.width/8));const i=Hn(n,r.decimals);return new Un(Fn,o,i,r)}static fromBytes(e,t){null==t&&(t="fixed");const r=Gn.from(t);if(C(e).length>r.width/8)throw new Error("overflow");let n=$.from(e);r.signed&&(n=n.fromTwos(r.width));const o=n.toTwos((r.signed?0:1)+r.width).toHexString(),i=Hn(n,r.decimals);return new Un(Fn,o,i,r)}static from(e,t){if("string"==typeof e)return Un.fromString(e,t);if(E(e))return Un.fromBytes(e,t);try{return Un.fromValue(e,0,t)}catch(e){if(e.code!==v.errors.INVALID_ARGUMENT)throw e}return Rn.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const qn=Un.from(1),Wn=Un.from("0.5");function $n(e){return"string"==typeof e&&(e=Ge(e)),ve(S([Ge("Ethereum Signed Message:\n"),Ge(String(e.length)),e]))}const Zn="hash/5.7.0";const Kn=new v(Zn),Yn=new Uint8Array(32);Yn.fill(0);const Xn=$.from(-1),Jn=$.from(0),Qn=$.from(1),eo=$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),to=B(Qn.toHexString(),32),ro=B(Jn.toHexString(),32),no={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},oo=["name","version","chainId","verifyingContract","salt"];function io(e){return function(t){return"string"!=typeof t&&Kn.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const so={name:io("name"),version:io("version"),chainId:function(e){try{return $.from(e).toString()}catch(e){}return Kn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return De(e).toLowerCase()}catch(e){}return Kn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=C(e);if(32!==t.length)throw new Error("bad length");return M(t)}catch(e){}return Kn.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function ao(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&Kn.throwArgumentError("invalid numeric width","type",e);const o=eo.mask(r?n-1:n),i=r?o.add(Qn).mul(Xn):Jn;return function(t){const r=$.from(t);return(r.lt(i)||r.gt(o))&&Kn.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),B(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&Kn.throwArgumentError("invalid bytes width","type",e),function(t){return C(t).length!==r&&Kn.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=C(e),r=t.length%32;return r?I([t,Yn.slice(r)]):M(t)}(t)}}}switch(e){case"address":return function(e){return B(De(e),32)};case"bool":return function(e){return e?to:ro};case"bytes":return function(e){return ve(e)};case"string":return function(e){return Ke(e)}}return null}function lo(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class co{constructor(e){Q(this,"types",Object.freeze(ae(e))),Q(this,"_encoderCache",{}),Q(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach((e=>{t[e]={},r[e]=[],n[e]={}}));for(const n in e){const o={};e[n].forEach((i=>{o[i.name]&&Kn.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(n)}`,"types",e),o[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&Kn.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),ao(s)||(r[s]||Kn.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(n),t[n][s]=!0)}))}const o=Object.keys(r).filter((e=>0===r[e].length));0===o.length?Kn.throwArgumentError("missing primary type","types",e):o.length>1&&Kn.throwArgumentError(`ambiguous primary types or unused types: ${o.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),Q(this,"primaryType",o[0]),function o(i,s){s[i]&&Kn.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",e),s[i]=!0,Object.keys(t[i]).forEach((e=>{r[e]&&(o(e,s),Object.keys(s).forEach((t=>{n[t][e]=!0})))})),delete s[i]}(this.primaryType,{});for(const t in n){const r=Object.keys(n[t]);r.sort(),this._types[t]=lo(t,e[t])+r.map((t=>lo(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=ao(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&Kn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let o=t.map(r);return this._types[e]&&(o=o.map(ve)),ve(I(o))}}const r=this.types[e];if(r){const t=Ke(this._types[e]);return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this._types[r]?ve(n):n}));return n.unshift(t),I(n)}}return Kn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Kn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return ve(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(ao(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],o=parseInt(n[3]);return o>=0&&t.length!==o&&Kn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,r)))}const o=this.types[e];return o?o.reduce(((e,{name:n,type:o})=>(e[n]=this._visit(o,t[n],r),e)),{}):Kn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new co(e)}static getPrimaryType(e){return co.from(e).primaryType}static hashStruct(e,t,r){return co.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=no[r];n||Kn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>oo.indexOf(e.name)-oo.indexOf(t.name))),co.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return I(["0x1901",co.hashDomain(e),co.from(t).hash(r)])}static hash(e,t,r){return ve(co.encode(e,t,r))}static resolveNames(e,t,r,n){return o=this,i=void 0,a=function*(){e=ne(e);const o={};e.verifyingContract&&!P(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const i=co.from(t);i.visit(r,((e,t)=>("address"!==e||P(t,20)||(o[t]="0x"),t)));for(const e in o)o[e]=yield n(e);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=i.visit(r,((e,t)=>"address"===e&&o[t]?o[t]:t)),{domain:e,value:r}},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function n(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,n)}l((a=a.apply(o,i||[])).next())}));var o,i,s,a}static getPayload(e,t,r){co.hashDomain(e);const n={},o=[];oo.forEach((t=>{const r=e[t];null!=r&&(n[t]=so[t](r),o.push({name:t,type:no[t]}))}));const i=co.from(t),s=ne(t);return s.EIP712Domain?Kn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=o,i.encode(r),{types:s,domain:n,primaryType:i.primaryType,message:i.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return M(C(t));if(e.match(/^u?int/))return $.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&Kn.throwArgumentError("invalid string","value",t),t}return Kn.throwArgumentError("unsupported type","type",e)}))}}}class ho{constructor(e){Q(this,"alphabet",e),Q(this,"base",e.length),Q(this,"_alphabetMap",{}),Q(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=C(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let o=n;for(let e=0;e<t.length;++e)o+=t[e]*this.base,t[e]=255&o,o>>=8;for(;o>0;)t.push(255&o),o>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return C(new Uint8Array(t.reverse()))}}new ho("abcdefghijklmnopqrstuvwxyz234567");const uo=new ho("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var po;!function(e){e.sha256="sha256",e.sha512="sha512"}(po||(po={}));const fo=new v("sha2/5.7.0");function mo(e){return"0x"+hr().ripemd160().update(C(e)).digest("hex")}function go(e){return"0x"+hr().sha256().update(C(e)).digest("hex")}function vo(e){return"0x"+hr().sha512().update(C(e)).digest("hex")}function yo(e,t,r){return po[e]||fo.throwError("unsupported algorithm "+e,v.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+hr().hmac(hr()[e],C(t)).update(C(r)).digest("hex")}function bo(e,t,r,n,o){let i;e=C(e),t=C(t);let s=1;const a=new Uint8Array(n),l=new Uint8Array(t.length+4);let c,h;l.set(t);for(let d=1;d<=s;d++){l[t.length]=d>>24&255,l[t.length+1]=d>>16&255,l[t.length+2]=d>>8&255,l[t.length+3]=255&d;let u=C(yo(o,e,l));i||(i=u.length,h=new Uint8Array(i),s=Math.ceil(n/i),c=n-(s-1)*i),h.set(u);for(let t=1;t<r;t++){u=C(yo(o,e,u));for(let e=0;e<i;e++)h[e]^=u[e]}const p=(d-1)*i,f=d===s?c:i;a.set(C(h).slice(0,f),p)}return M(a)}const wo=new v("wordlists/5.7.0");class xo{constructor(e){wo.checkAbstract(new.target,xo),Q(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return Ke(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}let _o=null;function Eo(e){if(null==_o&&(_o="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==xo.check(e)))throw _o=null,new Error("BIP39 Wordlist for en (English) FAILED")}const Co=new class extends xo{constructor(){super("en")}getWord(e){return Eo(this),_o[e]}getWordIndex(e){return Eo(this),_o.indexOf(e)}};xo.register(Co);const So={en:Co},ko=new v("hdnode/5.7.0"),Ao=$.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Po=Ge("Bitcoin seed"),To=2147483648;function Mo(e){return(1<<e)-1<<8-e}function Oo(e){return B(M(e),32)}function Do(e){return uo.encode(S([e,D(go(go(e)),0,4)]))}function Io(e){if(null==e)return So.en;if("string"==typeof e){const t=So[e];return null==t&&ko.throwArgumentError("unknown locale","wordlist",e),t}return e}const Ro={},Fo="m/44'/60'/0'/0/0";class Bo{constructor(e,t,r,n,o,i,s,a){if(e!==Ro)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new Yr(t);Q(this,"privateKey",e.privateKey),Q(this,"publicKey",e.compressedPublicKey)}else Q(this,"privateKey",null),Q(this,"publicKey",M(r));Q(this,"parentFingerprint",n),Q(this,"fingerprint",D(mo(go(this.publicKey)),0,4)),Q(this,"address",sn(this.publicKey)),Q(this,"chainCode",o),Q(this,"index",i),Q(this,"depth",s),null==a?(Q(this,"mnemonic",null),Q(this,"path",null)):"string"==typeof a?(Q(this,"mnemonic",null),Q(this,"path",a)):(Q(this,"mnemonic",a),Q(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Do(S([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",M(this.depth),this.parentFingerprint,B(M(this.index),4),this.chainCode,null!=this.privateKey?S(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Bo(Ro,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(2147483647&e));const r=new Uint8Array(37);if(e&To){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(C(this.privateKey),1),t&&(t+="'")}else r.set(C(this.publicKey));for(let t=24;t>=0;t-=8)r[33+(t>>3)]=e>>24-t&255;const n=C(yo(po.sha512,this.chainCode,r)),o=n.slice(0,32),i=n.slice(32);let s=null,a=null;this.privateKey?s=Oo($.from(o).add(this.privateKey).mod(Ao)):a=new Yr(M(o))._addPoint(this.publicKey);let l=t;const c=this.mnemonic;return c&&(l=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})),new Bo(Ro,s,a,this.fingerprint,Oo(i),e,this.depth+1,l)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let e=0;e<t.length;e++){const n=t[e];if(n.match(/^[0-9]+'$/)){const e=parseInt(n.substring(0,n.length-1));if(e>=To)throw new Error("invalid path index - "+n);r=r._derive(To+e)}else{if(!n.match(/^[0-9]+$/))throw new Error("invalid path component - "+n);{const e=parseInt(n);if(e>=To)throw new Error("invalid path index - "+n);r=r._derive(e)}}}return r}static _fromSeed(e,t){const r=C(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=C(yo(po.sha512,Po,r));return new Bo(Ro,Oo(n.slice(0,32)),null,"0x00000000",Oo(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=Vo(Lo(e,r=Io(r)),r),Bo._fromSeed(No(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return Bo._fromSeed(e,null)}static fromExtendedKey(e){const t=uo.decode(e);82===t.length&&Do(t.slice(0,78))===e||ko.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],n=M(t.slice(5,9)),o=parseInt(M(t.slice(9,13)).substring(2),16),i=M(t.slice(13,45)),s=t.slice(45,78);switch(M(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Bo(Ro,null,M(s),n,i,o,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new Bo(Ro,M(s.slice(1)),null,n,i,o,r,null)}return ko.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function No(e,t){t||(t="");const r=Ge("mnemonic"+t,Le.NFKD);return bo(Ge(e,Le.NFKD),r,2048,64,"sha512")}function Lo(e,t){t=Io(t),ko.checkNormalize();const r=t.split(e);if(r.length%3!=0)throw new Error("invalid mnemonic");const n=C(new Uint8Array(Math.ceil(11*r.length/8)));let o=0;for(let e=0;e<r.length;e++){let i=t.getWordIndex(r[e].normalize("NFKD"));if(-1===i)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)i&1<<10-e&&(n[o>>3]|=1<<7-o%8),o++}const i=32*r.length/3,s=Mo(r.length/3);if((C(go(n.slice(0,i/8)))[0]&s)!=(n[n.length-1]&s))throw new Error("invalid checksum");return M(n.slice(0,i/8))}function Vo(e,t){if(t=Io(t),(e=C(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&(1<<8-n)-1),n+=3);const o=e.length/4,i=C(go(e))[0]&Mo(o);return r[r.length-1]<<=o,r[r.length-1]|=i>>8-o,t.join(r.map((e=>t.getWord(e))))}function zo(e,t){try{return Lo(e,t),!0}catch(e){}return!1}function Ho(e){return("number"!=typeof e||e<0||e>=To||e%1)&&ko.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}const jo=new v("random/5.7.0"),Go=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();let Uo=Go.crypto||Go.msCrypto;function qo(e){(e<=0||e>1024||e%1||e!=e)&&jo.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return Uo.getRandomValues(t),C(t)}Uo&&Uo.getRandomValues||(jo.warn("WARNING: Missing strong random number source"),Uo={getRandomValues:function(e){return jo.throwError("no secure random source avaialble",v.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var Wo=r(8826),$o=r.n(Wo),Zo=r(7635),Ko=r.n(Zo);function Yo(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),C(e)}function Xo(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function Jo(e){return"string"==typeof e?Ge(e,Le.NFKC):C(e)}function Qo(e,t){let r=e;const n=t.toLowerCase().split("/");for(let e=0;e<n.length;e++){let t=null;for(const o in r)if(o.toLowerCase()===n[e]){t=r[o];break}if(null===t)return null;r=t}return r}function ei(e){const t=C(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=M(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const ti="json-wallets/5.7.0";const ri=new v(ti);function ni(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class oi extends le{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function ii(e,t){const r=Yo(Qo(e,"crypto/ciphertext"));if(M(ve(S([t.slice(16,32),r]))).substring(2)!==Qo(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=function(e,t,r){if("aes-128-ctr"===Qo(e,"crypto/cipher")){const n=Yo(Qo(e,"crypto/cipherparams/iv")),o=new($o().Counter)(n);return C(new($o().ModeOfOperation.ctr)(t,o).decrypt(r))}return null}(e,t.slice(0,16),r);n||ri.throwError("unsupported cipher",v.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const o=t.slice(32,64),i=sn(n);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),De(t)!==i)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:i,privateKey:M(n)};if("0.1"===Qo(e,"x-ethers/version")){const t=Yo(Qo(e,"x-ethers/mnemonicCiphertext")),r=Yo(Qo(e,"x-ethers/mnemonicCounter")),n=new($o().Counter)(r),i=new($o().ModeOfOperation.ctr)(o,n),a=Qo(e,"x-ethers/path")||Fo,l=Qo(e,"x-ethers/locale")||"en",c=C(i.decrypt(t));try{const e=Vo(c,l),t=Bo.fromMnemonic(e,null,l).derivePath(a);if(t.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=t.mnemonic}catch(e){if(e.code!==v.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new oi(s)}function si(e,t,r,n,o){return C(bo(e,t,r,n,o))}function ai(e,t,r,n,o){return Promise.resolve(si(e,t,r,n,o))}function li(e,t,r,n,o){const i=Jo(t),s=Qo(e,"crypto/kdf");if(s&&"string"==typeof s){const t=function(e,t){return ri.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){const r=Yo(Qo(e,"crypto/kdfparams/salt")),a=parseInt(Qo(e,"crypto/kdfparams/n")),l=parseInt(Qo(e,"crypto/kdfparams/r")),c=parseInt(Qo(e,"crypto/kdfparams/p"));a&&l&&c||t("kdf",s),0!=(a&a-1)&&t("N",a);const h=parseInt(Qo(e,"crypto/kdfparams/dklen"));return 32!==h&&t("dklen",h),n(i,r,a,l,c,64,o)}if("pbkdf2"===s.toLowerCase()){const n=Yo(Qo(e,"crypto/kdfparams/salt"));let o=null;const s=Qo(e,"crypto/kdfparams/prf");"hmac-sha256"===s?o="sha256":"hmac-sha512"===s?o="sha512":t("prf",s);const a=parseInt(Qo(e,"crypto/kdfparams/c")),l=parseInt(Qo(e,"crypto/kdfparams/dklen"));return 32!==l&&t("dklen",l),r(i,n,a,l,o)}}return ri.throwArgumentError("unsupported key-derivation function","kdf",s)}const ci=new v(ti);class hi extends le{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function di(e,t){const r=JSON.parse(e);t=Jo(t);const n=De(Qo(r,"ethaddr")),o=Yo(Qo(r,"encseed"));o&&o.length%16==0||ci.throwArgumentError("invalid encseed","json",e);const i=C(bo(t,t,2e3,32,"sha256")).slice(0,16),s=o.slice(0,16),a=o.slice(16),l=new($o().ModeOfOperation.cbc)(i,s),c=$o().padding.pkcs7.strip(C(l.decrypt(a)));let h="";for(let e=0;e<c.length;e++)h+=String.fromCharCode(c[e]);const d=ve(Ge(h));return new hi({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function ui(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function pi(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function fi(e){if(ui(e))try{return De(JSON.parse(e).ethaddr)}catch(e){return null}if(pi(e))try{return De(JSON.parse(e).address)}catch(e){return null}return null}function mi(e,t,r){if(ui(e)){r&&r(0);const n=di(e,t);return r&&r(1),Promise.resolve(n)}return pi(e)?function(e,t,r){return n=this,o=void 0,s=function*(){const n=JSON.parse(e);return ii(n,yield li(n,t,ai,Ko().scrypt,r))},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}l((s=s.apply(n,o||[])).next())}));var n,o,i,s}(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}var gi=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const vi=new v("wallet/5.7.0");class yi extends ar{constructor(e,t){if(super(),null!=(r=e)&&P(r.privateKey,32)&&null!=r.address){const t=new Yr(e.privateKey);if(Q(this,"_signingKey",(()=>t)),Q(this,"address",sn(this.publicKey)),this.address!==De(e.address)&&vi.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;Q(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||Fo,locale:t.locale||"en"})));const r=this.mnemonic;sn(Bo.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&vi.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Q(this,"_mnemonic",(()=>null))}else{if(Yr.isSigningKey(e))"secp256k1"!==e.curve&&vi.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Q(this,"_signingKey",(()=>e));else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new Yr(e);Q(this,"_signingKey",(()=>t))}Q(this,"_mnemonic",(()=>null)),Q(this,"address",sn(this.publicKey))}var r;t&&!rr.isProvider(t)&&vi.throwArgumentError("invalid provider","provider",t),Q(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new yi(this,e)}signTransaction(e){return te(e).then((t=>{null!=t.from&&(De(t.from)!==this.address&&vi.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(ve(fn(t)));return fn(t,r)}))}signMessage(e){return gi(this,void 0,void 0,(function*(){return L(this._signingKey().signDigest($n(e)))}))}_signTypedData(e,t,r){return gi(this,void 0,void 0,(function*(){const n=yield co.resolveNames(e,t,r,(e=>(null==this.provider&&vi.throwError("cannot resolve ENS names without a provider",v.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return L(this._signingKey().signDigest(co.hash(n.domain,t,n.value)))}))}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw new Error("invalid callback");return t||(t={}),function(e,t,r,n){try{if(De(e.address)!==sn(e.privateKey))throw new Error("address/privateKey mismatch");if(ni(e)){const t=e.mnemonic;if(Bo.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||Fo).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof r||n||(n=r,r={}),r||(r={});const o=C(e.privateKey),i=Jo(t);let s=null,a=null,l=null;if(ni(e)){const t=e.mnemonic;s=C(Lo(t.phrase,t.locale||"en")),a=t.path||Fo,l=t.locale||"en"}let c=r.client;c||(c="ethers.js");let h=null;h=r.salt?C(r.salt):qo(32);let d=null;if(r.iv){if(d=C(r.iv),16!==d.length)throw new Error("invalid iv")}else d=qo(16);let u=null;if(r.uuid){if(u=C(r.uuid),16!==u.length)throw new Error("invalid uuid")}else u=qo(16);let p=1<<17,f=8,m=1;return r.scrypt&&(r.scrypt.N&&(p=r.scrypt.N),r.scrypt.r&&(f=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),Ko().scrypt(i,h,p,f,m,64,n).then((t=>{const r=(t=C(t)).slice(0,16),n=t.slice(16,32),i=t.slice(32,64),g=new($o().Counter)(d),v=C(new($o().ModeOfOperation.ctr)(r,g).encrypt(o)),y=ve(S([n,v])),b={address:e.address.substring(2).toLowerCase(),id:ei(u),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:M(d).substring(2)},ciphertext:M(v).substring(2),kdf:"scrypt",kdfparams:{salt:M(h).substring(2),n:p,dklen:32,p:m,r:f},mac:y.substring(2)}};if(s){const e=qo(16),t=new($o().Counter)(e),r=C(new($o().ModeOfOperation.ctr)(i,t).encrypt(s)),n=new Date,o=n.getUTCFullYear()+"-"+Xo(n.getUTCMonth()+1,2)+"-"+Xo(n.getUTCDate(),2)+"T"+Xo(n.getUTCHours(),2)+"-"+Xo(n.getUTCMinutes(),2)+"-"+Xo(n.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:c,gethFilename:"UTC--"+o+"--"+b.address,mnemonicCounter:M(e).substring(2),mnemonicCiphertext:M(r).substring(2),path:a,locale:l,version:"0.1"}}return JSON.stringify(b)}))}(this,e,t,r)}static createRandom(e){let t=qo(16);e||(e={}),e.extraEntropy&&(t=C(D(ve(S([t,e.extraEntropy])),0,16)));const r=Vo(t,e.locale);return yi.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return mi(e,t,r).then((e=>new yi(e)))}static fromEncryptedJsonSync(e,t){return new yi(function(e,t){if(ui(e))return di(e,t);if(pi(e))return function(e,t){const r=JSON.parse(e);return ii(r,li(r,t,si,Ko().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}(e,t))}static fromMnemonic(e,t,r){return t||(t=Fo),new yi(Bo.fromMnemonic(e,null,r).derivePath(t))}}function bi(e,t){return an($n(e),t)}function wi(e,t,r,n){return an(co.hash(e,t,r),n)}const xi="0x0000000000000000000000000000000000000000",_i="0x0000000000000000000000000000000000000000000000000000000000000000",Ei="",Ci=new v("networks/5.7.1");function Si(e){const t=function(t,r){null==r&&(r={});const n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket){const o=["goerli","ropsten","rinkeby","sepolia"];try{const i=new t.PocketProvider(e,r.pocket);i.network&&-1===o.indexOf(i.network.name)&&n.push(i)}catch(e){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{const o=["ropsten"],i=new t.AnkrProvider(e,r.ankr);i.network&&-1===o.indexOf(i.network.name)&&n.push(i)}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let o=1;return null!=r.quorum?o=r.quorum:"homestead"===e&&(o=2),new t.FallbackProvider(n,o)}return n[0]};return t.renetwork=function(e){return Si(e)},t}function ki(e,t){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return ki(e,t)},r}const Ai={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Si("homestead")},Pi={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Si("ropsten")},Ti={chainId:63,name:"classicMordor",_defaultProvider:ki("https://www.ethercluster.com/mordor","classicMordor")},Mi={unspecified:{chainId:0,name:"unspecified"},homestead:Ai,mainnet:Ai,morden:{chainId:2,name:"morden"},ropsten:Pi,testnet:Pi,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Si("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Si("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Si("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Si("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:ki("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Ti,classicTestnet:Ti,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:ki("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Si("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Si("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Oi(e){if(null==e)return null;if("number"==typeof e){for(const t in Mi){const r=Mi[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){const t=Mi[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=Mi[e.name];if(!t)return"number"!=typeof e.chainId&&Ci.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&Ci.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;var n;return null==r&&t._defaultProvider&&(r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}function Di(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return C(t)}function Ii(e){e=C(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function Ri(e,t){null==t&&(t=1);const r=[],n=r.forEach,o=function(e,t){n.call(e,(function(e){t>0&&Array.isArray(e)?o(e,t-1):r.push(e)}))};return o(e,t),r}function Fi(e){return 1&e?~e>>1:e>>1}function Bi(e,t){let r=Array(e);for(let n=0,o=-1;n<e;n++)r[n]=o+=1+t();return r}function Ni(e,t){let r=Array(e);for(let n=0,o=0;n<e;n++)r[n]=o+=Fi(t());return r}function Li(e,t){let r=Bi(e(),e),n=e(),o=Bi(n,e),i=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let e=0;e<n;e++)for(let t=0;t<i[e];t++)r.push(o[e]+t);return t?r.map((e=>t[e])):r}function Vi(e,t,r){let n=Array(e).fill(void 0).map((()=>[]));for(let o=0;o<t;o++)Ni(e,r).forEach(((e,t)=>n[t].push(e)));return n}function zi(e,t){let r=1+t(),n=t(),o=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return Ri(Vi(o.length,1+e,t).map(((e,t)=>{const i=e[0],s=e.slice(1);return Array(o[t]).fill(void 0).map(((e,t)=>{let o=t*n;return[i+t*r,s.map((e=>e+o))]}))})))}function Hi(e,t){return Vi(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}const ji=function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),o=1,i=[0,1];for(let e=1;e<n;e++)i.push(o+=r());let s=r(),a=t;t+=s;let l=0,c=0;function h(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const d=Math.pow(2,31),u=d>>>1,p=u>>1,f=d-1;let m=0;for(let e=0;e<31;e++)m=m<<1|h();let g=[],v=0,y=d;for(;;){let e=Math.floor(((m-v+1)*o-1)/y),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<i[n]?r=n:t=n}if(0==t)break;g.push(t);let s=v+Math.floor(y*i[t]/o),a=v+Math.floor(y*i[t+1]/o)-1;for(;0==((s^a)&u);)m=m<<1&f|h(),s=s<<1&f,a=a<<1&f|1;for(;s&~a&p;)m=m&u|m<<1&f>>>1|h(),s=s<<1^u,a=(a^u)<<1|u|1;v=s,y=1+a-s}let b=n-4;return g.map((t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}}))}(Di("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))),Gi=new Set(Li(ji)),Ui=new Set(Li(ji)),qi=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(zi(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(Hi(r,e))}return function(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n[0]]=n[1]}return t}(Ri(t))}(ji),Wi=function(e){let t=Li(e).sort(((e,t)=>e-t));return function r(){let n=[];for(;;){let o=Li(e,t);if(0==o.length)break;n.push({set:new Set(o),node:r()})}n.sort(((e,t)=>t.set.size-e.set.size));let o=e(),i=o%3;o=o/3|0;let s=!!(1&o);return o>>=1,{branches:n,valid:i,fe0f:s,save:1==o,check:2==o}}()}(ji);function $i(e){return Ze(e)}function Zi(e){return e.filter((e=>65039!=e))}function Ki(e){for(let t of e.split(".")){let e=$i(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw new Error("underscore only allowed at start");if(e.length>=4&&e.every((e=>e<128))&&45===e[2]&&45===e[3])throw new Error("invalid label extension")}catch(e){throw new Error(`Invalid label "${t}": ${e.message}`)}}return e}function Yi(e,t){var r;let n,o,i=Wi,s=[],a=e.length;for(t&&(t.length=0);a;){let l=e[--a];if(i=null===(r=i.branches.find((e=>e.set.has(l))))||void 0===r?void 0:r.node,!i)break;if(i.save)o=l;else if(i.check&&l===o)break;s.push(l),i.fe0f&&(s.push(65039),a>0&&65039==e[a-1]&&a--),i.valid&&(n=s.slice(),2==i.valid&&n.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}const Xi=new v(Zn),Ji=new Uint8Array(32);function Qi(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function es(e){const t=Ge(function(e){return Ki(function(e,t){let r=$i(e).reverse(),n=[];for(;r.length;){let e=Yi(r);if(e){n.push(...t(e));continue}let o=r.pop();if(Gi.has(o)){n.push(o);continue}if(Ui.has(o))continue;let i=qi[o];if(!i)throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`);n.push(...i)}return Ki(String.fromCodePoint(...n).normalize("NFC"))}(e,Zi))}(e)),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(Qi(t.slice(n,e))),n=e+1);if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(Qi(t.slice(n))),r}function ts(e){try{return 0!==es(e).length}catch(e){}return!1}function rs(e){"string"!=typeof e&&Xi.throwArgumentError("invalid ENS name; not a string","name",e);let t=Ji;const r=es(e);for(;r.length;)t=ve(S([t,ve(r.pop())]));return M(t)}function ns(e){return M(S(es(e).map((e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"}Ji.fill(0);function os(e,t){return r=this,n=void 0,i=function*(){null==t&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){const e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}const n=yield fetch(e,r),o=yield n.arrayBuffer(),i={};return n.headers.forEach?n.headers.forEach(((e,t)=>{i[t.toLowerCase()]=e})):n.headers.keys().forEach((e=>{i[e.toLowerCase()]=n.headers.get(e)})),{headers:i,statusCode:n.status,statusMessage:n.statusText,body:C(new Uint8Array(o))}},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(i.next(e))}catch(e){t(e)}}function a(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(s,a)}l((i=i.apply(r,n||[])).next())}));var r,n,o,i}const is=new v("web/5.7.1");function ss(e){return new Promise((t=>{setTimeout(t,e)}))}function as(e,t){if(null==e)return null;if("string"==typeof e)return e;if(x(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return $e(e)}catch(e){}return M(e)}return e}function ls(e,t,r){const n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;is.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const o="object"==typeof e?e.throttleCallback:null,i="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;is.assertArgument(i>0&&i%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const s="object"==typeof e&&!!e.errorPassThrough,a={};let l=null;const c={method:"GET"};let h=!1,d=12e4;if("string"==typeof e)l=e;else if("object"==typeof e){if(null!=e&&null!=e.url||is.throwArgumentError("missing URL","connection.url",e),l=e.url,"number"==typeof e.timeout&&e.timeout>0&&(d=e.timeout),e.headers)for(const t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(h=!0);if(c.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==l.substring(0,6)&&!0!==e.allowInsecureAuthentication&&is.throwError("basic authentication requires a secure https url",v.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+Ii(Ge(t))}}null!=e.skipFetchSetup&&(c.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(c.fetchOptions=ne(e.fetchOptions))}const u=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(u):null;if(p)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?Di(p[3]):(f=p[3],Ge(f.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))};let t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(e){is.throwError("processing response error",v.errors.SERVER_ERROR,{body:as(p[1],p[2]),error:e,requestBody:null,requestMethod:"GET",url:l})}var f;t&&(c.method="POST",c.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));const m={};Object.keys(a).forEach((e=>{const t=a[e];m[t.key]=t.value})),c.headers=m;const g=function(){let e=null;return{promise:new Promise((function(t,r){d&&(e=setTimeout((()=>{null!=e&&(e=null,r(is.makeError("timeout",v.errors.TIMEOUT,{requestBody:as(c.body,m["content-type"]),requestMethod:c.method,timeout:d,url:l})))}),d))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),y=function(){return e=this,t=void 0,d=function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield os(l,c),e<n)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===c.method&&e.match(/^https:/)){l=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(o&&(r=yield o(e,l)),r){let r=0;const n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):i*parseInt(String(Math.random()*Math.pow(2,e))),yield ss(r);continue}}}catch(e){t=e.response,null==t&&(g.cancel(),is.throwError("missing response",v.errors.SERVER_ERROR,{requestBody:as(c.body,m["content-type"]),requestMethod:c.method,serverError:e,url:l}))}let a=t.body;if(h&&304===t.statusCode?a=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(g.cancel(),is.throwError("bad response",v.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:as(a,t.headers?t.headers["content-type"]:null),requestBody:as(c.body,m["content-type"]),requestMethod:c.method,url:l})),r)try{const e=yield r(a,t);return g.cancel(),e}catch(r){if(r.throttleRetry&&e<n){let t=!0;if(o&&(t=yield o(e,l)),t){const t=i*parseInt(String(Math.random()*Math.pow(2,e)));yield ss(t);continue}}g.cancel(),is.throwError("processing response error",v.errors.SERVER_ERROR,{body:as(a,t.headers?t.headers["content-type"]:null),error:r,requestBody:as(c.body,m["content-type"]),requestMethod:c.method,url:l})}return g.cancel(),a}return is.throwError("failed response",v.errors.SERVER_ERROR,{requestBody:as(c.body,m["content-type"]),requestMethod:c.method,url:l})},new((a=void 0)||(a=Promise))((function(r,n){function o(e){try{s(d.next(e))}catch(e){n(e)}}function i(e){try{s(d.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,i)}s((d=d.apply(e,t||[])).next())}));var e,t,a,d}();return Promise.race([g.promise,y])}function cs(e,t,r){let n=null;if(null!=t){n=Ge(t);const r="string"==typeof e?{url:e}:ne(e);r.headers?0!==Object.keys(r.headers).filter((e=>"content-type"===e.toLowerCase())).length||(r.headers=ne(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},e=r}return ls(e,n,((e,t)=>{let n=null;if(null!=e)try{n=JSON.parse($e(e))}catch(t){is.throwError("invalid JSON",v.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n}))}function hs(e,t){return t||(t={}),null==(t=ne(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){let o=null,i=!1;const s=()=>!i&&(i=!0,o&&clearTimeout(o),!0);t.timeout&&(o=setTimeout((()=>{s()&&n(new Error("timeout"))}),t.timeout));const a=t.retryLimit;let l=0;!function o(){return e().then((function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",o);else if(t.onceBlock)t.onceBlock.once("block",o);else if(!i){if(l++,l>a)return void(s()&&n(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(o,e)}return null}),(function(e){s()&&n(e)}))}()}))}var ds=r(2882),us=r.n(ds);const ps="providers/5.7.2",fs=new v(ps);class ms{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),o=this.data.bind(this),i=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:i,type:l,accessList:ms.allowNull(this.accessList.bind(this),null),blockHash:ms.allowNull(i,null),blockNumber:ms.allowNull(a,null),transactionIndex:ms.allowNull(a,null),confirmations:ms.allowNull(a,null),from:t,gasPrice:ms.allowNull(r),maxPriorityFeePerGas:ms.allowNull(r),maxFeePerGas:ms.allowNull(r),gasLimit:r,to:ms.allowNull(t,null),value:r,nonce:a,data:o,r:ms.allowNull(this.uint256),s:ms.allowNull(this.uint256),v:ms.allowNull(a),creates:ms.allowNull(t,null),raw:ms.allowNull(o)},e.transactionRequest={from:ms.allowNull(t),nonce:ms.allowNull(a),gasLimit:ms.allowNull(r),gasPrice:ms.allowNull(r),maxPriorityFeePerGas:ms.allowNull(r),maxFeePerGas:ms.allowNull(r),to:ms.allowNull(t),value:ms.allowNull(r),data:ms.allowNull((e=>this.data(e,!0))),type:ms.allowNull(a),accessList:ms.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:i,address:t,topics:ms.arrayOf(i),data:o,logIndex:a,blockHash:i},e.receipt={to:ms.allowNull(this.address,null),from:ms.allowNull(this.address,null),contractAddress:ms.allowNull(t,null),transactionIndex:a,root:ms.allowNull(s),gasUsed:r,logsBloom:ms.allowNull(o),blockHash:i,transactionHash:i,logs:ms.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:ms.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:ms.allowNull(r),status:ms.allowNull(a),type:l},e.block={hash:ms.allowNull(i),parentHash:i,number:a,timestamp:a,nonce:ms.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:ms.allowNull(t),extraData:o,transactions:ms.allowNull(ms.arrayOf(i)),baseFeePerGas:ms.allowNull(r)},e.blockWithTransactions=ne(e.block),e.blockWithTransactions.transactions=ms.allowNull(ms.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:ms.allowNull(n,void 0),toBlock:ms.allowNull(n,void 0),blockHash:ms.allowNull(i,void 0),address:ms.allowNull(t,void 0),topics:ms.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:ms.allowNull(a),blockHash:ms.allowNull(i),transactionIndex:a,removed:ms.allowNull(this.boolean.bind(this)),address:t,data:ms.allowFalsish(o,"0x"),topics:ms.arrayOf(i),transactionHash:i,logIndex:a},e}accessList(e){return hn(e||[])}number(e){return"0x"===e?0:$.from(e).toNumber()}type(e){return"0x"===e||null==e?0:$.from(e).toNumber()}bigNumber(e){return $.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),P(e))?e.toLowerCase():fs.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return De(e)}callAddress(e){if(!P(e,32))return null;const t=De(D(e,12));return t===xi?null:t}contractAddress(e){return Fe(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||P(e))return R(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return 32!==O(r)?fs.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;const t=$.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!P(e))throw new Error("invalid uint256");return B(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const r=null!=e._difficulty?e._difficulty:e.difficulty,n=ms.check(t,e);return n._difficulty=null==r?null:$.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return ms.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&$.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=ms.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;P(r)&&(r=$.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),P(r)&&(r=$.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return gn(e)}receiptLog(e){return ms.check(this.formats.receiptLog,e)}receipt(e){const t=ms.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=$.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&fs.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):fs.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&fs.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map((e=>this.topics(e))):null!=e?this.hash(e,!0):null}filter(e){return ms.check(this.formats.filter,e)}filterLog(e){return ms.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const n in e)try{const o=e[n](t[n]);void 0!==o&&(r[n]=o)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach((function(t){r.push(e(t))})),r}}}function gs(e){return e&&"function"==typeof e.isCommunityResource}function vs(e){return gs(e)&&e.isCommunityResource()}let ys=!1;function bs(){ys||(ys=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var ws=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const xs=new v(ps);function _s(e){return null==e?"null":(32!==O(e)&&xs.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function Es(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[_s(e)]=!0}));const r=Object.keys(t);return r.sort(),r.join("|")}return _s(e)})).join("&")}function Cs(e){if("string"==typeof e){if(32===O(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+Es(e);if(tr.isForkEvent(e))throw xs.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+Es(e.topics||[])}throw new Error("invalid event - "+e)}function Ss(){return(new Date).getTime()}function ks(e){return new Promise((t=>{setTimeout(t,e)}))}const As=["block","network","pending","poll"];class Ps{constructor(e,t,r){Q(this,"tag",e),Q(this,"listener",t),Q(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],r=""===(n=e[2])?[]:n.split(/&/g).map((e=>{if(""===e)return[];const t=e.split("|").map((e=>"null"===e?null:e));return 1===t.length?t[0]:t}));var n;const o={};return r.length>0&&(o.topics=r),t&&"*"!==t&&(o.address=t),o}pollable(){return this.tag.indexOf(":")>=0||As.indexOf(this.tag)>=0}}const Ts={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Ms(e){return B($.from(e).toHexString(),32)}function Os(e){return uo.encode(S([e,D(go(go(e)),0,4)]))}const Ds=new RegExp("^(ipfs)://(.*)$","i"),Is=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ds,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Rs(e,t){try{return $e(Fs(e,t))}catch(e){}return null}function Fs(e,t){if("0x"===e)return null;const r=$.from(D(e,t,t+32)).toNumber(),n=$.from(D(e,r,r+32)).toNumber();return D(e,r+32,r+32+n)}function Bs(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):xs.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function Ns(e){const t=C(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function Ls(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function Vs(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){const o=C(e[n]);t[n]=Ns(r),t.push(Ns(o.length)),t.push(Ls(o)),r+=32+32*Math.ceil(o.length/32)}return I(t)}class zs{constructor(e,t,r,n){Q(this,"provider",e),Q(this,"name",r),Q(this,"address",e.formatter.address(t)),Q(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((e=>$.from(e).eq(1))).catch((e=>{if(e.code===v.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e}))),this._supportsEip2544}_fetch(e,t){return ws(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:I([e,rs(this.name),t||"0x"])};let n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=I(["0x9061b923",Vs([ns(this.name),r.data])]));try{let e=yield this.provider.call(r);return C(e).length%32==4&&xs.throwError("resolver threw error",v.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=Fs(e,0)),e}catch(e){if(e.code===v.errors.CALL_EXCEPTION)return null;throw e}}))}_fetchBytes(e,t){return ws(this,void 0,void 0,(function*(){const r=yield this._fetch(e,t);return null!=r?Fs(r,0):null}))}_getAddress(e,t){const r=Ts[String(e)];if(null==r&&xs.throwError(`unsupported coin type: ${e}`,v.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);const n=C(t);if(null!=r.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Os(S([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Os(S([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){const e=n[1];let t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){const e=us().toWords(n.slice(2));return e.unshift(t),us().encode(r.prefix,e)}}return null}getAddress(e){return ws(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e=yield this._fetch("0x3b3b57de");return"0x"===e||e===_i?null:this.provider.formatter.callAddress(e)}catch(e){if(e.code===v.errors.CALL_EXCEPTION)return null;throw e}const t=yield this._fetchBytes("0xf1cb7e06",Ms(e));if(null==t||"0x"===t)return null;const r=this._getAddress(e,t);return null==r&&xs.throwError("invalid or unsupported coin data",v.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r}))}getAvatar(){return ws(this,void 0,void 0,(function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<Is.length;r++){const n=t.match(Is[r]);if(null==n)continue;const o=n[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Bs(t)};case"erc721":case"erc1155":{const r="erc721"===o?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:t});const i=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),l=B($.from(s[1]).toHexString(),32);if("erc721"===o){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:I(["0x6352211e",l])}));if(i!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===o){const t=$.from(yield this.provider.call({to:a,data:I(["0x00fdd58e",B(i,32),l])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const c={to:this.provider.formatter.address(s[0]),data:I([r,l])};let h=Rs(yield this.provider.call(c),0);if(null==h)return null;e.push({type:"metadata-url-base",content:h}),"erc1155"===o&&(h=h.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=Bs(h)),e.push({type:"metadata-url",content:h});const d=yield cs(h);if(!d)return null;e.push({type:"metadata",content:JSON.stringify(d)});let u=d.image;if("string"!=typeof u)return null;if(u.match(/^(https:\/\/|data:)/i));else{if(null==u.match(Ds))return null;e.push({type:"url-ipfs",content:u}),u=Bs(u)}return e.push({type:"url",content:u}),{linkage:e,url:u}}}}}catch(e){}return null}))}getContentHash(){return ws(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+uo.encode("0x"+t[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+uo.encode("0x"+r[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&68===o[1].length){const e={"=":"","+":"-","/":"_"};return"sia://"+Ii("0x"+o[1]).replace(/[=+\/]/g,(t=>e[t]))}return xs.throwError("invalid or unsupported content hash data",v.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return ws(this,void 0,void 0,(function*(){let t=Ge(e);t=S([Ms(64),Ms(t.length),t]),t.length%32!=0&&(t=S([t,B("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",M(t));return null==r||"0x"===r?null:$e(r)}))}}let Hs=null,js=1;class Gs extends rr{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Q(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch((e=>{})),this._ready().catch((e=>{}));else{const t=ee(new.target,"getNetwork")(e);t?(Q(this,"_network",t),this.emit("network",t,null)):xs.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ws(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||xs.throwError("no network detected",v.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:Q(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return hs((()=>this._ready().then((e=>e),(e=>{if(e.code!==v.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))))}static getFormatter(){return null==Hs&&(Hs=new ms),Hs}static getNetwork(e){return Oi(null==e?"homestead":e)}ccipReadFetch(e,t,r){return ws(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=e.to.toLowerCase(),o=t.toLowerCase(),i=[];for(let e=0;e<r.length;e++){const t=r[e],s=t.replace("{sender}",n).replace("{data}",o),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:n}),l=yield cs({url:s,errorPassThrough:!0},a,((e,t)=>(e.status=t.statusCode,e)));if(l.data)return l.data;const c=l.message||"unknown error";if(l.status>=400&&l.status<500)return xs.throwError(`response not found during CCIP fetch: ${c}`,v.errors.SERVER_ERROR,{url:t,errorMessage:c});i.push(c)}return xs.throwError(`error encountered during CCIP fetch: ${i.map((e=>JSON.stringify(e))).join(", ")}`,v.errors.SERVER_ERROR,{urls:r,errorMessages:i})}))}_getInternalBlockNumber(e){return ws(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const r=yield t;if(Ss()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}const t=Ss(),r=te({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const o=Ss();return(e=$.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:o}}));return this._internalBlockNumber=r,r.catch((e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return ws(this,void 0,void 0,(function*(){const e=js++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){return void this.emit("error",e)}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)xs.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",xs.makeError("network block skew detected",v.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((e=>{switch(e.type){case"tx":{const r=e.hash;let n=this.getTransactionReceipt(r).then((e=>e&&null!=e.blockNumber?(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e),null):null)).catch((e=>{this.emit("error",e)}));t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);const n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r;const o=n.toBlock-this._maxFilterBlockRange;o>n.fromBlock&&(n.fromBlock=o),n.fromBlock<0&&(n.fromBlock=0);const i=this.getLogs(n).then((t=>{e._inflight=!1,0!==t.length&&t.forEach((t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)}))})).catch((t=>{this.emit("error",t),e._inflight=!1}));t.push(i)}}})),this._lastBlockNumber=r,Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}))}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ws(this,void 0,void 0,(function*(){return xs.throwError("provider does not support network detection",v.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return ws(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield ks(0),this._network;const r=xs.makeError("underlying network changed",v.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const e=Ss();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Ss(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return ws(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)}))}_waitForTransaction(e,t,r,n){return ws(this,void 0,void 0,(function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=t?o:new Promise(((o,i)=>{const s=[];let a=!1;const l=function(){return!!a||(a=!0,s.forEach((e=>{e()})),!1)},c=e=>{e.confirmations<t||l()||o(e)};if(this.on(e,c),s.push((()=>{this.removeListener(e,c)})),n){let r=n.startBlock,o=null;const c=s=>ws(this,void 0,void 0,(function*(){a||(yield ks(1e3),this.getTransactionCount(n.from).then((h=>ws(this,void 0,void 0,(function*(){if(!a){if(h<=n.nonce)r=s;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==o&&(o=r-3,o<n.startBlock&&(o=n.startBlock));o<=s;){if(a)return;const r=yield this.getBlockWithTransactions(o);for(let o=0;o<r.transactions.length;o++){const s=r.transactions[o];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,t);if(l())return;let o="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?o="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(o="cancelled"),void i(xs.makeError("transaction was replaced",v.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===o||"cancelled"===o,reason:o,replacement:this._wrapTransaction(s),hash:e,receipt:r}))}}o++}}a||this.once("block",c)}}))),(e=>{a||this.once("block",c)})))}));if(a)return;this.once("block",c),s.push((()=>{this.removeListener("block",c)}))}if("number"==typeof r&&r>0){const e=setTimeout((()=>{l()||i(xs.makeError("timeout exceeded",v.errors.TIMEOUT,{timeout:r}))}),r);e.unref&&e.unref(),s.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return ws(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return ws(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return $.from(e)}catch(t){return xs.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return ws(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield te({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return $.from(n)}catch(e){return xs.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}}))}getTransactionCount(e,t){return ws(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield te({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return $.from(n).toNumber()}catch(e){return xs.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}}))}getCode(e,t){return ws(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield te({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return M(n)}catch(e){return xs.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}}))}getStorageAt(e,t,r){return ws(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield te({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((e=>R(e)))}),o=yield this.perform("getStorageAt",n);try{return M(o)}catch(e){return xs.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:o,error:e})}}))}_wrapTransaction(e,t,r){if(null!=t&&32!==O(t))throw new Error("invalid response - sendTransaction");const n=e;return null!=t&&e.hash!==t&&xs.throwError("Transaction hash mismatch from Provider.sendTransaction.",v.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(t,n)=>ws(this,void 0,void 0,(function*(){let o;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const i=yield this._waitForTransaction(e.hash,t,n,o);return null==i&&0===t?null:(this._emitted["t:"+e.hash]=i.blockNumber,0===i.status&&xs.throwError("transaction failed",v.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:i}),i)})),n}sendTransaction(e){return ws(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>M(e))),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}}))}_getTransactionRequest(e){return ws(this,void 0,void 0,(function*(){const t=yield e,r={};return["from","to"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?$.from(e):null)))})),["type"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>null!=e?e:null)))})),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?M(e):null)))})),this.formatter.transactionRequest(yield te(r))}))}_getFilter(e){return ws(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((r=>{null!=e[r]&&(t[r]=e[r])})),["fromBlock","toBlock"].forEach((r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))})),this.formatter.filter(yield te(t))}))}_call(e,t,r){return ws(this,void 0,void 0,(function*(){r>=10&&xs.throwError("CCIP read exceeded maximum redirections",v.errors.SERVER_ERROR,{redirects:r,transaction:e});const n=e.to,o=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===o.substring(0,10)&&O(o)%32==4)try{const i=D(o,4),s=D(i,0,32);$.from(s).eq(n)||xs.throwError("CCIP Read sender did not match",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const a=[],l=$.from(D(i,32,64)).toNumber(),c=$.from(D(i,l,l+32)).toNumber(),h=D(i,l+32);for(let t=0;t<c;t++){const r=Rs(h,32*t);null==r&&xs.throwError("CCIP Read contained corrupt URL string",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),a.push(r)}const d=Fs(i,64);$.from(D(i,100,128)).isZero()||xs.throwError("CCIP Read callback selector included junk",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const u=D(i,96,100),p=Fs(i,128),f=yield this.ccipReadFetch(e,d,a);null==f&&xs.throwError("CCIP Read disabled or provided no URLs",v.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const m={to:n,data:I([u,Vs([f,p])])};return this._call(m,t,r+1)}catch(e){if(e.code===v.errors.SERVER_ERROR)throw e}try{return M(o)}catch(r){return xs.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:o,error:r})}}))}call(e,t){return ws(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield te({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(e){return ws(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield te({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return $.from(r)}catch(e){return xs.throwError("bad result from backend",v.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}}))}_getAddress(e){return ws(this,void 0,void 0,(function*(){"string"!=typeof(e=yield e)&&xs.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&xs.throwError("ENS name not configured",v.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t}))}_getBlock(e,t){return ws(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let r=-128;const n={includeTransactions:!!t};if(P(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),P(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){xs.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return hs((()=>ws(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){const n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}const r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map((e=>this._wrapTransaction(e))),r}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ws(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return hs((()=>ws(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(e){return ws(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return hs((()=>ws(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}))),{oncePoll:this})}))}getLogs(e){return ws(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield te({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach((e=>{null==e.removed&&(e.removed=!1)})),ms.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return ws(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return ws(this,void 0,void 0,(function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&xs.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return ws(this,void 0,void 0,(function*(){let t=e;for(;;){if(""===t||"."===t)return null;if("eth"!==e&&"eth"===t)return null;const r=yield this._getResolver(t,"getResolver");if(null!=r){const n=new zs(this,r,e);return t===e||(yield n.supportsWildcard())?n:null}t=t.split(".").slice(1).join(".")}}))}_getResolver(e,t){return ws(this,void 0,void 0,(function*(){null==t&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||xs.throwError("network does not support ENS",v.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+rs(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null}))}resolveName(e){return ws(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(P(e))throw t}"string"!=typeof e&&xs.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return ws(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;const n=Rs(yield this.call({to:r,data:"0x691f3431"+rs(t).substring(2)}),0);return(yield this.resolveName(n))!=e?null:n}))}getAvatar(e){return ws(this,void 0,void 0,(function*(){let t=null;if(P(e)){const r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;t=new zs(this,n,r);try{const e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==v.errors.CALL_EXCEPTION)throw e}try{const e=Rs(yield this.call({to:n,data:"0x691f3431"+rs(r).substring(2)}),0);t=yield this.getResolver(e)}catch(e){if(e.code!==v.errors.CALL_EXCEPTION)throw e;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return null==r?null:r.url}))}perform(e,t){return xs.throwError(e+" not implemented",v.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,r){const n=new Ps(Cs(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],o=Cs(e);return this._events=this._events.filter((e=>e.tag!==o||(setTimeout((()=>{e.listener.apply(this,t)}),0),r=!0,!e.once||(n.push(e),!1)))),n.forEach((e=>{this._stopEvent(e)})),r}listenerCount(e){if(!e)return this._events.length;let t=Cs(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(null==e)return this._events.map((e=>e.listener));let t=Cs(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(null==t)return this.removeAllListeners(e);const r=[];let n=!1,o=Cs(e);return this._events=this._events.filter((e=>e.tag!==o||e.listener!=t||!!n||(n=!0,r.push(e),!1))),r.forEach((e=>{this._stopEvent(e)})),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const r=Cs(e);this._events=this._events.filter((e=>e.tag!==r||(t.push(e),!1)))}return t.forEach((e=>{this._stopEvent(e)})),this}}var Us=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const qs=new v(ps),Ws=["call","estimateGas"];function $s(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){const r=P(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(const r in e){const n=$s(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return $s(JSON.parse(e),t)}catch(e){}return null}function Zs(e,t,r){const n=r.transaction||r.signedTransaction;if("call"===e){const e=$s(t,!0);if(e)return e.data;qs.throwError("missing revert data in call exception; Transaction reverted without a reason string",v.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=$s(t.body,!1);null==r&&(r=$s(t,!1)),r&&qs.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let o=t.message;throw t.code===v.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?o=t.error.message:"string"==typeof t.body?o=t.body:"string"==typeof t.responseText&&(o=t.responseText),o=(o||"").toLowerCase(),o.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&qs.throwError("insufficient funds for intrinsic transaction cost",v.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),o.match(/nonce (is )?too low/i)&&qs.throwError("nonce has already been used",v.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&qs.throwError("replacement fee too low",v.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),o.match(/only replay-protected/i)&&qs.throwError("legacy pre-eip-155 transactions not supported",v.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),Ws.indexOf(e)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&qs.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function Ks(e){return new Promise((function(t){setTimeout(t,e)}))}function Ys(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function Xs(e){return e?e.toLowerCase():e}const Js={};class Qs extends ar{constructor(e,t,r){if(super(),e!==Js)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Q(this,"provider",t),null==r&&(r=0),"string"==typeof r?(Q(this,"_address",this.provider.formatter.address(r)),Q(this,"_index",null)):"number"==typeof r?(Q(this,"_index",r),Q(this,"_address",null)):qs.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return qs.throwError("cannot alter JSON-RPC Signer connection",v.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new ea(Js,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&qs.throwError("unknown account #"+this._index,v.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=ne(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const r=ne(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>Us(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&qs.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),te({tx:te(e),sender:t}).then((({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&qs.throwArgumentError("from address mismatch","transaction",e):t.from=r;const n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((e=>e),(e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&qs.throwError("user rejected transaction",v.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),Zs("sendTransaction",e,n))))}))}signTransaction(e){return qs.throwError("signing transactions is unsupported",v.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Us(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield hs((()=>Us(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}))),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}}))}signMessage(e){return Us(this,void 0,void 0,(function*(){const t="string"==typeof e?Ge(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[M(t),r.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&qs.throwError("user rejected signing",v.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),t}}))}_legacySignMessage(e){return Us(this,void 0,void 0,(function*(){const t="string"==typeof e?Ge(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),M(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&qs.throwError("user rejected signing",v.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),t}}))}_signTypedData(e,t,r){return Us(this,void 0,void 0,(function*(){const n=yield co.resolveNames(e,t,r,(e=>this.provider.resolveName(e))),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(co.getPayload(n.domain,t,n.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&qs.throwError("user rejected signing",v.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:n.domain,types:t,value:n.value}}),e}}))}unlock(e){return Us(this,void 0,void 0,(function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))}}class ea extends Qs{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const ta={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class ra extends Gs{constructor(e,t){let r=t;null==r&&(r=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(r),e||(e=ee(this.constructor,"defaultUrl")()),Q(this,"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(ne(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Us(this,void 0,void 0,(function*(){yield Ks(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){const t=ee(this.constructor,"getNetwork");try{return t($.from(e).toNumber())}catch(t){return qs.throwError("could not detect network",v.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return qs.throwError("could not detect network",v.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new Qs(Js,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:ae(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const o=cs(this.connection,JSON.stringify(r),Ys).then((e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e}));return n&&(this._cache[e]=o,setTimeout((()=>{this._cache[e]=null}),0)),o}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Xs(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Xs(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Xs(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Xs(t.address),B(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[ee(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[ee(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=Xs(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Us(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&$.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=ne(t)).transaction=ne(e),delete t.transaction.type)}}const r=this.prepareRequest(e,t);null==r&&qs.throwError(e+" not implemented",v.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return Zs(e,r,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return Ks(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((e=>{}))}(),r})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=ne(ta);if(t)for(const e in t)t[e]&&(r[e]=!0);re(e,r);const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const r=R($.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r})),["from","to","data"].forEach((function(t){null!=e[t]&&(n[t]=M(e[t]))})),e.accessList&&(n.accessList=hn(e.accessList)),n}}let na=null;try{if(na=WebSocket,null==na)throw new Error("inject please")}catch(e){const t=new v(ps);na=function(){t.throwError("WebSockets not supported in this environment",v.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var oa=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const ia=new v(ps);let sa=1;class aa extends ra{constructor(e,t){"any"===t&&ia.throwError("WebSocketProvider does not support 'any' network yet",v.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,Q(this,"_websocket","string"==typeof e?new na(this.connection.url):e),Q(this,"_requests",{}),Q(this,"_subs",{}),Q(this,"_subIds",{}),Q(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))},this.websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),Q(e,"code",r.error.code||null),Q(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){ia.throwError("cannot reset events block on WebSocketProvider",v.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){ia.throwError("cannot set polling interval on WebSocketProvider",v.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return oa(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&ia.throwError("cannot set polling on WebSocketProvider",v.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=sa++;return new Promise(((n,o)=>{const i=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(i),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?o(e):n(t)},payload:i},this._wsReady&&this.websocket.send(i)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return oa(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=n);const o=yield n;this._subs[o]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return oa(this,void 0,void 0,(function*(){this.websocket.readyState===na.CONNECTING&&(yield new Promise((e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}}))),this.websocket.close(1e3)}))}}const la=new v(ps);class ca extends ra{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return t=this,r=void 0,o=function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||la.throwError("no network detected",v.errors.UNKNOWN_ERROR,{}),null==this._network&&(Q(this,"_network",t),this.emit("network",t,null))),t},new((n=void 0)||(n=Promise))((function(e,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,a)}l((o=o.apply(t,r||[])).next())}));var t,r,n,o}}class ha extends ca{constructor(e,t){la.checkAbstract(new.target,ha),e=ee(new.target,"getNetwork")(e),t=ee(new.target,"getApiKey")(t),super(ee(new.target,"getUrl")(e,t),e),"string"==typeof t?Q(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{Q(this,e,t[e])}))}_startPending(){la.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return la.throwError("API provider does not support signing",v.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return la.throwError("not implemented; sub-classes must override getUrl",v.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const da=new v(ps),ua="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class pa extends aa{constructor(e,t){const r=new fa(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),Q(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===ua}}class fa extends ha{static getWebSocketProvider(e,t){return new pa(e,t)}static getApiKey(e){return null==e?ua:(e&&"string"!=typeof e&&da.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:da.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===ua&&bs(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===ua}}const ma=new v(ps),ga="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function va(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return ma.throwArgumentError("unsupported network","name",e)}class ya extends ha{isCommunityResource(){return this.apiKey===ga}static getApiKey(e){return null==e?ga:e}static getUrl(e,t){null==t&&(t=ga);const r={allowGzip:!0,url:"https://"+va(e.name)+t,throttleCallback:(e,r)=>(t.apiKey===ga&&bs(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}const ba=new v(ps);class wa extends ha{static getApiKey(e){return null!=e&&ba.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;return"homestead"===e.name?r="https://cloudflare-eth.com/":ba.throwArgumentError("unsupported network","network",arguments[0]),r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return n=this,o=void 0,s=function*(){return"getBlockNumber"===e?(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number:r.perform.call(this,e,t)},new((i=void 0)||(i=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}l((s=s.apply(n,o||[])).next())}));var n,o,i,s}}var xa=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const _a=new v(ps);function Ea(e){const t={};for(let r in e){if(null==e[r])continue;let n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?R(M(n)):"accessList"===r?"["+hn(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":M(n),t[r]=n)}return t}function Ca(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function Sa(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function ka(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function Aa(e,t,r){if("call"===e&&t.code===v.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),P(r))return r;_a.throwError("missing revert data in call exception",v.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;throw t.code===v.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&_a.throwError("insufficient funds for intrinsic transaction cost",v.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&_a.throwError("nonce has already been used",v.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/another transaction with same nonce/)&&_a.throwError("replacement fee too low",v.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&_a.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",v.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class Pa extends Gs{constructor(e,t){super(e),Q(this,"baseUrl",this.getBaseUrl()),Q(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return _a.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return xa(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null,i="proxy"===e?Sa:Ca;this.emit("debug",{action:"request",request:n,provider:this});const s={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&bs(),Promise.resolve(!0))};let a=null;o&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(o).map((e=>`${e}=${o[e]}`)).join("&"));const l=yield cs(s,a,i||Sa);return this.emit("debug",{action:"response",request:n,response:ae(l),provider:this}),l}))}detectNetwork(){return xa(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return xa(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>Aa("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=Ea(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return Aa("call",e,t.transaction)}}case"estimateGas":{const e=Ea(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return Aa("estimateGas",e,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=ka(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=ka(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&_a.throwError("unsupported topic count",v.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const r=t.filter.topics[0];"string"==typeof r&&66===r.length||_a.throwError("unsupported topic format",v.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}const r=yield this.fetch("logs",e);let n={};for(let e=0;e<r.length;e++){const t=r[e];if(null==t.blockHash){if(null==n[t.blockNumber]){const e=yield this.getBlock(t.blockNumber);e&&(n[t.blockNumber]=e.hash)}t.blockHash=n[t.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return xa(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return null==this.apiKey}}function Ta(e){for(let t=(e=e.slice()).length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}var Ma=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Oa=new v(ps);function Da(){return(new Date).getTime()}function Ia(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||Oa.throwArgumentError("provider mismatch","networks",e):t=n}return t}function Ra(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2)return e[r];const n=e[r-1],o=e[r];return null!=t&&Math.abs(n-o)>t?null:(n+o)/2}function Fa(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if($.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>Fa(e))));if("object"==typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let r=e[t];return r="function"==typeof r?"[function]":Fa(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let Ba=1;function Na(e){let t=null,r=null,n=new Promise((n=>{t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:e=>(n=n.then(e),n)}}const La=[v.errors.CALL_EXCEPTION,v.errors.INSUFFICIENT_FUNDS,v.errors.NONCE_EXPIRED,v.errors.REPLACEMENT_UNDERPRICED,v.errors.UNPREDICTABLE_GAS_LIMIT],Va=["address","args","errorArgs","errorSignature","method","transaction"];function za(e,t){const r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function Ha(e,t){return Ma(this,void 0,void 0,(function*(){const r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:hs((()=>new Promise(((n,o)=>{setTimeout((function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function ja(e,t,r,n){return Ma(this,void 0,void 0,(function*(){let o=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return o[r]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&P(n.blockTag)&&(o=yield Ha(e,t)),o[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&P(n.blockTag)&&(o=yield Ha(e,t)),o.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&P(n.blockTag)&&(o=yield Ha(e,t)),o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&P(n.blockTag)&&(o=yield Ha(e,t)),"call"===r&&n.blockTag?o[r](n.transaction,n.blockTag):o[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return o[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&P(r.fromBlock)||r.toBlock&&P(r.toBlock))&&(o=yield Ha(e,t)),o.getLogs(r)}}return Oa.throwError("unknown method error",v.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class Ga extends Gs{constructor(e,t){0===e.length&&Oa.throwArgumentError("missing providers","providers",e);const r=e.map(((e,t)=>{if(rr.isProvider(e)){const t=vs(e)?2e3:750,r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=ne(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=vs(e)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&Oa.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n),Object.freeze(r)})),n=r.reduce(((e,t)=>e+t.weight),0);null==t?t=n/2:t>n&&Oa.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let o=Ia(r.map((e=>e.provider.network)));null==o&&(o=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(o),Q(this,"providerConfigs",Object.freeze(r)),Q(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Ma(this,void 0,void 0,(function*(){return Ia(yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork()))))}))}perform(e,t){return Ma(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const r=e[t];if("string"==typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const r=function(e,t,r){let n=Fa;switch(t){case"getBlockNumber":return function(t){const r=t.map((e=>e.result));let n=Ra(t.map((e=>e.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return Ra(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=ne(e)).confirmations=-1,Fa(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=ne(e)).transactions=e.transactions.map((e=>((e=ne(e)).confirmations=-1,e))),Fa(e))}:function(e){return null==e?null:Fa(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){const n={};r.forEach((t=>{const r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));const o=Object.keys(n);for(let e=0;e<o.length;e++){const r=n[o[e]];if(r.count>=t)return r.result}}}(n,e.quorum)}(this,e,t),n=Ta(this.providerConfigs.map(ne));n.sort(((e,t)=>e.priority-t.priority));const o=this._highestBlockNumber;let i=0,s=!0;for(;;){const a=Da();let l=n.filter((e=>e.runner&&a-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;l<this.quorum&&i<n.length;){const r=n[i++],s=Ba++;r.start=Da(),r.staller=Na(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=ja(r,o,e,t).then((n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:za(r,Da()),request:{method:e,params:ae(t)},provider:this})}),(n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:za(r,Da()),request:{method:e,params:ae(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:za(r,null),request:{method:e,params:ae(t)},provider:this}),l+=r.weight}const c=[];n.forEach((e=>{!e.done&&e.runner&&(c.push(e.runner),e.staller&&c.push(e.staller.getPromise()))})),c.length&&(yield Promise.race(c));const h=n.filter((e=>e.done&&null==e.error));if(h.length>=this.quorum){const e=r(h);if(void 0!==e)return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;s||(yield Na(100).getPromise()),s=!1}const d=n.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const r=t.error.code;return La.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{});if(Object.keys(d).forEach((e=>{const t=d[e];if(t.weight<this.quorum)return;n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const r=t.error,o={};Va.forEach((e=>{null!=r[e]&&(o[e]=r[e])})),Oa.throwError(r.reason||r.message,e,o)})),0===n.filter((e=>!e.done)).length)break}return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),Oa.throwError("failed to meet quorum",v.errors.SERVER_ERROR,{method:e,params:t,results:n.map((e=>za(e))),provider:this})}))}}const Ua=null,qa=new v(ps),Wa="84842078b09946638c03157f83405213";class $a extends aa{constructor(e,t){const r=new Za(e,t),n=r.connection;n.password&&qa.throwError("INFURA WebSocket project secrets unsupported",v.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),Q(this,"apiKey",r.projectId),Q(this,"projectId",r.projectId),Q(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===Wa}}class Za extends ha{static getWebSocketProvider(e,t){return new $a(e,t)}static getApiKey(e){const t={apiKey:Wa,projectId:Wa,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(qa.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),qa.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:qa.throwError("unsupported network",v.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===Wa&&bs(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===Wa}}class Ka extends ra{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},o=new Promise(((e,t)=>{n.resolve=e,n.reject=t}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:ae(t),provider:this}),cs(this.connection,JSON.stringify(t)).then((r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach(((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code,t.data=n.error.data,e.reject(t)}else e.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach((e=>{e.reject(r)}))}))}),10)),o}}const Ya=new v(ps);class Xa extends ha{static getApiKey(e){return e&&"string"!=typeof e&&Ya.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){Ya.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Ya.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const Ja=new v(ps),Qa="62e1ad51b37b8e00394bda3b";class el extends ha{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=Qa:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:Ja.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:Ja.throwError("unsupported network",v.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={headers:{},url:`https://${r}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n}isCommunityResource(){return this.applicationId===Qa}}const tl=new v(ps);let rl=1;function nl(e,t){const r="Web3LegacyFetcher";return function(e,n){const o={method:e,params:n,id:rl++,jsonrpc:"2.0"};return new Promise(((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:ae(o),provider:this}),t(o,((t,i)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:o,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:i,provider:this}),i.error){const e=new Error(i.error.message);return e.code=i.error.code,e.data=i.error.data,n(e)}e(i.result)}))}))}}class ol extends ra{constructor(e,t){null==e&&tl.throwArgumentError("missing provider","provider",e);let r=null,n=null,o=null;"function"==typeof e?(r="unknown:",n=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),o=e,e.request?(""===r&&(r="eip-1193:"),n=function(e){return function(t,r){null==r&&(r=[]);const n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:ae(n),provider:this}),e.request(n).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e}))}}(e)):e.sendAsync?n=nl(0,e.sendAsync.bind(e)):e.send?n=nl(0,e.send.bind(e)):tl.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),Q(this,"jsonRpcFetchFunc",n),Q(this,"provider",o)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const il=new v(ps);function sl(e,t){if(null==e&&(e="homestead"),"string"==typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new ra(e);case"ws":case"wss":return new aa(e);default:il.throwArgumentError("unsupported URL scheme","network",e)}}const r=Oi(e);return r&&r._defaultProvider||il.throwError("unsupported getDefaultProvider network",v.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:Ga,AlchemyProvider:fa,AnkrProvider:ya,CloudflareProvider:wa,EtherscanProvider:Pa,InfuraProvider:Za,JsonRpcProvider:ra,NodesmithProvider:Xa,PocketProvider:el,Web3Provider:ol,IpcProvider:Ua},t)}const al=new RegExp("^bytes([0-9]+)$"),ll=new RegExp("^(u?int)([0-9]*)$"),cl=new RegExp("^(.*)\\[([0-9]*)\\]$"),hl=new v("solidity/5.7.0");function dl(e,t,r){switch(e){case"address":return r?A(t,32):C(t);case"string":return Ge(t);case"bytes":return C(t);case"bool":return t=t?"0x01":"0x00",r?A(t,32):C(t)}let n=e.match(ll);if(n){let o=parseInt(n[2]||"256");return(n[2]&&String(o)!==n[2]||o%8!=0||0===o||o>256)&&hl.throwArgumentError("invalid number type","type",e),r&&(o=256),A(t=$.from(t).toTwos(o),o/8)}if(n=e.match(al),n){const o=parseInt(n[1]);return(String(o)!==n[1]||0===o||o>32)&&hl.throwArgumentError("invalid bytes type","type",e),C(t).byteLength!==o&&hl.throwArgumentError(`invalid value for ${e}`,"value",t),r?C((t+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):t}if(n=e.match(cl),n&&Array.isArray(t)){const r=n[1];parseInt(n[2]||String(t.length))!=t.length&&hl.throwArgumentError(`invalid array length for ${e}`,"value",t);const o=[];return t.forEach((function(e){o.push(dl(r,e,!0))})),S(o)}return hl.throwArgumentError("invalid type","type",e)}function ul(e,t){e.length!=t.length&&hl.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);const r=[];return e.forEach((function(e,n){r.push(dl(e,t[n]))})),M(S(r))}function pl(e,t){return ve(ul(e,t))}function fl(e,t){return go(ul(e,t))}function ml(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach((e=>{let o=e.split(":");r+=parseInt(o[0],16),n[r]=t(o[1])})),n}function gl(e){let t=0;return e.split(",").map((e=>{let r=e.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=t+parseInt(r[0],16);return t=parseInt(r[1],16),{l:n,h:t}}))}function vl(e,t){let r=0;for(let n=0;n<t.length;n++){let o=t[n];if(r+=o.l,e>=r&&e<=r+o.h&&(e-r)%(o.d||1)==0){if(o.e&&-1!==o.e.indexOf(e-r))continue;return o}}return null}const yl=gl("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),bl="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),wl=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],xl=ml("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),_l=ml("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),El=ml("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t})),Cl=gl("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Sl(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=Ze(e);var r;r=t.map((e=>{if(bl.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=function(e){let t=vl(e,wl);if(t)return[e+t.s];let r=xl[e];if(r)return r;let n=_l[e];return n?[e+n[0]]:El[e]||null}(e);return t||[e]})),t=r.reduce(((e,t)=>(t.forEach((t=>{e.push(t)})),e)),[]),t=Ze(We(t),Le.NFKC),t.forEach((e=>{if(vl(e,Cl))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((e=>{if(vl(e,yl))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=We(t);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");return n}function kl(e){const t=Ge(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return M(S([t,_i]).slice(0,32))}function Al(e){const t=C(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return $e(t.slice(0,r))}const Pl=new v("units/5.7.0"),Tl=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Ml(e){const t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&Pl.throwArgumentError("invalid value","value",e);let r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let o="";for(2===t.length&&(o="."+(t[1]||"0"));o.length>2&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);const i=[];for(;r.length;){if(r.length<=3){i.unshift(r);break}{const e=r.length-3;i.unshift(r.substring(e)),r=r.substring(0,e)}}return n+i.join(",")+o}function Ol(e,t){if("string"==typeof t){const e=Tl.indexOf(t);-1!==e&&(t=3*e)}return Hn(e,null!=t?t:18)}function Dl(e,t){if("string"!=typeof e&&Pl.throwArgumentError("value must be a string","value",e),"string"==typeof t){const e=Tl.indexOf(t);-1!==e&&(t=3*e)}return jn(e,null!=t?t:18)}function Il(e){return Ol(e,18)}function Rl(e){return Dl(e,18)}const Fl="ethers/5.7.2",Bl=new v(Fl)},1730:function(){(()=>{"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this._items=e,this._options=n(n({},s),r),this._init()}var r,o;return r=t,(o=[{key:"_init",value:function(){var e=this;this._items.length&&this._items.map((function(t){t.active&&e.open(t.id),t.triggerEl.addEventListener("click",(function(){e.toggle(t.id)}))}))}},{key:"getItem",value:function(e){return this._items.filter((function(t){return t.id===e}))[0]}},{key:"open",value:function(t){var r,n,o=this,i=this.getItem(t);this._options.alwaysOpen||this._items.map((function(t){var r,n;t!==i&&((r=t.triggerEl.classList).remove.apply(r,e(o._options.activeClasses.split(" "))),(n=t.triggerEl.classList).add.apply(n,e(o._options.inactiveClasses.split(" "))),t.targetEl.classList.add("hidden"),t.triggerEl.setAttribute("aria-expanded",!1),t.active=!1,t.iconEl&&t.iconEl.classList.remove("rotate-180"))})),(r=i.triggerEl.classList).add.apply(r,e(this._options.activeClasses.split(" "))),(n=i.triggerEl.classList).remove.apply(n,e(this._options.inactiveClasses.split(" "))),i.triggerEl.setAttribute("aria-expanded",!0),i.targetEl.classList.remove("hidden"),i.active=!0,i.iconEl&&i.iconEl.classList.add("rotate-180"),this._options.onOpen(this,i)}},{key:"toggle",value:function(e){var t=this.getItem(e);t.active?this.close(e):this.open(e),this._options.onToggle(this,t)}},{key:"close",value:function(t){var r,n,o=this.getItem(t);(r=o.triggerEl.classList).remove.apply(r,e(this._options.activeClasses.split(" "))),(n=o.triggerEl.classList).add.apply(n,e(this._options.inactiveClasses.split(" "))),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded",!1),o.active=!1,o.iconEl&&o.iconEl.classList.remove("rotate-180"),this._options.onClose(this,o)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();function l(){document.querySelectorAll("[data-accordion]").forEach((function(e){var t=e.getAttribute("data-accordion"),r=e.getAttribute("data-active-classes"),n=e.getAttribute("data-inactive-classes"),o=[];e.querySelectorAll("[data-accordion-target]").forEach((function(e){var t={id:e.getAttribute("data-accordion-target"),triggerEl:e,targetEl:document.querySelector(e.getAttribute("data-accordion-target")),iconEl:e.querySelector("[data-accordion-icon]"),active:"true"===e.getAttribute("aria-expanded")};o.push(t)})),new a(o,{alwaysOpen:"open"===t,activeClasses:r||s.activeClasses,inactiveClasses:n||s.inactiveClasses})}))}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.Accordion=a,"loading"!==document.readyState?l():document.addEventListener("DOMContentLoaded",l);var p={triggerEl:null,onCollapse:function(){},onExpand:function(){},onToggle:function(){}},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;u(this,e),this._targetEl=t,this._triggerEl=r?r.triggerEl:p.triggerEl,this._options=h(h({},p),r),this._visible=!1,this._init()}var t,r;return t=e,(r=[{key:"_init",value:function(){var e=this;this._triggerEl&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible="true"===this._triggerEl.getAttribute("aria-expanded"):this._visible=!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",(function(){e._visible?e.collapse():e.expand()})))}},{key:"collapse",value:function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)}},{key:"expand",value:function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)}},{key:"toggle",value:function(){this._visible?this.collapse():this.expand()}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(){document.querySelectorAll("[data-collapse-toggle]").forEach((function(e){var t=document.getElementById(e.getAttribute("data-collapse-toggle"));new f(t,{triggerEl:e})}))}function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.Collapse=f,"loading"!==document.readyState?m():document.addEventListener("DOMContentLoaded",m);var _={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(this,e),this._items=t,this._options=b(b(b({},_),r),{},{indicators:b(b({},_.indicators),r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._interval=null,this._init()}var t,r;return t=e,(r=[{key:"_init",value:function(){var e=this;this._items.map((function(e){e.el.classList.add("absolute","inset-0","transition-all","transform")})),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map((function(t,r){t.el.addEventListener("click",(function(){e.slideTo(r)}))}))}},{key:"getItem",value:function(e){return this._items[e]}},{key:"slideTo",value:function(e){var t=this._items[e],r={left:0===t.position?this._items[this._items.length-1]:this._items[t.position-1],middle:t,right:t.position===this._items.length-1?this._items[0]:this._items[t.position+1]};this._rotate(r),this._setActiveItem(t.position),this._interval&&(this.pause(),this.cycle()),this._options.onChange(this)}},{key:"next",value:function(){var e,t=this._getActiveItem();e=t.position===this._items.length-1?this._items[0]:this._items[t.position+1],this.slideTo(e.position),this._options.onNext(this)}},{key:"prev",value:function(){var e,t=this._getActiveItem();e=0===t.position?this._items[this._items.length-1]:this._items[t.position-1],this.slideTo(e.position),this._options.onPrev(this)}},{key:"_rotate",value:function(e){this._items.map((function(e){e.el.classList.add("hidden")})),e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.right.el.classList.add("translate-x-full","z-10")}},{key:"cycle",value:function(){var e=this;this._interval=setInterval((function(){e.next()}),this._options.interval)}},{key:"pause",value:function(){clearInterval(this._interval)}},{key:"_getActiveItem",value:function(){return this._activeItem}},{key:"_setActiveItem",value:function(e){var t,r,n=this;this._activeItem=this._items[e],this._indicators.length&&(this._indicators.map((function(e){var t,r;e.el.setAttribute("aria-current","false"),(t=e.el.classList).remove.apply(t,g(n._options.indicators.activeClasses.split(" "))),(r=e.el.classList).add.apply(r,g(n._options.indicators.inactiveClasses.split(" ")))})),(t=this._indicators[e].el.classList).add.apply(t,g(this._options.indicators.activeClasses.split(" "))),(r=this._indicators[e].el.classList).remove.apply(r,g(this._options.indicators.inactiveClasses.split(" "))),this._indicators[e].el.setAttribute("aria-current","true"))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(){document.querySelectorAll("[data-carousel]").forEach((function(e){var t=e.getAttribute("data-carousel-interval"),r="slide"===e.getAttribute("data-carousel"),n=[],o=0;e.querySelectorAll("[data-carousel-item]").length&&g(e.querySelectorAll("[data-carousel-item]")).map((function(e,t){n.push({position:t,el:e}),"active"===e.getAttribute("data-carousel-item")&&(o=t)}));var i=[];e.querySelectorAll("[data-carousel-slide-to]").length&&g(e.querySelectorAll("[data-carousel-slide-to]")).map((function(e){i.push({position:e.getAttribute("data-carousel-slide-to"),el:e})}));var s=new E(n,{defaultPosition:o,indicators:{items:i},interval:t||_.interval});r&&s.cycle();var a=e.querySelector("[data-carousel-next]"),l=e.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",(function(){s.next()})),l&&l.addEventListener("click",(function(){s.prev()}))}))}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.Carousel=E,"loading"!==document.readyState?C():document.addEventListener("DOMContentLoaded",C);var T={triggerEl:null,transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};P(this,e),this._targetEl=t,this._triggerEl=r?r.triggerEl:T.triggerEl,this._options=k(k({},T),r),this._init()}var t,r;return t=e,(r=[{key:"_init",value:function(){var e=this;this._triggerEl&&this._triggerEl.addEventListener("click",(function(){e.hide()}))}},{key:"hide",value:function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout((function(){e._targetEl.classList.add("hidden")}),this._options.duration),this._options.onHide(this,this._targetEl)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(){document.querySelectorAll("[data-dismiss-target]").forEach((function(e){var t=document.querySelector(e.getAttribute("data-dismiss-target"));new M(t,{triggerEl:e})}))}function D(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function I(e){return e instanceof D(e).Element||e instanceof Element}function R(e){return e instanceof D(e).HTMLElement||e instanceof HTMLElement}function F(e){return"undefined"!=typeof ShadowRoot&&(e instanceof D(e).ShadowRoot||e instanceof ShadowRoot)}window.Dismiss=M,"loading"!==document.readyState?O():document.addEventListener("DOMContentLoaded",O);var B=Math.max,N=Math.min,L=Math.round;function V(e,t){void 0===t&&(t=!1);var r=e.getBoundingClientRect(),n=1,o=1;if(R(e)&&t){var i=e.offsetHeight,s=e.offsetWidth;s>0&&(n=L(r.width)/s||1),i>0&&(o=L(r.height)/i||1)}return{width:r.width/n,height:r.height/o,top:r.top/o,right:r.right/n,bottom:r.bottom/o,left:r.left/n,x:r.left/n,y:r.top/o}}function z(e){var t=D(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function H(e){return e?(e.nodeName||"").toLowerCase():null}function j(e){return((I(e)?e.ownerDocument:e.document)||window.document).documentElement}function G(e){return V(j(e)).left+z(e).scrollLeft}function U(e){return D(e).getComputedStyle(e)}function q(e){var t=U(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function W(e,t,r){void 0===r&&(r=!1);var n,o,i=R(t),s=R(t)&&function(e){var t=e.getBoundingClientRect(),r=L(t.width)/e.offsetWidth||1,n=L(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),a=j(t),l=V(e,s),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(i||!i&&!r)&&(("body"!==H(t)||q(a))&&(c=(n=t)!==D(n)&&R(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:z(n)),R(t)?((h=V(t,!0)).x+=t.clientLeft,h.y+=t.clientTop):a&&(h.x=G(a))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function $(e){var t=V(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Z(e){return"html"===H(e)?e:e.assignedSlot||e.parentNode||(F(e)?e.host:null)||j(e)}function K(e){return["html","body","#document"].indexOf(H(e))>=0?e.ownerDocument.body:R(e)&&q(e)?e:K(Z(e))}function Y(e,t){var r;void 0===t&&(t=[]);var n=K(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),i=D(n),s=o?[i].concat(i.visualViewport||[],q(n)?n:[]):n,a=t.concat(s);return o?a:a.concat(Y(Z(s)))}function X(e){return["table","td","th"].indexOf(H(e))>=0}function J(e){return R(e)&&"fixed"!==U(e).position?e.offsetParent:null}function Q(e){for(var t=D(e),r=J(e);r&&X(r)&&"static"===U(r).position;)r=J(r);return r&&("html"===H(r)||"body"===H(r)&&"static"===U(r).position)?t:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&R(e)&&"fixed"===U(e).position)return null;for(var r=Z(e);R(r)&&["html","body"].indexOf(H(r))<0;){var n=U(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var ee="top",te="bottom",re="right",ne="left",oe="auto",ie=[ee,te,re,ne],se="start",ae="end",le="viewport",ce="popper",he=ie.reduce((function(e,t){return e.concat([t+"-"+se,t+"-"+ae])}),[]),de=[].concat(ie,[oe]).reduce((function(e,t){return e.concat([t,t+"-"+se,t+"-"+ae])}),[]),ue=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function pe(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}var fe={placement:"bottom",modifiers:[],strategy:"absolute"};function me(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}var ge={passive:!0};function ve(e){return e.split("-")[0]}function ye(e){return e.split("-")[1]}function be(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function we(e){var t,r=e.reference,n=e.element,o=e.placement,i=o?ve(o):null,s=o?ye(o):null,a=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(i){case ee:t={x:a,y:r.y-n.height};break;case te:t={x:a,y:r.y+r.height};break;case re:t={x:r.x+r.width,y:l};break;case ne:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=i?be(i):null;if(null!=c){var h="y"===c?"height":"width";switch(s){case se:t[c]=t[c]-(r[h]/2-n[h]/2);break;case ae:t[c]=t[c]+(r[h]/2-n[h]/2)}}return t}var xe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _e(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,h=e.roundOffsets,d=e.isFixed,u=s.x,p=void 0===u?0:u,f=s.y,m=void 0===f?0:f,g="function"==typeof h?h({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=ne,w=ee,x=window;if(c){var _=Q(r),E="clientHeight",C="clientWidth";_===D(r)&&"static"!==U(_=j(r)).position&&"absolute"===a&&(E="scrollHeight",C="scrollWidth"),(o===ee||(o===ne||o===re)&&i===ae)&&(w=te,m-=(d&&x.visualViewport?x.visualViewport.height:_[E])-n.height,m*=l?1:-1),o!==ne&&(o!==ee&&o!==te||i!==ae)||(b=re,p-=(d&&x.visualViewport?x.visualViewport.width:_[C])-n.width,p*=l?1:-1)}var S,k=Object.assign({position:a},c&&xe),A=!0===h?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:L(t*n)/n||0,y:L(r*n)/n||0}}({x:p,y:m}):{x:p,y:m};return p=A.x,m=A.y,l?Object.assign({},k,((S={})[w]=y?"0":"",S[b]=v?"0":"",S.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",S)):Object.assign({},k,((t={})[w]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const Ee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=void 0===o?[0,0]:o,s=de.reduce((function(e,r){return e[r]=function(e,t,r){var n=ve(e),o=[ne,ee].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[ne,re].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(r,t.rects,i),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}};var Ce={left:"right",right:"left",bottom:"top",top:"bottom"};function Se(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ce[e]}))}var ke={start:"end",end:"start"};function Ae(e){return e.replace(/start|end/g,(function(e){return ke[e]}))}function Pe(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&F(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Te(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Me(e,t){return t===le?Te(function(e){var t=D(e),r=j(e),n=t.visualViewport,o=r.clientWidth,i=r.clientHeight,s=0,a=0;return n&&(o=n.width,i=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,a=n.offsetTop)),{width:o,height:i,x:s+G(e),y:a}}(e)):I(t)?function(e){var t=V(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Te(function(e){var t,r=j(e),n=z(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=B(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=B(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+G(e),l=-n.scrollTop;return"rtl"===U(o||r).direction&&(a+=B(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(j(e)))}function Oe(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function De(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function Ie(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=void 0===n?e.placement:n,i=r.boundary,s=void 0===i?"clippingParents":i,a=r.rootBoundary,l=void 0===a?le:a,c=r.elementContext,h=void 0===c?ce:c,d=r.altBoundary,u=void 0!==d&&d,p=r.padding,f=void 0===p?0:p,m=Oe("number"!=typeof f?f:De(f,ie)),g=h===ce?"reference":ce,v=e.rects.popper,y=e.elements[u?g:h],b=function(e,t,r){var n="clippingParents"===t?function(e){var t=Y(Z(e)),r=["absolute","fixed"].indexOf(U(e).position)>=0&&R(e)?Q(e):e;return I(r)?t.filter((function(e){return I(e)&&Pe(e,r)&&"body"!==H(e)})):[]}(e):[].concat(t),o=[].concat(n,[r]),i=o[0],s=o.reduce((function(t,r){var n=Me(e,r);return t.top=B(n.top,t.top),t.right=N(n.right,t.right),t.bottom=N(n.bottom,t.bottom),t.left=B(n.left,t.left),t}),Me(e,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(I(y)?y:y.contextElement||j(e.elements.popper),s,l),w=V(e.elements.reference),x=we({reference:w,element:v,strategy:"absolute",placement:o}),_=Te(Object.assign({},v,x)),E=h===ce?_:w,C={top:b.top-E.top+m.top,bottom:E.bottom-b.bottom+m.bottom,left:b.left-E.left+m.left,right:E.right-b.right+m.right},S=e.modifiersData.offset;if(h===ce&&S){var k=S[o];Object.keys(C).forEach((function(e){var t=[re,te].indexOf(e)>=0?1:-1,r=[ee,te].indexOf(e)>=0?"y":"x";C[e]+=k[r]*t}))}return C}function Re(e,t,r){return B(e,N(t,r))}const Fe={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=void 0===o||o,s=r.altAxis,a=void 0!==s&&s,l=r.boundary,c=r.rootBoundary,h=r.altBoundary,d=r.padding,u=r.tether,p=void 0===u||u,f=r.tetherOffset,m=void 0===f?0:f,g=Ie(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),v=ve(t.placement),y=ye(t.placement),b=!y,w=be(v),x="x"===w?"y":"x",_=t.modifiersData.popperOffsets,E=t.rects.reference,C=t.rects.popper,S="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,k="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(_){if(i){var T,M="y"===w?ee:ne,O="y"===w?te:re,D="y"===w?"height":"width",I=_[w],R=I+g[M],F=I-g[O],L=p?-C[D]/2:0,V=y===se?E[D]:C[D],z=y===se?-C[D]:-E[D],H=t.elements.arrow,j=p&&H?$(H):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=G[M],q=G[O],W=Re(0,E[D],j[D]),Z=b?E[D]/2-L-W-U-k.mainAxis:V-W-U-k.mainAxis,K=b?-E[D]/2+L+W+q+k.mainAxis:z+W+q+k.mainAxis,Y=t.elements.arrow&&Q(t.elements.arrow),X=Y?"y"===w?Y.clientTop||0:Y.clientLeft||0:0,J=null!=(T=null==A?void 0:A[w])?T:0,oe=I+K-J,ie=Re(p?N(R,I+Z-J-X):R,I,p?B(F,oe):F);_[w]=ie,P[w]=ie-I}if(a){var ae,le="x"===w?ee:ne,ce="x"===w?te:re,he=_[x],de="y"===x?"height":"width",ue=he+g[le],pe=he-g[ce],fe=-1!==[ee,ne].indexOf(v),me=null!=(ae=null==A?void 0:A[x])?ae:0,ge=fe?ue:he-E[de]-C[de]-me+k.altAxis,we=fe?he+E[de]+C[de]-me-k.altAxis:pe,xe=p&&fe?function(e,t,r){var n=Re(e,t,r);return n>r?r:n}(ge,he,we):Re(p?ge:ue,he,p?we:pe);_[x]=xe,P[x]=xe-he}t.modifiersData[n]=P}},requiresIfExists:["offset"]},Be={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,a=ve(r.placement),l=be(a),c=[ne,re].indexOf(a)>=0?"height":"width";if(i&&s){var h=function(e,t){return Oe("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:De(e,ie))}(o.padding,r),d=$(i),u="y"===l?ee:ne,p="y"===l?te:re,f=r.rects.reference[c]+r.rects.reference[l]-s[l]-r.rects.popper[c],m=s[l]-r.rects.reference[l],g=Q(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=h[u],w=v-d[c]-h[p],x=v/2-d[c]/2+y,_=Re(b,x,w),E=l;r.modifiersData[n]=((t={})[E]=_,t.centerOffset=_-x,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&Pe(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ne(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Le(e){return[ee,re,te,ne].some((function(t){return e[t]>=0}))}var Ve=function(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,o=t.defaultOptions,i=void 0===o?fe:o;return function(e,t,r){void 0===r&&(r=i);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},fe,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,h={state:a,setOptions:function(r){var o="function"==typeof r?r(a.options):r;d(),a.options=Object.assign({},i,a.options,o),a.scrollParents={reference:I(e)?Y(e):e.contextElement?Y(e.contextElement):[],popper:Y(t)};var s=function(e){var t=pe(e);return ue.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,a.options.modifiers)));return a.orderedModifiers=s.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var i=o({state:a,name:t,instance:h,options:n});l.push(i||function(){})}})),h.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,r=e.popper;if(me(t,r)){a.rects={reference:W(t,Q(r),"fixed"===a.options.strategy),popper:$(r)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var o=a.orderedModifiers[n],i=o.fn,s=o.options,l=void 0===s?{}:s,d=o.name;"function"==typeof i&&(a=i({state:a,options:l,name:d,instance:h})||a)}else a.reset=!1,n=-1}}},update:(o=function(){return new Promise((function(e){h.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(o())}))}))),s}),destroy:function(){d(),c=!0}};if(!me(e,t))return h;function d(){l.forEach((function(e){return e()})),l=[]}return h.setOptions(r).then((function(e){!c&&r.onFirstUpdate&&r.onFirstUpdate(e)})),h}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=void 0===o||o,s=n.resize,a=void 0===s||s,l=D(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",r.update,ge)})),a&&l.addEventListener("resize",r.update,ge),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",r.update,ge)})),a&&l.removeEventListener("resize",r.update,ge)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=we({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,s=void 0===i||i,a=r.roundOffsets,l=void 0===a||a,c={placement:ve(t.placement),variation:ye(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,_e(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,_e(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];R(o)&&H(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});R(n)&&H(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},Ee,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,s=r.altAxis,a=void 0===s||s,l=r.fallbackPlacements,c=r.padding,h=r.boundary,d=r.rootBoundary,u=r.altBoundary,p=r.flipVariations,f=void 0===p||p,m=r.allowedAutoPlacements,g=t.options.placement,v=ve(g),y=l||(v!==g&&f?function(e){if(ve(e)===oe)return[];var t=Se(e);return[Ae(e),t,Ae(t)]}(g):[Se(g)]),b=[g].concat(y).reduce((function(e,r){return e.concat(ve(r)===oe?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?de:l,h=ye(n),d=h?a?he:he.filter((function(e){return ye(e)===h})):ie,u=d.filter((function(e){return c.indexOf(e)>=0}));0===u.length&&(u=d);var p=u.reduce((function(t,r){return t[r]=Ie(e,{placement:r,boundary:o,rootBoundary:i,padding:s})[ve(r)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:r,boundary:h,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):r)}),[]),w=t.rects.reference,x=t.rects.popper,_=new Map,E=!0,C=b[0],S=0;S<b.length;S++){var k=b[S],A=ve(k),P=ye(k)===se,T=[ee,te].indexOf(A)>=0,M=T?"width":"height",O=Ie(t,{placement:k,boundary:h,rootBoundary:d,altBoundary:u,padding:c}),D=T?P?re:ne:P?te:ee;w[M]>x[M]&&(D=Se(D));var I=Se(D),R=[];if(i&&R.push(O[A]<=0),a&&R.push(O[D]<=0,O[I]<=0),R.every((function(e){return e}))){C=k,E=!1;break}_.set(k,R)}if(E)for(var F=function(e){var t=b.find((function(t){var r=_.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},B=f?3:1;B>0&&"break"!==F(B);B--);t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Fe,Be,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Ie(t,{elementContext:"reference"}),a=Ie(t,{altBoundary:!0}),l=Ne(s,n),c=Ne(a,o,i),h=Le(l),d=Le(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}}]});function ze(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return He(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?He(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var We={placement:"bottom",triggerType:"click",onShow:function(){},onHide:function(){}},$e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qe(this,e),this._targetEl=t,this._triggerEl=r,this._options=Ge(Ge({},We),n),this._popperInstance=this._createPopperInstace(),this._visible=!1,this._init()}var t,r;return t=e,(r=[{key:"_init",value:function(){var e=this;this._triggerEl&&this._triggerEl.addEventListener("click",(function(){e.toggle()}))}},{key:"_createPopperInstace",value:function(){return Ve(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,10]}}]})}},{key:"_handleClickOutside",value:function(e,t){var r=e.target;r===t||t.contains(r)||this._triggerEl.contains(r)||!this._visible||this.hide(),document.body.removeEventListener("click",this._handleClickOutside,!0)}},{key:"toggle",value:function(){this._visible?(this.hide(),document.body.removeEventListener("click",this._handleClickOutside,!0)):this.show()}},{key:"show",value:function(){var e=this;this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions((function(e){return Ge(Ge({},e),{},{modifiers:[].concat(ze(e.modifiers),[{name:"eventListeners",enabled:!0}])})})),document.body.addEventListener("click",(function(t){e._handleClickOutside(t,e._targetEl)}),!0),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)}},{key:"hide",value:function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions((function(e){return Ge(Ge({},e),{},{modifiers:[].concat(ze(e.modifiers),[{name:"eventListeners",enabled:!1}])})})),this._visible=!1,this._options.onHide(this)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ze(){document.querySelectorAll("[data-dropdown-toggle]").forEach((function(e){var t=document.getElementById(e.getAttribute("data-dropdown-toggle")),r=e.getAttribute("data-dropdown-placement");new $e(t,e,{placement:r||We.placement})}))}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){Je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.Dropdown=$e,"loading"!==document.readyState?Ze():document.addEventListener("DOMContentLoaded",Ze);var et={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",onHide:function(){},onShow:function(){},onToggle:function(){}},tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qe(this,e),this._targetEl=t,this._options=Xe(Xe({},et),r),this._isHidden=!0,this._backdropEl=null,this._init()}var t,r;return t=e,(r=[{key:"_init",value:function(){var e=this;this._targetEl&&(this._getPlacementClasses().map((function(t){e._targetEl.classList.add(t)})),this._targetEl.addEventListener("click",(function(t){e._handleOutsideClick(t.target)})))}},{key:"_createBackdrop",value:function(){if(this._isHidden){var e,t=document.createElement("div");t.setAttribute("modal-backdrop",""),(e=t.classList).add.apply(e,function(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ke(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this._options.backdropClasses.split(" "))),document.querySelector("body").append(t),this._backdropEl=t}}},{key:"_destroyBackdropEl",value:function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()}},{key:"_handleOutsideClick",value:function(e){"dynamic"===this._options.backdrop&&(e!==this._targetEl&&e!==this._backdropEl||this.hide())}},{key:"_getPlacementClasses",value:function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}}},{key:"toggle",value:function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)}},{key:"show",value:function(){this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.onShow(this)}},{key:"hide",value:function(){this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.onHide(this)}},{key:"isHidden",value:function(){return this._isHidden}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.Modal=tt;var rt=function(e,t){return!!t.some((function(t){return t.id===e}))&&t.find((function(t){return t.id===e}))},nt=function(e){var t=[];document.querySelectorAll("[".concat(e.main,"]")).forEach((function(r){var n=r.getAttribute(e.main),o=document.getElementById(n),i=o.getAttribute(e.placement),s=o.getAttribute(e.backdrop);o&&(o.hasAttribute("aria-hidden")||o.hasAttribute("aria-modal")||o.setAttribute("aria-hidden","true"));var a=null;rt(n,t)?a=(a=rt(n,t)).object:(a=new tt(o,{placement:i||et.placement,backdrop:s||et.backdrop}),t.push({id:n,object:a})),o.hasAttribute(e.show)&&"true"===o.getAttribute(e.show)&&a.show(),r.addEventListener("click",(function(){a.toggle()}))}))},ot={main:"data-modal-toggle",placement:"data-modal-placement",show:"data-modal-show",backdrop:"data-modal-backdrop"};function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}"loading"!==document.readyState?nt(ot):document.addEventListener("DOMContentLoaded",nt(ot));var ht={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},dt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;ct(this,e),this._targetEl=t,this._options=at(at({},ht),r),this._visible=!1,this._init()}var t,r;return t=e,(r=[{key:"_init",value:function(){var e=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map((function(t){e._targetEl.classList.add(t)})),this.hide()}},{key:"isVisible",value:function(){return this._visible}},{key:"hide",value:function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(t){e._targetEl.classList.remove(t)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(t){e._targetEl.classList.add(t)}))):(this._getPlacementClasses(this._options.placement).active.map((function(t){e._targetEl.classList.remove(t)})),this._getPlacementClasses(this._options.placement).inactive.map((function(t){e._targetEl.classList.add(t)}))),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)}},{key:"show",value:function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map((function(t){e._targetEl.classList.add(t)})),this._getPlacementClasses(this._options.placement+"-edge").inactive.map((function(t){e._targetEl.classList.remove(t)}))):(this._getPlacementClasses(this._options.placement).active.map((function(t){e._targetEl.classList.add(t)})),this._getPlacementClasses(this._options.placement).inactive.map((function(t){e._targetEl.classList.remove(t)}))),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)}},{key:"toggle",value:function(){this.isVisible()?this.hide():this.show()}},{key:"_createBackdrop",value:function(){var e=this;if(!this._visible){var t,r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(t=r.classList).add.apply(t,function(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return it(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this._options.backdropClasses.split(" "))),document.querySelector("body").append(r),r.addEventListener("click",(function(){e.hide()}))}}},{key:"_destroyBackdropEl",value:function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()}},{key:"_getPlacementClasses",value:function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.Drawer=dt;var ut=function(e,t){return!!t.some((function(t){return t.id===e}))&&t.find((function(t){return t.id===e}))};function pt(){var e=[];document.querySelectorAll("[data-drawer-target]").forEach((function(t){var r=document.getElementById(t.getAttribute("data-drawer-target")),n=r.id,o=t.getAttribute("data-drawer-placement"),i=t.getAttribute("data-drawer-body-scrolling"),s=t.getAttribute("data-drawer-backdrop"),a=t.getAttribute("data-drawer-edge"),l=t.getAttribute("data-drawer-edge-offset"),c=null;ut(n,e)?c=(c=ut(n,e)).object:(c=new dt(r,{placement:o||ht.placement,bodyScrolling:i?"true"===i:ht.bodyScrolling,backdrop:s?"true"===s:ht.backdrop,edge:a?"true"===a:ht.edge,edgeOffset:l||ht.edgeOffset}),e.push({id:n,object:c}))})),document.querySelectorAll("[data-drawer-toggle]").forEach((function(t){var r=document.getElementById(t.getAttribute("data-drawer-toggle")).id,n=ut(r,e);t.addEventListener("click",(function(){n.object.isVisible()?n.object.hide():n.object.show()}))})),document.querySelectorAll("[data-drawer-dismiss]").forEach((function(t){var r=document.getElementById(t.getAttribute("data-drawer-dismiss")).id,n=ut(r,e);t.addEventListener("click",(function(){n.object.hide()}))})),document.querySelectorAll("[data-drawer-show]").forEach((function(t){var r=document.getElementById(t.getAttribute("data-drawer-show")).id,n=ut(r,e);t.addEventListener("click",(function(){n.object.show()}))}))}function ft(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}"loading"!==document.readyState?pt():document.addEventListener("DOMContentLoaded",pt);var wt={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},xt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bt(this,e),this._items=t,this._activeTab=r?this.getTab(r.defaultTabId):null,this._options=vt(vt({},wt),r),this._init()}var t,r;return t=e,r=[{key:"_init",value:function(){var e=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map((function(t){t.triggerEl.addEventListener("click",(function(){e.show(t.id)}))})))}},{key:"getActiveTab",value:function(){return this._activeTab}},{key:"_setActiveTab",value:function(e){this._activeTab=e}},{key:"getTab",value:function(e){return this._items.filter((function(t){return t.id===e}))[0]}},{key:"show",value:function(e){var t,r,n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getTab(e);(i!==this._activeTab||o)&&(this._items.map((function(e){var t,r;e!==i&&((t=e.triggerEl.classList).remove.apply(t,ft(n._options.activeClasses.split(" "))),(r=e.triggerEl.classList).add.apply(r,ft(n._options.inactiveClasses.split(" "))),e.targetEl.classList.add("hidden"),e.triggerEl.setAttribute("aria-selected",!1))})),(t=i.triggerEl.classList).add.apply(t,ft(this._options.activeClasses.split(" "))),(r=i.triggerEl.classList).remove.apply(r,ft(this._options.inactiveClasses.split(" "))),i.triggerEl.setAttribute("aria-selected",!0),i.targetEl.classList.remove("hidden"),this._setActiveTab(i),this._options.onShow(this,i))}}],r&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _t(){document.querySelectorAll("[data-tabs-toggle]").forEach((function(e){var t=[],r=null;e.querySelectorAll('[role="tab"]').forEach((function(e){var n="true"===e.getAttribute("aria-selected"),o={id:e.getAttribute("data-tabs-target"),triggerEl:e,targetEl:document.querySelector(e.getAttribute("data-tabs-target"))};t.push(o),n&&(r=o.id)})),new xt(t,{defaultTabId:r})}))}function Et(e){return function(e){if(Array.isArray(e))return Ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach((function(t){At(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function At(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.Tabs=xt,"loading"!==document.readyState?_t():document.addEventListener("DOMContentLoaded",_t);var Tt={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){}},Mt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Pt(this,e),this._targetEl=t,this._triggerEl=r,this._options=kt(kt({},Tt),n),this._popperInstance=this._createPopperInstace(),this._init()}var t,r;return t=e,(r=[{key:"_init",value:function(){var e=this;if(this._triggerEl){var t=this._getTriggerEvents();t.showEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){e.show()}))})),t.hideEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){e.hide()}))}))}}},{key:"_createPopperInstace",value:function(){return Ve(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})}},{key:"_getTriggerEvents",value:function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]}}}},{key:"show",value:function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(e){return kt(kt({},e),{},{modifiers:[].concat(Et(e.modifiers),[{name:"eventListeners",enabled:!0}])})})),this._popperInstance.update(),this._options.onShow(this)}},{key:"hide",value:function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(e){return kt(kt({},e),{},{modifiers:[].concat(Et(e.modifiers),[{name:"eventListeners",enabled:!1}])})})),this._options.onHide(this)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ot(){document.querySelectorAll("[data-tooltip-target]").forEach((function(e){var t=document.getElementById(e.getAttribute("data-tooltip-target")),r=e.getAttribute("data-tooltip-trigger"),n=e.getAttribute("data-tooltip-placement");new Mt(t,e,{placement:n||Tt.placement,triggerType:r||Tt.triggerType})}))}function Dt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return It(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?It(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){Bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.Tooltip=Mt,"loading"!==document.readyState?Ot():document.addEventListener("DOMContentLoaded",Ot);var Lt={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){}},Vt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Nt(this,e),this._targetEl=t,this._triggerEl=r,this._options=Ft(Ft({},Lt),n),this._popperInstance=this._createPopperInstace(),this._init()}var t,r;return t=e,(r=[{key:"_init",value:function(){var e=this;if(this._triggerEl){var t=this._getTriggerEvents();t.showEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){e.show()})),e._targetEl.addEventListener(t,(function(){e.show()}))})),t.hideEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){setTimeout((function(){e._targetEl.matches(":hover")||e.hide()}),100)})),e._targetEl.addEventListener(t,(function(){setTimeout((function(){e._triggerEl.matches(":hover")||e.hide()}),100)}))}))}}},{key:"_createPopperInstace",value:function(){return Ve(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})}},{key:"_getTriggerEvents",value:function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]}}}},{key:"show",value:function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions((function(e){return Ft(Ft({},e),{},{modifiers:[].concat(Dt(e.modifiers),[{name:"eventListeners",enabled:!0}])})})),this._popperInstance.update(),this._options.onShow(this)}},{key:"hide",value:function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions((function(e){return Ft(Ft({},e),{},{modifiers:[].concat(Dt(e.modifiers),[{name:"eventListeners",enabled:!1}])})})),this._options.onHide(this)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zt(){document.querySelectorAll("[data-popover-target]").forEach((function(e){var t=document.getElementById(e.getAttribute("data-popover-target")),r=e.getAttribute("data-popover-trigger"),n=e.getAttribute("data-popover-placement"),o=e.getAttribute("data-popover-offset");new Vt(t,e,{placement:n||Lt.placement,offset:o?parseInt(o):Lt.offset,triggerType:r||Lt.triggerType})}))}function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){Gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.Popover=Vt,"loading"!==document.readyState?zt():document.addEventListener("DOMContentLoaded",zt);var qt={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Wt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;Ut(this,e),this._parentEl=t,this._triggerEl=r,this._targetEl=n,this._options=jt(jt({},qt),o),this._visible=!1,this._init()}var t,r;return t=e,(r=[{key:"_init",value:function(){var e=this;if(this._triggerEl){var t=this._getTriggerEvents();t.showEvents.forEach((function(t){e._triggerEl.addEventListener(t,(function(){e.show()})),e._targetEl.addEventListener(t,(function(){e.show()}))})),t.hideEvents.forEach((function(t){e._parentEl.addEventListener(t,(function(){setTimeout((function(){e._parentEl.matches(":hover")||e.hide()}),100)}))}))}}},{key:"hide",value:function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)}},{key:"show",value:function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)}},{key:"toggle",value:function(){this._visible?this.hide():this.show()}},{key:"_getTriggerEvents",value:function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]}}}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $t(){document.querySelectorAll("[data-dial-init]").forEach((function(e){var t=e.querySelector("[data-dial-toggle]"),r=document.getElementById(t.getAttribute("data-dial-toggle")),n=t.getAttribute("data-dial-trigger");new Wt(e,t,r,{triggerType:n||qt.triggerType})}))}window.Dial=Wt,"loading"!==document.readyState?$t():document.addEventListener("DOMContentLoaded",$t)})()},3715:function(e,t,r){var n=t;n.utils=r(6436),n.common=r(5772),n.sha=r(9041),n.ripemd=r(2949),n.hmac=r(2344),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},5772:function(e,t,r){"use strict";var n=r(6436),o=r(9746);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=i,i.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this},i.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},i.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var o=1;o<r;o++)n[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=e>>>24&255,n[o++]=e>>>16&255,n[o++]=e>>>8&255,n[o++]=255&e}else for(n[o++]=255&e,n[o++]=e>>>8&255,n[o++]=e>>>16&255,n[o++]=e>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,i=8;i<this.padLength;i++)n[o++]=0;return n}},2344:function(e,t,r){"use strict";var n=r(6436),o=r(9746);function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},2949:function(e,t,r){"use strict";var n=r(6436),o=r(5772),i=n.rotl32,s=n.sum32,a=n.sum32_3,l=n.sum32_4,c=o.BlockHash;function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function u(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(h,c),t.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],o=this.h[2],c=this.h[3],h=this.h[4],y=r,b=n,w=o,x=c,_=h,E=0;E<80;E++){var C=s(i(l(r,d(E,n,o,c),e[f[E]+t],u(E)),g[E]),h);r=h,h=c,c=i(o,10),o=n,n=C,C=s(i(l(y,d(79-E,b,w,x),e[m[E]+t],p(E)),v[E]),_),y=_,_=x,x=i(w,10),w=b,b=C}C=a(this.h[1],o,x),this.h[1]=a(this.h[2],c,_),this.h[2]=a(this.h[3],h,y),this.h[3]=a(this.h[4],r,b),this.h[4]=a(this.h[0],n,w),this.h[0]=C},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:function(e,t,r){"use strict";t.sha1=r(4761),t.sha224=r(799),t.sha256=r(9344),t.sha384=r(772),t.sha512=r(5900)},4761:function(e,t,r){"use strict";var n=r(6436),o=r(5772),i=r(7038),s=n.rotl32,a=n.sum32,l=n.sum32_5,c=i.ft_1,h=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(u,h),e.exports=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var o=this.h[0],i=this.h[1],h=this.h[2],u=this.h[3],p=this.h[4];for(n=0;n<r.length;n++){var f=~~(n/20),m=l(s(o,5),c(f,i,h,u),p,r[n],d[f]);p=u,u=h,h=s(i,30),i=o,o=m}this.h[0]=a(this.h[0],o),this.h[1]=a(this.h[1],i),this.h[2]=a(this.h[2],h),this.h[3]=a(this.h[3],u),this.h[4]=a(this.h[4],p)},u.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},799:function(e,t,r){"use strict";var n=r(6436),o=r(9344);function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(i,o),e.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},9344:function(e,t,r){"use strict";var n=r(6436),o=r(5772),i=r(7038),s=r(9746),a=n.sum32,l=n.sum32_4,c=n.sum32_5,h=i.ch32,d=i.maj32,u=i.s0_256,p=i.s1_256,f=i.g0_256,m=i.g1_256,g=o.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}n.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=l(m(r[n-2]),r[n-7],f(r[n-15]),r[n-16]);var o=this.h[0],i=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],x=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var _=c(x,p(y),h(y,b,w),this.k[n],r[n]),E=a(u(o),d(o,i,g));x=w,w=b,b=y,y=a(v,_),v=g,g=i,i=o,o=a(_,E)}this.h[0]=a(this.h[0],o),this.h[1]=a(this.h[1],i),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],x)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},772:function(e,t,r){"use strict";var n=r(6436),o=r(5900);function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(i,o),e.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},5900:function(e,t,r){"use strict";var n=r(6436),o=r(5772),i=r(9746),s=n.rotr64_hi,a=n.rotr64_lo,l=n.shr64_hi,c=n.shr64_lo,h=n.sum64,d=n.sum64_hi,u=n.sum64_lo,p=n.sum64_4_hi,f=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,v=o.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,r,n,o){var i=e&r^~e&o;return i<0&&(i+=4294967296),i}function x(e,t,r,n,o,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function _(e,t,r,n,o){var i=e&r^e&o^r&o;return i<0&&(i+=4294967296),i}function E(e,t,r,n,o,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function C(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var o=(g=r[n-4],v=r[n-3],y=void 0,(y=s(g,v,19)^s(v,g,29)^l(g,v,6))<0&&(y+=4294967296),y),i=T(r[n-4],r[n-3]),a=r[n-14],c=r[n-13],h=A(r[n-30],r[n-29]),d=P(r[n-30],r[n-29]),u=r[n-32],m=r[n-31];r[n]=p(o,i,a,c,h,d,u,m),r[n+1]=f(o,i,a,c,h,d,u,m)}var g,v,y},b.prototype._update=function(e,t){this._prepareBlock(e,t);var r,n,o,a=this.W,l=this.h[0],c=this.h[1],p=this.h[2],f=this.h[3],v=this.h[4],y=this.h[5],b=this.h[6],A=this.h[7],P=this.h[8],T=this.h[9],M=this.h[10],O=this.h[11],D=this.h[12],I=this.h[13],R=this.h[14],F=this.h[15];i(this.k.length===a.length);for(var B=0;B<a.length;B+=2){var N=R,L=F,V=(o=void 0,(o=s(r=P,n=T,14)^s(r,n,18)^s(n,r,9))<0&&(o+=4294967296),o),z=k(P,T),H=w(P,0,M,0,D),j=x(0,T,0,O,0,I),G=this.k[B],U=this.k[B+1],q=a[B],W=a[B+1],$=m(N,L,V,z,H,j,G,U,q,W),Z=g(N,L,V,z,H,j,G,U,q,W);N=C(l,c),L=S(l,c),V=_(l,0,p,0,v),z=E(0,c,0,f,0,y);var K=d(N,L,V,z),Y=u(N,L,V,z);R=D,F=I,D=M,I=O,M=P,O=T,P=d(b,A,$,Z),T=u(A,A,$,Z),b=v,A=y,v=p,y=f,p=l,f=c,l=d($,Z,K,Y),c=u($,Z,K,Y)}h(this.h,0,l,c),h(this.h,2,p,f),h(this.h,4,v,y),h(this.h,6,b,A),h(this.h,8,P,T),h(this.h,10,M,O),h(this.h,12,D,I),h(this.h,14,R,F)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7038:function(e,t,r){"use strict";var n=r(6436).rotr32;function o(e,t,r){return e&t^~e&r}function i(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?o(t,r,n):1===e||3===e?s(t,r,n):2===e?i(t,r,n):void 0},t.ch32=o,t.maj32=i,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},6436:function(e,t,r){"use strict";var n=r(9746),o=r(5717);function i(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=o,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)r.push(parseInt(e[o]+e[o+1],16))}else for(var n=0,o=0;o<e.length;o++){var s=e.charCodeAt(o);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):i(e,o)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++o)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(o=0;o<e.length;o++)r[o]=0|e[o];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var o=e[n];"little"===t&&(o=s(o)),r+=l(o.toString(16))}return r},t.zero2=a,t.zero8=l,t.join32=function(e,t,r,o){var i=r-t;n(i%4==0);for(var s=new Array(i/4),a=0,l=t;a<s.length;a++,l+=4){var c;c="big"===o?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],s[a]=c>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,o=0;n<e.length;n++,o+=4){var i=e[n];"big"===t?(r[o]=i>>>24,r[o+1]=i>>>16&255,r[o+2]=i>>>8&255,r[o+3]=255&i):(r[o+3]=i>>>24,r[o+2]=i>>>16&255,r[o+1]=i>>>8&255,r[o]=255&i)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,o){return e+t+r+n+o>>>0},t.sum64=function(e,t,r,n){var o=e[t],i=n+e[t+1]>>>0,s=(i<n?1:0)+r+o;e[t]=s>>>0,e[t+1]=i},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,o,i,s,a){var l=0,c=t;return l+=(c=c+n>>>0)<t?1:0,l+=(c=c+i>>>0)<i?1:0,e+r+o+s+(l+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,o,i,s,a){return t+n+i+a>>>0},t.sum64_5_hi=function(e,t,r,n,o,i,s,a,l,c){var h=0,d=t;return h+=(d=d+n>>>0)<t?1:0,h+=(d=d+i>>>0)<i?1:0,h+=(d=d+a>>>0)<a?1:0,e+r+o+s+l+(h+=(d=d+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,o,i,s,a,l,c){return t+n+i+a+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},5450:function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;"undefined"!=typeof self&&self,factory=function(){return function(){"use strict";var htmx={onLoad:onLoadHelper,process:processNode,on:addEventListenerImpl,off:removeEventListenerImpl,trigger:triggerEvent,ajax:ajaxHelper,find:find,findAll:findAll,closest:closest,values:function(e,t){return getInputValues(e,t||"post").values},remove:removeElement,addClass:addClassToElement,removeClass:removeClassFromElement,toggleClass:toggleClassOnElement,takeClass:takeClassForElement,defineExtension:defineExtension,removeExtension:removeExtension,logAll:logAll,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1},parseInterval:parseInterval,_:internalEval,createEventSource:function(e){return new EventSource(e,{withCredentials:!0})},createWebSocket:function(e){return new WebSocket(e,[])},version:"1.8.4"},internalAPI={addTriggerHandler:addTriggerHandler,bodyContains:bodyContains,canAccessLocalStorage:canAccessLocalStorage,filterValues:filterValues,hasAttribute:hasAttribute,getAttributeValue:getAttributeValue,getClosestMatch:getClosestMatch,getExpressionVars:getExpressionVars,getHeaders:getHeaders,getInputValues:getInputValues,getInternalData:getInternalData,getSwapSpecification:getSwapSpecification,getTriggerSpecs:getTriggerSpecs,getTarget:getTarget,makeFragment:makeFragment,mergeObjects:mergeObjects,makeSettleInfo:makeSettleInfo,oobSwap:oobSwap,selectAndSwap:selectAndSwap,settleImmediately:settleImmediately,shouldCancel:shouldCancel,triggerEvent:triggerEvent,triggerErrorEvent:triggerErrorEvent,withExtensions:withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map((function(e){return"[hx-"+e+"], [data-hx-"+e+"]"})).join(", ");function parseInterval(e){if(null!=e)return"ms"==e.slice(-2)?parseFloat(e.slice(0,-2))||void 0:"s"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1))||void 0:"m"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1))*60||void 0:parseFloat(e)||void 0}function getRawAttribute(e,t){return e.getAttribute&&e.getAttribute(t)}function hasAttribute(e,t){return e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function getAttributeValue(e,t){return getRawAttribute(e,t)||getRawAttribute(e,"data-"+t)}function parentElt(e){return e.parentElement}function getDocument(){return document}function getClosestMatch(e,t){for(;e&&!t(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,t,r){var n=getAttributeValue(t,r),o=getAttributeValue(t,"hx-disinherit");return e!==t&&o&&("*"===o||o.split(" ").indexOf(r)>=0)?"unset":n}function getClosestAttributeValue(e,t){var r=null;if(getClosestMatch(e,(function(n){return r=getAttributeValueWithDisinheritance(e,n,t)})),"unset"!==r)return r}function matches(e,t){var r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;return r&&r.call(e,t)}function getStartTag(e){var t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return t?t[1].toLowerCase():""}function parseHTML(e,t){for(var r=(new DOMParser).parseFromString(e,"text/html").body;t>0;)t--,r=r.firstChild;return null==r&&(r=getDocument().createDocumentFragment()),r}function makeFragment(e){if(htmx.config.useTemplateFragments)return parseHTML("<body><template>"+e+"</template></body>",0).querySelector("template").content;switch(getStartTag(e)){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return parseHTML("<table>"+e+"</table>",1);case"col":return parseHTML("<table><colgroup>"+e+"</colgroup></table>",2);case"tr":return parseHTML("<table><tbody>"+e+"</tbody></table>",2);case"td":case"th":return parseHTML("<table><tbody><tr>"+e+"</tr></tbody></table>",3);case"script":return parseHTML("<div>"+e+"</div>",1);default:return parseHTML(e,0)}}function maybeCall(e){e&&e()}function isType(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function isFunction(e){return isType(e,"Function")}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){var t="htmx-internal-data",r=e[t];return r||(r=e[t]={}),r}function toArray(e){var t=[];if(e)for(var r=0;r<e.length;r++)t.push(e[r]);return t}function forEach(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r])}function isScrolledIntoView(e){var t=e.getBoundingClientRect(),r=t.top,n=t.bottom;return r<window.innerHeight&&n>=0}function bodyContains(e){return e.getRootNode&&e.getRootNode()instanceof ShadowRoot?getDocument().body.contains(e.getRootNode().host):getDocument().body.contains(e)}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(e){return logError(e),null}}function canAccessLocalStorage(){var e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function internalEval(str){return maybeEval(getDocument().body,(function(){return eval(str)}))}function onLoadHelper(e){return htmx.on("htmx:load",(function(t){e(t.detail.elt)}))}function logAll(){htmx.logger=function(e,t,r){console&&console.log(t,e,r)}}function find(e,t){return t?e.querySelector(t):find(getDocument(),e)}function findAll(e,t){return t?e.querySelectorAll(t):findAll(getDocument(),e)}function removeElement(e,t){e=resolveTarget(e),t?setTimeout((function(){removeElement(e)}),t):e.parentElement.removeChild(e)}function addClassToElement(e,t,r){e=resolveTarget(e),r?setTimeout((function(){addClassToElement(e,t)}),r):e.classList&&e.classList.add(t)}function removeClassFromElement(e,t,r){e=resolveTarget(e),r?setTimeout((function(){removeClassFromElement(e,t)}),r):e.classList&&(e.classList.remove(t),0===e.classList.length&&e.removeAttribute("class"))}function toggleClassOnElement(e,t){(e=resolveTarget(e)).classList.toggle(t)}function takeClassForElement(e,t){forEach((e=resolveTarget(e)).parentElement.children,(function(e){removeClassFromElement(e,t)})),addClassToElement(e,t)}function closest(e,t){if((e=resolveTarget(e)).closest)return e.closest(t);do{if(null==e||matches(e,t))return e}while(e=e&&parentElt(e))}function querySelectorAllExt(e,t){return 0===t.indexOf("closest ")?[closest(e,t.substr(8))]:0===t.indexOf("find ")?[find(e,t.substr(5))]:0===t.indexOf("next ")?[scanForwardQuery(e,t.substr(5))]:0===t.indexOf("previous ")?[scanBackwardsQuery(e,t.substr(9))]:"document"===t?[document]:"window"===t?[window]:getDocument().querySelectorAll(t)}var scanForwardQuery=function(e,t){for(var r=getDocument().querySelectorAll(t),n=0;n<r.length;n++){var o=r[n];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return o}},scanBackwardsQuery=function(e,t){for(var r=getDocument().querySelectorAll(t),n=r.length-1;n>=0;n--){var o=r[n];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return o}};function querySelectorExt(e,t){return t?querySelectorAllExt(e,t)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e){return isType(e,"String")?find(e):e}function processEventArgs(e,t,r){return isFunction(t)?{target:getDocument().body,event:e,listener:t}:{target:resolveTarget(e),event:t,listener:r}}function addEventListenerImpl(e,t,r){return ready((function(){var n=processEventArgs(e,t,r);n.target.addEventListener(n.event,n.listener)})),isFunction(t)?t:r}function removeEventListenerImpl(e,t,r){return ready((function(){var n=processEventArgs(e,t,r);n.target.removeEventListener(n.event,n.listener)})),isFunction(t)?t:r}var DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,t){var r=getClosestAttributeValue(e,t);if(r){if("this"===r)return[findThisElement(e,t)];var n=querySelectorAllExt(e,r);return 0===n.length?(logError('The selector "'+r+'" on '+t+" returned no matches!"),[DUMMY_ELT]):n}}function findThisElement(e,t){return getClosestMatch(e,(function(e){return null!=getAttributeValue(e,t)}))}function getTarget(e){var t=getClosestAttributeValue(e,"hx-target");return t?"this"===t?findThisElement(e,"hx-target"):querySelectorExt(e,t):getInternalData(e).boosted?getDocument().body:e}function shouldSettleAttribute(e){for(var t=htmx.config.attributesToSettle,r=0;r<t.length;r++)if(e===t[r])return!0;return!1}function cloneAttributes(e,t){forEach(e.attributes,(function(r){!t.hasAttribute(r.name)&&shouldSettleAttribute(r.name)&&e.removeAttribute(r.name)})),forEach(t.attributes,(function(t){shouldSettleAttribute(t.name)&&e.setAttribute(t.name,t.value)}))}function isInlineSwap(e,t){for(var r=getExtensions(t),n=0;n<r.length;n++){var o=r[n];try{if(o.isInlineSwap(e))return!0}catch(e){logError(e)}}return"outerHTML"===e}function oobSwap(e,t,r){var n="#"+t.id,o="outerHTML";"true"===e||(e.indexOf(":")>0?(o=e.substr(0,e.indexOf(":")),n=e.substr(e.indexOf(":")+1,e.length)):o=e);var i=getDocument().querySelectorAll(n);return i?(forEach(i,(function(e){var n,i=t.cloneNode(!0);(n=getDocument().createDocumentFragment()).appendChild(i),isInlineSwap(o,e)||(n=i);var s={shouldSwap:!0,target:e,fragment:n};triggerEvent(e,"htmx:oobBeforeSwap",s)&&(e=s.target,s.shouldSwap&&swap(o,e,e,n,r),forEach(r.elts,(function(e){triggerEvent(e,"htmx:oobAfterSwap",s)})))})),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:t})),e}function handleOutOfBandSwaps(e,t,r){var n=getClosestAttributeValue(e,"hx-select-oob");if(n){var o=n.split(",");for(let e=0;e<o.length;e++){var i=o[e].split(":",2),s=i[0];0===s.indexOf("#")&&(s=s.substring(1));var a=i[1]||"true",l=t.querySelector("#"+s);l&&oobSwap(a,l,r)}}forEach(findAll(t,"[hx-swap-oob], [data-hx-swap-oob]"),(function(e){var t=getAttributeValue(e,"hx-swap-oob");null!=t&&oobSwap(t,e,r)}))}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),(function(e){var t=getAttributeValue(e,"id"),r=getDocument().getElementById(t);null!=r&&e.parentNode.replaceChild(r,e)}))}function handleAttributes(e,t,r){forEach(t.querySelectorAll("[id]"),(function(t){if(t.id&&t.id.length>0){var n=e.querySelector(t.tagName+"[id='"+t.id+"']");if(n&&n!==e){var o=t.cloneNode();cloneAttributes(t,n),r.tasks.push((function(){cloneAttributes(t,o)}))}}}))}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(e),processScripts(e),processFocus(e),triggerEvent(e,"htmx:load")}}function processFocus(e){var t="[autofocus]",r=matches(e,t)?e:e.querySelector(t);null!=r&&r.focus()}function insertNodesBefore(e,t,r,n){for(handleAttributes(e,r,n);r.childNodes.length>0;){var o=r.firstChild;addClassToElement(o,htmx.config.addedClass),e.insertBefore(o,t),o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE&&n.tasks.push(makeAjaxLoadTask(o))}}function stringHash(e,t){for(var r=0;r<e.length;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t}function attributeHash(e){for(var t=0,r=0;r<e.attributes.length;r++){var n=e.attributes[r];n.value&&(t=stringHash(n.name,t),t=stringHash(n.value,t))}return t}function deInitNode(e){var t=getInternalData(e);t.webSocket&&t.webSocket.close(),t.sseEventSource&&t.sseEventSource.close(),t.listenerInfos&&forEach(t.listenerInfos,(function(e){e.on&&e.on.removeEventListener(e.trigger,e.listener)}))}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),e.children&&forEach(e.children,(function(e){cleanUpElement(e)}))}function swapOuterHTML(e,t,r){if("BODY"===e.tagName)return swapInnerHTML(e,t,r);var n,o=e.previousSibling;for(insertNodesBefore(parentElt(e),e,t,r),n=null==o?parentElt(e).firstChild:o.nextSibling,getInternalData(e).replacedWith=n,r.elts=[];n&&n!==e;)n.nodeType===Node.ELEMENT_NODE&&r.elts.push(n),n=n.nextElementSibling;cleanUpElement(e),parentElt(e).removeChild(e)}function swapAfterBegin(e,t,r){return insertNodesBefore(e,e.firstChild,t,r)}function swapBeforeBegin(e,t,r){return insertNodesBefore(parentElt(e),e,t,r)}function swapBeforeEnd(e,t,r){return insertNodesBefore(e,null,t,r)}function swapAfterEnd(e,t,r){return insertNodesBefore(parentElt(e),e.nextSibling,t,r)}function swapDelete(e,t,r){return cleanUpElement(e),parentElt(e).removeChild(e)}function swapInnerHTML(e,t,r){var n=e.firstChild;if(insertNodesBefore(e,n,t,r),n){for(;n.nextSibling;)cleanUpElement(n.nextSibling),e.removeChild(n.nextSibling);cleanUpElement(n),e.removeChild(n)}}function maybeSelectFromResponse(e,t){var r=getClosestAttributeValue(e,"hx-select");if(r){var n=getDocument().createDocumentFragment();forEach(t.querySelectorAll(r),(function(e){n.appendChild(e)})),t=n}return t}function swap(e,t,r,n,o){switch(e){case"none":return;case"outerHTML":return void swapOuterHTML(r,n,o);case"afterbegin":return void swapAfterBegin(r,n,o);case"beforebegin":return void swapBeforeBegin(r,n,o);case"beforeend":return void swapBeforeEnd(r,n,o);case"afterend":return void swapAfterEnd(r,n,o);case"delete":return void swapDelete(r,n,o);default:for(var i=getExtensions(t),s=0;s<i.length;s++){var a=i[s];try{var l=a.handleSwap(e,r,n,o);if(l){if(void 0!==l.length)for(var c=0;c<l.length;c++){var h=l[c];h.nodeType!==Node.TEXT_NODE&&h.nodeType!==Node.COMMENT_NODE&&o.tasks.push(makeAjaxLoadTask(h))}return}}catch(e){logError(e)}}"innerHTML"===e?swapInnerHTML(r,n,o):swap(htmx.config.defaultSwapStyle,t,r,n,o)}}function findTitle(e){if(e.indexOf("<title")>-1){var t=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"").match(/<title(\s[^>]*>|>)([\s\S]*?)<\/title>/im);if(t)return t[2]}}function selectAndSwap(e,t,r,n,o){o.title=findTitle(n);var i=makeFragment(n);if(i)return handleOutOfBandSwaps(r,i,o),handlePreservedElements(i=maybeSelectFromResponse(r,i)),swap(e,r,t,i,o)}function handleTrigger(e,t,r){var n=e.getResponseHeader(t);if(0===n.indexOf("{")){var o=parseJSON(n);for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];isRawObject(s)||(s={value:s}),triggerEvent(r,i,s)}}else triggerEvent(r,n,[])}var WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/;function tokenizeString(e){for(var t=[],r=0;r<e.length;){if(SYMBOL_START.exec(e.charAt(r))){for(var n=r;SYMBOL_CONT.exec(e.charAt(r+1));)r++;t.push(e.substr(n,r-n+1))}else if(-1!==STRINGISH_START.indexOf(e.charAt(r))){var o=e.charAt(r);for(n=r,r++;r<e.length&&e.charAt(r)!==o;)"\\"===e.charAt(r)&&r++,r++;t.push(e.substr(n,r-n+1))}else{var i=e.charAt(r);t.push(i)}r++}return t}function isPossibleRelativeReference(e,t,r){return SYMBOL_START.exec(e.charAt(0))&&"true"!==e&&"false"!==e&&"this"!==e&&e!==r&&"."!==t}function maybeGenerateConditional(e,t,r){if("["===t[0]){t.shift();for(var n=1,o=" return (function("+r+"){ return (",i=null;t.length>0;){var s=t[0];if("]"===s){if(0==--n){null===i&&(o+="true"),t.shift(),o+=")})";try{var a=maybeEval(e,(function(){return Function(o)()}),(function(){return!0}));return a.source=o,a}catch(e){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:e,source:o}),null}}}else"["===s&&n++;isPossibleRelativeReference(s,i,r)?o+="(("+r+"."+s+") ? ("+r+"."+s+") : (window."+s+"))":o+=s,i=t.shift()}}}function consumeUntil(e,t){for(var r="";e.length>0&&!e[0].match(t);)r+=e.shift();return r}var INPUT_SELECTOR="input, textarea, select";function getTriggerSpecs(e){var t=getAttributeValue(e,"hx-trigger"),r=[];if(t){var n=tokenizeString(t);do{consumeUntil(n,NOT_WHITESPACE);var o=n.length,i=consumeUntil(n,/[,\[\s]/);if(""!==i)if("every"===i){var s={trigger:"every"};consumeUntil(n,NOT_WHITESPACE),s.pollInterval=parseInterval(consumeUntil(n,/[,\[\s]/)),consumeUntil(n,NOT_WHITESPACE),(a=maybeGenerateConditional(e,n,"event"))&&(s.eventFilter=a),r.push(s)}else if(0===i.indexOf("sse:"))r.push({trigger:"sse",sseEvent:i.substr(4)});else{var a,l={trigger:i};for((a=maybeGenerateConditional(e,n,"event"))&&(l.eventFilter=a);n.length>0&&","!==n[0];){consumeUntil(n,NOT_WHITESPACE);var c=n.shift();if("changed"===c)l.changed=!0;else if("once"===c)l.once=!0;else if("consume"===c)l.consume=!0;else if("delay"===c&&":"===n[0])n.shift(),l.delay=parseInterval(consumeUntil(n,WHITESPACE_OR_COMMA));else if("from"===c&&":"===n[0]){n.shift();var h=consumeUntil(n,WHITESPACE_OR_COMMA);"closest"!==h&&"find"!==h&&"next"!==h&&"previous"!==h||(n.shift(),h+=" "+consumeUntil(n,WHITESPACE_OR_COMMA)),l.from=h}else"target"===c&&":"===n[0]?(n.shift(),l.target=consumeUntil(n,WHITESPACE_OR_COMMA)):"throttle"===c&&":"===n[0]?(n.shift(),l.throttle=parseInterval(consumeUntil(n,WHITESPACE_OR_COMMA))):"queue"===c&&":"===n[0]?(n.shift(),l.queue=consumeUntil(n,WHITESPACE_OR_COMMA)):"root"!==c&&"threshold"!==c||":"!==n[0]?triggerErrorEvent(e,"htmx:syntax:error",{token:n.shift()}):(n.shift(),l[c]=consumeUntil(n,WHITESPACE_OR_COMMA))}r.push(l)}n.length===o&&triggerErrorEvent(e,"htmx:syntax:error",{token:n.shift()}),consumeUntil(n,NOT_WHITESPACE)}while(","===n[0]&&n.shift())}return r.length>0?r:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,t,r){var n=getInternalData(e);n.timeout=setTimeout((function(){bodyContains(e)&&!0!==n.cancelled&&(maybeFilterEvent(r,makeEvent("hx:poll:trigger",{triggerSpec:r,target:e}))||t(e),processPolling(e,t,r))}),r.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&0!==getRawAttribute(e,"href").indexOf("#")}function boostElement(e,t,r){if("A"===e.tagName&&isLocalLink(e)&&(""===e.target||"_self"===e.target)||"FORM"===e.tagName){var n,o;if(t.boosted=!0,"A"===e.tagName)n="get",o=getRawAttribute(e,"href");else{var i=getRawAttribute(e,"method");n=i?i.toLowerCase():"get",o=getRawAttribute(e,"action")}r.forEach((function(r){addEventListener(e,(function(t){issueAjaxRequest(n,o,e,t)}),t,r,!0)}))}}function shouldCancel(e,t){if("submit"===e.type||"click"===e.type){if("FORM"===t.tagName)return!0;if(matches(t,'input[type="submit"], button')&&null!==closest(t,"form"))return!0;if("A"===t.tagName&&t.href&&("#"===t.getAttribute("href")||0!==t.getAttribute("href").indexOf("#")))return!0}return!1}function ignoreBoostedAnchorCtrlClick(e,t){return getInternalData(e).boosted&&"A"===e.tagName&&"click"===t.type&&(t.ctrlKey||t.metaKey)}function maybeFilterEvent(e,t){var r=e.eventFilter;if(r)try{return!0!==r(t)}catch(e){return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:e,source:r.source}),!0}return!1}function addEventListener(e,t,r,n,o){forEach(n.from?querySelectorAllExt(e,n.from):[e],(function(i){var s=function(r){if(bodyContains(e)){if(!ignoreBoostedAnchorCtrlClick(e,r)&&((o||shouldCancel(r,e))&&r.preventDefault(),!maybeFilterEvent(n,r))){var a=getInternalData(r);a.triggerSpec=n,null==a.handledFor&&(a.handledFor=[]);var l=getInternalData(e);if(a.handledFor.indexOf(e)<0){if(a.handledFor.push(e),n.consume&&r.stopPropagation(),n.target&&r.target&&!matches(r.target,n.target))return;if(n.once){if(l.triggeredOnce)return;l.triggeredOnce=!0}if(n.changed){if(l.lastValue===e.value)return;l.lastValue=e.value}if(l.delayed&&clearTimeout(l.delayed),l.throttle)return;n.throttle?l.throttle||(t(e,r),l.throttle=setTimeout((function(){l.throttle=null}),n.throttle)):n.delay?l.delayed=setTimeout((function(){t(e,r)}),n.delay):t(e,r)}}}else i.removeEventListener(n.trigger,s)};null==r.listenerInfos&&(r.listenerInfos=[]),r.listenerInfos.push({trigger:n.trigger,listener:s,on:i}),i.addEventListener(n.trigger,s)}))}var windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),setInterval((function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),(function(e){maybeReveal(e)})))}),200))}function maybeReveal(e){!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)&&(e.setAttribute("data-hx-revealed","true"),getInternalData(e).initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",(function(t){triggerEvent(e,"revealed")}),{once:!0}))}function processWebSocketInfo(e,t,r){for(var n=splitOnWhitespace(r),o=0;o<n.length;o++){var i=n[o].split(/:(.+)/);"connect"===i[0]&&ensureWebSocket(e,i[1],0),"send"===i[0]&&processWebSocketSend(e)}}function ensureWebSocket(e,t,r){if(bodyContains(e)){if(0==t.indexOf("/")){var n=location.hostname+(location.port?":"+location.port:"");"https:"==location.protocol?t="wss://"+n+t:"http:"==location.protocol&&(t="ws://"+n+t)}var o=htmx.createWebSocket(t);o.onerror=function(t){triggerErrorEvent(e,"htmx:wsError",{error:t,socket:o}),maybeCloseWebSocketSource(e)},o.onclose=function(n){if([1006,1012,1013].indexOf(n.code)>=0){var o=getWebSocketReconnectDelay(r);setTimeout((function(){ensureWebSocket(e,t,r+1)}),o)}},o.onopen=function(e){r=0},getInternalData(e).webSocket=o,o.addEventListener("message",(function(t){if(!maybeCloseWebSocketSource(e)){var r=t.data;withExtensions(e,(function(t){r=t.transformResponse(r,null,e)}));for(var n=makeSettleInfo(e),o=toArray(makeFragment(r).children),i=0;i<o.length;i++){var s=o[i];oobSwap(getAttributeValue(s,"hx-swap-oob")||"true",s,n)}settleImmediately(n.tasks)}}))}}function maybeCloseWebSocketSource(e){if(!bodyContains(e))return getInternalData(e).webSocket.close(),!0}function processWebSocketSend(e){var t=getClosestMatch(e,(function(e){return null!=getInternalData(e).webSocket}));t?e.addEventListener(getTriggerSpecs(e)[0].trigger,(function(r){var n=getInternalData(t).webSocket,o=getHeaders(e,t),i=getInputValues(e,"post"),s=i.errors,a=filterValues(mergeObjects(i.values,getExpressionVars(e)),e);a.HEADERS=o,s&&s.length>0?triggerEvent(e,"htmx:validation:halted",s):(n.send(JSON.stringify(a)),shouldCancel(r,e)&&r.preventDefault())})):triggerErrorEvent(e,"htmx:noWebSocketSourceError")}function getWebSocketReconnectDelay(e){var t=htmx.config.wsReconnectDelay;if("function"==typeof t)return t(e);if("full-jitter"===t){var r=Math.min(e,6);return 1e3*Math.pow(2,r)*Math.random()}logError('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function processSSEInfo(e,t,r){for(var n=splitOnWhitespace(r),o=0;o<n.length;o++){var i=n[o].split(/:(.+)/);"connect"===i[0]&&processSSESource(e,i[1]),"swap"===i[0]&&processSSESwap(e,i[1])}}function processSSESource(e,t){var r=htmx.createEventSource(t);r.onerror=function(t){triggerErrorEvent(e,"htmx:sseError",{error:t,source:r}),maybeCloseSSESource(e)},getInternalData(e).sseEventSource=r}function processSSESwap(e,t){var r=getClosestMatch(e,hasEventSource);if(r){var n=getInternalData(r).sseEventSource,o=function(i){if(maybeCloseSSESource(r))n.removeEventListener(t,o);else{var s=i.data;withExtensions(e,(function(t){s=t.transformResponse(s,null,e)}));var a=getSwapSpecification(e),l=getTarget(e),c=makeSettleInfo(e);selectAndSwap(a.swapStyle,e,l,s,c),settleImmediately(c.tasks),triggerEvent(e,"htmx:sseMessage",i)}};getInternalData(e).sseListener=o,n.addEventListener(t,o)}else triggerErrorEvent(e,"htmx:noSSESourceError")}function processSSETrigger(e,t,r){var n=getClosestMatch(e,hasEventSource);if(n){var o=getInternalData(n).sseEventSource,i=function(){maybeCloseSSESource(n)||(bodyContains(e)?t(e):o.removeEventListener(r,i))};getInternalData(e).sseListener=i,o.addEventListener(r,i)}else triggerErrorEvent(e,"htmx:noSSESourceError")}function maybeCloseSSESource(e){if(!bodyContains(e))return getInternalData(e).sseEventSource.close(),!0}function hasEventSource(e){return null!=getInternalData(e).sseEventSource}function loadImmediately(e,t,r,n){var o=function(){r.loaded||(r.loaded=!0,t(e))};n?setTimeout(o,n):o()}function processVerbs(e,t,r){var n=!1;return forEach(VERBS,(function(o){if(hasAttribute(e,"hx-"+o)){var i=getAttributeValue(e,"hx-"+o);n=!0,t.path=i,t.verb=o,r.forEach((function(r){addTriggerHandler(e,r,t,(function(e,t){issueAjaxRequest(o,i,e,t)}))}))}})),n}function addTriggerHandler(e,t,r,n){if(t.sseEvent)processSSETrigger(e,n,t.sseEvent);else if("revealed"===t.trigger)initScrollHandler(),addEventListener(e,n,r,t),maybeReveal(e);else if("intersect"===t.trigger){var o={};t.root&&(o.root=querySelectorExt(e,t.root)),t.threshold&&(o.threshold=parseFloat(t.threshold)),new IntersectionObserver((function(t){for(var r=0;r<t.length;r++)if(t[r].isIntersecting){triggerEvent(e,"intersect");break}}),o).observe(e),addEventListener(e,n,r,t)}else"load"===t.trigger?maybeFilterEvent(t,makeEvent("load",{elt:e}))||loadImmediately(e,n,r,t.delay):t.pollInterval?(r.polling=!0,processPolling(e,n,t)):addEventListener(e,n,r,t)}function evalScript(e){if("text/javascript"===e.type||"module"===e.type||""===e.type){var t=getDocument().createElement("script");forEach(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),t.textContent=e.textContent,t.async=!1,htmx.config.inlineScriptNonce&&(t.nonce=htmx.config.inlineScriptNonce);var r=e.parentElement;try{r.insertBefore(t,e)}catch(e){logError(e)}finally{r.removeChild(e)}}}function processScripts(e){matches(e,"script")&&evalScript(e),forEach(findAll(e,"script"),(function(e){evalScript(e)}))}function hasChanceOfBeingBoosted(){return document.querySelector("[hx-boost], [data-hx-boost]")}function findElementsToProcess(e){if(e.querySelectorAll){var t=hasChanceOfBeingBoosted()?", a, form":"";return e.querySelectorAll(VERB_SELECTOR+t+", [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext]")}return[]}function initButtonTracking(e){var t=function(t){matches(t.target,"button, input[type='submit']")&&(getInternalData(e).lastButtonClicked=t.target)};e.addEventListener("click",t),e.addEventListener("focusin",t),e.addEventListener("focusout",(function(t){getInternalData(e).lastButtonClicked=null}))}function initNode(e){if(!e.closest||!e.closest(htmx.config.disableSelector)){var t=getInternalData(e);if(t.initHash!==attributeHash(e)){t.initHash=attributeHash(e),deInitNode(e),triggerEvent(e,"htmx:beforeProcessNode"),e.value&&(t.lastValue=e.value);var r=getTriggerSpecs(e);processVerbs(e,t,r)||"true"!==getClosestAttributeValue(e,"hx-boost")||boostElement(e,t,r),"FORM"===e.tagName&&initButtonTracking(e);var n=getAttributeValue(e,"hx-sse");n&&processSSEInfo(e,t,n);var o=getAttributeValue(e,"hx-ws");o&&processWebSocketInfo(e,t,o),triggerEvent(e,"htmx:afterProcessNode")}}}function processNode(e){initNode(e=resolveTarget(e)),forEach(findElementsToProcess(e),(function(e){initNode(e)}))}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,t){var r;return window.CustomEvent&&"function"==typeof window.CustomEvent?r=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}):(r=getDocument().createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),r}function triggerErrorEvent(e,t,r){triggerEvent(e,t,mergeObjects({error:t},r))}function ignoreEventForLogging(e){return"htmx:afterProcessNode"===e}function withExtensions(e,t){forEach(getExtensions(e),(function(e){try{t(e)}catch(e){logError(e)}}))}function logError(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function triggerEvent(e,t,r){e=resolveTarget(e),null==r&&(r={}),r.elt=e;var n=makeEvent(t,r);htmx.logger&&!ignoreEventForLogging(t)&&htmx.logger(e,t,r),r.error&&(logError(r.error),triggerEvent(e,"htmx:error",{errorInfo:r}));var o=e.dispatchEvent(n),i=kebabEventName(t);if(o&&i!==t){var s=makeEvent(i,n.detail);o=o&&e.dispatchEvent(s)}return withExtensions(e,(function(e){o=o&&!1!==e.onEvent(t,n)})),o}var currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(e,t,r,n){if(canAccessLocalStorage()){for(var o=parseJSON(localStorage.getItem("htmx-history-cache"))||[],i=0;i<o.length;i++)if(o[i].url===e){o.splice(i,1);break}var s={url:e,content:t,title:r,scroll:n};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:s,cache:o}),o.push(s);o.length>htmx.config.historyCacheSize;)o.shift();for(;o.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(o));break}catch(e){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:e,cache:o}),o.shift()}}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;for(var t=parseJSON(localStorage.getItem("htmx-history-cache"))||[],r=0;r<t.length;r++)if(t[r].url===e)return t[r];return null}function cleanInnerHtmlForHistory(e){var t=htmx.config.requestClass,r=e.cloneNode(!0);return forEach(findAll(r,"."+t),(function(e){removeClassFromElement(e,t)})),r.innerHTML}function saveCurrentPageToHistory(){var e=getHistoryElement(),t=currentPathForHistory||location.pathname+location.search;triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:t,historyElt:e}),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href),saveToHistoryCache(t,cleanInnerHtmlForHistory(e),getDocument().title,window.scrollY)}function pushUrlIntoHistory(e){htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),currentPathForHistory=e}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),currentPathForHistory=e}function settleImmediately(e){forEach(e,(function(e){e.call()}))}function loadHistoryFromServer(e){var t=new XMLHttpRequest,r={path:e,xhr:t};triggerEvent(getDocument().body,"htmx:historyCacheMiss",r),t.open("GET",e,!0),t.setRequestHeader("HX-History-Restore-Request","true"),t.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",r);var t=makeFragment(this.response);t=t.querySelector("[hx-history-elt],[data-hx-history-elt]")||t;var n=getHistoryElement(),o=makeSettleInfo(n),i=findTitle(this.response);if(i){var s=find("title");s?s.innerHTML=i:window.document.title=i}swapInnerHTML(n,t,o),settleImmediately(o.tasks),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",r)},t.send()}function restoreHistory(e){saveCurrentPageToHistory();var t=getCachedHistory(e=e||location.pathname+location.search);if(t){var r=makeFragment(t.content),n=getHistoryElement(),o=makeSettleInfo(n);swapInnerHTML(n,r,o),settleImmediately(o.tasks),document.title=t.title,window.scrollTo(0,t.scroll),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,item:t})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){var t=findAttributeTargets(e,"hx-indicator");return null==t&&(t=[e]),forEach(t,(function(e){var t=getInternalData(e);t.requestCount=(t.requestCount||0)+1,e.classList.add.call(e.classList,htmx.config.requestClass)})),t}function removeRequestIndicatorClasses(e){forEach(e,(function(e){var t=getInternalData(e);t.requestCount=(t.requestCount||0)-1,0===t.requestCount&&e.classList.remove.call(e.classList,htmx.config.requestClass)}))}function haveSeenNode(e,t){for(var r=0;r<e.length;r++)if(e[r].isSameNode(t))return!0;return!1}function shouldInclude(e){return""!==e.name&&null!=e.name&&!e.disabled&&"button"!==e.type&&"submit"!==e.type&&"image"!==e.tagName&&"reset"!==e.tagName&&"file"!==e.tagName&&("checkbox"!==e.type&&"radio"!==e.type||e.checked)}function processInputValue(e,t,r,n,o){if(null!=n&&!haveSeenNode(e,n)){if(e.push(n),shouldInclude(n)){var i=getRawAttribute(n,"name"),s=n.value;if(n.multiple&&(s=toArray(n.querySelectorAll("option:checked")).map((function(e){return e.value}))),n.files&&(s=toArray(n.files)),null!=i&&null!=s){var a=t[i];a?Array.isArray(a)?Array.isArray(s)?t[i]=a.concat(s):a.push(s):Array.isArray(s)?t[i]=[a].concat(s):t[i]=[a,s]:t[i]=s}o&&validateElement(n,r)}matches(n,"form")&&forEach(n.elements,(function(n){processInputValue(e,t,r,n,o)}))}}function validateElement(e,t){e.willValidate&&(triggerEvent(e,"htmx:validation:validate"),e.checkValidity()||(t.push({elt:e,message:e.validationMessage,validity:e.validity}),triggerEvent(e,"htmx:validation:failed",{message:e.validationMessage,validity:e.validity})))}function getInputValues(e,t){var r=[],n={},o={},i=[],s=getInternalData(e),a=matches(e,"form")&&!0!==e.noValidate||"true"===getAttributeValue(e,"hx-validate");if(s.lastButtonClicked&&(a=a&&!0!==s.lastButtonClicked.formNoValidate),"get"!==t&&processInputValue(r,o,i,closest(e,"form"),a),processInputValue(r,n,i,e,a),s.lastButtonClicked){var l=getRawAttribute(s.lastButtonClicked,"name");l&&(n[l]=s.lastButtonClicked.value)}return forEach(findAttributeTargets(e,"hx-include"),(function(e){processInputValue(r,n,i,e,a),matches(e,"form")||forEach(e.querySelectorAll(INPUT_SELECTOR),(function(e){processInputValue(r,n,i,e,a)}))})),n=mergeObjects(n,o),{errors:i,values:n}}function appendParam(e,t,r){""!==e&&(e+="&"),"[object Object]"===String(r)&&(r=JSON.stringify(r));var n=encodeURIComponent(r);return e+(encodeURIComponent(t)+"=")+n}function urlEncode(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Array.isArray(n)?forEach(n,(function(e){t=appendParam(t,r,e)})):t=appendParam(t,r,n)}return t}function makeFormData(e){var t=new FormData;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Array.isArray(n)?forEach(n,(function(e){t.append(r,e)})):t.append(r,n)}return t}function getHeaders(e,t,r){var n={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(t,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(e,"hx-headers",!1,n),void 0!==r&&(n["HX-Prompt"]=r),getInternalData(e).boosted&&(n["HX-Boosted"]="true"),n}function filterValues(e,t){var r=getClosestAttributeValue(t,"hx-params");if(r){if("none"===r)return{};if("*"===r)return e;if(0===r.indexOf("not "))return forEach(r.substr(4).split(","),(function(t){t=t.trim(),delete e[t]})),e;var n={};return forEach(r.split(","),(function(t){t=t.trim(),n[t]=e[t]})),n}return e}function isAnchorLink(e){return getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,t){var r=t||getClosestAttributeValue(e,"hx-swap"),n={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(getInternalData(e).boosted&&!isAnchorLink(e)&&(n.show="top"),r){var o=splitOnWhitespace(r);if(o.length>0){n.swapStyle=o[0];for(var i=1;i<o.length;i++){var s=o[i];if(0===s.indexOf("swap:")&&(n.swapDelay=parseInterval(s.substr(5))),0===s.indexOf("settle:")&&(n.settleDelay=parseInterval(s.substr(7))),0===s.indexOf("scroll:")){var a=(c=s.substr(7).split(":")).pop(),l=c.length>0?c.join(":"):null;n.scroll=a,n.scrollTarget=l}if(0===s.indexOf("show:")){var c,h=(c=s.substr(5).split(":")).pop();l=c.length>0?c.join(":"):null,n.show=h,n.showTarget=l}if(0===s.indexOf("focus-scroll:")){var d=s.substr("focus-scroll:".length);n.focusScroll="true"==d}}}}return n}function usesFormData(e){return"multipart/form-data"===getClosestAttributeValue(e,"hx-encoding")||matches(e,"form")&&"multipart/form-data"===getRawAttribute(e,"enctype")}function encodeParamsForBody(e,t,r){var n=null;return withExtensions(t,(function(o){null==n&&(n=o.encodeParameters(e,r,t))})),null!=n?n:usesFormData(t)?makeFormData(r):urlEncode(r)}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,t){var r=e[0],n=e[e.length-1];if(t.scroll){var o=null;t.scrollTarget&&(o=querySelectorExt(r,t.scrollTarget)),"top"===t.scroll&&(r||o)&&((o=o||r).scrollTop=0),"bottom"===t.scroll&&(n||o)&&((o=o||n).scrollTop=o.scrollHeight)}if(t.show){if(o=null,t.showTarget){var i=t.showTarget;"window"===t.showTarget&&(i="body"),o=querySelectorExt(r,i)}"top"===t.show&&(r||o)&&(o=o||r).scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior}),"bottom"===t.show&&(n||o)&&(o=o||n).scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior})}}function getValuesForElement(e,t,r,n){if(null==n&&(n={}),null==e)return n;var o=getAttributeValue(e,t);if(o){var i,s=o.trim(),a=r;if("unset"===s)return null;for(var l in 0===s.indexOf("javascript:")?(s=s.substr(11),a=!0):0===s.indexOf("js:")&&(s=s.substr(3),a=!0),0!==s.indexOf("{")&&(s="{"+s+"}"),i=a?maybeEval(e,(function(){return Function("return ("+s+")")()}),{}):parseJSON(s))i.hasOwnProperty(l)&&null==n[l]&&(n[l]=i[l])}return getValuesForElement(parentElt(e),t,r,n)}function maybeEval(e,t,r){return htmx.config.allowEval?t():(triggerErrorEvent(e,"htmx:evalDisallowedError"),r)}function getHXVarsForElement(e,t){return getValuesForElement(e,"hx-vars",!0,t)}function getHXValsForElement(e,t){return getValuesForElement(e,"hx-vals",!1,t)}function getExpressionVars(e){return mergeObjects(getHXVarsForElement(e),getHXValsForElement(e))}function safelySetHeaderValue(e,t,r){if(null!==r)try{e.setRequestHeader(t,r)}catch(n){e.setRequestHeader(t,encodeURIComponent(r)),e.setRequestHeader(t+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL&&"undefined"!=typeof URL)try{var t=new URL(e.responseURL);return t.pathname+t.search}catch(t){triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,t){return e.getAllResponseHeaders().match(t)}function ajaxHelper(e,t,r){return e=e.toLowerCase(),r?r instanceof Element||isType(r,"String")?issueAjaxRequest(e,t,null,null,{targetOverride:resolveTarget(r),returnPromise:!0}):issueAjaxRequest(e,t,resolveTarget(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:resolveTarget(r.target),swapOverride:r.swap,returnPromise:!0}):issueAjaxRequest(e,t,null,null,{returnPromise:!0})}function hierarchyForElt(e){for(var t=[];e;)t.push(e),e=e.parentElement;return t}function issueAjaxRequest(e,t,r,n,o,i){var s=null,a=null;if((o=null!=o?o:{}).returnPromise&&"undefined"!=typeof Promise)var l=new Promise((function(e,t){s=e,a=t}));null==r&&(r=getDocument().body);var c=o.handler||handleAjaxResponse;if(bodyContains(r)){var h=o.targetOverride||getTarget(r);if(null!=h&&h!=DUMMY_ELT){if(!i&&!1===triggerEvent(r,"htmx:confirm",{target:h,elt:r,path:t,verb:e,triggeringEvent:n,etc:o,issueRequest:function(){return issueAjaxRequest(e,t,r,n,o,!0)}}))return;var d=r,u=getInternalData(r),p=getClosestAttributeValue(r,"hx-sync"),f=null,m=!1;if(p){var g=p.split(":"),v=g[0].trim();if(d="this"===v?findThisElement(r,"hx-sync"):querySelectorExt(r,v),p=(g[1]||"drop").trim(),u=getInternalData(d),"drop"===p&&u.xhr&&!0!==u.abortable)return;if("abort"===p){if(u.xhr)return;m=!0}else"replace"===p?triggerEvent(d,"htmx:abort"):0===p.indexOf("queue")&&(f=(p.split(" ")[1]||"last").trim())}if(u.xhr){if(!u.abortable){if(null==f){if(n){var y=getInternalData(n);y&&y.triggerSpec&&y.triggerSpec.queue&&(f=y.triggerSpec.queue)}null==f&&(f="last")}return null==u.queuedRequests&&(u.queuedRequests=[]),void("first"===f&&0===u.queuedRequests.length||"all"===f?u.queuedRequests.push((function(){issueAjaxRequest(e,t,r,n,o)})):"last"===f&&(u.queuedRequests=[],u.queuedRequests.push((function(){issueAjaxRequest(e,t,r,n,o)}))))}triggerEvent(d,"htmx:abort")}var b=new XMLHttpRequest;u.xhr=b,u.abortable=m;var w=function(){u.xhr=null,u.abortable=!1,null!=u.queuedRequests&&u.queuedRequests.length>0&&u.queuedRequests.shift()()},x=getClosestAttributeValue(r,"hx-prompt");if(x){var _=prompt(x);if(null===_||!triggerEvent(r,"htmx:prompt",{prompt:_,target:h}))return maybeCall(s),w(),l}var E=getClosestAttributeValue(r,"hx-confirm");if(E&&!confirm(E))return maybeCall(s),w(),l;var C=getHeaders(r,h,_);o.headers&&(C=mergeObjects(C,o.headers));var S=getInputValues(r,e),k=S.errors,A=S.values;o.values&&(A=mergeObjects(A,o.values));var P=mergeObjects(A,getExpressionVars(r)),T=filterValues(P,r);"get"===e||usesFormData(r)||(C["Content-Type"]="application/x-www-form-urlencoded"),null!=t&&""!==t||(t=getDocument().location.href);var M=getValuesForElement(r,"hx-request"),O=getInternalData(r).boosted,D={boosted:O,parameters:T,unfilteredParameters:P,headers:C,target:h,verb:e,errors:k,withCredentials:o.credentials||M.credentials||htmx.config.withCredentials,timeout:o.timeout||M.timeout||htmx.config.timeout,path:t,triggeringEvent:n};if(!triggerEvent(r,"htmx:configRequest",D))return maybeCall(s),w(),l;if(t=D.path,e=D.verb,C=D.headers,T=D.parameters,(k=D.errors)&&k.length>0)return triggerEvent(r,"htmx:validation:halted",D),maybeCall(s),w(),l;var I=t.split("#"),R=I[0],F=I[1],B=null;if("get"===e?(B=R,0!==Object.keys(T).length&&(B.indexOf("?")<0?B+="?":B+="&",B+=urlEncode(T),F&&(B+="#"+F)),b.open("GET",B,!0)):b.open(e.toUpperCase(),t,!0),b.overrideMimeType("text/html"),b.withCredentials=D.withCredentials,b.timeout=D.timeout,M.noHeaders);else for(var N in C)if(C.hasOwnProperty(N)){var L=C[N];safelySetHeaderValue(b,N,L)}var V={xhr:b,target:h,requestConfig:D,etc:o,boosted:O,pathInfo:{requestPath:t,finalRequestPath:B||t,anchor:F}};if(b.onload=function(){try{var e=hierarchyForElt(r);if(V.pathInfo.responsePath=getPathFromResponse(b),c(r,V),removeRequestIndicatorClasses(z),triggerEvent(r,"htmx:afterRequest",V),triggerEvent(r,"htmx:afterOnLoad",V),!bodyContains(r)){for(var t=null;e.length>0&&null==t;){var n=e.shift();bodyContains(n)&&(t=n)}t&&(triggerEvent(t,"htmx:afterRequest",V),triggerEvent(t,"htmx:afterOnLoad",V))}maybeCall(s),w()}catch(e){throw triggerErrorEvent(r,"htmx:onLoadError",mergeObjects({error:e},V)),e}},b.onerror=function(){removeRequestIndicatorClasses(z),triggerErrorEvent(r,"htmx:afterRequest",V),triggerErrorEvent(r,"htmx:sendError",V),maybeCall(a),w()},b.onabort=function(){removeRequestIndicatorClasses(z),triggerErrorEvent(r,"htmx:afterRequest",V),triggerErrorEvent(r,"htmx:sendAbort",V),maybeCall(a),w()},b.ontimeout=function(){removeRequestIndicatorClasses(z),triggerErrorEvent(r,"htmx:afterRequest",V),triggerErrorEvent(r,"htmx:timeout",V),maybeCall(a),w()},!triggerEvent(r,"htmx:beforeRequest",V))return maybeCall(s),w(),l;var z=addRequestIndicatorClasses(r);return forEach(["loadstart","loadend","progress","abort"],(function(e){forEach([b,b.upload],(function(t){t.addEventListener(e,(function(t){triggerEvent(r,"htmx:xhr:"+e,{lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total})}))}))})),triggerEvent(r,"htmx:beforeSend",V),b.send("get"===e?null:encodeParamsForBody(b,r,T)),l}triggerErrorEvent(r,"htmx:targetError",{target:getAttributeValue(r,"hx-target")})}}function determineHistoryUpdates(e,t){var r=t.xhr,n=null,o=null;if(hasHeader(r,/HX-Push:/i)?(n=r.getResponseHeader("HX-Push"),o="push"):hasHeader(r,/HX-Push-Url:/i)?(n=r.getResponseHeader("HX-Push-Url"),o="push"):hasHeader(r,/HX-Replace-Url:/i)&&(n=r.getResponseHeader("HX-Replace-Url"),o="replace"),n)return"false"===n?{}:{type:o,path:n};var i=t.pathInfo.finalRequestPath,s=t.pathInfo.responsePath,a=getClosestAttributeValue(e,"hx-push-url"),l=getClosestAttributeValue(e,"hx-replace-url"),c=getInternalData(e).boosted,h=null,d=null;return a?(h="push",d=a):l?(h="replace",d=l):c&&(h="push",d=s||i),d?"false"===d?{}:("true"===d&&(d=s||i),t.pathInfo.anchor&&-1===d.indexOf("#")&&(d=d+"#"+t.pathInfo.anchor),{type:h,path:d}):{}}function handleAjaxResponse(e,t){var r=t.xhr,n=t.target,o=t.etc;if(triggerEvent(e,"htmx:beforeOnLoad",t)){if(hasHeader(r,/HX-Trigger:/i)&&handleTrigger(r,"HX-Trigger",e),hasHeader(r,/HX-Location:/i)){saveCurrentPageToHistory();var i=r.getResponseHeader("HX-Location");return 0===i.indexOf("{")&&(u=parseJSON(i),i=u.path,delete u.path),void ajaxHelper("GET",i,u).then((function(){pushUrlIntoHistory(i)}))}if(hasHeader(r,/HX-Redirect:/i))location.href=r.getResponseHeader("HX-Redirect");else if(hasHeader(r,/HX-Refresh:/i)&&"true"===r.getResponseHeader("HX-Refresh"))location.reload();else{hasHeader(r,/HX-Retarget:/i)&&(t.target=getDocument().querySelector(r.getResponseHeader("HX-Retarget")));var s=determineHistoryUpdates(e,t),a=r.status>=200&&r.status<400&&204!==r.status,l=r.response,c=r.status>=400,h=mergeObjects({shouldSwap:a,serverResponse:l,isError:c},t);if(triggerEvent(n,"htmx:beforeSwap",h)){if(n=h.target,l=h.serverResponse,c=h.isError,t.failed=c,t.successful=!c,h.shouldSwap){286===r.status&&cancelPolling(e),withExtensions(e,(function(t){l=t.transformResponse(l,r,e)})),s.type&&saveCurrentPageToHistory();var d=o.swapOverride;hasHeader(r,/HX-Reswap:/i)&&(d=r.getResponseHeader("HX-Reswap"));var u=getSwapSpecification(e,d);n.classList.add(htmx.config.swappingClass);var p=function(){try{var o=document.activeElement,i={};try{i={elt:o,start:o?o.selectionStart:null,end:o?o.selectionEnd:null}}catch(e){}var a=makeSettleInfo(n);if(selectAndSwap(u.swapStyle,n,e,l,a),i.elt&&!bodyContains(i.elt)&&i.elt.id){var c=document.getElementById(i.elt.id),h={preventScroll:void 0!==u.focusScroll?!u.focusScroll:!htmx.config.defaultFocusScroll};c&&(i.start&&c.setSelectionRange&&c.setSelectionRange(i.start,i.end),c.focus(h))}if(n.classList.remove(htmx.config.swappingClass),forEach(a.elts,(function(e){e.classList&&e.classList.add(htmx.config.settlingClass),triggerEvent(e,"htmx:afterSwap",t)})),hasHeader(r,/HX-Trigger-After-Swap:/i)){var d=e;bodyContains(e)||(d=getDocument().body),handleTrigger(r,"HX-Trigger-After-Swap",d)}var p=function(){if(forEach(a.tasks,(function(e){e.call()})),forEach(a.elts,(function(e){e.classList&&e.classList.remove(htmx.config.settlingClass),triggerEvent(e,"htmx:afterSettle",t)})),s.type&&("push"===s.type?(pushUrlIntoHistory(s.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:s.path})):(replaceUrlInHistory(s.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:s.path}))),t.pathInfo.anchor){var n=find("#"+t.pathInfo.anchor);n&&n.scrollIntoView({block:"start",behavior:"auto"})}if(a.title){var o=find("title");o?o.innerHTML=a.title:window.document.title=a.title}if(updateScrollState(a.elts,u),hasHeader(r,/HX-Trigger-After-Settle:/i)){var i=e;bodyContains(e)||(i=getDocument().body),handleTrigger(r,"HX-Trigger-After-Settle",i)}};u.settleDelay>0?setTimeout(p,u.settleDelay):p()}catch(r){throw triggerErrorEvent(e,"htmx:swapError",t),r}};u.swapDelay>0?setTimeout(p,u.swapDelay):p()}c&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+r.status+" from "+t.pathInfo.requestPath},t))}}}}var extensions={};function extensionBase(){return{init:function(e){return null},onEvent:function(e,t){return!0},transformResponse:function(e,t,r){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,t,r,n){return!1},encodeParameters:function(e,t,r){return null}}}function defineExtension(e,t){t.init&&t.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),t)}function removeExtension(e){delete extensions[e]}function getExtensions(e,t,r){if(null==e)return t;null==t&&(t=[]),null==r&&(r=[]);var n=getAttributeValue(e,"hx-ext");return n&&forEach(n.split(","),(function(e){if("ignore:"!=(e=e.replace(/ /g,"")).slice(0,7)){if(r.indexOf(e)<0){var n=extensions[e];n&&t.indexOf(n)<0&&t.push(n)}}else r.push(e.slice(7))})),getExtensions(parentElt(e),t,r)}function ready(e){"loading"!==getDocument().readyState?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){!1!==htmx.config.includeIndicatorStyles&&getDocument().head.insertAdjacentHTML("beforeend","<style>                      ."+htmx.config.indicatorClass+"{opacity:0;transition: opacity 200ms ease-in;}                      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1}                      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1}                    </style>")}function getMetaConfig(){var e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){var e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return ready((function(){mergeMetaConfig(),insertIndicatorStyles();var e=getDocument().body;processNode(e);var t=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",(function(e){var t=getInternalData(e.target);t&&t.xhr&&t.xhr.abort()})),window.onpopstate=function(e){e.state&&e.state.htmx&&(restoreHistory(),forEach(t,(function(e){triggerEvent(e,"htmx:restored",{document:getDocument(),triggerEvent:triggerEvent})})))},setTimeout((function(){triggerEvent(e,"htmx:load",{})}),0)})),htmx}()},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},1077:function(e,t,r){var n,o,i;void 0!==r.g?r.g:window||this.window||this.global,o=[],void 0===(i="function"==typeof(n=function(e){"use strict";var t={},r="iziToast",n=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),o=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),i="undefined"!=typeof InstallTrigger,s="ontouchstart"in document.documentElement,a=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],l=568,c={};t.children={};var h={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var d=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r};d.prototype=window.Event.prototype,window.CustomEvent=d}var u=function(e,t,r){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(r,e[n],n,e);else if(e)for(var o=0,i=e.length;i>o;o++)t.call(r,e[o],o,e)},p=function(e,t){var r={};return u(e,(function(t,n){r[n]=e[n]})),u(t,(function(e,n){r[n]=t[n]})),r},f=function(e){var t=document.createDocumentFragment(),r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)t.appendChild(r.firstChild);return t},m={move:function(e,t,n,s){var a,l=.3,c=180;0!==s&&(e.classList.add(r+"-dragged"),e.style.transform="translateX("+s+"px)",s>0?l>(a=(c-s)/c)&&t.hide(p(n,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),e,"drag"):l>(a=(c+s)/c)&&t.hide(p(n,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),e,"drag"),e.style.opacity=a,l>a&&((o||i)&&(e.style.left=s+"px"),e.parentNode.style.opacity=l,this.stopMoving(e,null)))},startMoving:function(e,t,r,n){n=n||window.event;var o=s?n.touches[0].clientX:n.clientX,i=e.style.transform.replace("px)",""),a=o-(i=i.replace("translateX(",""));r.transitionIn&&e.classList.remove(r.transitionIn),r.transitionInMobile&&e.classList.remove(r.transitionInMobile),e.style.transition="",s?document.ontouchmove=function(n){n.preventDefault();var o=(n=n||window.event).touches[0].clientX-a;m.move(e,t,r,o)}:document.onmousemove=function(n){n.preventDefault();var o=(n=n||window.event).clientX-a;m.move(e,t,r,o)}},stopMoving:function(e,t){s?document.ontouchmove=function(){}:document.onmousemove=function(){},e.style.opacity="",e.style.transform="",e.classList.contains(r+"-dragged")&&(e.classList.remove(r+"-dragged"),e.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout((function(){e.style.transition=""}),400))}};return t.setSetting=function(e,r,n){t.children[e][r]=n},t.getSetting=function(e,r){return t.children[e][r]},t.destroy=function(){u(document.querySelectorAll("."+r+"-overlay"),(function(e,t){e.remove()})),u(document.querySelectorAll("."+r+"-wrapper"),(function(e,t){e.remove()})),u(document.querySelectorAll("."+r),(function(e,t){e.remove()})),this.children={},document.removeEventListener(r+"-opened",{},!1),document.removeEventListener(r+"-opening",{},!1),document.removeEventListener(r+"-closing",{},!1),document.removeEventListener(r+"-closed",{},!1),document.removeEventListener("keyup",{},!1),c={}},t.settings=function(e){t.destroy(),c=e,h=p(h,e||{})},u({info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},(function(e,r){t[r]=function(t){var r=p(c,t||{});r=p(e,r||{}),this.show(r)}})),t.progress=function(e,t,n){var o=this,i=t.getAttribute("data-iziToast-ref"),s=p(this.children[i],e||{}),a=t.querySelector("."+r+"-progressbar div");return{start:function(){void 0===s.time.REMAINING&&(t.classList.remove(r+"-reseted"),null!==a&&(a.style.transition="width "+s.timeout+"ms "+s.progressBarEasing,a.style.width="0%"),s.time.START=(new Date).getTime(),s.time.END=s.time.START+s.timeout,s.time.TIMER=setTimeout((function(){clearTimeout(s.time.TIMER),t.classList.contains(r+"-closing")||(o.hide(s,t,"timeout"),"function"==typeof n&&n.apply(o))}),s.timeout),o.setSetting(i,"time",s.time))},pause:function(){if(void 0!==s.time.START&&!t.classList.contains(r+"-paused")&&!t.classList.contains(r+"-reseted")){if(t.classList.add(r+"-paused"),s.time.REMAINING=s.time.END-(new Date).getTime(),clearTimeout(s.time.TIMER),o.setSetting(i,"time",s.time),null!==a){var e=window.getComputedStyle(a).getPropertyValue("width");a.style.transition="none",a.style.width=e}"function"==typeof n&&setTimeout((function(){n.apply(o)}),10)}},resume:function(){void 0!==s.time.REMAINING?(t.classList.remove(r+"-paused"),null!==a&&(a.style.transition="width "+s.time.REMAINING+"ms "+s.progressBarEasing,a.style.width="0%"),s.time.END=(new Date).getTime()+s.time.REMAINING,s.time.TIMER=setTimeout((function(){clearTimeout(s.time.TIMER),t.classList.contains(r+"-closing")||(o.hide(s,t,"timeout"),"function"==typeof n&&n.apply(o))}),s.time.REMAINING),o.setSetting(i,"time",s.time)):this.start()},reset:function(){clearTimeout(s.time.TIMER),delete s.time.REMAINING,o.setSetting(i,"time",s.time),t.classList.add(r+"-reseted"),t.classList.remove(r+"-paused"),null!==a&&(a.style.transition="none",a.style.width="100%"),"function"==typeof n&&setTimeout((function(){n.apply(o)}),10)}}},t.hide=function(e,t,o){"object"!=typeof t&&(t=document.querySelector(t));var i=this,s=p(this.children[t.getAttribute("data-iziToast-ref")],e||{});s.closedBy=o||null,delete s.time.REMAINING,t.classList.add(r+"-closing"),function(){var e=document.querySelector("."+r+"-overlay");if(null!==e){var t=e.getAttribute("data-iziToast-ref"),n=(t=t.split(",")).indexOf(String(s.ref));-1!==n&&t.splice(n,1),e.setAttribute("data-iziToast-ref",t.join()),0===t.length&&(e.classList.remove("fadeIn"),e.classList.add("fadeOut"),setTimeout((function(){e.remove()}),700))}}(),s.transitionIn&&t.classList.remove(s.transitionIn),s.transitionInMobile&&t.classList.remove(s.transitionInMobile),n||window.innerWidth<=l?s.transitionOutMobile&&t.classList.add(s.transitionOutMobile):s.transitionOut&&t.classList.add(s.transitionOut);var a=t.parentNode.offsetHeight;t.parentNode.style.height=a+"px",t.style.pointerEvents="none",(!n||window.innerWidth>l)&&(t.parentNode.style.transitionDelay="0.2s");try{var c=new CustomEvent(r+"-closing",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(c)}catch(e){console.warn(e)}setTimeout((function(){t.parentNode.style.height="0px",t.parentNode.style.overflow="",setTimeout((function(){delete i.children[s.ref],t.parentNode.remove();try{var e=new CustomEvent(r+"-closed",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}void 0!==s.onClosed&&s.onClosed.apply(null,[s,t,o])}),1e3)}),200),void 0!==s.onClosing&&s.onClosing.apply(null,[s,t,o])},t.show=function(e){var o=this,i=p(c,e||{});if((i=p(h,i)).time={},null===i.id&&(i.id=function(e){return btoa(encodeURIComponent(e)).replace(/=/g,"")}(i.title+i.message+i.color)),1===i.displayMode||"once"==i.displayMode)try{if(document.querySelectorAll("."+r+"#"+i.id).length>0)return!1}catch(e){console.warn("["+r+"] Could not find an element with this selector: #"+i.id+". Try to set an valid id.")}if(2===i.displayMode||"replace"==i.displayMode)try{u(document.querySelectorAll("."+r+"#"+i.id),(function(e,t){o.hide(i,e,"replaced")}))}catch(e){console.warn("["+r+"] Could not find an element with this selector: #"+i.id+". Try to set an valid id.")}i.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),t.children[i.ref]=i;var d,g={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:i.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};g.toast.setAttribute("data-iziToast-ref",i.ref),g.toast.appendChild(g.toastBody),g.toastCapsule.appendChild(g.toast),function(){if(g.toast.classList.add(r),g.toast.classList.add(r+"-opening"),g.toastCapsule.classList.add(r+"-capsule"),g.toastBody.classList.add(r+"-body"),g.toastTexts.classList.add(r+"-texts"),n||window.innerWidth<=l?i.transitionInMobile&&g.toast.classList.add(i.transitionInMobile):i.transitionIn&&g.toast.classList.add(i.transitionIn),i.class){var e=i.class.split(" ");u(e,(function(e,t){g.toast.classList.add(e)}))}i.id&&(g.toast.id=i.id),i.rtl&&(g.toast.classList.add(r+"-rtl"),g.toast.setAttribute("dir","rtl")),i.layout>1&&g.toast.classList.add(r+"-layout"+i.layout),i.balloon&&g.toast.classList.add(r+"-balloon"),i.maxWidth&&(isNaN(i.maxWidth)?g.toast.style.maxWidth=i.maxWidth:g.toast.style.maxWidth=i.maxWidth+"px"),""===i.theme&&"light"===i.theme||g.toast.classList.add(r+"-theme-"+i.theme),i.color&&(function(e){return"#"==e.substring(0,1)||"rgb"==e.substring(0,3)||"hsl"==e.substring(0,3)}(i.color)?g.toast.style.background=i.color:g.toast.classList.add(r+"-color-"+i.color)),i.backgroundColor&&(g.toast.style.background=i.backgroundColor,i.balloon&&(g.toast.style.borderColor=i.backgroundColor))}(),i.image&&(g.cover.classList.add(r+"-cover"),g.cover.style.width=i.imageWidth+"px",function(e){try{return btoa(atob(e))==e}catch(e){return!1}}(i.image.replace(/ /g,""))?g.cover.style.backgroundImage="url(data:image/png;base64,"+i.image.replace(/ /g,"")+")":g.cover.style.backgroundImage="url("+i.image+")",i.rtl?g.toastBody.style.marginRight=i.imageWidth+10+"px":g.toastBody.style.marginLeft=i.imageWidth+10+"px",g.toast.appendChild(g.cover)),i.close?(g.buttonClose=document.createElement("button"),g.buttonClose.type="button",g.buttonClose.classList.add(r+"-close"),g.buttonClose.addEventListener("click",(function(e){e.target,o.hide(i,g.toast,"button")})),g.toast.appendChild(g.buttonClose)):i.rtl?g.toast.style.paddingLeft="18px":g.toast.style.paddingRight="18px",i.progressBar&&(g.progressBar=document.createElement("div"),g.progressBarDiv=document.createElement("div"),g.progressBar.classList.add(r+"-progressbar"),g.progressBarDiv.style.background=i.progressBarColor,g.progressBar.appendChild(g.progressBarDiv),g.toast.appendChild(g.progressBar)),i.timeout&&(i.pauseOnHover&&!i.resetOnHover&&(g.toast.addEventListener("mouseenter",(function(e){o.progress(i,g.toast).pause()})),g.toast.addEventListener("mouseleave",(function(e){o.progress(i,g.toast).resume()}))),i.resetOnHover&&(g.toast.addEventListener("mouseenter",(function(e){o.progress(i,g.toast).reset()})),g.toast.addEventListener("mouseleave",(function(e){o.progress(i,g.toast).start()})))),i.iconUrl?(g.icon.setAttribute("class",r+"-icon"),g.icon.setAttribute("src",i.iconUrl)):i.icon&&(g.icon.setAttribute("class",r+"-icon "+i.icon),i.iconText&&g.icon.appendChild(document.createTextNode(i.iconText)),i.iconColor&&(g.icon.style.color=i.iconColor)),(i.icon||i.iconUrl)&&(i.rtl?g.toastBody.style.paddingRight="33px":g.toastBody.style.paddingLeft="33px",g.toastBody.appendChild(g.icon)),i.title.length>0&&(g.strong=document.createElement("strong"),g.strong.classList.add(r+"-title"),g.strong.appendChild(f(i.title)),g.toastTexts.appendChild(g.strong),i.titleColor&&(g.strong.style.color=i.titleColor),i.titleSize&&(isNaN(i.titleSize)?g.strong.style.fontSize=i.titleSize:g.strong.style.fontSize=i.titleSize+"px"),i.titleLineHeight&&(isNaN(i.titleSize)?g.strong.style.lineHeight=i.titleLineHeight:g.strong.style.lineHeight=i.titleLineHeight+"px")),i.message.length>0&&(g.p=document.createElement("p"),g.p.classList.add(r+"-message"),g.p.appendChild(f(i.message)),g.toastTexts.appendChild(g.p),i.messageColor&&(g.p.style.color=i.messageColor),i.messageSize&&(isNaN(i.titleSize)?g.p.style.fontSize=i.messageSize:g.p.style.fontSize=i.messageSize+"px"),i.messageLineHeight&&(isNaN(i.titleSize)?g.p.style.lineHeight=i.messageLineHeight:g.p.style.lineHeight=i.messageLineHeight+"px")),i.title.length>0&&i.message.length>0&&(i.rtl?g.strong.style.marginLeft="10px":2===i.layout||i.rtl||(g.strong.style.marginRight="10px")),g.toastBody.appendChild(g.toastTexts),i.inputs.length>0&&(g.inputs.classList.add(r+"-inputs"),u(i.inputs,(function(e,t){g.inputs.appendChild(f(e[0])),(d=g.inputs.childNodes)[t].classList.add(r+"-inputs-child"),e[3]&&setTimeout((function(){d[t].focus()}),300),d[t].addEventListener(e[1],(function(t){return(0,e[2])(o,g.toast,this,t)}))})),g.toastBody.appendChild(g.inputs)),i.buttons.length>0&&(g.buttons.classList.add(r+"-buttons"),u(i.buttons,(function(e,t){g.buttons.appendChild(f(e[0]));var n=g.buttons.childNodes;n[t].classList.add(r+"-buttons-child"),e[2]&&setTimeout((function(){n[t].focus()}),300),n[t].addEventListener("click",(function(t){return t.preventDefault(),(0,e[1])(o,g.toast,this,t,d)}))}))),g.toastBody.appendChild(g.buttons),i.message.length>0&&(i.inputs.length>0||i.buttons.length>0)&&(g.p.style.marginBottom="0"),(i.inputs.length>0||i.buttons.length>0)&&(i.rtl?g.toastTexts.style.marginLeft="10px":g.toastTexts.style.marginRight="10px",i.inputs.length>0&&i.buttons.length>0&&(i.rtl?g.inputs.style.marginLeft="8px":g.inputs.style.marginRight="8px")),g.toastCapsule.style.visibility="hidden",setTimeout((function(){var e=g.toast.offsetHeight,t=g.toast.currentStyle||window.getComputedStyle(g.toast),r=t.marginTop;r=r.split("px"),r=parseInt(r[0]);var n=t.marginBottom;n=n.split("px"),n=parseInt(n[0]),g.toastCapsule.style.visibility="",g.toastCapsule.style.height=e+n+r+"px",setTimeout((function(){g.toastCapsule.style.height="auto",i.target&&(g.toastCapsule.style.overflow="visible")}),500),i.timeout&&o.progress(i,g.toast).start()}),100),function(){var e=i.position;if(i.target)g.wrapper=document.querySelector(i.target),g.wrapper.classList.add(r+"-target"),i.targetFirst?g.wrapper.insertBefore(g.toastCapsule,g.wrapper.firstChild):g.wrapper.appendChild(g.toastCapsule);else{if(-1==a.indexOf(i.position))return void console.warn("["+r+"] Incorrect position.\nIt can be  "+a);e=n||window.innerWidth<=l?"bottomLeft"==i.position||"bottomRight"==i.position||"bottomCenter"==i.position?r+"-wrapper-bottomCenter":"topLeft"==i.position||"topRight"==i.position||"topCenter"==i.position?r+"-wrapper-topCenter":r+"-wrapper-center":r+"-wrapper-"+e,g.wrapper=document.querySelector("."+r+"-wrapper."+e),g.wrapper||(g.wrapper=document.createElement("div"),g.wrapper.classList.add(r+"-wrapper"),g.wrapper.classList.add(e),document.body.appendChild(g.wrapper)),"topLeft"==i.position||"topCenter"==i.position||"topRight"==i.position?g.wrapper.insertBefore(g.toastCapsule,g.wrapper.firstChild):g.wrapper.appendChild(g.toastCapsule)}isNaN(i.zindex)?console.warn("["+r+"] Invalid zIndex."):g.wrapper.style.zIndex=i.zindex}(),i.overlay&&(null!==document.querySelector("."+r+"-overlay.fadeIn")?(g.overlay=document.querySelector("."+r+"-overlay"),g.overlay.setAttribute("data-iziToast-ref",g.overlay.getAttribute("data-iziToast-ref")+","+i.ref),isNaN(i.zindex)||null===i.zindex||(g.overlay.style.zIndex=i.zindex-1)):(g.overlay.classList.add(r+"-overlay"),g.overlay.classList.add("fadeIn"),g.overlay.style.background=i.overlayColor,g.overlay.setAttribute("data-iziToast-ref",i.ref),isNaN(i.zindex)||null===i.zindex||(g.overlay.style.zIndex=i.zindex-1),document.querySelector("body").appendChild(g.overlay)),i.overlayClose?(g.overlay.removeEventListener("click",{}),g.overlay.addEventListener("click",(function(e){o.hide(i,g.toast,"overlay")}))):g.overlay.removeEventListener("click",{})),function(){if(i.animateInside){g.toast.classList.add(r+"-animateInside");var e=[200,100,300];"bounceInLeft"!=i.transitionIn&&"bounceInRight"!=i.transitionIn||(e=[400,200,400]),i.title.length>0&&setTimeout((function(){g.strong.classList.add("slideIn")}),e[0]),i.message.length>0&&setTimeout((function(){g.p.classList.add("slideIn")}),e[1]),(i.icon||i.iconUrl)&&setTimeout((function(){g.icon.classList.add("revealIn")}),e[2]);var t=150;i.buttons.length>0&&g.buttons&&setTimeout((function(){u(g.buttons.childNodes,(function(e,r){setTimeout((function(){e.classList.add("revealIn")}),t),t+=150}))}),i.inputs.length>0?150:0),i.inputs.length>0&&g.inputs&&(t=150,u(g.inputs.childNodes,(function(e,r){setTimeout((function(){e.classList.add("revealIn")}),t),t+=150})))}}(),i.onOpening.apply(null,[i,g.toast]);try{var v=new CustomEvent(r+"-opening",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(v)}catch(e){console.warn(e)}setTimeout((function(){g.toast.classList.remove(r+"-opening"),g.toast.classList.add(r+"-opened");try{var e=new CustomEvent(r+"-opened",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}i.onOpened.apply(null,[i,g.toast])}),1e3),i.drag&&(s?(g.toast.addEventListener("touchstart",(function(e){m.startMoving(this,o,i,e)}),!1),g.toast.addEventListener("touchend",(function(e){m.stopMoving(this,e)}),!1)):(g.toast.addEventListener("mousedown",(function(e){e.preventDefault(),m.startMoving(this,o,i,e)}),!1),g.toast.addEventListener("mouseup",(function(e){e.preventDefault(),m.stopMoving(this,e)}),!1))),i.closeOnEscape&&document.addEventListener("keyup",(function(e){27==(e=e||window.event).keyCode&&o.hide(i,g.toast,"esc")})),i.closeOnClick&&g.toast.addEventListener("click",(function(e){o.hide(i,g.toast,"toast")})),o.toast=g.toast},t}())?n.apply(t,o):n)||(e.exports=i)},1094:function(e,t,r){var n;!function(){"use strict";var o="input is invalid type",i="object"==typeof window,s=i?window:{};s.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&"object"==typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?s=r.g:a&&(s=self);var l=!s.JS_SHA3_NO_COMMON_JS&&e.exports,c=r.amdO,h=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),u=[4,1024,262144,67108864],p=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],g=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!h||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,r){return function(n){return new R(e,t,e).update(n)[r]()}},w=function(e,t,r){return function(n,o){return new R(e,t,o).update(n)[r]()}},x=function(e,t,r){return function(t,n,o,i){return k["cshake"+e].update(t,n,o,i)[r]()}},_=function(e,t,r){return function(t,n,o,i){return k["kmac"+e].update(t,n,o,i)[r]()}},E=function(e,t,r,n){for(var o=0;o<v.length;++o){var i=v[o];e[i]=t(r,n,i)}return e},C=function(e,t){var r=b(e,t,"hex");return r.create=function(){return new R(e,t,e)},r.update=function(e){return r.create().update(e)},E(r,b,e,t)},S=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:C},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:C},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var r=w(e,t,"hex");return r.create=function(r){return new R(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},E(r,w,e,t)}},{name:"cshake",padding:u,bits:g,createMethod:function(e,t){var r=y[e],n=x(e,0,"hex");return n.create=function(n,o,i){return o||i?new R(e,t,n).bytepad([o,i],r):k["shake"+e].create(n)},n.update=function(e,t,r,o){return n.create(t,r,o).update(e)},E(n,x,e,t)}},{name:"kmac",padding:u,bits:g,createMethod:function(e,t){var r=y[e],n=_(e,0,"hex");return n.create=function(n,o,i){return new F(e,t,o).bytepad(["KMAC",i],r).bytepad([n],r)},n.update=function(e,t,r,o){return n.create(e,r,o).update(t)},E(n,_,e,t)}}],k={},A=[],P=0;P<S.length;++P)for(var T=S[P],M=T.bits,O=0;O<M.length;++O){var D=T.name+"_"+M[O];if(A.push(D),k[D]=T.createMethod(M[O],T.padding),"sha3"!==T.name){var I=T.name+M[O];A.push(I),k[I]=k[D]}}function R(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function F(e,t,r){R.call(this,e,t,r)}R.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(o);if(null===e)throw new Error(o);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}for(var n,i,s=this.blocks,a=this.byteCount,l=e.length,c=this.blockCount,d=0,u=this.s;d<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<c+1;++n)s[n]=0;if(t)for(n=this.start;d<l&&n<a;++d)s[n>>2]|=e[d]<<p[3&n++];else for(n=this.start;d<l&&n<a;++d)(i=e.charCodeAt(d))<128?s[n>>2]|=i<<p[3&n++]:i<2048?(s[n>>2]|=(192|i>>6)<<p[3&n++],s[n>>2]|=(128|63&i)<<p[3&n++]):i<55296||i>=57344?(s[n>>2]|=(224|i>>12)<<p[3&n++],s[n>>2]|=(128|i>>6&63)<<p[3&n++],s[n>>2]|=(128|63&i)<<p[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++d)),s[n>>2]|=(240|i>>18)<<p[3&n++],s[n>>2]|=(128|i>>12&63)<<p[3&n++],s[n>>2]|=(128|i>>6&63)<<p[3&n++],s[n>>2]|=(128|63&i)<<p[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[c],n=0;n<c;++n)u[n]^=s[n];B(u),this.reset=!0}else this.start=n}return this},R.prototype.encode=function(e,t){var r=255&e,n=1,o=[r];for(r=255&(e>>=8);r>0;)o.unshift(r),r=255&(e>>=8),++n;return t?o.push(n):o.unshift(n),this.update(o),o.length},R.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(o);if(null===e)throw new Error(o);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(o);t=!0}var n=0,i=e.length;if(t)n=i;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},R.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var o=t-r%t,i=[];return i.length=o,this.update(i),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];B(n)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,i=0,s=0,a="";s<n;){for(i=0;i<t&&s<n;++i,++s)e=r[i],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t==0&&(B(r),i=0)}return o&&(e=r[i],a+=d[e>>4&15]+d[15&e],o>1&&(a+=d[e>>12&15]+d[e>>8&15]),o>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},R.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,i=0,s=0,a=this.outputBits>>3;e=o?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(e);s<n;){for(i=0;i<t&&s<n;++i,++s)l[s]=r[i];s%t==0&&B(r)}return o&&(l[i]=r[i],e=e.slice(0,a)),e},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,o=this.outputBlocks,i=this.extraBytes,s=0,a=0,l=[];a<o;){for(s=0;s<r&&a<o;++s,++a)e=a<<2,t=n[s],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;a%r==0&&B(n)}return i&&(e=a<<2,t=n[s],l[e]=255&t,i>1&&(l[e+1]=t>>8&255),i>2&&(l[e+2]=t>>16&255)),l},F.prototype=new R,F.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var B=function(e){var t,r,n,o,i,s,a,l,c,h,d,u,p,m,g,v,y,b,w,x,_,E,C,S,k,A,P,T,M,O,D,I,R,F,B,N,L,V,z,H,j,G,U,q,W,$,Z,K,Y,X,J,Q,ee,te,re,ne,oe,ie,se,ae,le,ce,he;for(n=0;n<48;n+=2)o=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(u=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=o^(l<<1|c>>>31),r=i^(c<<1|l>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(h<<1|d>>>31),r=a^(d<<1|h>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=l^(u<<1|p>>>31),r=c^(p<<1|u>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=h^(o<<1|i>>>31),r=d^(i<<1|o>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],g=e[1],$=e[11]<<4|e[10]>>>28,Z=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,M=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,le=e[30]<<9|e[31]>>>23,G=e[40]<<18|e[41]>>>14,U=e[41]<<18|e[40]>>>14,F=e[2]<<1|e[3]>>>31,B=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,K=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,O=e[33]<<13|e[32]>>>19,D=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,N=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,J=e[35]<<15|e[34]>>>17,I=e[45]<<29|e[44]>>>3,R=e[44]<<29|e[45]>>>3,S=e[6]<<28|e[7]>>>4,k=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,oe=e[16]<<23|e[17]>>>9,V=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,x=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,P=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,H=e[38]<<8|e[39]>>>24,j=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,C=e[49]<<14|e[48]>>>18,e[0]=m^~v&b,e[1]=g^~y&w,e[10]=S^~A&T,e[11]=k^~P&M,e[20]=F^~N&V,e[21]=B^~L&z,e[30]=q^~$&K,e[31]=W^~Z&Y,e[40]=te^~ne&ie,e[41]=re^~oe&se,e[2]=v^~b&x,e[3]=y^~w&_,e[12]=A^~T&O,e[13]=P^~M&D,e[22]=N^~V&H,e[23]=L^~z&j,e[32]=$^~K&X,e[33]=Z^~Y&J,e[42]=ne^~ie&ae,e[43]=oe^~se&le,e[4]=b^~x&E,e[5]=w^~_&C,e[14]=T^~O&I,e[15]=M^~D&R,e[24]=V^~H&G,e[25]=z^~j&U,e[34]=K^~X&Q,e[35]=Y^~J&ee,e[44]=ie^~ae&ce,e[45]=se^~le&he,e[6]=x^~E&m,e[7]=_^~C&g,e[16]=O^~I&S,e[17]=D^~R&k,e[26]=H^~G&F,e[27]=j^~U&B,e[36]=X^~Q&q,e[37]=J^~ee&W,e[46]=ae^~ce&te,e[47]=le^~he&re,e[8]=E^~m&v,e[9]=C^~g&y,e[18]=I^~S&A,e[19]=R^~k&P,e[28]=G^~F&N,e[29]=U^~B&L,e[38]=Q^~q&$,e[39]=ee^~W&Z,e[48]=ce^~te&ne,e[49]=he^~re&oe,e[0]^=f[n],e[1]^=f[n+1]};if(l)e.exports=k;else{for(P=0;P<A.length;++P)s[A[P]]=k[A[P]];c&&(void 0===(n=function(){return k}.call(t,r,t,e))||(e.exports=n))}}()},1248:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,n,o=e.length;for(r=0;r<o;r+=1)for(var i in n=e[r].prototype)Object.prototype.hasOwnProperty.call(n,i)&&(t.prototype[i]=n[i])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var r,n=0,o=[];switch(e){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<t;n+=1)o.push(r);return o}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,r){return"float32"===t?new Float32Array(r):"int16"===t?new Int16Array(r):"uint8c"===t?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,r=createSizedArray(e.length),n=e.length;for(t=0;t<n;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,n){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,n){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=n<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,r){var n,o,i,s,a,l,c,h;switch(l=r*(1-t),c=r*(1-(a=6*e-(s=Math.floor(6*e)))*t),h=r*(1-(1-a)*t),s%6){case 0:n=r,o=h,i=l;break;case 1:n=c,o=r,i=l;break;case 2:n=l,o=r,i=h;break;case 3:n=l,o=c,i=r;break;case 4:n=h,o=l,i=r;break;case 5:n=r,o=l,i=c}return[n,o,i]}function RGBtoHSV(e,t,r){var n,o=Math.max(e,t,r),i=Math.min(e,t,r),s=o-i,a=0===o?0:s/o,l=o/255;switch(o){case i:n=0;break;case e:n=t-r+s*(t<r?6:0),n/=6*s;break;case t:n=r-e+2*s,n/=6*s;break;case r:n=e-t+4*s,n/=6*s}return[n,a,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=1===t.length?"0"+t:t;return function(e,t,n){return e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),"#"+r[e]+r[t]+r[n]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(e)}var dataManager=function(){var e,t,r=1,n=[],o={onmessage:function(){},postMessage:function(t){e({data:t})}},i={postMessage:function(e){o.onmessage({data:e})}};function s(){t||(t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),n=URL.createObjectURL(r);return new Worker(n)}return e=t,o}((function(e){if(i.dataManager||(i.dataManager=function(){function e(o,i){var s,a,l,c,h,d,u,p=o.length;for(a=0;a<p;a+=1)if("ks"in(s=o[a])&&!s.completed){if(s.completed=!0,s.hasMask){var f=s.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)n(f[l].pt.k);else for(d=f[l].pt.k.length,h=0;h<d;h+=1)f[l].pt.k[h].s&&n(f[l].pt.k[h].s[0]),f[l].pt.k[h].e&&n(f[l].pt.k[h].e[0])}0===s.ty?(s.layers=t(s.refId,i),e(s.layers,i)):4===s.ty?r(s.shapes):5===s.ty&&(0===(u=s).t.a.length&&u.t.p)}}function t(e,t){var r=function(e,t){for(var r=0,n=t.length;r<n;){if(t[r].id===e)return t[r];r+=1}return null}(e,t);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(e){var t,o,i;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)n(e[t].ks.k);else for(i=e[t].ks.k.length,o=0;o<i;o+=1)e[t].ks.k[o].s&&n(e[t].ks.k[o].s[0]),e[t].ks.k[o].e&&n(e[t].ks.k[o].e[0]);else"gr"===e[t].ty&&r(e[t].it)}function n(e){var t,r=e.i.length;for(t=0;t<r;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function o(e,t){var r=t?t.split("."):[100,100,100];return e[0]>r[0]||!(r[0]>e[0])&&(e[1]>r[1]||!(r[1]>e[1])&&(e[2]>r[2]||!(r[2]>e[2])&&null))}var i,s=function(){var e=[4,4,14];function t(e){var t,r,n,o=e.length;for(t=0;t<o;t+=1)5===e[t].ty&&(void 0,n=(r=e[t]).t.d,r.t.d={k:[{s:n,t:0}]})}return function(r){if(o(e,r.v)&&(t(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&t(r.assets[n].layers)}}}(),a=(i=[4,7,99],function(e){if(e.chars&&!o(i,e.v)){var t,n=e.chars.length;for(t=0;t<n;t+=1){var s=e.chars[t];s.data&&s.data.shapes&&(r(s.data.shapes),s.data.ip=0,s.data.op=99999,s.data.st=0,s.data.sr=1,s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[t].t||(s.data.shapes.push({ty:"no"}),s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var e=[5,7,15];function t(e){var t,r,n=e.length;for(t=0;t<n;t+=1)5===e[t].ty&&(r=void 0,"number"==typeof(r=e[t].t.p).a&&(r.a={a:0,k:r.a}),"number"==typeof r.p&&(r.p={a:0,k:r.p}),"number"==typeof r.r&&(r.r={a:0,k:r.r}))}return function(r){if(o(e,r.v)&&(t(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&t(r.assets[n].layers)}}}(),c=function(){var e=[4,1,9];function t(e){var r,n,o,i=e.length;for(r=0;r<i;r+=1)if("gr"===e[r].ty)t(e[r].it);else if("fl"===e[r].ty||"st"===e[r].ty)if(e[r].c.k&&e[r].c.k[0].i)for(o=e[r].c.k.length,n=0;n<o;n+=1)e[r].c.k[n].s&&(e[r].c.k[n].s[0]/=255,e[r].c.k[n].s[1]/=255,e[r].c.k[n].s[2]/=255,e[r].c.k[n].s[3]/=255),e[r].c.k[n].e&&(e[r].c.k[n].e[0]/=255,e[r].c.k[n].e[1]/=255,e[r].c.k[n].e[2]/=255,e[r].c.k[n].e[3]/=255);else e[r].c.k[0]/=255,e[r].c.k[1]/=255,e[r].c.k[2]/=255,e[r].c.k[3]/=255}function r(e){var r,n=e.length;for(r=0;r<n;r+=1)4===e[r].ty&&t(e[r].shapes)}return function(t){if(o(e,t.v)&&(r(t.layers),t.assets)){var n,i=t.assets.length;for(n=0;n<i;n+=1)t.assets[n].layers&&r(t.assets[n].layers)}}}(),h=function(){var e=[4,4,18];function t(e){var r,n,o;for(r=e.length-1;r>=0;r-=1)if("sh"===e[r].ty)if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(o=e[r].ks.k.length,n=0;n<o;n+=1)e[r].ks.k[n].s&&(e[r].ks.k[n].s[0].c=e[r].closed),e[r].ks.k[n].e&&(e[r].ks.k[n].e[0].c=e[r].closed);else"gr"===e[r].ty&&t(e[r].it)}function r(e){var r,n,o,i,s,a,l=e.length;for(n=0;n<l;n+=1){if((r=e[n]).hasMask){var c=r.masksProperties;for(i=c.length,o=0;o<i;o+=1)if(c[o].pt.k.i)c[o].pt.k.c=c[o].cl;else for(a=c[o].pt.k.length,s=0;s<a;s+=1)c[o].pt.k[s].s&&(c[o].pt.k[s].s[0].c=c[o].cl),c[o].pt.k[s].e&&(c[o].pt.k[s].e[0].c=c[o].cl)}4===r.ty&&t(r.shapes)}}return function(t){if(o(e,t.v)&&(r(t.layers),t.assets)){var n,i=t.assets.length;for(n=0;n<i;n+=1)t.assets[n].layers&&r(t.assets[n].layers)}}}();var d={completeData:function(r){r.__complete||(c(r),s(r),a(r),l(r),h(r),e(r.layers,r.assets),function(r,n){if(r){var o=0,i=r.length;for(o=0;o<i;o+=1)1===r[o].t&&(r[o].data.layers=t(r[o].data.refId,n),e(r[o].data.layers,n))}}(r.chars,r.assets),r.__complete=!0)}};return d.checkColors=c,d.checkChars=a,d.checkPathProperties=l,d.checkShapes=h,d.completeLayers=e,d}()),i.assetLoader||(i.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,r,n,o){var i,s=new XMLHttpRequest;try{s.responseType="json"}catch(e){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)i=e(s),n(i);else try{i=e(s),n(i)}catch(e){o&&o(e)}};try{s.open(["G","E","T"].join(""),t,!0)}catch(e){s.open(["G","E","T"].join(""),r+"/"+t,!0)}s.send()}}}()),"loadAnimation"===e.data.type)i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var t=e.data.animation;i.dataManager.completeData(t),i.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&i.assetLoader.load(e.data.path,e.data.fullPath,(function(t){i.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){i.postMessage({id:e.data.id,status:"error"})}))})),t.onmessage=function(e){var t=e.data,r=t.id,o=n[r];n[r]=null,"success"===t.status?o.onComplete(t.payload):o.onError&&o.onError()})}function a(e,t){var o="processId_"+(r+=1);return n[o]={onComplete:e,onError:t},o}return{loadAnimation:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},loadData:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:o})},completeAnimation:function(e,r,n){s();var o=a(r,n);t.postMessage({type:"complete",animation:e,id:o})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(e,t,r){var n="";if(e.e)n=e.p;else if(t){var o=e.p;-1!==o.indexOf("images/")&&(o=o.split("/")[1]),n=t+o}else n=r,n+=e.u?e.u:"",n+=e.p;return n}function o(e){var t=0,r=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(r)),t+=1}.bind(this),50)}function i(e){var t={assetData:e},r=n(e,this.assetsPath,this.path);return dataManager.loadData(r,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function s(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=i.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return s.prototype={loadAssets:function(e,t){var r;this.imagesLoadedCb=t;var n=e.length;for(r=0;r<n;r+=1)e[r].layers||(e[r].t&&"seq"!==e[r].t?3===e[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[r]))):(this.totalImages+=1,this.images.push(this._createImageData(e[r]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,r=this.images.length;t<r;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var r=n(t,this.assetsPath,this.path),o=createTag("img");o.crossOrigin="anonymous",o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.src=r;var i={img:o,assetData:t};return i},createImageData:function(t){var r=n(t,this.assetsPath,this.path),o=createNS("image");isSafari?this.testImageLoaded(o):o.addEventListener("load",this._imageLoaded,!1),o.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),o.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(o):this._elementHelper.appendChild(o);var i={img:o,assetData:t};return i},imageLoaded:t,footageLoaded:r,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},s}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],n=0;n<r.length;n+=1)r[n](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,n=this._cbs[e].length;r<n;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,n-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,r=e.split("\r\n"),n={},o=0,i=0;i<r.length;i+=1)2===(t=r[i].split(":")).length&&(n[t[0]]=t[1].trim(),o+=1);if(0===o)throw new Error;return n}return function(t){for(var r=[],n=0;n<t.length;n+=1){var o=t[n],i={time:o.tm,duration:o.dr};try{i.payload=JSON.parse(t[n].cm)}catch(r){try{i.payload=e(t[n].cm)}catch(e){i.payload={name:t[n].cm}}}r.push(i)}return r}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,r=this.compositions.length;t<r;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function _typeof$4(e){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},n=e.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var o=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===o?r.loop=!1:"true"===o?r.loop=!0:""!==o&&(r.loop=parseInt(o,10));var i=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;r.autoplay="false"!==i,r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,n=this.animationData.layers,o=n.length,i=e.layers,s=i.length;for(r=0;r<s;r+=1)for(t=0;t<o;){if(n[t].id===i[r].id){n[t]=i[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(o=e.assets.length,t=0;t<o;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var r="number"==typeof e?e:void 0,n="number"==typeof t?t:void 0;this.renderer.updateContainerSize(r,n)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var n=Number(e);if(isNaN(n)){var o=this.getMarkerData(e);o&&this.goToAndStop(o.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var n=Number(e);if(isNaN(n)){var o=this.getMarkerData(e);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(n,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var r,n=e.length;for(r=0;r<n;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{this.renderer.getElementByPath(e).updateDocumentData(t,r)}catch(e){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,n=0,o=0,i=!0,s=!1;function a(e){for(var r=0,o=e.target;r<n;)t[r].animation===o&&(t.splice(r,1),r-=1,n-=1,o.isPaused||h()),r+=1}function l(e,r){if(!e)return null;for(var o=0;o<n;){if(t[o].elem===e&&null!==t[o].elem)return t[o].animation;o+=1}var i=new AnimationItem;return d(i,e),i.setData(e,r),i}function c(){o+=1,f()}function h(){o-=1}function d(e,r){e.addEventListener("destroy",a),e.addEventListener("_active",c),e.addEventListener("_idle",h),t.push({elem:r,animation:e}),n+=1}function u(e){var a,l=e-r;for(a=0;a<n;a+=1)t[a].animation.advanceTime(l);r=e,o&&!s?window.requestAnimationFrame(u):i=!0}function p(e){r=e,window.requestAnimationFrame(u)}function f(){!s&&o&&i&&(window.requestAnimationFrame(p),i=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return d(t,null),t.setParams(e),t},e.setSpeed=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setSpeed(e,r)},e.setDirection=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setDirection(e,r)},e.play=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.play(e)},e.pause=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.pause(e)},e.stop=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.stop(e)},e.togglePause=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.togglePause(e)},e.searchAnimations=function(e,t,r){var n,o=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=o.length;for(n=0;n<i;n+=1)r&&o[n].setAttribute("data-bm-type",r),l(o[n],e);if(t&&0===i){r||(r="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",r),s.appendChild(a),l(a,e)}},e.resize=function(){var e;for(e=0;e<n;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,r,o){var i;for(i=0;i<n;i+=1)t[i].animation.goToAndStop(e,r,o)},e.destroy=function(e){var r;for(r=n-1;r>=0;r-=1)t[r].animation.destroy(e)},e.freeze=function(){s=!0},e.unfreeze=function(){s=!1,f()},e.setVolume=function(e,r){var o;for(o=0;o<n;o+=1)t[o].animation.setVolume(e,r)},e.mute=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.mute(e)},e.unmute=function(e){var r;for(r=0;r<n;r+=1)t[r].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n.push(t[e].animation);return n},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,r,n,o,i){var s=i||("bez_"+e+"_"+r+"_"+n+"_"+o).replace(/\./g,"p");if(t[s])return t[s];var a=new c([e,r,n,o]);return t[s]=a,a}},t={},r=.1,n="function"==typeof Float32Array;function o(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function s(e){return 3*e}function a(e,t,r){return((o(t,r)*e+i(t,r))*e+s(t))*e}function l(e,t,r){return 3*o(t,r)*e*e+2*i(t,r)*e+s(t)}function c(e){this._p=e,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(e){var t=this._p[0],r=this._p[1],n=this._p[2],o=this._p[3];return this._precomputed||this._precompute(),t===r&&n===o?e:0===e?0:1===e?1:a(this._getTForX(e),r,o)},_precompute:function(){var e=this._p[0],t=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,e===t&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=a(n*r,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],o=this._mSampleValues,i=0,s=1;10!==s&&o[s]<=e;++s)i+=r;var c=i+(e-o[--s])/(o[s+1]-o[s])*r,h=l(c,t,n);return h>=.001?function(e,t,r,n){for(var o=0;o<4;++o){var i=l(t,r,n);if(0===i)return t;t-=(a(t,r,n)-e)/i}return t}(e,c,t,n):0===h?c:function(e,t,r,n,o){var i,s,l=0;do{(i=a(s=t+(r-t)/2,n,o)-e)>0?r=s:t=s}while(Math.abs(i)>1e-7&&++l<10);return s}(e,i,i+r,t,n)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,r){var n=0,o=e,i=createSizedArray(o);return{newElement:function(){return n?i[n-=1]:t()},release:function(e){n===o&&(i=pooling.double(i),o*=2),r&&r(e),i[n]=e,n+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}));function bezFunction(){var e=Math;function t(e,t,r,n,o,i){var s=e*n+t*o+r*i-o*n-i*e-r*t;return s>-.001&&s<.001}var r=function(e,t,r,n){var o,i,s,a,l,c,h=getDefaultCurveSegments(),d=0,u=[],p=[],f=bezierLengthPool.newElement();for(s=r.length,o=0;o<h;o+=1){for(l=o/(h-1),c=0,i=0;i<s;i+=1)a=bmPow(1-l,3)*e[i]+3*bmPow(1-l,2)*l*r[i]+3*(1-l)*bmPow(l,2)*n[i]+bmPow(l,3)*t[i],u[i]=a,null!==p[i]&&(c+=bmPow(u[i]-p[i],2)),p[i]=u[i];c&&(d+=c=bmSqrt(c)),f.percents[o]=l,f.lengths[o]=d}return f.addedLength=d,f};function n(e){this.segmentLength=0,this.points=new Array(e)}function o(e,t){this.partialLength=e,this.point=t}var i,s=(i={},function(e,r,s,a){var l=(e[0]+"_"+e[1]+"_"+r[0]+"_"+r[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!i[l]){var c,h,d,u,p,f,m,g=getDefaultCurveSegments(),v=0,y=null;2===e.length&&(e[0]!==r[0]||e[1]!==r[1])&&t(e[0],e[1],r[0],r[1],e[0]+s[0],e[1]+s[1])&&t(e[0],e[1],r[0],r[1],r[0]+a[0],r[1]+a[1])&&(g=2);var b=new n(g);for(d=s.length,c=0;c<g;c+=1){for(m=createSizedArray(d),p=c/(g-1),f=0,h=0;h<d;h+=1)u=bmPow(1-p,3)*e[h]+3*bmPow(1-p,2)*p*(e[h]+s[h])+3*(1-p)*bmPow(p,2)*(r[h]+a[h])+bmPow(p,3)*r[h],m[h]=u,null!==y&&(f+=bmPow(m[h]-y[h],2));v+=f=bmSqrt(f),b.points[c]=new o(f,m),y=m}b.segmentLength=v,i[l]=b}return i[l]});function a(e,t){var r=t.percents,n=t.lengths,o=r.length,i=bmFloor((o-1)*e),s=e*t.addedLength,a=0;if(i===o-1||0===i||s===n[i])return r[i];for(var l=n[i]>s?-1:1,c=!0;c;)if(n[i]<=s&&n[i+1]>s?(a=(s-n[i])/(n[i+1]-n[i]),c=!1):i+=l,i<0||i>=o-1){if(i===o-1)return r[i];c=!1}return r[i]+(r[i+1]-r[i])*a}var l=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,n=segmentsLengthPool.newElement(),o=e.c,i=e.v,s=e.o,a=e.i,l=e._length,c=n.lengths,h=0;for(t=0;t<l-1;t+=1)c[t]=r(i[t],i[t+1],s[t],a[t+1]),h+=c[t].addedLength;return o&&l&&(c[t]=r(i[t],i[0],s[t],a[0]),h+=c[t].addedLength),n.totalLength=h,n},getNewSegment:function(t,r,n,o,i,s,c){i<0?i=0:i>1&&(i=1);var h,d=a(i,c),u=a(s=s>1?1:s,c),p=t.length,f=1-d,m=1-u,g=f*f*f,v=d*f*f*3,y=d*d*f*3,b=d*d*d,w=f*f*m,x=d*f*m+f*d*m+f*f*u,_=d*d*m+f*d*u+d*f*u,E=d*d*u,C=f*m*m,S=d*m*m+f*u*m+f*m*u,k=d*u*m+f*u*u+d*m*u,A=d*u*u,P=m*m*m,T=u*m*m+m*u*m+m*m*u,M=u*u*m+m*u*u+u*m*u,O=u*u*u;for(h=0;h<p;h+=1)l[4*h]=e.round(1e3*(g*t[h]+v*n[h]+y*o[h]+b*r[h]))/1e3,l[4*h+1]=e.round(1e3*(w*t[h]+x*n[h]+_*o[h]+E*r[h]))/1e3,l[4*h+2]=e.round(1e3*(C*t[h]+S*n[h]+k*o[h]+A*r[h]))/1e3,l[4*h+3]=e.round(1e3*(P*t[h]+T*n[h]+M*o[h]+O*r[h]))/1e3;return l},getPointInSegment:function(t,r,n,o,i,s){var l=a(i,s),c=1-l;return[e.round(1e3*(c*c*c*t[0]+(l*c*c+c*l*c+c*c*l)*n[0]+(l*l*c+c*l*l+l*c*l)*o[0]+l*l*l*r[0]))/1e3,e.round(1e3*(c*c*c*t[1]+(l*c*c+c*l*c+c*c*l)*n[1]+(l*l*c+c*l*l+l*c*l)*o[1]+l*l*l*r[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(r,n,o,i,s,a,l,c,h){if(0===o&&0===a&&0===h)return t(r,n,i,s,l,c);var d,u=e.sqrt(e.pow(i-r,2)+e.pow(s-n,2)+e.pow(a-o,2)),p=e.sqrt(e.pow(l-r,2)+e.pow(c-n,2)+e.pow(h-o,2)),f=e.sqrt(e.pow(l-i,2)+e.pow(c-s,2)+e.pow(h-a,2));return(d=u>p?u>f?u-p-f:f-p-u:f>p?f-p-u:p-u-f)>-1e-4&&d<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function r(e,t){var r,o=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var i,s,a,l,c,h,d,u,p,f=t.lastIndex,m=f,g=this.keyframes.length-1,v=!0;v;){if(i=this.keyframes[m],s=this.keyframes[m+1],m===g-1&&e>=s.t-o){i.h&&(i=s),f=0;break}if(s.t-o>e){f=m;break}m<g-1?m+=1:(f=0,v=!1)}a=this.keyframesMetadata[m]||{};var y,b,w,x,_,E,C,S,k,A,P=s.t-o,T=i.t-o;if(i.to){a.bezierData||(a.bezierData=bez.buildBezierData(i.s,s.s||i.e,i.to,i.ti));var M=a.bezierData;if(e>=P||e<T){var O=e>=P?M.points.length-1:0;for(c=M.points[O].point.length,l=0;l<c;l+=1)r[l]=M.points[O].point[l]}else{a.__fnct?p=a.__fnct:(p=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,a.__fnct=p),h=p((e-T)/(P-T));var D,I=M.segmentLength*h,R=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(u=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,v=!0,d=M.points.length;v;){if(R+=M.points[u].partialLength,0===I||0===h||u===M.points.length-1){for(c=M.points[u].point.length,l=0;l<c;l+=1)r[l]=M.points[u].point[l];break}if(I>=R&&I<R+M.points[u+1].partialLength){for(D=(I-R)/M.points[u+1].partialLength,c=M.points[u].point.length,l=0;l<c;l+=1)r[l]=M.points[u].point[l]+(M.points[u+1].point[l]-M.points[u].point[l])*D;break}u<d-1?u+=1:v=!1}t._lastPoint=u,t._lastAddedLength=R-M.points[u].partialLength,t._lastKeyframeIndex=m}}else{var F,B,N,L,V;if(g=i.s.length,y=s.s||i.e,this.sh&&1!==i.h)if(e>=P)r[0]=y[0],r[1]=y[1],r[2]=y[2];else if(e<=T)r[0]=i.s[0],r[1]=i.s[1],r[2]=i.s[2];else{b=r,w=function(e,t,r){var n,o,i,s,a,l=[],c=e[0],h=e[1],d=e[2],u=e[3],p=t[0],f=t[1],m=t[2],g=t[3];return(o=c*p+h*f+d*m+u*g)<0&&(o=-o,p=-p,f=-f,m=-m,g=-g),1-o>1e-6?(n=Math.acos(o),i=Math.sin(n),s=Math.sin((1-r)*n)/i,a=Math.sin(r*n)/i):(s=1-r,a=r),l[0]=s*c+a*p,l[1]=s*h+a*f,l[2]=s*d+a*m,l[3]=s*u+a*g,l}(n(i.s),n(y),(e-T)/(P-T)),x=w[0],_=w[1],E=w[2],C=w[3],S=Math.atan2(2*_*C-2*x*E,1-2*_*_-2*E*E),k=Math.asin(2*x*_+2*E*C),A=Math.atan2(2*x*C-2*_*E,1-2*x*x-2*E*E),b[0]=S/degToRads,b[1]=k/degToRads,b[2]=A/degToRads}else for(m=0;m<g;m+=1)1!==i.h&&(e>=P?h=1:e<T?h=0:(i.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[m]?p=a.__fnct[m]:(F=void 0===i.o.x[m]?i.o.x[0]:i.o.x[m],B=void 0===i.o.y[m]?i.o.y[0]:i.o.y[m],N=void 0===i.i.x[m]?i.i.x[0]:i.i.x[m],L=void 0===i.i.y[m]?i.i.y[0]:i.i.y[m],p=BezierFactory.getBezierEasing(F,B,N,L).get,a.__fnct[m]=p)):a.__fnct?p=a.__fnct:(F=i.o.x,B=i.o.y,N=i.i.x,L=i.i.y,p=BezierFactory.getBezierEasing(F,B,N,L).get,i.keyframeMetadata=p),h=p((e-T)/(P-T)))),y=s.s||i.e,V=1===i.h?i.s[m]:i.s[m]+(y[m]-i.s[m])*h,"multidimensional"===this.propType?r[m]=V:r=V}return t.lastIndex=f,r}function n(e){var t=e[0]*degToRads,r=e[1]*degToRads,n=e[2]*degToRads,o=Math.cos(t/2),i=Math.cos(r/2),s=Math.cos(n/2),a=Math.sin(t/2),l=Math.sin(r/2),c=Math.sin(n/2);return[a*l*s+o*i*c,a*i*s+o*l*c,o*l*s-a*i*c,o*i*s-a*l*c]}function o(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<r&&t<r))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(t,this._caching);this.pv=o}return this._caching.lastFrame=t,this.pv}function i(e){var r;if("unidimensional"===this.propType)r=e*this.mult,t(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var n=0,o=this.v.length;n<o;)r=e[n]*this.mult,t(this.v[n]-r)>1e-5&&(this.v[n]=r,this._mdf=!0),n+=1}function s(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,r,n){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.addEffect=a}function c(e,t,r,n){var o;this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),o=0;o<l;o+=1)this.v[o]=t.k[o]*this.mult,this.pv[o]=t.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=s,this.setVValue=i,this.addEffect=a}function h(t,n,l,c){this.propType="unidimensional",this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=s,this.setVValue=i,this.interpolateValue=r,this.effectsSequence=[o.bind(this)],this.addEffect=a}function d(t,n,l,c){var h;this.propType="multidimensional";var d,u,p,f,m=n.k.length;for(h=0;h<m-1;h+=1)n.k[h].to&&n.k[h].s&&n.k[h+1]&&n.k[h+1].s&&(d=n.k[h].s,u=n.k[h+1].s,p=n.k[h].to,f=n.k[h].ti,(2===d.length&&(d[0]!==u[0]||d[1]!==u[1])&&bez.pointOnLine2D(d[0],d[1],u[0],u[1],d[0]+p[0],d[1]+p[1])&&bez.pointOnLine2D(d[0],d[1],u[0],u[1],u[0]+f[0],u[1]+f[1])||3===d.length&&(d[0]!==u[0]||d[1]!==u[1]||d[2]!==u[2])&&bez.pointOnLine3D(d[0],d[1],d[2],u[0],u[1],u[2],d[0]+p[0],d[1]+p[1],d[2]+p[2])&&bez.pointOnLine3D(d[0],d[1],d[2],u[0],u[1],u[2],u[0]+f[0],u[1]+f[1],u[2]+f[2]))&&(n.k[h].to=null,n.k[h].ti=null),d[0]===u[0]&&d[1]===u[1]&&0===p[0]&&0===p[1]&&0===f[0]&&0===f[1]&&(2===d.length||d[2]===u[2]&&0===p[2]&&0===f[2])&&(n.k[h].to=null,n.k[h].ti=null));this.effectsSequence=[o.bind(this)],this.data=n,this.keyframes=n.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.getValue=s,this.setVValue=i,this.interpolateValue=r,this.frameId=-1;var g=n.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),h=0;h<g;h+=1)this.v[h]=e,this.pv[h]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=a}return{getProp:function(e,t,r,n,o){var i;if(t.k.length)if("number"==typeof t.k[0])i=new c(e,t,n,o);else switch(r){case 0:i=new h(e,t,n,o);break;case 1:i=new d(e,t,n,o)}else i=new l(e,t,n,o);return i.effectsSequence.length&&o.addDynamicProperty(i),i}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,n,o){var i;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[n]||i[n]&&!o)&&(i[n]=pointPool.newElement()),i[n][0]=e,i[n][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,n,o,i,s,a){this.setXYAt(e,t,"v",s,a),this.setXYAt(r,n,"o",s,a),this.setXYAt(o,i,"i",s,a)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,n=this.i,o=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),o=1);var i,s=this._length-1,a=this._length;for(i=o;i<a;i+=1)e.setTripleAt(t[s][0],t[s][1],n[s][0],n[s][1],r[s][0],r[s][1],i,!1),s-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),factory.clone=function(e){var t,r=factory.newElement(),n=void 0===e._length?e.v.length:e._length;for(r.setLength(n),r.c=e.c,t=0;t<n;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(e){var t,r=e._length;for(t=0;t<r;t+=1)shapePool.release(e.shapes[t]);e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var e=-999999;function t(e,t,r){var n,o,i,s,a,l,c,h,d,u=r.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)n=p[0].s[0],i=!0,u=0;else if(e>=p[p.length-1].t-this.offsetTime)n=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var f,m,g,v=u,y=p.length-1,b=!0;b&&(f=p[v],!((m=p[v+1]).t-this.offsetTime>e));)v<y-1?v+=1:b=!1;if(g=this.keyframesMetadata[v]||{},u=v,!(i=1===f.h)){if(e>=m.t-this.offsetTime)h=1;else if(e<f.t-this.offsetTime)h=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=w),h=w((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}o=m.s?m.s[0]:f.e[0]}n=f.s[0]}for(l=t._length,c=n.i[0].length,r.lastIndex=u,s=0;s<l;s+=1)for(a=0;a<c;a+=1)d=i?n.i[s][a]:n.i[s][a]+(o.i[s][a]-n.i[s][a])*h,t.i[s][a]=d,d=i?n.o[s][a]:n.o[s][a]+(o.o[s][a]-n.o[s][a])*h,t.o[s][a]=d,d=i?n.v[s][a]:n.v[s][a]+(o.v[s][a]-n.v[s][a])*h,t.v[s][a]=d}function r(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,o=this._caching.lastFrame;return o!==e&&(o<r&&t<r||o>n&&t>n)||(this._caching.lastIndex=o<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function n(){this.paths=this.localShapeCollection}function o(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var r,n=e._length;for(r=0;r<n;r+=1)if(e.v[r][0]!==t.v[r][0]||e.v[r][1]!==t.v[r][1]||e.o[r][0]!==t.o[r][0]||e.o[r][1]!==t.o[r][1]||e.i[r][0]!==t.i[r][0]||e.i[r][1]!==t.i[r][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var o=3===r?t.pt.k:t.ks.k;this.v=shapePool.clone(o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,o,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?o.pt.k:o.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=n,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=i,s.prototype.setVValue=o,s.prototype.addEffect=a,l.prototype.getValue=i,l.prototype.interpolateShape=t,l.prototype.setVValue=o,l.prototype.addEffect=a;var c=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],r=this.p.v[1],n=this.s.v[0]/2,o=this.s.v[1]/2,i=3!==this.d,s=this.v;s.v[0][0]=t,s.v[0][1]=r-o,s.v[1][0]=i?t+n:t-n,s.v[1][1]=r,s.v[2][0]=t,s.v[2][1]=r+o,s.v[3][0]=i?t-n:t+n,s.v[3][1]=r,s.i[0][0]=i?t-n*e:t+n*e,s.i[0][1]=r-o,s.i[1][0]=i?t+n:t-n,s.i[1][1]=r-o*e,s.i[2][0]=i?t+n*e:t-n*e,s.i[2][1]=r+o,s.i[3][0]=i?t-n:t+n,s.i[3][1]=r+o*e,s.o[0][0]=i?t+n*e:t-n*e,s.o[0][1]=r-o,s.o[1][0]=i?t+n:t-n,s.o[1][1]=r+o*e,s.o[2][0]=i?t-n*e:t+n*e,s.o[2][1]=r+o,s.o[3][0]=i?t-n:t+n,s.o[3][1]=r-o*e}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,r,n,o=2*Math.floor(this.pt.v),i=2*Math.PI/o,s=!0,a=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,d=2*Math.PI*a/(2*o),u=2*Math.PI*l/(2*o),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<o;e+=1){r=s?c:h,n=s?d:u;var m=(t=s?a:l)*Math.cos(p),g=t*Math.sin(p),v=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),y=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-v*n*r*f,g-y*n*r*f,m+v*n*r*f,g+y*n*r*f,e,!0),s=!s,p+=i*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),r=2*Math.PI/t,n=this.or.v,o=this.os.v,i=2*Math.PI*n/(4*t),s=.5*-Math.PI,a=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=n*Math.cos(s),c=n*Math.sin(s),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),d=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*i*o*a,c-d*i*o*a,l+h*i*o*a,c+d*i*o*a,e,!0),s+=r*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),d=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,o=bmMin(r,n,this.r.v),i=o*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+r,t-n+o,e+r,t-n+o,e+r,t-n+i,0,!0),this.v.setTripleAt(e+r,t+n-o,e+r,t+n-i,e+r,t+n-o,1,!0),0!==o?(this.v.setTripleAt(e+r-o,t+n,e+r-o,t+n,e+r-i,t+n,2,!0),this.v.setTripleAt(e-r+o,t+n,e-r+i,t+n,e-r+o,t+n,3,!0),this.v.setTripleAt(e-r,t+n-o,e-r,t+n-o,e-r,t+n-i,4,!0),this.v.setTripleAt(e-r,t-n+o,e-r,t-n+i,e-r,t-n+o,5,!0),this.v.setTripleAt(e-r+o,t-n,e-r+o,t-n,e-r+i,t-n,6,!0),this.v.setTripleAt(e+r-o,t-n,e+r-i,t-n,e+r-o,t-n,7,!0)):(this.v.setTripleAt(e-r,t+n,e-r+i,t+n,e-r,t+n,2),this.v.setTripleAt(e-r,t-n,e-r,t-n+i,e-r,t-n,3))):(this.v.setTripleAt(e+r,t-n+o,e+r,t-n+i,e+r,t-n+o,0,!0),0!==o?(this.v.setTripleAt(e+r-o,t-n,e+r-o,t-n,e+r-i,t-n,1,!0),this.v.setTripleAt(e-r+o,t-n,e-r+i,t-n,e-r+o,t-n,2,!0),this.v.setTripleAt(e-r,t-n+o,e-r,t-n+o,e-r,t-n+i,3,!0),this.v.setTripleAt(e-r,t+n-o,e-r,t+n-i,e-r,t+n-o,4,!0),this.v.setTripleAt(e-r+o,t+n,e-r+o,t+n,e-r+i,t+n,5,!0),this.v.setTripleAt(e+r-o,t+n,e+r-i,t+n,e+r-o,t+n,6,!0),this.v.setTripleAt(e+r,t+n-o,e+r,t+n-o,e+r,t+n-i,7,!0)):(this.v.setTripleAt(e-r,t-n,e-r+i,t-n,e-r,t-n,1,!0),this.v.setTripleAt(e-r,t+n,e-r,t+n-i,e-r,t+n,2,!0),this.v.setTripleAt(e+r,t+n,e+r-i,t+n,e+r,t+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],e),e}();return{getShapeProp:function(e,t,r){var n;return 3===r||4===r?n=(3===r?t.pt:t.ks).k.length?new l(e,t,r):new s(e,t,r):5===r?n=new d(e,t):6===r?n=new c(e,t):7===r&&(n=new h(e,t)),n.k&&e.addDynamicProperty(n),n},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return l}}}(),Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,n=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1)}function s(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(1,0,0,0,0,n,-o,0,0,o,n,0,0,0,0,1)}function a(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,0,o,0,0,1,0,0,-o,0,n,0,0,0,0,1)}function l(r){if(0===r)return this;var n=e(r),o=t(r);return this._t(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function h(e,t){return this.shear(r(e),r(t))}function d(n,o){var i=e(o),s=t(o);return this._t(i,s,0,0,-s,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1)}function u(e,t,r){return r||0===r||(r=1),1===e&&1===t&&1===r?this:this._t(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}function p(e,t,r,n,o,i,s,a,l,c,h,d,u,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=r,this.props[3]=n,this.props[4]=o,this.props[5]=i,this.props[6]=s,this.props[7]=a,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=d,this.props[12]=u,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,r){return r=r||0,0!==e||0!==t||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1):this}function m(e,t,r,n,o,i,s,a,l,c,h,d,u,p,f,m){var g=this.props;if(1===e&&0===t&&0===r&&0===n&&0===o&&1===i&&0===s&&0===a&&0===l&&0===c&&1===h&&0===d)return g[12]=g[12]*e+g[15]*u,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*h+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var v=g[0],y=g[1],b=g[2],w=g[3],x=g[4],_=g[5],E=g[6],C=g[7],S=g[8],k=g[9],A=g[10],P=g[11],T=g[12],M=g[13],O=g[14],D=g[15];return g[0]=v*e+y*o+b*l+w*u,g[1]=v*t+y*i+b*c+w*p,g[2]=v*r+y*s+b*h+w*f,g[3]=v*n+y*a+b*d+w*m,g[4]=x*e+_*o+E*l+C*u,g[5]=x*t+_*i+E*c+C*p,g[6]=x*r+_*s+E*h+C*f,g[7]=x*n+_*a+E*d+C*m,g[8]=S*e+k*o+A*l+P*u,g[9]=S*t+k*i+A*c+P*p,g[10]=S*r+k*s+A*h+P*f,g[11]=S*n+k*a+A*d+P*m,g[12]=T*e+M*o+O*l+D*u,g[13]=T*t+M*i+O*c+D*p,g[14]=T*r+M*s+O*h+D*f,g[15]=T*n+M*a+O*d+D*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function y(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function b(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function w(e,t,r){return{x:e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}}function x(e,t,r){return e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12]}function _(e,t,r){return e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13]}function E(e,t,r){return e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}function C(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,r=-this.props[1]/e,n=-this.props[4]/e,o=this.props[0]/e,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,a=new Matrix;return a.props[0]=t,a.props[1]=r,a.props[4]=n,a.props[5]=o,a.props[12]=i,a.props[13]=s,a}function S(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function k(e){var t,r=e.length,n=[];for(t=0;t<r;t+=1)n[t]=S(e[t]);return n}function A(e,t,r){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=e[0],n[1]=e[1],n[2]=t[0],n[3]=t[1],n[4]=r[0],n[5]=r[1];else{var o=this.props[0],i=this.props[1],s=this.props[4],a=this.props[5],l=this.props[12],c=this.props[13];n[0]=e[0]*o+e[1]*s+l,n[1]=e[0]*i+e[1]*a+c,n[2]=t[0]*o+t[1]*s+l,n[3]=t[0]*i+t[1]*a+c,n[4]=r[0]*o+r[1]*s+l,n[5]=r[0]*i+r[1]*a+c}return n}function P(e,t,r){return this.isIdentity()?[e,t,r]:[e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]]}function T(e,t){if(this.isIdentity())return e+","+t;var r=this.props;return Math.round(100*(e*r[0]+t*r[4]+r[12]))/100+","+Math.round(100*(e*r[1]+t*r[5]+r[13]))/100}function M(){for(var e=0,t=this.props,r="matrix3d(";e<16;)r+=n(1e4*t[e])/1e4,r+=15===e?")":",",e+=1;return r}function O(e){return e<1e-6&&e>0||e>-1e-6&&e<0?n(1e4*e)/1e4:e}function D(){var e=this.props;return"matrix("+O(e[0])+","+O(e[1])+","+O(e[4])+","+O(e[5])+","+O(e[12])+","+O(e[13])+")"}return function(){this.reset=o,this.rotate=i,this.rotateX=s,this.rotateY=a,this.rotateZ=l,this.skew=h,this.skewFromAxis=d,this.shear=c,this.scale=u,this.setTransform=p,this.translate=f,this.transform=m,this.applyToPoint=w,this.applyToX=x,this.applyToY=_,this.applyToZ=E,this.applyToPointArray=P,this.applyToTriplePoints=A,this.applyToPointStringified=T,this.toCSS=M,this.to2dCSS=D,this.clone=y,this.cloneFromProps=b,this.equals=v,this.inversePoints=k,this.inversePoint=S,this.getInverseMatrix=C,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var n=t[r].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.10.0";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(e){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,r){t[e]||(t[e]=r)},e.getModifier=function(e,r,n){return new t[e](r,n)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,n,o){var i=[];t<=1?i.push({s:e,e:t}):e>=1?i.push({s:e-1,e:t-1}):(i.push({s:e,e:1}),i.push({s:0,e:t-1}));var s,a,l=[],c=i.length;for(s=0;s<c;s+=1){var h,d;(a=i[s]).e*o<n||a.s*o>n+r||(h=a.s*o<=n?0:(a.s*o-n)/r,d=a.e*o>=n+r?1:(a.e*o-n)/r,l.push([h,d]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,n,o;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(r=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var s=t;t=r,r=s}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var a,l,c,h,d,u=this.shapes.length,p=0;if(r===t)for(o=0;o<u;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection,this._mdf&&(this.shapes[o].pathsData.length=0);else if(1===r&&0===t||0===r&&1===t){if(this._mdf)for(o=0;o<u;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var f,m,g=[];for(o=0;o<u;o+=1)if((f=this.shapes[o]).shape._mdf||this._mdf||e||2===this.m){if(l=(n=f.shape.paths)._length,d=0,!f.shape._mdf&&f.pathsData.length)d=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)h=bez.getSegmentsLength(n.shapes[a]),c.push(h),d+=h.totalLength;f.totalShapeLength=d,f.pathsData=c}p+=d,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v,y=t,b=r,w=0;for(o=u-1;o>=0;o-=1)if((f=this.shapes[o]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&u>1?(v=this.calculateShapeEdges(t,r,f.totalShapeLength,w,p),w+=f.totalShapeLength):v=[[y,b]],l=v.length,a=0;a<l;a+=1){y=v[a][0],b=v[a][1],g.length=0,b<=1?g.push({s:f.totalShapeLength*y,e:f.totalShapeLength*b}):y>=1?g.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(b-1)}):(g.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(b-1)}));var x=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var _=x.pop();this.addPaths(x,m),x=this.addShapes(f,g[1],_)}else this.addPaths(x,m),x=this.addShapes(f,g[1]);this.addPaths(x,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,n,o,i,s){o.setXYAt(t[0],t[1],"o",i),o.setXYAt(r[0],r[1],"i",i+1),s&&o.setXYAt(e[0],e[1],"v",i),o.setXYAt(n[0],n[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,n){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),n&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var n,o,i,s,a,l,c,h,d=e.pathsData,u=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(r?(a=r._length,h=r._length):(r=shapePool.newElement(),a=0,h=0),m.push(r),n=0;n<p;n+=1){for(l=d[n].lengths,r.c=u[n].c,i=u[n].c?l.length:l.length+1,o=1;o<i;o+=1)if(f+(s=l[o-1]).addedLength<t.s)f+=s.addedLength,r.c=!1;else{if(f>t.e){r.c=!1;break}t.s<=f&&t.e>=f+s.addedLength?(this.addSegment(u[n].v[o-1],u[n].o[o-1],u[n].i[o],u[n].v[o],r,a,g),g=!1):(c=bez.getNewSegment(u[n].v[o-1],u[n].v[o],u[n].o[o-1],u[n].i[o],(t.s-f)/s.addedLength,(t.e-f)/s.addedLength,l[o-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1),f+=s.addedLength,a+=1}if(u[n].c&&l.length){if(s=l[o-1],f<=t.e){var v=l[o-1].addedLength;t.s<=f&&t.e>=f+v?(this.addSegment(u[n].v[o-1],u[n].o[o-1],u[n].i[0],u[n].v[0],r,a,g),g=!1):(c=bez.getNewSegment(u[n].v[o-1],u[n].v[0],u[n].o[o-1],u[n].i[0],(t.s-f)/v,(t.e-f)/v,l[o-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1)}else r.c=!1;f+=s.addedLength,a+=1}if(r._length&&(r.setXYAt(r.v[h][0],r.v[h][1],"i",h),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>t.e)break;n<p-1&&(r=shapePool.newElement(),g=!0,m.push(r),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,n=[0,0],o=e._length,i=0;for(i=0;i<o;i+=1)n[0]+=e.v[i][0],n[1]+=e.v[i][1];n[0]/=o,n[1]/=o;var s,a,l,c,h,d,u=shapePool.newElement();for(u.c=e.c,i=0;i<o;i+=1)s=e.v[i][0]+(n[0]-e.v[i][0])*r,a=e.v[i][1]+(n[1]-e.v[i][1])*r,l=e.o[i][0]+(n[0]-e.o[i][0])*-r,c=e.o[i][1]+(n[1]-e.o[i][1])*-r,h=e.i[i][0]+(n[0]-e.i[i][0])*-r,d=e.i[i][1]+(n[1]-e.i[i][1])*-r,u.setTripleAt(s,a,l,c,h,d,i);return u},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,r){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var n,o=t.or.k.length;for(n=0;n<o;n+=1)t.or.k[n].to=null,t.or.k[n].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,o;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),o=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),o=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(n=this.p.pv,o=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],o=[];var i=this.px,s=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(n[0]=i.getValueAtTime((i.keyframes[0].t+.01)/r,0),n[1]=s.getValueAtTime((s.keyframes[0].t+.01)/r,0),o[0]=i.getValueAtTime(i.keyframes[0].t/r,0),o[1]=s.getValueAtTime(s.keyframes[0].t/r,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(n[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/r,0),n[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/r,0),o[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/r,0),o[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/r,0)):(n=[i.pv,s.pv],o[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/r,i.offsetTime),o[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/r,s.offsetTime))}else n=o=e;this.v.rotate(-Math.atan2(n[1]-o[1],n[0]-o[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,n){return new t(e,r,n)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,r){return e*(1-r)+t*r}function lerpPoint(e,t,r){return[lerp(e[0],t[0],r),lerp(e[1],t[1],r)]}function quadRoots(e,t,r){if(0===e)return[];var n=t*t-4*e*r;if(n<0)return[];var o=-t/(2*e);if(0===n)return[o];var i=Math.sqrt(n)/(2*e);return[o-i,o+i]}function polynomialCoefficients(e,t,r,n){return[3*t-e-3*r+n,3*e-6*t+3*r,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,r,n,o){o&&pointEqual(e,t)&&(t=lerpPoint(e,n,1/3)),o&&pointEqual(r,n)&&(r=lerpPoint(e,n,2/3));var i=polynomialCoefficients(e[0],t[0],r[0],n[0]),s=polynomialCoefficients(e[1],t[1],r[1],n[1]);this.a=[i[0],s[0]],this.b=[i[1],s[1]],this.c=[i[2],s[2]],this.d=[i[3],s[3]],this.points=[e,t,r,n]}function extrema(e,t){var r=e.points[0][t],n=e.points[e.points.length-1][t];if(r>n){var o=n;n=r,r=o}for(var i=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),s=0;s<i.length;s+=1)if(i[s]>0&&i[s]<1){var a=e.point(i[s])[t];a<r?r=a:a>n&&(n=a)}return{min:r,max:n}}function intersectData(e,t,r){var n=e.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:e,t:(t+r)/2,t1:t,t2:r}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,r,n,o,i){if(boxIntersect(e,t))if(r>=i||e.width<=n&&e.height<=n&&t.width<=n&&t.height<=n)o.push([e.t,t.t]);else{var s=splitData(e),a=splitData(t);intersectsImpl(s[0],a[0],r+1,n,o,i),intersectsImpl(s[0],a[1],r+1,n,o,i),intersectsImpl(s[1],a[0],r+1,n,o,i),intersectsImpl(s[1],a[1],r+1,n,o,i)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,r,n){var o=[e[0],e[1],1],i=[t[0],t[1],1],s=[r[0],r[1],1],a=[n[0],n[1],1],l=crossProduct(crossProduct(o,i),crossProduct(s,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,r){return[e[0]+Math.cos(t)*r,e[1]-Math.sin(t)*r]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,r,n,o,i,s){var a=r-Math.PI/2,l=r+Math.PI/2,c=t[0]+Math.cos(r)*n*o,h=t[1]-Math.sin(r)*n*o;e.setTripleAt(c,h,c+Math.cos(a)*i,h-Math.sin(a)*i,c+Math.cos(l)*s,h-Math.sin(l)*s,e.length())}function getPerpendicularVector(e,t){var r=[t[0]-e[0],t[1]-e[1]],n=.5*-Math.PI;return[Math.cos(n)*r[0]-Math.sin(n)*r[1],Math.sin(n)*r[0]+Math.cos(n)*r[1]]}function getProjectingAngle(e,t){var r=0===t?e.length()-1:t-1,n=(t+1)%e.length(),o=getPerpendicularVector(e.v[r],e.v[n]);return Math.atan2(0,1)-Math.atan2(o[1],o[0])}function zigZagCorner(e,t,r,n,o,i,s){var a=getProjectingAngle(t,r),l=t.v[r%t._length],c=t.v[0===r?t._length-1:r-1],h=t.v[(r+1)%t._length],d=2===i?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,u=2===i?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0;setPoint(e,t.v[r%t._length],a,s,n,u/(2*(o+1)),d/(2*(o+1)),i)}function zigZagSegment(e,t,r,n,o,i){for(var s=0;s<n;s+=1){var a=(s+1)/(n+1),l=2===o?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,c=t.normalAngle(a);setPoint(e,t.point(a),c,i,r,l/(2*(n+1)),l/(2*(n+1)),o),i=-i}return i}function linearOffset(e,t,r){var n=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,n,r),polarOffset(t,n,r)]}function offsetSegment(e,t){var r,n,o,i,s,a,l;r=(l=linearOffset(e.points[0],e.points[1],t))[0],n=l[1],o=(l=linearOffset(e.points[1],e.points[2],t))[0],i=l[1],s=(l=linearOffset(e.points[2],e.points[3],t))[0],a=l[1];var c=lineIntersection(r,n,o,i);null===c&&(c=n);var h=lineIntersection(s,a,o,i);return null===h&&(h=s),new PolynomialBezier(r,c,h,a)}function joinLines(e,t,r,n,o){var i=t.points[3],s=r.points[0];if(3===n)return i;if(pointEqual(i,s))return i;if(2===n){var a=-t.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,c=lineIntersection(i,polarOffset(i,a+Math.PI/2,100),s,polarOffset(s,a+Math.PI/2,100)),h=c?pointDistance(c,i):pointDistance(i,s)/2,d=polarOffset(i,a,2*h*roundCorner);return e.setXYAt(d[0],d[1],"o",e.length()-1),d=polarOffset(s,l,2*h*roundCorner),e.setTripleAt(s[0],s[1],s[0],s[1],d[0],d[1],e.length()),s}var u=lineIntersection(pointEqual(i,t.points[2])?t.points[0]:t.points[2],i,s,pointEqual(s,r.points[1])?r.points[3]:r.points[1]);return u&&pointDistance(u,i)<o?(e.setTripleAt(u[0],u[1],u[0],u[1],u[0],u[1],e.length()),u):i}function getIntersection(e,t){var r=e.intersections(t);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(e,t){var r=e.slice(),n=t.slice(),o=getIntersection(e[e.length-1],t[0]);return o&&(r[e.length-1]=e[e.length-1].split(o[0])[0],n[0]=t[0].split(o[1])[1]),e.length>1&&t.length>1&&(o=getIntersection(e[0],t[t.length-1]))?[[e[0].split(o[0])[0]],[t[t.length-1].split(o[1])[1]]]:[r,n]}function pruneIntersections(e){for(var t,r=1;r<e.length;r+=1)t=pruneSegmentIntersection(e[r-1],e[r]),e[r-1]=t[0],e[r]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var r,n,o,i,s=e.inflectionPoints();if(0===s.length)return[offsetSegment(e,t)];if(1===s.length||floatEqual(s[1],1))return r=(o=e.split(s[0]))[0],n=o[1],[offsetSegment(r,t),offsetSegment(n,t)];r=(o=e.split(s[0]))[0];var a=(s[1]-s[0])/(1-s[0]);return i=(o=o[1].split(a))[0],n=o[1],[offsetSegment(r,t),offsetSegment(i,t),offsetSegment(n,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",n="normal",o=t.length,i=0;i<o;i+=1)switch(t[i].toLowerCase()){case"italic":n="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:n,weight:e.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,n,o,i){var s=i?-1:1,a=n.s.v[0]+(1-n.s.v[0])*(1-o),l=n.s.v[1]+(1-n.s.v[1])*(1-o);e.translate(n.p.v[0]*s*o,n.p.v[1]*s*o,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*s*o),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(i?1/a:a,i?1/l:l),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,n){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]._render=t,"gr"===e[r].ty&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,n,o,i,s=!1;if(this._mdf||e){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(i=0,n=0;n<=this._groups.length-1;n+=1){if(a=i<l,this._groups[n]._render=a,this.changeGroupRender(this._groups[n].it,a),!a){var h=this.elemsData[n].it,d=h[h.length-1];0!==d.transform.op.v?(d.transform.op._mdf=!0,d.transform.op.v=0):d.transform.op._mdf=!1}i+=1}this._currentCopies=l;var u=this.o.v,p=u%1,f=u>0?Math.floor(u):Math.ceil(u),m=this.pMatrix.props,g=this.rMatrix.props,v=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,b,w=0;if(u>0){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),w+=p)}else if(u<0){for(;w>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),w-=p)}for(n=1===this.data.m?0:this._currentCopies-1,o=1===this.data.m?1:-1,i=this._currentCopies;i;){if(b=(r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==w){for((0!==n&&1===o||n!==this._currentCopies-1&&-1===o)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),y=0;y<b;y+=1)r[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<b;y+=1)r[y]=this.matrix.props[y];w+=1,i-=1,n+=o}}else for(i=this._currentCopies,n=0,o=1;i;)r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,i-=1,n+=o;return s},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r,n=shapePool.newElement();n.c=e.c;var o,i,s,a,l,c,h,d,u,p,f,m,g=e._length,v=0;for(r=0;r<g;r+=1)o=e.v[r],s=e.o[r],i=e.i[r],o[0]===s[0]&&o[1]===s[1]&&o[0]===i[0]&&o[1]===i[1]?0!==r&&r!==g-1||e.c?(a=0===r?e.v[g-1]:e.v[r-1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,h=f=o[0]+(a[0]-o[0])*c,d=m=o[1]-(o[1]-a[1])*c,u=h-(h-o[0])*roundCorner,p=d-(d-o[1])*roundCorner,n.setTripleAt(h,d,u,p,f,m,v),v+=1,a=r===g-1?e.v[0]:e.v[r+1],c=(l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)))?Math.min(l/2,t)/l:0,h=u=o[0]+(a[0]-o[0])*c,d=p=o[1]+(a[1]-o[1])*c,f=h-(h-o[0])*roundCorner,m=d-(d-o[1])*roundCorner,n.setTripleAt(h,d,u,p,f,m,v),v+=1):(n.setTripleAt(o[0],o[1],s[0],s[1],i[0],i[1],v),v+=1):(n.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],v),v+=1);return n},RoundCornersModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,r=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(r<0)return[];var n=Math.sqrt(r);return floatZero(n)?n>0&&n<1?[t]:[]:[t-n,t+n].filter((function(e){return e>0&&e<1}))},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),r=lerpPoint(this.points[1],this.points[2],e),n=lerpPoint(this.points[2],this.points[3],e),o=lerpPoint(t,r,e),i=lerpPoint(r,n,e),s=lerpPoint(o,i,e);return[new PolynomialBezier(this.points[0],t,o,s,!0),new PolynomialBezier(s,i,n,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,r){void 0===t&&(t=2),void 0===r&&(r=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,n,r),n},PolynomialBezier.shapeSegment=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[r],e.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[r],e.i[r],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(e,t,r,n){var o=e._length,i=shapePool.newElement();if(i.c=e.c,e.c||(o-=1),0===o)return i;var s=-1,a=PolynomialBezier.shapeSegment(e,0);zigZagCorner(i,e,0,t,r,n,s);for(var l=0;l<o;l+=1)s=zigZagSegment(i,a,t,r,n,-s),a=l!==o-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%o):null,zigZagCorner(i,e,l+1,t,r,n,s);return i},ZigZagModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),h=this.pointsType.v;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l,c,h));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(e,t,r,n){var o=shapePool.newElement();o.c=e.c;var i,s,a,l=e.length();e.c||(l-=1);var c=[];for(i=0;i<l;i+=1)a=PolynomialBezier.shapeSegment(e,i),c.push(offsetSegmentSplit(a,t));if(!e.c)for(i=l-1;i>=0;i-=1)a=PolynomialBezier.shapeSegmentInverted(e,i),c.push(offsetSegmentSplit(a,t));c=pruneIntersections(c);var h=null,d=null;for(i=0;i<c.length;i+=1){var u=c[i];for(d&&(h=joinLines(o,d,u[0],r,n)),d=u[u.length-1],s=0;s<u.length;s+=1)a=u[s],h&&pointEqual(a.points[0],h)?o.setXYAt(a.points[1][0],a.points[1][1],"o",o.length()-1):o.setTripleAt(a.points[0][0],a.points[0][1],a.points[1][0],a.points[1][1],a.points[0][0],a.points[0][1],o.length()),o.setTripleAt(a.points[3][0],a.points[3][1],a.points[3][0],a.points[3][1],a.points[2][0],a.points[2][1],o.length()),h=a.points[3]}return c.length&&joinLines(o,d,c[0][0],r,n),o},OffsetPathModifier.prototype.processShapes=function(e){var t,r,n,o,i,s,a=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,h=this.lineJoin;if(0!==l)for(r=0;r<a;r+=1){if(s=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||e)for(s.releaseShapes(),i.shape._mdf=!0,t=i.shape.paths.shapes,o=i.shape.paths._length,n=0;n<o;n+=1)s.addShape(this.processPath(t[n],l,h,c));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],n=[65039,8205];function o(e,t){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=t;var n=createTag("span");n.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(n),document.body.appendChild(r);var o=n.offsetWidth;return n.style.fontFamily=function(e){var t,r=e.split(","),n=r.length,o=[];for(t=0;t<n;t+=1)"sans-serif"!==r[t]&&"monospace"!==r[t]&&o.push(r[t]);return o.join(",")}(e)+", "+t,{node:n,w:o,parent:r}}function i(e,t){var r,n=document.body&&t?"svg":"canvas",o=getFontProperties(e);if("svg"===n){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",o.style),i.setAttribute("font-weight",o.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),r=i}else{var s=new OffscreenCanvas(500,500).getContext("2d");s.font=o.style+" "+o.weight+" 100px "+e.fFamily,r=s}return{measureText:function(e){return"svg"===n?(r.textContent=e,r.getComputedTextLength()):r.measureText(e).width}}}var s=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};s.isModifier=function(e,t){var n=e.toString(16)+t.toString(16);return-1!==r.indexOf(n)},s.isZeroWidthJoiner=function(e,t){return t?e===n[0]&&t===n[1]:e===n[1]},s.isCombinedCharacter=function(e){return-1!==t.indexOf(e)};var a={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var r,n,o=e.length,i=this.chars.length;for(t=0;t<o;t+=1){for(r=0,n=!1;r<i;)this.chars[r].style===e[t].style&&this.chars[r].fFamily===e[t].fFamily&&this.chars[r].ch===e[t].ch&&(n=!0),r+=1;n||(this.chars.push(e[t]),i+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=i(e),e.cache={}})),void(this.fonts=e.list);var r,n=e.list,s=n.length,a=s;for(r=0;r<s;r+=1){var l,c,h=!0;if(n[r].loaded=!1,n[r].monoCase=o(n[r].fFamily,"monospace"),n[r].sansCase=o(n[r].fFamily,"sans-serif"),n[r].fPath){if("p"===n[r].fOrigin||3===n[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[r].fFamily+'"], style[f-origin="3"][f-family="'+n[r].fFamily+'"]')).length>0&&(h=!1),h){var d=createTag("style");d.setAttribute("f-forigin",n[r].fOrigin),d.setAttribute("f-origin",n[r].origin),d.setAttribute("f-family",n[r].fFamily),d.type="text/css",d.innerText="@font-face {font-family: "+n[r].fFamily+"; font-style: normal; src: url('"+n[r].fPath+"');}",t.appendChild(d)}}else if("g"===n[r].fOrigin||1===n[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(n[r].fPath)&&(h=!1);if(h){var u=createTag("link");u.setAttribute("f-forigin",n[r].fOrigin),u.setAttribute("f-origin",n[r].origin),u.type="text/css",u.rel="stylesheet",u.href=n[r].fPath,document.body.appendChild(u)}}else if("t"===n[r].fOrigin||2===n[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)n[r].fPath===l[c].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",n[r].fOrigin),p.setAttribute("f-origin",n[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",n[r].fPath),t.appendChild(p)}}}else n[r].loaded=!0,a-=1;n[r].helper=i(n[r],t),n[r].cache={},this.fonts.push(n[r])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,r,n){for(var o=0,i=this.chars.length;o<i;){if(this.chars[o].ch===t&&this.chars[o].style===r&&this.chars[o].fFamily===n)return this.chars[o];o+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,r,n)),e},getFontByName:function(e){for(var t=0,r=this.fonts.length;t<r;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,r){var n=this.getFontByName(t),o=e.charCodeAt(0);if(!n.cache[o+1]){var i=n.helper;if(" "===e){var s=i.measureText("|"+e+"|"),a=i.measureText("||");n.cache[o+1]=(s-a)/100}else n.cache[o+1]=i.measureText(e)/100}return n.cache[o+1]*r},checkLoadedFonts:function(){var e,t,r,n=this.fonts.length,o=n;for(e=0;e<n;e+=1)this.fonts[e].loaded?o-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,t.offsetWidth!==r?(o-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,t.offsetWidth!==r&&(o-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==o&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return s.prototype=a,s}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums;function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r,n=e.ef||[];this.effectElements=[];var o,i=n.length;for(r=0;r<i;r+=1)o=new GroupEffect(n[r],t),this.effectElements.push(o)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,o,i=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var a,l,c,h,d,u,p=this.masksProperties,f=0,m=[],g=createElementID(),v="clipPath",y="clip-path";for(n=0;n<s;n+=1)if(("a"!==p[n].mode&&"n"!==p[n].mode||p[n].inv||100!==p[n].o.k||p[n].o.x)&&(v="mask",y="mask"),"s"!==p[n].mode&&"i"!==p[n].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),o=createNS("path"),"n"===p[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),elem:o,lastPath:""},i.appendChild(o);else{var b;if(f+=1,o.setAttribute("fill","s"===p[n].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[n].x.k?(v="mask",y="mask",u=PropertyFactory.getProp(this.element,p[n].x,0,null,this.element),b=createElementID(),(h=createNS("filter")).setAttribute("id",b),(d=createNS("feMorphology")).setAttribute("operator","erode"),d.setAttribute("in","SourceGraphic"),d.setAttribute("radius","0"),h.appendChild(d),i.appendChild(h),o.setAttribute("stroke","s"===p[n].mode?"#000000":"#ffffff")):(d=null,u=null),this.storedData[n]={elem:o,x:u,expan:d,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===p[n].mode){l=m.length;var w=createNS("g");for(a=0;a<l;a+=1)w.appendChild(m[a]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",g+"_"+f),x.appendChild(o),i.appendChild(x),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(w)}else m.push(o);p[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(p[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(v),s=m.length,n=0;n<s;n+=1)this.maskElement.appendChild(m[n]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(y,"url("+getLocationHref()+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var r;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,o=this.data.ef.length,i=this.data.ef;for(r=0;r<o;r+=1){switch(n=null,i[r].ty){case 0:n=new SliderEffect(i[r],t,this);break;case 1:n=new AngleEffect(i[r],t,this);break;case 2:n=new ColorEffect(i[r],t,this);break;case 3:n=new PointEffect(i[r],t,this);break;case 4:case 7:n=new CheckboxEffect(i[r],t,this);break;case 10:n=new LayerIndexEffect(i[r],t,this);break;case 11:n=new MaskIndexEffect(i[r],t,this);break;case 5:n=new EffectsManager(i[r],t,this);break;default:n=new NoValueEffect(i[r],t,this)}n&&this.effectElements.push(n)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),r=e("effects"),n=e("shape"),o=e("text"),i=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var s=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(s),0===this.data.ty||this.data.xt?this.compInterface=i(this):4===this.data.ty?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=o(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(t||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,r,n=this.layers.length;for(this.completeLayers=!0,t=n-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var r,n=e.length,o=this.layers.length;for(t=0;t<n;t+=1)for(r=0;r<o;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var n=this.elements,o=this.layers,i=0,s=o.length;i<s;)o[i].ind==t&&(n[i]&&!0!==n[i]?(r.push(n[i]),n[i].setAsParent(),void 0!==o[i].parent?this.buildElementParenting(e,o[i].parent,r):e.setHierarchy(r)):(this.buildItem(i),this.addPendingElement(e))),i+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var n=this.createComp(e[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementByPath=function(e){var t,r=e.shift();if("number"==typeof r)t=this.elements[r];else{var n,o=this.elements.length;for(n=0;n<o;n+=1)if(this.elements[n].data.nm===r){t=this.elements[n];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<n;r+=1)e=this.hierarchy[r].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r,n=!0,o=this.comp;n;)o.finalTransform?(o.data.hasMask&&t.splice(0,0,o.finalTransform),o=o.comp):n=!1;var i,s=t.length;for(r=0;r<s;r+=1)i=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,n=this.masksProperties.length;for(t=0;t<n;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var o=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),o.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var n,o,i=" M"+t.v[0][0]+","+t.v[0][1];for(o=t._length,n=1;n<o;n+=1)i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[n][0]+","+t.i[n][1]+" "+t.v[n][0]+","+t.v[n][1];if(t.c&&o>1&&(i+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==i){var s="";r.elem&&(t.c&&(s=e.inv?this.solidPath+i:i),r.elem.setAttribute("d",s)),r.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory={createFilter:function(e,t){var r=createNS("filter");return r.setAttribute("id",e),!0!==t&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}},featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(e){var t,r,n="SourceGraphic",o=e.data.ef?e.data.ef.length:0,i=createElementID(),s=filtersFactory.createFilter(i,!0),a=0;for(this.filters=[],t=0;t<o;t+=1){r=null;var l=e.data.ef[t].ty;registeredEffects[l]&&(r=new(0,registeredEffects[l].effect)(s,e.effectsManager.effectElements[t],e,idPrefix+a,n),n=idPrefix+a,registeredEffects[l].countsAsEffect&&(a+=1)),r&&this.filters.push(r)}a&&(e.globalData.defs.appendChild(s),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t,r){registeredEffects[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("symbol");t.setAttribute("id",this.layerId);var r=createNS("g");r.appendChild(this.layerElement),t.appendChild(r),e=r,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var n=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var i=createElementID();if(n.setAttribute("id",i),n.appendChild(o),this.globalData.defs.appendChild(n),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),s.appendChild(this.layerElement),this.transformedElement=s,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(e){if(!this.matteMasks[e]){var t,r,n,o,i=this.layerId+"_"+e;if(1===e||3===e){var s=createNS("mask");s.setAttribute("id",i),s.setAttribute("mask-type",3===e?"luminance":"alpha"),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),s.appendChild(n),this.globalData.defs.appendChild(s),featureSupport.maskType||1!==e||(s.setAttribute("mask-type","luminance"),t=createElementID(),r=filtersFactory.createFilter(t),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(o=createNS("g")).appendChild(n),s.appendChild(o),o.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(2===e){var a=createNS("mask");a.setAttribute("id",i),a.setAttribute("mask-type","alpha");var l=createNS("g");a.appendChild(l),t=createElementID(),r=filtersFactory.createFilter(t);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var h=createNS("feFuncA");h.setAttribute("type","table"),h.setAttribute("tableValues","1.0 0.0"),c.appendChild(h),this.globalData.defs.appendChild(r);var d=createNS("rect");d.setAttribute("width",this.comp.data.w),d.setAttribute("height",this.comp.data.h),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("fill","#ffffff"),d.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(d),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(n),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),o=createNS("g"),l.appendChild(d),o.appendChild(this.layerElement),l.appendChild(o)),this.globalData.defs.appendChild(a)}this.matteMasks[e]=i}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,n=t.length;r<n;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,n=r.length;n;)if(r[n-=1].elem===e)return void(r[n].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var n=0,o=e.length;n<o;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,r,n){var o;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var i,s=t.length||0;for(o=0;o<s;o+=1)i=PropertyFactory.getProp(e,t[o].v,0,0,this),this.k=i.k||this.k,this.dataProps[o]={n:t[o].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var n=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<r;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,n=this.o.length/2;r<n;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,n,o=4*this.data.p;for(t=0;t<o;t+=1)r=t%4==0?100:255,n=Math.round(this.prop.v[t]*r),this.c[t]!==n&&(this.c[t]=n,this._cmdf=!e);if(this.o.length)for(o=this.prop.v.length,t=4*this.data.p;t<o;t+=1)r=t%2==0?100:1,n=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==n&&(this.o[t-4*this.data.p]=n,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),n=createNS(1===t.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var o,i,s,a=[];for(s=4*t.g.p,i=0;i<s;i+=4)o=createNS("stop"),n.appendChild(o),a.push(o);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=n,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,o,i=createNS("mask"),s=createNS("path");i.appendChild(s);var a=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),o=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var h=this.stops;for(n=4*e.g.p;n<o;n+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),h.push(r);s.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===e.ty&&(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&s.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=i,this.ost=h,this.maskId=l,t.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,r,n){if(0===t)return"";var o,i=e.o,s=e.i,a=e.v,l=" M"+n.applyToPointStringified(a[0][0],a[0][1]);for(o=1;o<t;o+=1)l+=" C"+n.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+n.applyToPointStringified(s[o][0],s[o][1])+" "+n.applyToPointStringified(a[o][0],a[o][1]);return r&&t&&(l+=" C"+n.applyToPointStringified(i[o-1][0],i[o-1][1])+" "+n.applyToPointStringified(s[0][0],s[0][1])+" "+n.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(e,t,r){(r||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(r||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function n(){}function o(r,n,o){var i,s,a,l,c,h,d,u,p,f,m,g=n.styles.length,v=n.lvl;for(h=0;h<g;h+=1){if(l=n.sh._mdf||o,n.styles[h].lvl<v){for(u=t.reset(),f=v-n.styles[h].lvl,m=n.transformers.length-1;!l&&f>0;)l=n.transformers[m].mProps._mdf||l,f-=1,m-=1;if(l)for(f=v-n.styles[h].lvl,m=n.transformers.length-1;f>0;)p=n.transformers[m].mProps.v.props,u.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f-=1,m-=1}else u=e;if(s=(d=n.sh.paths)._length,l){for(a="",i=0;i<s;i+=1)(c=d.shapes[i])&&c._length&&(a+=buildShapeString(c,c._length,c.c,u));n.caches[h]=a}else a=n.caches[h];n.styles[h].d+=!0===r.hd?"":a,n.styles[h]._mdf=l||n.styles[h]._mdf}}function i(e,t,r){var n=t.style;(t.c._mdf||r)&&n.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("fill-opacity",t.o.v)}function s(e,t,r){a(e,t,r),l(0,t,r)}function a(e,t,r){var n,o,i,s,a,l=t.gf,c=t.g._hasOpacity,h=t.s.v,d=t.e.v;if(t.o._mdf||r){var u="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(u,t.o.v)}if(t.s._mdf||r){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,h[0]),l.setAttribute(f,h[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,h[0]),t.of.setAttribute(f,h[1]))}if(t.g._cmdf||r){n=t.cst;var m=t.g.c;for(i=n.length,o=0;o<i;o+=1)(s=n[o]).setAttribute("offset",m[4*o]+"%"),s.setAttribute("stop-color","rgb("+m[4*o+1]+","+m[4*o+2]+","+m[4*o+3]+")")}if(c&&(t.g._omdf||r)){var g=t.g.o;for(i=(n=t.g._collapsable?t.cst:t.ost).length,o=0;o<i;o+=1)s=n[o],t.g._collapsable||s.setAttribute("offset",g[2*o]+"%"),s.setAttribute("stop-opacity",g[2*o+1])}if(1===e.t)(t.e._mdf||r)&&(l.setAttribute("x2",d[0]),l.setAttribute("y2",d[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",d[0]),t.of.setAttribute("y2",d[1])));else if((t.s._mdf||t.e._mdf||r)&&(a=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),l.setAttribute("r",a),c&&!t.g._collapsable&&t.of.setAttribute("r",a)),t.e._mdf||t.h._mdf||t.a._mdf||r){a||(a=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)));var v=Math.atan2(d[1]-h[1],d[0]-h[0]),y=t.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var b=a*y,w=Math.cos(v+t.a.v)*b+h[0],x=Math.sin(v+t.a.v)*b+h[1];l.setAttribute("fx",w),l.setAttribute("fy",x),c&&!t.g._collapsable&&(t.of.setAttribute("fx",w),t.of.setAttribute("fy",x))}}function l(e,t,r){var n=t.style,o=t.d;o&&(o._mdf||r)&&o.dashStr&&(n.pElem.setAttribute("stroke-dasharray",o.dashStr),n.pElem.setAttribute("stroke-dashoffset",o.dashoffset[0])),t.c&&(t.c._mdf||r)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||r)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return i;case"gf":return a;case"gs":return s;case"st":return l;case"sh":case"el":case"rc":case"sr":return o;case"tr":return r;case"no":return n;default:return null}}}}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function LetterProps(e,t,r,n,o,i){this.o=e,this.sw=t,this.sc=r,this.fc=n,this.m=o,this.p=i,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,n,o=this.shapes.length,i=this.stylesList.length,s=[],a=!1;for(r=0;r<i;r+=1){for(n=this.stylesList[r],a=!1,s.length=0,e=0;e<o;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(n)&&(s.push(t),a=t._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,n=new SVGStyleData(e,t),o=n.pElem;return"st"===e.ty?r=new SVGStrokeStyleData(this,e,n):"fl"===e.ty?r=new SVGFillStyleData(this,e,n):"gf"===e.ty||"gs"===e.ty?(r=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),o.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===e.ty&&(r=new SVGNoStyleData(this,e,n)),"st"!==e.ty&&"gs"!==e.ty||(o.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),o.setAttribute("fill-opacity","0"),1===e.lj&&o.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&o.setAttribute("fill-rule","evenodd"),e.ln&&o.setAttribute("id",e.ln),e.cl&&o.setAttribute("class",e.cl),e.bm&&(o.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7);var o=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,n,this));return this.shapes.push(o),this.addShapeToModifiers(o),this.addToAnimatedContents(e,o),o},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,n,o,i,s){var a,l,c,h,d,u,p=[].concat(i),f=e.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((u=this.searchProcessedElement(e[a]))?t[a]=r[u-1]:e[a]._render=s,"fl"===e[a].ty||"st"===e[a].ty||"gf"===e[a].ty||"gs"===e[a].ty||"no"===e[a].ty)u?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],o),e[a]._render&&t[a].style.pElem.parentNode!==n&&n.appendChild(t[a].style.pElem),m.push(t[a].style);else if("gr"===e[a].ty){if(u)for(c=t[a].it.length,l=0;l<c;l+=1)t[a].prevViewData[l]=t[a].it[l];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,t[a].gr,o+1,p,s),e[a]._render&&t[a].gr.parentNode!==n&&n.appendChild(t[a].gr)}else"tr"===e[a].ty?(u||(t[a]=this.createTransformElement(e[a],n)),h=t[a].transform,p.push(h)):"sh"===e[a].ty||"rc"===e[a].ty||"el"===e[a].ty||"sr"===e[a].ty?(u||(t[a]=this.createShapeElement(e[a],p,o)),this.setElementStyles(t[a])):"tm"===e[a].ty||"rd"===e[a].ty||"ms"===e[a].ty||"pb"===e[a].ty||"zz"===e[a].ty||"op"===e[a].ty?(u?(d=t[a]).closed=!1:((d=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=d,this.shapeModifiers.push(d)),g.push(d)):"rp"===e[a].ty&&(u?(d=t[a]).closed=!0:(d=ShapeModifiers.getModifier(e[a].ty),t[a]=d,d.init(this,e,a,t),this.shapeModifiers.push(d),s=!1),g.push(d));this.addProcessedElement(e[a],a+1)}for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0;for(f=g.length,a=0;a<f;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,r,n,o,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,s=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,s=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,s=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,s=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,s=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var o=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s;for(n=0;n<o;n+=1)i=r!==this.keysIndex?this.effectsSequence[n](i,i.t):this.effectsSequence[n](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,n=e.length;r<=n-1&&!(r===n-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,n=[],o=0,i=e.length,s=!1;o<i;)t=e.charCodeAt(o),FontManager.isCombinedCharacter(t)?n[n.length-1]+=e.charAt(o):t>=55296&&t<=56319?(r=e.charCodeAt(o+1))>=56320&&r<=57343?(s||FontManager.isModifier(t,r)?(n[n.length-1]+=e.substr(o,2),s=!1):n.push(e.substr(o,2)),o+=1):n.push(e.charAt(o)):t>56319?(r=e.charCodeAt(o+1),FontManager.isZeroWidthJoiner(t,r)?(s=!0,n[n.length-1]+=e.substr(o,2),o+=1):n.push(e.charAt(o))):FontManager.isZeroWidthJoiner(t)?(n[n.length-1]+=e.charAt(o),s=!0):n.push(e.charAt(o)),o+=1;return n},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,n,o,i,s,a,l=this.elem.globalData.fontManager,c=this.data,h=[],d=0,u=c.m.g,p=0,f=0,m=0,g=[],v=0,y=0,b=l.getFontByName(e.f),w=0,x=getFontProperties(b);e.fWeight=x.weight,e.fStyle=x.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var _,E=e.tr/1e3*e.finalSize;if(e.sz)for(var C,S,k=!0,A=e.sz[0],P=e.sz[1];k;){C=0,v=0,r=(S=this.buildFinalText(e.t)).length,E=e.tr/1e3*e.finalSize;var T=-1;for(t=0;t<r;t+=1)_=S[t].charCodeAt(0),n=!1," "===S[t]?T=t:13!==_&&3!==_||(v=0,n=!0,C+=e.finalLineHeight||1.2*e.finalSize),l.chars?(a=l.getCharData(S[t],b.fStyle,b.fFamily),w=n?0:a.w*e.finalSize/100):w=l.measureText(S[t],e.f,e.finalSize),v+w>A&&" "!==S[t]?(-1===T?r+=1:t=T,C+=e.finalLineHeight||1.2*e.finalSize,S.splice(t,T===t?1:0,"\r"),T=-1,v=0):(v+=w,v+=E);C+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&P<C?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=S,r=e.finalText.length,k=!1)}v=-E,w=0;var M,O=0;for(t=0;t<r;t+=1)if(n=!1,13===(_=(M=e.finalText[t]).charCodeAt(0))||3===_?(O=0,g.push(v),y=v>y?v:y,v=-2*E,o="",n=!0,m+=1):o=M,l.chars?(a=l.getCharData(M,b.fStyle,l.getFontByName(e.f).fFamily),w=n?0:a.w*e.finalSize/100):w=l.measureText(o,e.f,e.finalSize)," "===M?O+=w+E:(v+=w+E+O,O=0),h.push({l:w,an:w,add:p,n:n,anIndexes:[],val:o,line:m,animatorJustifyOffset:0}),2==u){if(p+=w,""===o||" "===o||t===r-1){for(""!==o&&" "!==o||(p-=w);f<=t;)h[f].an=p,h[f].ind=d,h[f].extra=w,f+=1;d+=1,p=0}}else if(3==u){if(p+=w,""===o||t===r-1){for(""===o&&(p-=w);f<=t;)h[f].an=p,h[f].ind=d,h[f].extra=w,f+=1;p=0,d+=1}}else h[d].ind=d,h[d].extra=0,d+=1;if(e.l=h,y=v>y?v:y,g.push(v),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var D,I,R,F,B=c.a;s=B.length;var N=[];for(i=0;i<s;i+=1){for((D=B[i]).a.sc&&(e.strokeColorAnim=!0),D.a.sw&&(e.strokeWidthAnim=!0),(D.a.fc||D.a.fh||D.a.fs||D.a.fb)&&(e.fillColorAnim=!0),F=0,R=D.s.b,t=0;t<r;t+=1)(I=h[t]).anIndexes[i]=F,(1==R&&""!==I.val||2==R&&""!==I.val&&" "!==I.val||3==R&&(I.n||" "==I.val||t==r-1)||4==R&&(I.n||t==r-1))&&(1===D.s.rn&&N.push(F),F+=1);c.a[i].s.totalChars=F;var L,V=-1;if(1===D.s.rn)for(t=0;t<r;t+=1)V!=(I=h[t]).anIndexes[i]&&(V=I.anIndexes[i],L=N.splice(Math.floor(Math.random()*N.length),1)[0]),I.anIndexes[i]=L}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function n(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var o=0,i=0,s=1,a=1;this.ne.v>0?o=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(o,i,s,a).get,c=0,h=this.finalS,d=this.finalE,u=this.data.sh;if(2===u)c=l(c=d===h?n>=d?1:0:e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(3===u)c=l(c=d===h?n>=d?0:1:1-e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(4===u)d===h?c=0:(c=e(0,t(.5/(d-h)+(n-h)/(d-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===u){if(d===h)c=0;else{var p=d-h,f=-p/2+(n=t(e(0,n+.5-h),d-h)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===u?(d===h?c=0:(n=t(e(0,n+.5-h),d-h),c=(1+Math.cos(Math.PI+2*Math.PI*n/(d-h)))/2),c=l(c)):(n>=r(h)&&(c=e(0,t(n-h<0?t(d,1)-(h-n):d-n,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var v=.5-.5*g;c<v?c=0:(c=(c-v)/g)>1&&(c=1)}return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/t,n=this.s.v/t+r,o=this.e.v/t+r;if(n>o){var i=n;n=o,o=i}this.finalS=n,this.finalE=o}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(e,t,r){return new n(e,t,r)}}}();function TextAnimatorDataProperty(e,t,r){var n={propType:!1},o=PropertyFactory.getProp,i=t.a;this.a={r:i.r?o(e,i.r,0,degToRads,r):n,rx:i.rx?o(e,i.rx,0,degToRads,r):n,ry:i.ry?o(e,i.ry,0,degToRads,r):n,sk:i.sk?o(e,i.sk,0,degToRads,r):n,sa:i.sa?o(e,i.sa,0,degToRads,r):n,s:i.s?o(e,i.s,1,.01,r):n,a:i.a?o(e,i.a,1,0,r):n,o:i.o?o(e,i.o,0,.01,r):n,p:i.p?o(e,i.p,1,0,r):n,sw:i.sw?o(e,i.sw,0,0,r):n,sc:i.sc?o(e,i.sc,1,0,r):n,fc:i.fc?o(e,i.fc,1,0,r):n,fh:i.fh?o(e,i.fh,0,0,r):n,fs:i.fs?o(e,i.fs,0,.01,r):n,fb:i.fb?o(e,i.fb,0,.01,r):n,t:i.t?o(e,i.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,n=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,o,i,s,a,l,c,h,d,u,p,f,m,g,v,y,b,w,x=this._moreOptions.alignment.v,_=this._animatorsData,E=this._textData,C=this.mHelper,S=this._renderType,k=this.renderedLetters.length,A=e.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var P,T=w.v;for(this._pathData.r.v&&(T=T.reverse()),s={tLength:0,segments:[]},i=T._length-1,v=0,o=0;o<i;o+=1)P=bez.buildBezierData(T.v[o],T.v[o+1],[T.o[o][0]-T.v[o][0],T.o[o][1]-T.v[o][1]],[T.i[o+1][0]-T.v[o+1][0],T.i[o+1][1]-T.v[o+1][1]]),s.tLength+=P.segmentLength,s.segments.push(P),v+=P.segmentLength;o=i,w.v.c&&(P=bez.buildBezierData(T.v[o],T.v[0],[T.o[o][0]-T.v[o][0],T.o[o][1]-T.v[o][1]],[T.i[0][0]-T.v[0][0],T.i[0][1]-T.v[0][1]]),s.tLength+=P.segmentLength,s.segments.push(P),v+=P.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,a=this._pathData.f.v,u=0,d=1,c=0,h=!0,m=s.segments,a<0&&w.v.c)for(s.tLength<Math.abs(a)&&(a=-Math.abs(a)%s.tLength),d=(f=m[u=m.length-1].points).length-1;a<0;)a+=f[d].partialLength,(d-=1)<0&&(d=(f=m[u-=1].points).length-1);p=(f=m[u].points)[d-1],g=(l=f[d]).partialLength}i=A.length,r=0,n=0;var M,O,D,I,R,F=1.2*e.finalSize*.714,B=!0;D=_.length;var N,L,V,z,H,j,G,U,q,W,$,Z,K=-1,Y=a,X=u,J=d,Q=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var re=0,ne=0,oe=2===e.j?-.5:-1,ie=0,se=!0;for(o=0;o<i;o+=1)if(A[o].n){for(re&&(re+=ne);ie<o;)A[ie].animatorJustifyOffset=re,ie+=1;re=0,se=!0}else{for(O=0;O<D;O+=1)(M=_[O].a).t.propType&&(se&&2===e.j&&(ne+=M.t.v*oe),(R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?re+=M.t.v*R[0]*oe:re+=M.t.v*R*oe);se=!1}for(re&&(re+=ne);ie<o;)A[ie].animatorJustifyOffset=re,ie+=1}for(o=0;o<i;o+=1){if(C.reset(),z=1,A[o].n)r=0,n+=e.yOffset,n+=B?1:0,a=Y,B=!1,this._hasMaskedPath&&(d=J,p=(f=m[u=X].points)[d-1],g=(l=f[d]).partialLength,c=0),ee="",$="",q="",Z="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==A[o].line){switch(e.j){case 1:a+=v-e.lineWidths[A[o].line];break;case 2:a+=(v-e.lineWidths[A[o].line])/2}Q=A[o].line}K!==A[o].ind&&(A[K]&&(a+=A[K].extra),a+=A[o].an/2,K=A[o].ind),a+=x[0]*A[o].an*.005;var ae=0;for(O=0;O<D;O+=1)(M=_[O].a).p.propType&&((R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?ae+=M.p.v[0]*R[0]:ae+=M.p.v[0]*R),M.a.propType&&((R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?ae+=M.a.v[0]*R[0]:ae+=M.a.v[0]*R);for(h=!0,this._pathData.a.v&&(a=.5*A[0].an+(v-this._pathData.f.v-.5*A[0].an-.5*A[A.length-1].an)*K/(i-1),a+=this._pathData.f.v);h;)c+g>=a+ae||!f?(y=(a+ae-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*y,V=p.point[1]+(l.point[1]-p.point[1])*y,C.translate(-x[0]*A[o].an*.005,-x[1]*F*.01),h=!1):f&&(c+=l.partialLength,(d+=1)>=f.length&&(d=0,m[u+=1]?f=m[u].points:w.v.c?(d=0,f=m[u=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[d]).partialLength));N=A[o].an/2-A[o].add,C.translate(-N,0,0)}else N=A[o].an/2-A[o].add,C.translate(-N,0,0),C.translate(-x[0]*A[o].an*.005,-x[1]*F*.01,0);for(O=0;O<D;O+=1)(M=_[O].a).t.propType&&(R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars),0===r&&0===e.j||(this._hasMaskedPath?R.length?a+=M.t.v*R[0]:a+=M.t.v*R:R.length?r+=M.t.v*R[0]:r+=M.t.v*R));for(e.strokeWidthAnim&&(j=e.sw||0),e.strokeColorAnim&&(H=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(G=[e.fc[0],e.fc[1],e.fc[2]]),O=0;O<D;O+=1)(M=_[O].a).a.propType&&((R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?C.translate(-M.a.v[0]*R[0],-M.a.v[1]*R[1],M.a.v[2]*R[2]):C.translate(-M.a.v[0]*R,-M.a.v[1]*R,M.a.v[2]*R));for(O=0;O<D;O+=1)(M=_[O].a).s.propType&&((R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars)).length?C.scale(1+(M.s.v[0]-1)*R[0],1+(M.s.v[1]-1)*R[1],1):C.scale(1+(M.s.v[0]-1)*R,1+(M.s.v[1]-1)*R,1));for(O=0;O<D;O+=1){if(M=_[O].a,R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars),M.sk.propType&&(R.length?C.skewFromAxis(-M.sk.v*R[0],M.sa.v*R[1]):C.skewFromAxis(-M.sk.v*R,M.sa.v*R)),M.r.propType&&(R.length?C.rotateZ(-M.r.v*R[2]):C.rotateZ(-M.r.v*R)),M.ry.propType&&(R.length?C.rotateY(M.ry.v*R[1]):C.rotateY(M.ry.v*R)),M.rx.propType&&(R.length?C.rotateX(M.rx.v*R[0]):C.rotateX(M.rx.v*R)),M.o.propType&&(R.length?z+=(M.o.v*R[0]-z)*R[0]:z+=(M.o.v*R-z)*R),e.strokeWidthAnim&&M.sw.propType&&(R.length?j+=M.sw.v*R[0]:j+=M.sw.v*R),e.strokeColorAnim&&M.sc.propType)for(U=0;U<3;U+=1)R.length?H[U]+=(M.sc.v[U]-H[U])*R[0]:H[U]+=(M.sc.v[U]-H[U])*R;if(e.fillColorAnim&&e.fc){if(M.fc.propType)for(U=0;U<3;U+=1)R.length?G[U]+=(M.fc.v[U]-G[U])*R[0]:G[U]+=(M.fc.v[U]-G[U])*R;M.fh.propType&&(G=R.length?addHueToRGB(G,M.fh.v*R[0]):addHueToRGB(G,M.fh.v*R)),M.fs.propType&&(G=R.length?addSaturationToRGB(G,M.fs.v*R[0]):addSaturationToRGB(G,M.fs.v*R)),M.fb.propType&&(G=R.length?addBrightnessToRGB(G,M.fb.v*R[0]):addBrightnessToRGB(G,M.fb.v*R))}}for(O=0;O<D;O+=1)(M=_[O].a).p.propType&&(R=_[O].s.getMult(A[o].anIndexes[O],E.a[O].s.totalChars),this._hasMaskedPath?R.length?C.translate(0,M.p.v[1]*R[0],-M.p.v[2]*R[1]):C.translate(0,M.p.v[1]*R,-M.p.v[2]*R):R.length?C.translate(M.p.v[0]*R[0],M.p.v[1]*R[1],-M.p.v[2]*R[2]):C.translate(M.p.v[0]*R,M.p.v[1]*R,-M.p.v[2]*R));if(e.strokeWidthAnim&&(q=j<0?0:j),e.strokeColorAnim&&(W="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),e.fillColorAnim&&e.fc&&($="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this._hasMaskedPath){if(C.translate(0,-e.ls),C.translate(0,x[1]*F*.01+n,0),this._pathData.p.v){b=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(b)/Math.PI;l.point[0]<p.point[0]&&(le+=180),C.rotate(-le*Math.PI/180)}C.translate(L,V,0),a-=x[0]*A[o].an*.005,A[o+1]&&K!==A[o+1].ind&&(a+=A[o].an/2,a+=.001*e.tr*e.finalSize)}else{switch(C.translate(r,n,0),e.ps&&C.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:C.translate(A[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[A[o].line]),0,0);break;case 2:C.translate(A[o].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[A[o].line])/2,0,0)}C.translate(0,-e.ls),C.translate(N,0,0),C.translate(x[0]*A[o].an*.005,x[1]*F*.01,0),r+=A[o].l+.001*e.tr*e.finalSize}"html"===S?ee=C.toCSS():"svg"===S?ee=C.to2dCSS():te=[C.props[0],C.props[1],C.props[2],C.props[3],C.props[4],C.props[5],C.props[6],C.props[7],C.props[8],C.props[9],C.props[10],C.props[11],C.props[12],C.props[13],C.props[14],C.props[15]],Z=z}k<=o?(I=new LetterProps(Z,q,W,$,ee,te),this.renderedLetters.push(I),k+=1,this.lettersChangedFlag=!0):(I=this.renderedLetters[o],this.lettersChangedFlag=I.update(Z,q,W,$,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var r,n,o=t.length,i="";for(r=0;r<o;r+=1)"sh"===t[r].ty&&(n=t[r].ks.k,i+=buildShapeString(n,n.i.length,!0,e));return i},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,n,o){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(n,o,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function ISolidElement(e,t,r){this.initElement(e,t,r)}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var n=createNS("title"),o=createElementID();n.setAttribute("id",o),n.textContent=t.title,this.svgElement.appendChild(n),r+=o}if(t&&t.description){var i=createNS("desc"),s=createElementID();i.setAttribute("id",s),i.textContent=t.description,this.svgElement.appendChild(i),r+=" "+s}r&&this.svgElement.setAttribute("aria-labelledby",r);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(e,t){var r;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,o=!1;for(r=0;r<n;r+=1)"n"!==this.masksProperties[r].mode&&(o=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(e,t,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o,i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var s,a=r.length;for(o=0;o<a;o+=1)r[o].closed||(s={transforms:n.addTransformSequence(r[o].transforms),trNodes:[]},this.styledShapes.push(s),r[o].elements.push(s))}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CanvasRendererBase(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var o,i=e.ks.or.k.length;for(o=0;o<i;o+=1)e.ks.or.k[o].to=null,e.ks.or.k[o].ti=null}this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,n=[],o="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(o),o=""):o+=e[t],t+=1;return n.push(o),n},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var n=r.it[r.it.length-1];n.s&&(n.s.k[0]=t,n.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var o=r.fWeight,i=r.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",r.t);var s,a=r.l||[],l=!!this.globalData.fontManager.chars;t=a.length;var c=this.mHelper,h=this.data.singleShape,d=0,u=0,p=!0,f=.001*r.tr*r.finalSize;if(!h||l||r.sz){var m,g=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!h||0===e){if(s=g>e?this.textSpans[e].span:createNS(l?"g":"text"),g<=e){if(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=s,l){var v=createNS("g");s.appendChild(v),this.textSpans[e].childSpan=v}this.textSpans[e].span=s,this.layerElement.appendChild(s)}s.style.display="inherit"}if(c.reset(),h&&(a[e].n&&(d=-f,u+=r.yOffset,u+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,c,a[e].line,d,u),d+=a[e].l||0,d+=f),l){var y;if(1===(m=this.globalData.fontManager.getCharData(r.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)y=new SVGCompElement(m.data,this.globalData,this);else{var b=emptyShapeData;m.data&&m.data.shapes&&(b=this.buildShapeData(m.data,r.finalSize)),y=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[e].glyph){var w=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[e].glyph=y,y._debug=!0,y.prepareFrame(0),y.renderFrame(),this.textSpans[e].childSpan.appendChild(y.layerElement),1===m.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else h&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=a[e].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&s&&s.setAttribute("d","")}else{var x=this.textContainer,_="start";switch(r.j){case 1:_="end";break;case 2:_="middle";break;default:_="start"}x.setAttribute("text-anchor",_),x.setAttribute("letter-spacing",f);var E=this.buildTextContents(r.finalText);for(t=E.length,u=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(s=this.textSpans[e].span||createNS("tspan")).textContent=E[e],s.setAttribute("x",0),s.setAttribute("y",u),s.style.display="inherit",x.appendChild(s),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=s,u+=r.finalLineHeight;this.layerElement.appendChild(x)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<r;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var r,n,o,i=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(t=s.length,e=0;e<t;e+=1)s[e].n||(r=i[e],n=this.textSpans[e].span,(o=this.textSpans[e].glyph)&&o.renderFrame(),r._mdf.m&&n.setAttribute("transform",r.m),r._mdf.o&&n.setAttribute("opacity",r.o),r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r._mdf.sc&&n.setAttribute("stroke",r.sc),r._mdf.fc&&n.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var o=createElementID();r.setAttribute("id",o),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,r=this.layers.length;for(t=0;t<r;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var r=this.createItem(this.layers[e]);if(t[e]=r,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt){var n="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===n)return;if(this.elements[n]&&!0!==this.elements[n]){var o=t[n].getMatte(this.layers[e].tt);r.setMatte(o)}else this.buildItem(n),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){var n="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,o=this.elements[n].getMatte(this.layers[t].tt);e.setMatte(o);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var n,o=0;o<t;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement()&&(n=this.elements[o].getBaseElement()),o+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var r=0;for(r=this._length;r<e;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,n="_";for(t=0;t<r;t+=1)n+=e[t].transform.key+"_";var o=this.sequences[n];return o||(o={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=o,this.sequenceList.push(o)),o},processSequence:function(e,t){for(var r,n=0,o=e.transforms.length,i=t;n<o&&!t;){if(e.transforms[n].transform.mProps._mdf){i=!0;break}n+=1}if(i)for(e.finalTransform.reset(),n=o-1;n>=0;n-=1)r=e.transforms[n].transform.mProps.v.props,e.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);e._mdf=i},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,n,o=this.element.finalTransform.mat,i=this.element.canvasContext,s=this.masksProperties.length;for(i.beginPath(),e=0;e<s;e+=1)if("n"!==this.masksProperties[e].mode){var a;this.masksProperties[e].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),n=this.viewData[e].v,t=o.applyToPointArray(n.v[0][0],n.v[0][1],0),i.moveTo(t[0],t[1]);var l=n._length;for(a=1;a<l;a+=1)r=o.applyToTriplePoints(n.o[a-1],n.i[a],n.v[a]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=o.applyToTriplePoints(n.o[a-1],n.i[0],n.v[0]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=0===this.data.ty;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},n={};if("fl"===e.ty||"st"===e.ty?(n.c=PropertyFactory.getProp(this,e.c,1,255,this),n.c.k||(r.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(n.s=PropertyFactory.getProp(this,e.s,1,null,this),n.e=PropertyFactory.getProp(this,e.e,1,null,this),n.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,e.g,this)),n.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],1==e.lj&&(r.ml=e.ml),n.w=PropertyFactory.getProp(this,e.w,0,null,this),n.w.k||(r.wi=n.w.v),e.d){var o=new DashProperty(this,e.d,"canvas",this);n.d=o,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,n,o){var i,s,a,l,c,h,d=e.length-1,u=[],p=[],f=[].concat(o);for(i=d;i>=0;i-=1){if((l=this.searchProcessedElement(e[i]))?t[i]=r[l-1]:e[i]._shouldRender=n,"fl"===e[i].ty||"st"===e[i].ty||"gf"===e[i].ty||"gs"===e[i].ty)l?t[i].style.closed=!1:t[i]=this.createStyleElement(e[i],f),u.push(t[i].style);else if("gr"===e[i].ty){if(l)for(a=t[i].it.length,s=0;s<a;s+=1)t[i].prevViewData[s]=t[i].it[s];else t[i]=this.createGroupElement(e[i]);this.searchShapes(e[i].it,t[i].it,t[i].prevViewData,n,f)}else"tr"===e[i].ty?(l||(h=this.createTransformElement(e[i]),t[i]=h),f.push(t[i]),this.addTransformToStyleList(t[i])):"sh"===e[i].ty||"rc"===e[i].ty||"el"===e[i].ty||"sr"===e[i].ty?l||(t[i]=this.createShapeElement(e[i])):"tm"===e[i].ty||"rd"===e[i].ty||"pb"===e[i].ty||"zz"===e[i].ty||"op"===e[i].ty?(l?(c=t[i]).closed=!1:((c=ShapeModifiers.getModifier(e[i].ty)).init(this,e[i]),t[i]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===e[i].ty&&(l?(c=t[i]).closed=!0:(c=ShapeModifiers.getModifier(e[i].ty),t[i]=c,c.init(this,e,i,t),this.shapeModifiers.push(c),n=!1),p.push(c));this.addProcessedElement(e[i],i+1)}for(this.removeTransformFromStyleList(),this.closeStyles(u),d=p.length,i=0;i<d;i+=1)p[i].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,n,o,i,s,a,l,c=this.stylesList.length,h=this.globalData.renderer,d=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(a=(l=this.stylesList[e]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),i=l.elements,"st"===a||"gs"===a?(d.strokeStyle="st"===a?l.co:l.grd,d.lineWidth=l.wi,d.lineCap=l.lc,d.lineJoin=l.lj,d.miterLimit=l.ml||0):d.fillStyle="fl"===a?l.co:l.grd,h.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&d.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),r=i.length,t=0;t<r;t+=1){for("st"!==a&&"gs"!==a||(d.beginPath(),l.da&&(d.setLineDash(l.da),d.lineDashOffset=l.do)),o=(s=i[t].trNodes).length,n=0;n<o;n+=1)"m"===s[n].t?d.moveTo(s[n].p[0],s[n].p[1]):"c"===s[n].t?d.bezierCurveTo(s[n].pts[0],s[n].pts[1],s[n].pts[2],s[n].pts[3],s[n].pts[4],s[n].pts[5]):d.closePath();"st"!==a&&"gs"!==a||(d.stroke(),l.da&&d.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&d.fill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,n){var o,i;for(i=e,o=t.length-1;o>=0;o-=1)"tr"===t[o].ty?(i=r[o].transform,this.renderShapeTransform(e,i)):"sh"===t[o].ty||"el"===t[o].ty||"rc"===t[o].ty||"sr"===t[o].ty?this.renderPath(t[o],r[o]):"fl"===t[o].ty?this.renderFill(t[o],r[o],i):"st"===t[o].ty?this.renderStroke(t[o],r[o],i):"gf"===t[o].ty||"gs"===t[o].ty?this.renderGradientFill(t[o],r[o],i):"gr"===t[o].ty?this.renderShape(i,t[o].it,r[o].it):t[o].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,n,o,i=e.trNodes,s=t.paths,a=s._length;i.length=0;var l=e.transforms.finalTransform;for(o=0;o<a;o+=1){var c=s.shapes[o];if(c&&c.v){for(n=c._length,r=1;r<n;r+=1)1===r&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===n&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&n&&(i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var r,n=t.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var n,o=t.style;if(!o.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var i,s=this.globalData.canvasContext,a=t.s.v,l=t.e.v;if(1===e.t)n=s.createLinearGradient(a[0],a[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),h=Math.atan2(l[1]-a[1],l[0]-a[0]),d=t.h.v;d>=1?d=.99:d<=-1&&(d=-.99);var u=c*d,p=Math.cos(h+t.a.v)*u+a[0],f=Math.sin(h+t.a.v)*u+a[1];n=s.createRadialGradient(p,f,0,a[0],a[1],c)}var m=e.g.p,g=t.g.c,v=1;for(i=0;i<m;i+=1)t.g._hasOpacity&&t.g._collapsable&&(v=t.g.o[2*i+1]),n.addColorStop(g[4*i]/100,"rgba("+g[4*i+1]+","+g[4*i+2]+","+g[4*i+3]+","+v+")");o.grd=n}o.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var n=t.style,o=t.d;o&&(o._mdf||this._isFirstFrame)&&(n.da=o.dashArray,n.do=o.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n,o,i,s,a,l,c,h,d,u,p,f,m=this.globalData.fontManager.getFontByName(e.f),g=e.l,v=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,o=e.finalText.length;var y=this.data.singleShape,b=.001*e.tr*e.finalSize,w=0,x=0,_=!0,E=0;for(n=0;n<o;n+=1){s=(i=this.globalData.fontManager.getCharData(e.finalText[n],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&i.data||{},v.reset(),y&&g[n].n&&(w=-b,x+=e.yOffset,x+=_?1:0,_=!1),d=(c=s.shapes?s.shapes[0].it:[]).length,v.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,v,g[n].line,w,x),p=createSizedArray(d-1);var C=0;for(h=0;h<d;h+=1)if("sh"===c[h].ty){for(l=c[h].ks.k.i.length,u=c[h].ks.k,f=[],a=1;a<l;a+=1)1===a&&f.push(v.applyToX(u.v[0][0],u.v[0][1],0),v.applyToY(u.v[0][0],u.v[0][1],0)),f.push(v.applyToX(u.o[a-1][0],u.o[a-1][1],0),v.applyToY(u.o[a-1][0],u.o[a-1][1],0),v.applyToX(u.i[a][0],u.i[a][1],0),v.applyToY(u.i[a][0],u.i[a][1],0),v.applyToX(u.v[a][0],u.v[a][1],0),v.applyToY(u.v[a][0],u.v[a][1],0));f.push(v.applyToX(u.o[a-1][0],u.o[a-1][1],0),v.applyToY(u.o[a-1][0],u.o[a-1][1],0),v.applyToX(u.i[0][0],u.i[0][1],0),v.applyToY(u.i[0][0],u.i[0][1],0),v.applyToX(u.v[0][0],u.v[0][1],0),v.applyToY(u.v[0][0],u.v[0][1],0)),p[C]=f,C+=1}y&&(w+=g[n].l,w+=b),this.textSpans[E]?this.textSpans[E].elem=p:this.textSpans[E]={elem:p},E+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,n,o,i,s=this.canvasContext;s.font=this.values.fValue,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;t=c.length;var h,d,u=null,p=null,f=null;for(e=0;e<t;e+=1)if(!c[e].n){if((a=l[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?u!==a.fc&&(u=a.fc,s.fillStyle=a.fc):u!==this.values.fill&&(u=this.values.fill,s.fillStyle=this.values.fill),n=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(d=h[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?f!==a.sw&&(f=a.sw,s.lineWidth=a.sw):f!==this.values.sWidth&&(f=this.values.sWidth,s.lineWidth=this.values.sWidth),a&&a.sc?p!==a.sc&&(p=a.sc,s.strokeStyle=a.sc):p!==this.values.stroke&&(p=this.values.stroke,s.strokeStyle=this.values.stroke),n=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(d=h[r]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),o=2;o<i;o+=6)this.globalData.canvasContext.bezierCurveTo(d[o],d[o+1],d[o+2],d[o+3],d[o+4],d[o+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,n=e.getContext("2d"),o=this.img.width,i=this.img.height,s=o/i,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&"xMidYMid slice"===l||s<a&&"xMidYMid slice"!==l?t=(r=i)*a:r=(t=o)/a,n.drawImage(this.img,(o-t)/2,(i-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t,r=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n=this.contextData.saved[this.contextData.cArrPos];for(t=0;t<16;t+=1)n[t]=r[t];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,r=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(t=0;t<16;t+=1)n[t]=r[t];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var r,n,o,i;if(this.reset(),e?(r=e,n=t,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var s=this.renderConfig.preserveAspectRatio.split(" "),a=s[1]||"meet",l=s[0]||"xMidYMid",c=l.substr(0,4),h=l.substr(4);o=r/n,(i=this.transformCanvas.w/this.transformCanvas.h)>o&&"meet"===a||i<o&&"slice"===a?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(i<o&&"meet"===a||i>o&&"slice"===a)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(i<o&&"meet"===a||i>o&&"slice"===a)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(i>o&&"meet"===a||i<o&&"slice"===a)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(i>o&&"meet"===a||i<o&&"slice"===a)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var r;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var n=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=0;r<n;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,n,o,i,s,a=e.sh.v,l=e.transformers,c=a._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)n=this.getTransformedPoint(l,a.v[r]),o=this.getTransformedPoint(l,a.o[r]),i=this.getTransformedPoint(l,a.i[r+1]),s=this.getTransformedPoint(l,a.v[r+1]),this.checkBounds(n,o,i,s,t);a.c&&(n=this.getTransformedPoint(l,a.v[r]),o=this.getTransformedPoint(l,a.o[r]),i=this.getTransformedPoint(l,a.i[0]),s=this.getTransformedPoint(l,a.v[0]),this.checkBounds(n,o,i,s,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,n,o){this.getBoundsOfCurve(e,t,r,n);var i=this.shapeBoundingBox;o.x=bmMin(i.left,o.x),o.xMax=bmMax(i.right,o.xMax),o.y=bmMin(i.top,o.y),o.yMax=bmMax(i.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,n){for(var o,i,s,a,l,c,h,d=[[e[0],n[0]],[e[1],n[1]]],u=0;u<2;++u)i=6*e[u]-12*t[u]+6*r[u],o=-3*e[u]+9*t[u]-9*r[u]+3*n[u],s=3*t[u]-3*e[u],i|=0,s|=0,0==(o|=0)&&0===i||(0===o?(a=-s/i)>0&&a<1&&d[u].push(this.calculateF(a,e,t,r,n,u)):(l=i*i-4*s*o)>=0&&((c=(-i+bmSqrt(l))/(2*o))>0&&c<1&&d[u].push(this.calculateF(c,e,t,r,n,u)),(h=(-i-bmSqrt(l))/(2*o))>0&&h<1&&d[u].push(this.calculateF(h,e,t,r,n,u))));this.shapeBoundingBox.left=bmMin.apply(null,d[0]),this.shapeBoundingBox.top=bmMin.apply(null,d[1]),this.shapeBoundingBox.right=bmMax.apply(null,d[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,d[1])},HShapeElement.prototype.calculateF=function(e,t,r,n,o,i){return bmPow(1-e,3)*t[i]+3*bmPow(1-e,2)*e*r[i]+3*(1-e)*bmPow(e,2)*n[i]+bmPow(e,3)*o[i]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,n=e.length;for(r=0;r<n;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var n=0;n<e.keyframes.length;n+=1){var o=e.keyframes[n].s;o>r&&(r=o)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=o,n.webkitTransform=o}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var n,o,i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var s=e.fWeight,a=e.fStyle;t.fontStyle=a,t.fontWeight=s}var l,c,h,d=e.l;o=d.length;var u,p=this.mHelper,f="",m=0;for(n=0;n<o;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?h=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(h=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,v=this.globalData.fontManager.getCharData(e.finalText[n],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=v?v.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(u=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,u),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(h);var y=h.getBBox();h.setAttribute("width",y.width+2),h.setAttribute("height",y.height+2),h.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var b=h.style,w="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";b.transform=w,b.webkitTransform=w,d[n].yOffset=y.y-1}else h.setAttribute("width",1),h.setAttribute("height",1);c.appendChild(h)}}else if(l.textContent=d[n].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var x=l.style,_="translate3d(0,"+-e.finalSize/1.2+"px,0)";x.transform=_,x.webkitTransform=_}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,n,o,i,s,a=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(n=c.length,r=0;r<n;r+=1)c[r].n?a+=1:(i=this.textSpans[r],s=this.textPaths[r],o=l[a],a+=1,o._mdf.m&&(this.isMasked?i.setAttribute("transform",o.m):(i.style.webkitTransform=o.m,i.style.transform=o.m)),i.style.opacity=o.o,o.sw&&o._mdf.sw&&s.setAttribute("stroke-width",o.sw),o.sc&&o._mdf.sc&&s.setAttribute("stroke",o.sc),o.fc&&o._mdf.fc&&(s.setAttribute("fill",o.fc),s.style.color=o.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=d,e.webkitTransform=d}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,n,o=this.comp.threeDElements.length;for(e=0;e<o;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){r=t.perspectiveElem.style,n=t.container.style;var i=this.pe.v+"px",s="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=i,r.webkitPerspective=i,n.transformOrigin=s,n.mozTransformOrigin=s,n.webkitTransformOrigin=s,r.transform=a,r.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var n=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;o=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var i=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),s=[o[0]/i,o[1]/i,o[2]/i],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],a),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var d,u,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(d=this.comp.threeDElements[e]).type){if(h){var f=this.mat.toCSS();(p=d.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((u=d.perspectiveElem.style).perspective=this.pe.v+"px",u.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var n=this.layers[t];if(n.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var o,i,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(i=this.elements[s],o=(this.layers[s].ddd?this.getThreeDContainerByPos(s):i.getBaseElement())||o),s+=1;o?n.ddd&&this.supports3d||this.layerElement.insertBefore(r,o):n.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r,n,o=createTag("div");styleDiv(o);var i=createTag("div");if(styleDiv(i),"3d"===t){(r=o.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var s="50% 50%";r.webkitTransformOrigin=s,r.mozTransformOrigin=s,r.transformOrigin=s;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=i.style).transform=a,n.webkitTransform=a}o.appendChild(i);var l={container:i,perspectiveElem:o,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,r=this.layers.length,n="";for(e=0;e<r;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==n&&(n="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==n&&(n="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,n=this.threeDElements.length;r<n;){if(t<=this.threeDElements[r].endPos){for(var o,i=this.threeDElements[r].startPos;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(o=this.elements[i].getBaseElement()),i+=1;o?this.threeDElements[r].container.insertBefore(e,o):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,n=t.style;n.width=e.w+"px",n.height=e.h+"px",this.resizerElem=t,styleDiv(t),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),n.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var i=createNS("defs");o.appendChild(i),this.data=e,this.setupGlobalData(e,o),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,r,n,o=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,s=o/i;this.globalData.compSize.w/this.globalData.compSize.h>s?(e=o/this.globalData.compSize.w,t=o/this.globalData.compSize.w,r=0,n=(i-this.globalData.compSize.h*(o/this.globalData.compSize.w))/2):(e=i/this.globalData.compSize.h,t=i/this.globalData.compSize.h,r=(o-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,n=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+n+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,n=this.threeDElements.length;for(e=0;e<n;e+=1){var o=this.threeDElements[e].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,n=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var o=this.createComp(e[t],n,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,n=0;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(e){function t(t){for(var r=0,n=e.layers.length;r<n;){if(e.layers[r].nm===t||e.layers[r].ind===t)return e.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},Expressions={initExpressions:function(e){var t=0,r=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=r.length;for(e=0;e<t;e+=1)r[e].release();r.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===r.indexOf(e)&&r.push(e)}}},MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,n=createSizedArray(t.viewData.length),o=t.viewData.length;for(r=0;r<o;r+=1)n[r]=new e(t.viewData[r],t.masksProperties[r]);return function(e){for(r=0;r<o;){if(t.masksProperties[r].nm===e)return n[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(e,t,r){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(n){if(!e.numKeys)return 0;var o;o="s"in t.keyframes[n-1]?t.keyframes[n-1].s:"e"in t.keyframes[n-2]?t.keyframes[n-2].e:t.keyframes[n-2].s;var i="unidimensional"===r?new Number(o):Object.assign({},o);return i.time=t.keyframes[n-1].t/t.elem.comp.globalData.frameRate,i.value="unidimensional"===r?o[0]:o,i},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function n(){return e}return function(o){return o?"unidimensional"===o.propType?function(t){t&&"pv"in t||(t=e);var n=1/t.mult,o=t.pv*n,i=new Number(o);return i.value=o,r(i,t,"unidimensional"),function(){return t.k&&t.getValue(),o=t.v*n,i.value!==o&&((i=new Number(o)).value=o,r(i,t,"unidimensional")),i}}(o):function(e){e&&"pv"in e||(e=t);var n=1/e.mult,o=e.data&&e.data.l||e.pv.length,i=createTypedArray("float32",o),s=createTypedArray("float32",o);return i.value=s,r(i,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<o;t+=1)s[t]=e.v[t]*n,i[t]=s[t];return i}}(o):n}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,n,o,i;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?i=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),n=ExpressionPropertyInterface(e.py),e.pz&&(o=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?i():[r(),n(),o?o():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,e)}function r(e,t){var r=this.getMatrix(t);return this.applyPoint(r,e)}function n(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,e)}function o(e,t){var r=this.getMatrix(t);return this.invertPoint(r,e)}function i(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function s(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function a(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(c){var h;function d(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=e,d.invertPoint=s,d.applyPoint=i,d.toWorld=r,d.toWorldVec=t,d.fromWorld=o,d.fromWorldVec=n,d.toComp=r,d.fromComp=a,d.sampleImage=l,d.sourceRectAtTime=c.sourceRectAtTime.bind(c),d._elem=c;var u=getDescriptor(h=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:u,anchor_point:u,transform:{get:function(){return h}},active:{get:function(){return c.isInRange}}}),d.startTime=c.data.st,d.index=c.data.ind,d.source=c.data.refId,d.height=0===c.data.ty?c.data.h:100,d.width=0===c.data.ty?c.data.w:100,d.inPoint=c.data.ip/c.comp.globalData.frameRate,d.outPoint=c.data.op/c.comp.globalData.frameRate,d._name=c.data.nm,d.registerMaskInterface=function(e){d.mask=new MaskManagerInterface(e,c)},d.registerEffectsInterface=function(e){d.effect=e},d}}(),propertyGroupFactory=function(e,t){return function(r){return(r=void 0===r?1:r)<=0?e:t(r-1)}},PropertyInterface=function(e,t){var r={_name:e};return function(e){return(e=void 0===e?1:e)<=0?r:t(e-1)}},EffectsExpressionInterface=function(){function e(r,n,o,i){function s(e){for(var t=r.ef,n=0,o=t.length;n<o;){if(e===t[n].nm||e===t[n].mn||e===t[n].ix)return 5===t[n].ty?c[n]:c[n]();n+=1}throw new Error}var a,l=propertyGroupFactory(s,o),c=[],h=r.ef.length;for(a=0;a<h;a+=1)5===r.ef[a].ty?c.push(e(r.ef[a],n.effectElements[a],n.effectElements[a].propertyGroup,i)):c.push(t(n.effectElements[a],r.ef[a].ty,i,l));return"ADBE Color Control"===r.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),s.enabled=0!==r.en,s.active=s.enabled,s}function t(e,t,r,n){var o=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===t?r.comp.compInterface(e.p.v):o()}}return{createEffectsInterface:function(t,r){if(t.effectsManager){var n,o=[],i=t.data.ef,s=t.effectsManager.effectElements.length;for(n=0;n<s;n+=1)o.push(e(i[n],t.effectsManager.effectElements[n],r,t));var a=t.data.ef||[],l=function(e){for(n=0,s=a.length;n<s;){if(e===a[n].nm||e===a[n].mn||e===a[n].ix)return o[n];n+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}}}(),ShapePathInterface=function(e,t,r){var n=t.sh;function o(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?o.path:null}var i=propertyGroupFactory(o,r);return n.setGroupProperty(PropertyInterface("Path",i)),Object.defineProperties(o,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),o},ShapeExpressionInterface=function(){function e(e,s,u){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"===e[p].ty?f.push(t(e[p],s[p],u)):"fl"===e[p].ty?f.push(r(e[p],s[p],u)):"st"===e[p].ty?f.push(o(e[p],s[p],u)):"tm"===e[p].ty?f.push(i(e[p],s[p],u)):"tr"===e[p].ty||("el"===e[p].ty?f.push(a(e[p],s[p],u)):"sr"===e[p].ty?f.push(l(e[p],s[p],u)):"sh"===e[p].ty?f.push(ShapePathInterface(e[p],s[p],u)):"rc"===e[p].ty?f.push(c(e[p],s[p],u)):"rd"===e[p].ty?f.push(h(e[p],s[p],u)):"rp"===e[p].ty?f.push(d(e[p],s[p],u)):"gf"===e[p].ty?f.push(n(e[p],s[p],u)):f.push((e[p],s[p],function(){return null})));return f}function t(t,r,n){var o=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return o.content;default:return o.transform}};o.propertyGroup=propertyGroupFactory(o,n);var i=function(t,r,n){var o,i=function(e){for(var t=0,r=o.length;t<r;){if(o[t]._name===e||o[t].mn===e||o[t].propertyIndex===e||o[t].ix===e||o[t].ind===e)return o[t];t+=1}return"number"==typeof e?o[e-1]:null};i.propertyGroup=propertyGroupFactory(i,n),o=e(t.it,r.it,i.propertyGroup),i.numProperties=o.length;var a=s(t.it[t.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.transform=a,i.propertyIndex=t.cix,i._name=t.nm,i}(t,r,o.propertyGroup),a=s(t.it[t.it.length-1],r.it[r.it.length-1],o.propertyGroup);return o.content=i,o.transform=a,Object.defineProperty(o,"_name",{get:function(){return t.nm}}),o.numProperties=t.np,o.propertyIndex=t.ix,o.nm=t.nm,o.mn=t.mn,o}function r(e,t,r){function n(e){return"Color"===e||"color"===e?n.color:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function n(e,t,r){function n(e){return"Start Point"===e||"start point"===e?n.startPoint:"End Point"===e||"end point"===e?n.endPoint:"Opacity"===e||"opacity"===e?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",r)),t.e.setGroupProperty(PropertyInterface("End Point",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function o(e,t,r){var n,o=propertyGroupFactory(c,r),i=propertyGroupFactory(l,o);function s(r){Object.defineProperty(l,e.d[r].nm,{get:ExpressionPropertyInterface(t.d.dataProps[r].p)})}var a=e.d?e.d.length:0,l={};for(n=0;n<a;n+=1)s(n),t.d.dataProps[n].p.setGroupProperty(i);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",o)),t.o.setGroupProperty(PropertyInterface("Opacity",o)),t.w.setGroupProperty(PropertyInterface("Stroke Width",o)),c}function i(e,t,r){function n(t){return t===e.e.ix||"End"===t||"end"===t?n.end:t===e.s.ix?n.start:t===e.o.ix?n.offset:null}var o=propertyGroupFactory(n,r);return n.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",o)),t.e.setGroupProperty(PropertyInterface("End",o)),t.o.setGroupProperty(PropertyInterface("Offset",o)),n.propertyIndex=e.ix,n.propertyGroup=r,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),n.mn=e.mn,n}function s(e,t,r){function n(t){return e.a.ix===t||"Anchor Point"===t?n.anchorPoint:e.o.ix===t||"Opacity"===t?n.opacity:e.p.ix===t||"Position"===t?n.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?n.rotation:e.s.ix===t||"Scale"===t?n.scale:e.sk&&e.sk.ix===t||"Skew"===t?n.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?n.skewAxis:null}var o=propertyGroupFactory(n,r);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",o)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",o)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",o)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",o)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",o)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",o)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",o))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",o)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),n.ty="tr",n.mn=e.mn,n.propertyGroup=r,n}function a(e,t,r){function n(t){return e.p.ix===t?n.position:e.s.ix===t?n.size:null}var o=propertyGroupFactory(n,r);n.propertyIndex=e.ix;var i="tm"===t.sh.ty?t.sh.prop:t.sh;return i.s.setGroupProperty(PropertyInterface("Size",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:e.nm}}),n.mn=e.mn,n}function l(e,t,r){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.rotation:e.pt.ix===t?n.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?n.outerRadius:e.os.ix===t?n.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?n.innerRoundness:null:n.innerRadius}var o=propertyGroupFactory(n,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,i.or.setGroupProperty(PropertyInterface("Outer Radius",o)),i.os.setGroupProperty(PropertyInterface("Outer Roundness",o)),i.pt.setGroupProperty(PropertyInterface("Points",o)),i.p.setGroupProperty(PropertyInterface("Position",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),e.ir&&(i.ir.setGroupProperty(PropertyInterface("Inner Radius",o)),i.is.setGroupProperty(PropertyInterface("Inner Roundness",o))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:e.nm}}),n.mn=e.mn,n}function c(e,t,r){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?n.size:null}var o=propertyGroupFactory(n,r),i="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,i.p.setGroupProperty(PropertyInterface("Position",o)),i.s.setGroupProperty(PropertyInterface("Size",o)),i.r.setGroupProperty(PropertyInterface("Rotation",o)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:e.nm}}),n.mn=e.mn,n}function h(e,t,r){function n(t){return e.r.ix===t||"Round Corners 1"===t?n.radius:null}var o=propertyGroupFactory(n,r),i=t;return n.propertyIndex=e.ix,i.rd.setGroupProperty(PropertyInterface("Radius",o)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:e.nm}}),n.mn=e.mn,n}function d(e,t,r){function n(t){return e.c.ix===t||"Copies"===t?n.copies:e.o.ix===t||"Offset"===t?n.offset:null}var o=propertyGroupFactory(n,r),i=t;return n.propertyIndex=e.ix,i.c.setGroupProperty(PropertyInterface("Copies",o)),i.o.setGroupProperty(PropertyInterface("Offset",o)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:e.nm}}),n.mn=e.mn,n}return function(t,r,n){var o;function i(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?n:o[e-1];for(var t=0,r=o.length;t<r;){if(o[t]._name===e)return o[t];t+=1}return null}return i.propertyGroup=propertyGroupFactory(i,(function(){return n})),o=e(t,r,i.propertyGroup),i.numProperties=o.length,i._name="Contents",i}}(),TextExpressionInterface=function(e){var t,r;function n(e){return"ADBE Text Document"===e?n.sourceText:null}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var n=e.textProperty.currentData.t;return n!==t&&(e.textProperty.currentData.t=t,(r=new String(n)).value=n||new String(n)),r}}),n};function _typeof$2(e){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(e)}var FootageInterface=(dataInterfaceFactory=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",r=e.getFootageData();function n(e){if(r[e])return t=e,"object"===_typeof$2(r=r[e])?n:r;var o=e.indexOf(t);if(-1!==o){var i=parseInt(e.substr(o+t.length),10);return"object"===_typeof$2(r=r[i])?n:r}return""}return function(){return t="",r=e.getFootageData(),n}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}function _typeof$1(e){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(e)}function seedRandom(e,t){var r=this,n=256,o=t.pow(n,6),i=t.pow(2,52),s=2*i,a=255;function l(e){var t,r=e.length,o=this,i=0,s=o.i=o.j=0,l=o.S=[];for(r||(e=[r++]);i<n;)l[i]=i++;for(i=0;i<n;i++)l[i]=l[s=a&s+e[i%r]+(t=l[i])],l[s]=t;o.g=function(e){for(var t,r=0,i=o.i,s=o.j,l=o.S;e--;)t=l[i=a&i+1],r=r*n+l[a&(l[i]=l[s=a&s+t])+(l[s]=t)];return o.i=i,o.j=s,r}}function c(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){var r,n=[],o=_typeof$1(e);if(t&&"object"==o)for(r in e)try{n.push(h(e[r],t-1))}catch(e){}return n.length?n:"string"==o?e:e+"\0"}function d(e,t){for(var r,n=e+"",o=0;o<n.length;)t[a&o]=a&(r^=19*t[a&o])+n.charCodeAt(o++);return u(t)}function u(e){return String.fromCharCode.apply(0,e)}t.seedrandom=function(a,p,f){var m=[],g=d(h((p=!0===p?{entropy:!0}:p||{}).entropy?[a,u(e)]:null===a?function(){try{var t=new Uint8Array(n);return(r.crypto||r.msCrypto).getRandomValues(t),u(t)}catch(t){var o=r.navigator,i=o&&o.plugins;return[+new Date,r,i,r.screen,u(e)]}}():a,3),m),v=new l(m),y=function(){for(var e=v.g(6),t=o,r=0;e<i;)e=(e+r)*n,t*=n,r=v.g(1);for(;e>=s;)e/=2,t/=2,r>>>=1;return(e+r)/t};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y.double=y,d(u(v.S),e),(p.pass||f||function(e,r,n,o){return o&&(o.S&&c(o,v),e.state=function(){return c(v,{})}),n?(t.random=e,r):e})(y,g,"global"in p?p.global:this==t,p.state)},d(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=_typeof(e);if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var r,n=e.length,o=[];for(r=0;r<n;r+=1)o[r]=-e[r];return o}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof(e),n=_typeof(t);if("string"===r||"string"===n)return e+t;if(isNumerable(r,e)&&isNumerable(n,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]+t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}var add=sum;function sub(e,t){var r=_typeof(e),n=_typeof(t);if(isNumerable(r,e)&&isNumerable(n,t))return"string"===r&&(e=parseInt(e,10)),"string"===n&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var o=0,i=e.length,s=t.length,a=[];o<i||o<s;)("number"==typeof e[o]||e[o]instanceof Number)&&("number"==typeof t[o]||t[o]instanceof Number)?a[o]=e[o]-t[o]:a[o]=void 0===t[o]?e[o]:e[o]||t[o],o+=1;return a}return 0}function mul(e,t){var r,n,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e[n]*t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e*t[n];return r}return 0}function div(e,t){var r,n,o,i=_typeof(e),s=_typeof(t);if(isNumerable(i,e)&&isNumerable(s,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(o=e.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e[n]/t;return r}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(o=t.length,r=createTypedArray("float32",o),n=0;n<o;n+=1)r[n]=e/t[n];return r}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var n=r;r=t,t=n}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var r;t||(t=helperLengthArray);var n=Math.min(e.length,t.length),o=0;for(r=0;r<n;r+=1)o+=Math.pow(t[r]-e[r],2);return Math.sqrt(o)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,r,n=e[0],o=e[1],i=e[2],s=Math.max(n,o,i),a=Math.min(n,o,i),l=(s+a)/2;if(s===a)t=0,r=0;else{var c=s-a;switch(r=l>.5?c/(2-s-a):c/(s+a),s){case n:t=(o-i)/c+(o<i?6:0);break;case o:t=(i-n)/c+2;break;case i:t=(n-o)/c+4}t/=6}return[t,r,l,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t,r,n,o=e[0],i=e[1],s=e[2];if(0===i)t=s,n=s,r=s;else{var a=s<.5?s*(1+i):s+i-s*i,l=2*s-a;t=hue2rgb(l,a,o+1/3),r=hue2rgb(l,a,o),n=hue2rgb(l,a,o-1/3)}return[t,r,n,e[3]]}function linear(e,t,r,n,o){if(void 0!==n&&void 0!==o||(n=t,o=r,t=0,r=1),r<t){var i=r;r=t,t=i}if(e<=t)return n;if(e>=r)return o;var s,a=r===t?0:(e-t)/(r-t);if(!n.length)return n+(o-n)*a;var l=n.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=n[s]+(o[s]-n[s])*a;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var r,n=t.length;e||(e=createTypedArray("float32",n));var o=createTypedArray("float32",n),i=BMMath.random();for(r=0;r<n;r+=1)o[r]=e[r]+i*(t[r]-e[r]);return o}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,n){var o,i=e.length,s=shapePool.newElement();s.setPathData(!!n,i);var a,l,c=[0,0];for(o=0;o<i;o+=1)a=t&&t[o]?t[o]:c,l=r&&r[o]?r[o]:c,s.setTripleAt(e[o][0],e[o][1],l[0]+e[o][0],l[1]+e[o][1],a[0]+e[o][0],a[1]+e[o][1],o,!0);return s}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var r,n,o=this.pv.length?this.pv.length:1,i=createTypedArray("float32",o),s=Math.floor(5*time);for(r=0,n=0;r<s;){for(n=0;n<o;n+=1)i[n]+=-t+2*t*BMMath.random();r+=1}var a=5*time,l=a-Math.floor(a),c=createTypedArray("float32",o);if(o>1){for(n=0;n<o;n+=1)c[n]=this.pv[n]+i[n]+(-t+2*t*BMMath.random())*l;return c}return this.pv+i[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,n,0]}function easeOut(e,t,r,n,o){return applyEase(easeOutBez,e,t,r,n,o)}function easeIn(e,t,r,n,o){return applyEase(easeInBez,e,t,r,n,o)}function ease(e,t,r,n,o){return applyEase(easeInOutBez,e,t,r,n,o)}function applyEase(e,t,r,n,o,i){void 0===o?(o=r,i=n):t=(t-r)/(n-r),t>1?t=1:t<0&&(t=0);var s=e(t);if($bm_isInstanceOfArray(o)){var a,l=o.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=(i[a]-o[a])*s+o[a];return c}return(i-o)*s+o}function nearestKey(e){var t,r,n,o=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(t=0;t<o-1;t+=1){if(e===data.k[t].t){r=t+1,n=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,n=data.k[t+1].t):(r=t+1,n=data.k[t].t);break}}-1===r&&(r=t+1,n=data.k[t].t)}else r=0,n=0;var i={};return i.index=r,i.time=n/elem.comp.globalData.frameRate,i}function key(e){var t,r,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(n=o.length,r=0;r<n;r+=1)t[r]=o[r],t.value[r]=o[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),n=0;if(t.length){var o;for(o=0;o<t.length;o+=1)n+=Math.pow(r[o]-t[o],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,r,n=-.001,o=this.getValueAtTime(e),i=this.getValueAtTime(e+n);if(o.length)for(t=createTypedArray("float32",o.length),r=0;r<o.length;r+=1)t[r]=(i[r]-o[r])/n;else t=(i-o)/n;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,r){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var n,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,h=c[c.length-1].t;if(l<=h)return this.pv;if(r?o=h-(n=t?Math.abs(h-this.elem.comp.globalData.frameRate*t):Math.max(0,h-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),n=h-(o=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-o)/n)%2!=0)return this.getValueAtTime((n-(l-o)%n+o)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(o/this.comp.globalData.frameRate,0),u=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-o)%n+o)/this.comp.globalData.frameRate,0),f=Math.floor((l-o)/n);if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=(u[i]-d[i])*f+p[i];return a}return(u-d)*f+p}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*((l-h)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-o)%n+o)/this.comp.globalData.frameRate,0)}function t(e,t,r){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var n,o,i,s,a,l=this.comp.renderedFrame,c=this.keyframes,h=c[0].t;if(l>=h)return this.pv;if(r?o=h+(n=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-h)):((!t||t>c.length-1)&&(t=c.length-1),n=(o=c[t].t)-h),"pingpong"===e){if(Math.floor((h-l)/n)%2==0)return this.getValueAtTime(((h-l)%n+h)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),u=this.getValueAtTime(o/this.comp.globalData.frameRate,0),p=this.getValueAtTime((n-(h-l)%n+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/n)+1;if(this.pv.length){for(s=(a=new Array(d.length)).length,i=0;i<s;i+=1)a[i]=p[i]-(u[i]-d[i])*f;return a}return p-(u-d)*f}if("continue"===e){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(m.length)).length,i=0;i<s;i+=1)a[i]=m[i]+(m[i]-g[i])*(h-l)/.001;return a}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((n-((h-l)%n+h))/this.comp.globalData.frameRate,0)}function r(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var r,n,o=this.comp.renderedFrame/this.comp.globalData.frameRate,i=o-e,s=t>1?(o+e-i)/(t-1):1,a=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;a<t;){if(n=this.getValueAtTime(i+a*s),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=n[l];else r+=n;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=t;else r/=t;return r}function n(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(e);t.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(e);t.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var o=this.sk.getValueAtTime(e),i=this.sa.getValueAtTime(e);t.skewFromAxis(-o*this.sk.mult,i*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(e);t.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),c=this.rx.getValueAtTime(e),h=this.or.getValueAtTime(e);t.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var d=this.px.getValueAtTime(e),u=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(d*this.px.mult,u*this.py.mult,-p*this.pz.mult)}else t.translate(d*this.px.mult,u*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}function o(){return this.v.clone(new Matrix)}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,r){var s=i(e,t,r);return s.dynamicProperties.length?s.getValueAtTime=n.bind(s):s.getValueAtTime=o.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(n,o,i,a,l){var c=s(n,o,i,a,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===o.a?o.k.length:0,c.propertyIndex=o.ix;var h=0;return 0!==i&&(h=createTypedArray("float32",1===o.a?o.k[0].s.length:o.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(n,o,c),c.k&&l.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var r,n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0));var o=n._length,i=n[e],s=n.v,a=createSizedArray(o);for(r=0;r<o;r+=1)a[r]="i"===e||"o"===e?[i[r][0]-s[r][0],i[r][1]-s[r][1]]:[i[r][0],i[r][1]];return a},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n,o=this._segmentsLength,i=o.lengths,s=o.totalLength*e,a=0,l=i.length,c=0;a<l;){if(c+i[a].addedLength>s){var h=a,d=r.c&&a===l-1?0:a+1,u=(s-c)/i[a].addedLength;n=bez.getPointInSegment(r.v[h],r.v[d],r.o[h],r.i[d],u,i[a]);break}c+=i[a].addedLength,a+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(e,t,r){1==e?e=this.v.c:0==e&&(e=.999);var n=this.pointOnPath(e,t),o=this.pointOnPath(e+.001,t),i=o[0]-n[0],s=o[1]-n[1],a=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===r?[i/a,s/a]:[-s/a,i/a]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,r,n,o){var i=h(e,t,r,n,o);return i.propertyIndex=t.ix,i.lock=!1,3===r?expressionHelpers.searchExpressions(e,t.pt,i):4===r&&expressionHelpers.searchExpressions(e,t.ks,i),i.k&&e.addDynamicProperty(i),i}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var n={};return this.copyData(n,e),n.t=r.toString(),n.__complete=!1,n}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(e,t,r,n,o){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result",n+"_tint_1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",n+"_tint_2"),e.appendChild(i),this.matrixFilter=i;var s=this.createMergeNode(n,[o,n+"_tint_1",n+"_tint_2"]);e.appendChild(s)}function SVGFillFilter(e,t,r,n){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",n),e.appendChild(o),this.matrixFilter=o}function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}function SVGTritoneFilter(e,t,r,n){this.filterManager=t;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(o);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),this.matrixFilter=i;var s=createNS("feFuncR");s.setAttribute("type","table"),i.appendChild(s),this.feFuncR=s;var a=createNS("feFuncG");a.setAttribute("type","table"),i.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),i.appendChild(l),this.feFuncB=l,e.appendChild(i)}function SVGProLevelsFilter(e,t,r,n){this.filterManager=t;var o=this.filterManager.effectElements,i=createNS("feComponentTransfer");(o[10].p.k||0!==o[10].p.v||o[11].p.k||1!==o[11].p.v||o[12].p.k||1!==o[12].p.v||o[13].p.k||0!==o[13].p.v||o[14].p.k||1!==o[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(o[17].p.k||0!==o[17].p.v||o[18].p.k||1!==o[18].p.v||o[19].p.k||1!==o[19].p.v||o[20].p.k||0!==o[20].p.v||o[21].p.k||1!==o[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(o[24].p.k||0!==o[24].p.v||o[25].p.k||1!==o[25].p.v||o[26].p.k||1!==o[26].p.v||o[27].p.k||0!==o[27].p.v||o[28].p.k||1!==o[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(o[31].p.k||0!==o[31].p.v||o[32].p.k||1!==o[32].p.v||o[33].p.k||1!==o[33].p.v||o[34].p.k||0!==o[34].p.v||o[35].p.k||1!==o[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(i)),(o[3].p.k||0!==o[3].p.v||o[4].p.k||1!==o[4].p.v||o[5].p.k||1!==o[5].p.v||o[6].p.k||0!==o[6].p.v||o[7].p.k||1!==o[7].p.v)&&((i=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),e.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(e,t,r,n,o){var i=t.container.globalData.renderConfig.filterSize,s=t.data.fs||i;e.setAttribute("x",s.x||i.x),e.setAttribute("y",s.y||i.y),e.setAttribute("width",s.width||i.width),e.setAttribute("height",s.height||i.height),this.filterManager=t;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",n+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,e.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",n+"_drop_shadow_1"),l.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var h=createNS("feComposite");h.setAttribute("in",n+"_drop_shadow_3"),h.setAttribute("in2",n+"_drop_shadow_2"),h.setAttribute("operator","in"),h.setAttribute("result",n+"_drop_shadow_4"),e.appendChild(h);var d=this.createMergeNode(n,[n+"_drop_shadow_4",o]);e.appendChild(d)}SVGComposableEffect.prototype={createMergeNode:function(e,t){var r,n,o=createNS("feMerge");for(o.setAttribute("result",e),n=0;n<t.length;n+=1)(r=createNS("feMergeNode")).setAttribute("in",t[n]),o.appendChild(r),o.appendChild(r);return o}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,n,o=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<n;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),s=createElementID();i.setAttribute("id",s),i.setAttribute("mask-type","alpha"),i.appendChild(t),this.elem.globalData.defs.appendChild(i);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+s+")");o[0];)a.appendChild(o[0]);this.elem.layerElement.appendChild(a),this.masker=i,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(o=this.elem.layerElement.children||this.elem.layerElement.childNodes;o.length;)this.elem.layerElement.removeChild(o[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var r,n,o=this.paths.length;for(t=0;t<o;t+=1)if(-1!==this.paths[t].m&&(r=this.elem.maskManager.viewData[this.paths[t].m],n=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&n.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=n.getTotalLength();i="0 0 0 "+l*s+" ";var c,h=l*(a-s),d=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,u=Math.floor(h/d);for(c=0;c<u;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",i)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,o=n[0]+" "+r[0]+" "+t[0],i=n[1]+" "+r[1]+" "+t[1],s=n[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,n,o){for(var i,s,a=0,l=Math.min(e,t),c=Math.max(e,t),h=Array.call(null,{length:256}),d=0,u=o-n,p=t-e;a<=256;)s=(i=a/256)<=l?p<0?o:n:i>=c?p<0?n:o:n+u*Math.pow((i-e)/p,1/r),h[d]=s,d+=1,a+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=r*Math.cos(n),i=r*Math.sin(n);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(e,t,r,n){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("result",n),e.appendChild(o),this.feGaussianBlur=o}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var n,o=r.children,i=0,s=o.length;i<s&&o[i]!==e.layerElement;)i+=1;i<=s-2&&(n=o[i+1]);var a=createNS("use");a.setAttribute("href","#"+t),n?r.insertBefore(a,n):r.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var o=e.globalData.defs;o.appendChild(n);var i=createNS("symbol");i.setAttribute("id",r),this.replaceInParent(t,r),i.appendChild(t.layerElement),o.appendChild(i);var s=createNS("use");s.setAttribute("href","#"+r),n.appendChild(s),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,n=t.length;r<n;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=3==r?0:t,o=2==r?0:t;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+o);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=factory())},9746:function(e){function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},2306:function(e,t,r){var n,o;n=function(){"use strict";var e=function(){o.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};e.version="2.0.8","undefined"!=typeof window&&window.addEventListener("mousewheel",void 0);var t="data-scrollmagic-pin-spacer";e.Controller=function(n){var i,s,a="ScrollMagic.Controller",l="REVERSE",c="PAUSED",h=r.defaults,d=this,u=o.extend({},h,n),p=[],f=!1,m=0,g=c,v=!0,y=0,b=!0,w=function(){u.refreshInterval>0&&(s=window.setTimeout(A,u.refreshInterval))},x=function(){return u.vertical?o.get.scrollTop(u.container):o.get.scrollLeft(u.container)},_=function(){return u.vertical?o.get.height(u.container):o.get.width(u.container)},E=this._setScrollPos=function(e){u.vertical?v?window.scrollTo(o.get.scrollLeft(),e):u.container.scrollTop=e:v?window.scrollTo(e,o.get.scrollTop()):u.container.scrollLeft=e},C=function(){if(b&&f){var e=o.type.Array(f)?f:p.slice(0);f=!1;var t=m,r=(m=d.scrollPos())-t;0!==r&&(g=r>0?"FORWARD":l),g===l&&e.reverse(),e.forEach((function(t,r){P(3,"updating Scene "+(r+1)+"/"+e.length+" ("+p.length+" total)"),t.update(!0)})),0===e.length&&u.loglevel>=3&&P(3,"updating 0 Scenes (nothing added to controller)")}},S=function(){i=o.rAF(C)},k=function(e){P(3,"event fired causing an update:",e.type),"resize"==e.type&&(y=_(),g=c),!0!==f&&(f=!0,S())},A=function(){if(!v&&y!=_()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){(e=document.createEvent("Event")).initEvent("resize",!1,!1)}u.container.dispatchEvent(e)}p.forEach((function(e,t){e.refresh()})),w()},P=this._log=function(e,t){u.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this._options=u;var T=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort((function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1})),t};return this.addScene=function(t){if(o.type.Array(t))t.forEach((function(e,t){d.addScene(e)}));else if(t instanceof e.Scene){if(t.controller()!==d)t.addTo(d);else if(p.indexOf(t)<0){for(var r in p.push(t),p=T(p),t.on("shift.controller_sort",(function(){p=T(p)})),u.globalSceneOptions)t[r]&&t[r].call(t,u.globalSceneOptions[r]);P(3,"adding Scene (now "+p.length+" total)")}}else P(1,"ERROR: invalid argument supplied for '.addScene()'");return d},this.removeScene=function(e){if(o.type.Array(e))e.forEach((function(e,t){d.removeScene(e)}));else{var t=p.indexOf(e);t>-1&&(e.off("shift.controller_sort"),p.splice(t,1),P(3,"removing Scene (now "+p.length+" left)"),e.remove())}return d},this.updateScene=function(t,r){return o.type.Array(t)?t.forEach((function(e,t){d.updateScene(e,r)})):r?t.update(!0):!0!==f&&t instanceof e.Scene&&(-1==(f=f||[]).indexOf(t)&&f.push(t),f=T(f),S()),d},this.update=function(e){return k({type:"resize"}),e&&C(),d},this.scrollTo=function(r,n){if(o.type.Number(r))E.call(u.container,r,n);else if(r instanceof e.Scene)r.controller()===d?d.scrollTo(r.scrollOffset(),n):P(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",r);else if(o.type.Function(r))E=r;else{var i=o.get.elements(r)[0];if(i){for(;i.parentNode.hasAttribute(t);)i=i.parentNode;var s=u.vertical?"top":"left",a=o.get.offset(u.container),l=o.get.offset(i);v||(a[s]-=d.scrollPos()),d.scrollTo(l[s]-a[s],n)}else P(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",r)}return d},this.scrollPos=function(e){return arguments.length?(o.type.Function(e)?x=e:P(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),d):x.call(d)},this.info=function(e){var t={size:y,vertical:u.vertical,scrollPos:m,scrollDirection:g,container:u.container,isDocument:v};return arguments.length?void 0!==t[e]?t[e]:void P(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(u.loglevel!=e&&(u.loglevel=e),d):u.loglevel},this.enabled=function(e){return arguments.length?(b!=e&&(b=!!e,d.updateScene(p,!0)),d):b},this.destroy=function(e){window.clearTimeout(s);for(var t=p.length;t--;)p[t].destroy(e);return u.container.removeEventListener("resize",k),u.container.removeEventListener("scroll",k),o.cAF(i),P(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},function(){for(var t in u)h.hasOwnProperty(t)||(P(2,'WARNING: Unknown option "'+t+'"'),delete u[t]);if(u.container=o.get.elements(u.container)[0],!u.container)throw P(1,"ERROR creating object "+a+": No valid scroll container supplied"),a+" init failed.";(v=u.container===window||u.container===document.body||!document.body.contains(u.container))&&(u.container=window),y=_(),u.container.addEventListener("resize",k),u.container.addEventListener("scroll",k);var r=parseInt(u.refreshInterval,10);u.refreshInterval=o.type.Number(r)?r:h.refreshInterval,w(),P(3,"added new "+a+" controller (v"+e.version+")")}(),d};var r={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){r.defaults[e]=t},e.Controller.extend=function(t){var r=this;e.Controller=function(){return r.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Controller,r),e.Controller.prototype=r.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(r){var i,s,a="ScrollMagic.Scene",l="BEFORE",c="DURING",h="AFTER",d=n.defaults,u=this,p=o.extend({},d,r),f=l,m=0,g={start:0,end:0},v=0,y=!0,b={};this.on=function(e,t){return o.type.Function(t)?(e=e.trim().split(" ")).forEach((function(e){var r=e.split("."),n=r[0],o=r[1];"*"!=n&&(b[n]||(b[n]=[]),b[n].push({namespace:o||"",callback:t}))})):w(1,"ERROR when calling '.on()': Supplied callback for '"+e+"' is not a valid function!"),u},this.off=function(e,t){return e?((e=e.trim().split(" ")).forEach((function(e,r){var n=e.split("."),o=n[0],i=n[1]||"";("*"===o?Object.keys(b):[o]).forEach((function(e){for(var r=b[e]||[],n=r.length;n--;){var o=r[n];!o||i!==o.namespace&&"*"!==i||t&&t!=o.callback||r.splice(n,1)}r.length||delete b[e]}))})),u):(w(1,"ERROR: Invalid event name supplied."),u)},this.trigger=function(t,r){if(t){var n=t.trim().split("."),o=n[0],i=n[1],s=b[o];w(3,"event fired:",o,r?"->":"",r||""),s&&s.forEach((function(t,n){i&&i!==t.namespace||t.callback.call(u,new e.Event(o,t.namespace,u,r))}))}else w(1,"ERROR: Invalid event name supplied.");return u},u.on("change.internal",(function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?S():"reverse"===e.what&&u.update())})).on("shift.internal",(function(e){E(),u.update()}));var w=this._log=function(e,t){p.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this.addTo=function(t){return t instanceof e.Controller?s!=t&&(s&&s.removeScene(u),s=t,P(),C(!0),S(!0),E(),s.info("container").addEventListener("resize",k),t.addScene(u),u.trigger("add",{controller:s}),w(3,"added "+a+" to controller"),u.update()):w(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),u},this.enabled=function(e){return arguments.length?(y!=e&&(y=!!e,u.update(!0)),u):y},this.remove=function(){if(s){s.info("container").removeEventListener("resize",k);var e=s;s=void 0,e.removeScene(u),u.trigger("remove"),w(3,"removed "+a+" from controller")}return u},this.destroy=function(e){return u.trigger("destroy",{reset:e}),u.remove(),u.off("*.*"),w(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},this.update=function(e){if(s)if(e)if(s.enabled()&&y){var t,r=s.info("scrollPos");t=p.duration>0?(r-g.start)/(g.end-g.start):r>=g.start?1:0,u.trigger("update",{startPos:g.start,endPos:g.end,scrollPos:r}),u.progress(t)}else x&&f===c&&O(!0);else s.updateScene(u,!1);return u},this.refresh=function(){return C(),S(),u},this.progress=function(e){if(arguments.length){var t=!1,r=f,n=s?s.info("scrollDirection"):"PAUSED",o=p.reverse||e>=m;if(0===p.duration?(t=m!=e,f=0==(m=e<1&&o?0:1)?l:c):e<0&&f!==l&&o?(m=0,f=l,t=!0):e>=0&&e<1&&o?(m=e,f=c,t=!0):e>=1&&f!==h?(m=1,f=h,t=!0):f!==c||o||O(),t){var i={progress:m,state:f,scrollDirection:n},a=f!=r,d=function(e){u.trigger(e,i)};a&&r!==c&&(d("enter"),d(r===l?"start":"end")),d("progress"),a&&f!==c&&(d(f===l?"start":"end"),d("leave"))}return u}return m};var x,_,E=function(){g={start:v+p.offset},s&&p.triggerElement&&(g.start-=s.info("size")*p.triggerHook),g.end=g.start+p.duration},C=function(e){if(i){var t="duration";T(t,i.call(u))&&!e&&(u.trigger("change",{what:t,newval:p.duration}),u.trigger("shift",{reason:t}))}},S=function(e){var r=0,n=p.triggerElement;if(s&&(n||v>0)){if(n)if(n.parentNode){for(var i=s.info(),a=o.get.offset(i.container),l=i.vertical?"top":"left";n.parentNode.hasAttribute(t);)n=n.parentNode;var c=o.get.offset(n);i.isDocument||(a[l]-=s.scrollPos()),r=c[l]-a[l]}else w(2,"WARNING: triggerElement was removed from DOM and will be reset to",void 0),u.triggerElement(void 0);var h=r!=v;v=r,h&&!e&&u.trigger("shift",{reason:"triggerElementPosition"})}},k=function(e){p.triggerHook>0&&u.trigger("shift",{reason:"containerResize"})},A=o.extend(n.validate,{duration:function(e){if(o.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return s?s.info("size")*t:0}}if(o.type.Function(e)){i=e;try{e=parseFloat(i.call(u))}catch(t){e=-1}}if(e=parseFloat(e),!o.type.Number(e)||e<0)throw i?(i=void 0,['Invalid return value of supplied function for option "duration":',e]):['Invalid value for option "duration":',e];return e}}),P=function(e){(e=arguments.length?[e]:Object.keys(A)).forEach((function(e,t){var r;if(A[e])try{r=A[e](p[e])}catch(t){r=d[e];var n=o.type.String(t)?[t]:t;o.type.Array(n)?(n[0]="ERROR: "+n[0],n.unshift(1),w.apply(this,n)):w(1,"ERROR: Problem executing validation callback for option '"+e+"':",t.message)}finally{p[e]=r}}))},T=function(e,t){var r=!1,n=p[e];return p[e]!=t&&(p[e]=t,P(e),r=n!=p[e]),r},M=function(e){u[e]||(u[e]=function(t){return arguments.length?("duration"===e&&(i=void 0),T(e,t)&&(u.trigger("change",{what:e,newval:p[e]}),n.shifts.indexOf(e)>-1&&u.trigger("shift",{reason:e})),u):p[e]})};this.controller=function(){return s},this.state=function(){return f},this.scrollOffset=function(){return g.start},this.triggerPosition=function(){var e=p.offset;return s&&(p.triggerElement?e+=v:e+=s.info("size")*u.triggerHook()),e},u.on("shift.internal",(function(e){var t="duration"===e.reason;(f===h&&t||f===c&&0===p.duration)&&O(),t&&D()})).on("progress.internal",(function(e){O()})).on("add.internal",(function(e){D()})).on("destroy.internal",(function(e){u.removePin(e.reset)}));var O=function(e){if(x&&s){var t=s.info(),r=_.spacer.firstChild;if(e||f!==c){var n={position:_.inFlow?"relative":"absolute",top:0,left:0},i=o.css(r,"position")!=n.position;_.pushFollowers?p.duration>0&&(f===h&&0===parseFloat(o.css(_.spacer,"padding-top"))||f===l&&0===parseFloat(o.css(_.spacer,"padding-bottom")))&&(i=!0):n[t.vertical?"top":"left"]=p.duration*m,o.css(r,n),i&&D()}else{"fixed"!=o.css(r,"position")&&(o.css(r,{position:"fixed"}),D());var a=o.get.offset(_.spacer,!0),d=p.reverse||0===p.duration?t.scrollPos-g.start:Math.round(m*p.duration*10)/10;a[t.vertical?"top":"left"]+=d,o.css(_.spacer.firstChild,{top:a.top,left:a.left})}}},D=function(){if(x&&s&&_.inFlow){var e=f===c,t=s.info("vertical"),r=_.spacer.firstChild,n=o.isMarginCollapseType(o.css(_.spacer,"display")),i={};_.relSize.width||_.relSize.autoFullWidth?e?o.css(x,{width:o.get.width(_.spacer)}):o.css(x,{width:"100%"}):(i["min-width"]=o.get.width(t?x:r,!0,!0),i.width=e?i["min-width"]:"auto"),_.relSize.height?e?o.css(x,{height:o.get.height(_.spacer)-(_.pushFollowers?p.duration:0)}):o.css(x,{height:"100%"}):(i["min-height"]=o.get.height(t?r:x,!0,!n),i.height=e?i["min-height"]:"auto"),_.pushFollowers&&(i["padding"+(t?"Top":"Left")]=p.duration*m,i["padding"+(t?"Bottom":"Right")]=p.duration*(1-m)),o.css(_.spacer,i)}},I=function(){s&&x&&f===c&&!s.info("isDocument")&&O()},R=function(){s&&x&&f===c&&((_.relSize.width||_.relSize.autoFullWidth)&&o.get.width(window)!=o.get.width(_.spacer.parentNode)||_.relSize.height&&o.get.height(window)!=o.get.height(_.spacer.parentNode))&&D()},F=function(e){s&&x&&f===c&&!s.info("isDocument")&&(e.preventDefault(),s._setScrollPos(s.info("scrollPos")-((e.wheelDelta||e[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,r){var n=r&&r.hasOwnProperty("pushFollowers");if(r=o.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},r),!(e=o.get.elements(e)[0]))return w(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),u;if("fixed"===o.css(e,"position"))return w(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),u;if(x){if(x===e)return u;u.removePin()}var i=(x=e).parentNode.style.display,s=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];x.parentNode.style.display="none";var a="absolute"!=o.css(x,"position"),l=o.css(x,s.concat(["display"])),c=o.css(x,["width","height"]);x.parentNode.style.display=i,!a&&r.pushFollowers&&(w(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),r.pushFollowers=!1),window.setTimeout((function(){x&&0===p.duration&&n&&r.pushFollowers&&w(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")}),0);var h=x.parentNode.insertBefore(document.createElement("div"),x),d=o.extend(l,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||o.extend(d,o.css(x,["width","height"])),o.css(h,d),h.setAttribute(t,""),o.addClass(h,r.spacerClass),_={spacer:h,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&a&&o.isMarginCollapseType(l.display)},pushFollowers:r.pushFollowers,inFlow:a},!x.___origStyle){x.___origStyle={};var f=x.style;s.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach((function(e){x.___origStyle[e]=f[e]||""}))}return _.relSize.width&&o.css(h,{width:c.width}),_.relSize.height&&o.css(h,{height:c.height}),h.appendChild(x),o.css(x,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(_.relSize.width||_.relSize.autoFullWidth)&&o.css(x,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",I),window.addEventListener("resize",I),window.addEventListener("resize",R),x.addEventListener("mousewheel",F),x.addEventListener("DOMMouseScroll",F),w(3,"added pin"),O(),u},this.removePin=function(e){if(x){if(f===c&&O(!0),e||!s){var r=_.spacer.firstChild;if(r.hasAttribute(t)){var n=_.spacer.style,i={};["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach((function(e){i[e]=n[e]||""})),o.css(r,i)}_.spacer.parentNode.insertBefore(r,_.spacer),_.spacer.parentNode.removeChild(_.spacer),x.parentNode.hasAttribute(t)||(o.css(x,x.___origStyle),delete x.___origStyle)}window.removeEventListener("scroll",I),window.removeEventListener("resize",I),window.removeEventListener("resize",R),x.removeEventListener("mousewheel",F),x.removeEventListener("DOMMouseScroll",F),x=void 0,w(3,"removed pin (reset: "+(e?"true":"false")+")")}return u};var B,N=[];return u.on("destroy.internal",(function(e){u.removeClassToggle(e.reset)})),this.setClassToggle=function(e,t){var r=o.get.elements(e);return 0!==r.length&&o.type.String(t)?(N.length>0&&u.removeClassToggle(),B=t,N=r,u.on("enter.internal_class leave.internal_class",(function(e){var t="enter"===e.type?o.addClass:o.removeClass;N.forEach((function(e,r){t(e,B)}))})),u):(w(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===r.length?"element":"classes")+" supplied."),u)},this.removeClassToggle=function(e){return e&&N.forEach((function(e,t){o.removeClass(e,B)})),u.off("start.internal_class end.internal_class"),B=void 0,N=[],u},function(){for(var e in p)d.hasOwnProperty(e)||(w(2,'WARNING: Unknown option "'+e+'"'),delete p[e]);for(var t in d)M(t);P()}(),u};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!o.type.Number(e))throw['Invalid value for option "offset":',e];return e},triggerElement:function(e){if(e=e||void 0){var t=o.get.elements(e)[0];if(!t||!t.parentNode)throw['Element defined in option "triggerElement" was not found:',e];e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(o.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw['Invalid value for option "triggerHook": ',e];e=t[e]}return e},reverse:function(e){return!!e},loglevel:function(e){if(e=parseInt(e),!o.type.Number(e)||e<0||e>3)throw['Invalid value for option "loglevel":',e];return e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(t,r,o,i){t in n.defaults?e._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+t+"', because it already exists."):(n.defaults[t]=r,n.validate[t]=o,i&&n.shifts.push(t))},e.Scene.extend=function(t){var r=this;e.Scene=function(){return r.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Scene,r),e.Scene.prototype=r.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,r,n){for(var o in n=n||{})this[o]=n[o];return this.type=e,this.target=this.currentTarget=r,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var o=e._util=function(e){var t,r={},n=function(e){return parseFloat(e)||0},o=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},i=function(t,r,i,s){if((r=r===document?e:r)===e)s=!1;else if(!f.DomElement(r))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var a=(i?r["offset"+t]||r["outer"+t]:r["client"+t]||r["inner"+t])||0;if(i&&s){var l=o(r);a+="Height"===t?n(l.marginTop)+n(l.marginBottom):n(l.marginLeft)+n(l.marginRight)}return a},s=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))};r.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var r in arguments[t])arguments[t].hasOwnProperty(r)&&(e[r]=arguments[t][r]);return e},r.isMarginCollapseType=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1};var a=0,l=["ms","moz","webkit","o"],c=e.requestAnimationFrame,h=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+"RequestAnimationFrame"],h=e[l[t]+"CancelAnimationFrame"]||e[l[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var r=(new Date).getTime(),n=Math.max(0,16-(r-a)),o=e.setTimeout((function(){t(r+n)}),n);return a=r+n,o}),h||(h=function(t){e.clearTimeout(t)}),r.rAF=c.bind(e),r.cAF=h.bind(e);var d=["error","warn","log"],u=e.console||{};for(u.log=u.log||function(){},t=0;t<d.length;t++){var p=d[t];u[p]||(u[p]=u.log)}r.log=function(e){(e>d.length||e<=0)&&(e=d.length);var t=new Date,r=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+":"+("00"+t.getMilliseconds()).slice(-3),n=d[e-1],o=Array.prototype.splice.call(arguments,1),i=Function.prototype.bind.call(u[n],u);o.unshift(r),i.apply(u,o)};var f=r.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};f.String=function(e){return"string"===f(e)},f.Function=function(e){return"function"===f(e)},f.Array=function(e){return Array.isArray(e)},f.Number=function(e){return!f.Array(e)&&e-parseFloat(e)+1>=0},f.DomElement=function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var m=r.get={};return m.elements=function(t){var r=[];if(f.String(t))try{t=document.querySelectorAll(t)}catch(e){return r}if("nodelist"===f(t)||f.Array(t)||t instanceof NodeList)for(var n=0,o=r.length=t.length;n<o;n++){var i=t[n];r[n]=f.DomElement(i)?i:m.elements(i)}else(f.DomElement(t)||t===document||t===e)&&(r=[t]);return r},m.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},m.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},m.width=function(e,t,r){return i("width",e,t,r)},m.height=function(e,t,r){return i("height",e,t,r)},m.offset=function(e,t){var r={top:0,left:0};if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect();r.top=n.top,r.left=n.left,t||(r.top+=m.scrollTop(),r.left+=m.scrollLeft())}return r},r.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},r.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},r.css=function(e,t){if(f.String(t))return o(e)[s(t)];if(f.Array(t)){var r={},n=o(e);return t.forEach((function(e,t){r[e]=n[s(e)]})),r}for(var i in t){var a=t[i];a==parseFloat(a)&&(a+="px"),e.style[s(i)]=a}},r}(window||{});return e.Scene.prototype.addIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.removeIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.setTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.removeTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.setVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e.Scene.prototype.removeVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e},void 0===(o=n.call(t,r,t,e))||(e.exports=o)},7635:function(e){"use strict";!function(t){const r=2147483647;function n(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,o=1013904242,i=2773480762,s=1359893119,a=2600822924,l=528734635,c=1541459225;const h=new Uint32Array(64);function d(e){let d=0,u=e.length;for(;u>=64;){let p,f,m,g,v,y=r,b=n,w=o,x=i,_=s,E=a,C=l,S=c;for(f=0;f<16;f++)m=d+4*f,h[f]=(255&e[m])<<24|(255&e[m+1])<<16|(255&e[m+2])<<8|255&e[m+3];for(f=16;f<64;f++)p=h[f-2],g=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=h[f-15],v=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,h[f]=(g+h[f-7]|0)+(v+h[f-16]|0)|0;for(f=0;f<64;f++)g=(((_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&E^~_&C)|0)+(S+(t[f]+h[f]|0)|0)|0,v=((y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10))+(y&b^y&w^b&w)|0,S=C,C=E,E=_,_=x+g|0,x=w,w=b,b=y,y=g+v|0;r=r+y|0,n=n+b|0,o=o+w|0,i=i+x|0,s=s+_|0,a=a+E|0,l=l+C|0,c=c+S|0,d+=64,u-=64}}d(e);let u,p=e.length%64,f=e.length/536870912|0,m=e.length<<3,g=p<56?56:120,v=e.slice(e.length-p,e.length);for(v.push(128),u=p+1;u<g;u++)v.push(0);return v.push(f>>>24&255),v.push(f>>>16&255),v.push(f>>>8&255),v.push(f>>>0&255),v.push(m>>>24&255),v.push(m>>>16&255),v.push(m>>>8&255),v.push(m>>>0&255),d(v),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function o(e,t,r){e=e.length<=64?e:n(e);const o=64+t.length+4,i=new Array(o),s=new Array(64);let a,l=[];for(a=0;a<64;a++)i[a]=54;for(a=0;a<e.length;a++)i[a]^=e[a];for(a=0;a<t.length;a++)i[64+a]=t[a];for(a=o-4;a<o;a++)i[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<e.length;a++)s[a]^=e[a];function c(){for(let e=o-1;e>=o-4;e--){if(i[e]++,i[e]<=255)return;i[e]=0}}for(;r>=32;)c(),l=l.concat(n(s.concat(n(i)))),r-=32;return r>0&&(c(),l=l.concat(n(s.concat(n(i))).slice(0,r))),l}function i(e,t,r,n,o){let i;for(c(e,16*(2*r-1),o,0,16),i=0;i<2*r;i++)l(e,16*i,o,16),a(o,n),c(o,0,e,t+16*i,16);for(i=0;i<r;i++)c(e,t+2*i*16,e,16*i,16);for(i=0;i<r;i++)c(e,t+16*(2*i+1),e,16*(i+r),16)}function s(e,t){return e<<t|e>>>32-t}function a(e,t){c(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function l(e,t,r,n){for(let o=0;o<n;o++)r[o]^=e[t+o]}function c(e,t,r,n,o){for(;o--;)r[n++]=e[t++]}function h(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function d(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function u(e,t,n,s,a,u,p){if(n=d(n,"N"),s=d(s,"r"),a=d(a,"p"),u=d(u,"dkLen"),0===n||0!=(n&n-1))throw new Error("N must be power of 2");if(n>r/128/s)throw new Error("N too large");if(s>r/128/a)throw new Error("r too large");if(!h(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!h(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let f=o(e,t,128*a*s);const m=new Uint32Array(32*a*s);for(let e=0;e<m.length;e++){const t=4*e;m[e]=(255&f[t+3])<<24|(255&f[t+2])<<16|(255&f[t+1])<<8|(255&f[t+0])<<0}const g=new Uint32Array(64*s),v=new Uint32Array(32*s*n),y=32*s,b=new Uint32Array(16),w=new Uint32Array(16),x=a*n*2;let _,E,C=0,S=null,k=!1,A=0,P=0;const T=p?parseInt(1e3/s):4294967295,M="undefined"!=typeof setImmediate?setImmediate:setTimeout,O=function(){if(k)return p(new Error("cancelled"),C/x);let t;switch(A){case 0:E=32*P*s,c(m,E,g,0,y),A=1,_=0;case 1:t=n-_,t>T&&(t=T);for(let e=0;e<t;e++)c(g,0,v,(_+e)*y,y),i(g,y,s,b,w);if(_+=t,C+=t,p){const e=parseInt(1e3*C/x);if(e!==S){if(k=p(null,C/x),k)break;S=e}}if(_<n)break;_=0,A=2;case 2:t=n-_,t>T&&(t=T);for(let e=0;e<t;e++){const e=g[16*(2*s-1)]&n-1;l(v,e*y,g,y),i(g,y,s,b,w)}if(_+=t,C+=t,p){const e=parseInt(1e3*C/x);if(e!==S){if(k=p(null,C/x),k)break;S=e}}if(_<n)break;if(c(g,0,m,E,y),P++,P<a){A=0;break}f=[];for(let e=0;e<m.length;e++)f.push(m[e]>>0&255),f.push(m[e]>>8&255),f.push(m[e]>>16&255),f.push(m[e]>>24&255);const r=o(e,f,u);return p&&p(null,1,r),r}p&&M(O)};if(!p)for(;;){const e=O();if(null!=e)return e}O()}const p={scrypt:function(e,t,r,n,o,i,s){return new Promise((function(a,l){let c=0;s&&s(0),u(e,t,r,n,o,i,(function(e,t,r){if(e)l(e);else if(r)s&&1!==c&&s(1),a(new Uint8Array(r));else if(s&&t!==c)return c=t,s(t)}))}))},syncScrypt:function(e,t,r,n,o,i){return new Uint8Array(u(e,t,r,n,o,i))}};e.exports=p}()},8785:function(){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},3557:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&((e,t,r)=>{var n,o;return o=e,!!t.prototype.isPrototypeOf(o)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name})(e,String)?"string":t})(t)===e,r=e=>t=>typeof t===e,n=e=>t=>e===t,o=t("string"),i=t("object"),s=t("array"),a=n(null),l=r("boolean"),c=n(void 0),h=e=>!(e=>null==e)(e),d=r("function"),u=r("number"),p=()=>{},f=e=>()=>e,m=e=>e,g=(e,t)=>e===t;function v(e,...t){return(...r)=>{const n=t.concat(r);return e.apply(null,n)}}const y=e=>t=>!e(t),b=e=>e(),w=f(!1),x=f(!0);class _{constructor(e,t){this.tag=e,this.value=t}static some(e){return new _(!0,e)}static none(){return _.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?_.some(e(this.value)):_.none()}bind(e){return this.tag?e(this.value):_.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:_.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return h(e)?_.some(e):_.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}_.singletonNone=new _(!1);const E=Array.prototype.slice,C=Array.prototype.indexOf,S=Array.prototype.push,k=(e,t)=>{return r=e,n=t,C.call(r,n)>-1;var r,n},A=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return!0;return!1},P=(e,t)=>{const r=[];for(let n=0;n<e;n++)r.push(t(n));return r},T=(e,t)=>{const r=e.length,n=new Array(r);for(let o=0;o<r;o++){const r=e[o];n[o]=t(r,o)}return n},M=(e,t)=>{for(let r=0,n=e.length;r<n;r++)t(e[r],r)},O=(e,t)=>{const r=[],n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];(t(i,o)?r:n).push(i)}return{pass:r,fail:n}},D=(e,t)=>{const r=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)&&r.push(o)}return r},I=(e,t,r)=>(((e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)})(e,((e,n)=>{r=t(r,e,n)})),r),R=(e,t,r)=>(M(e,((e,n)=>{r=t(r,e,n)})),r),F=(e,t)=>((e,t,r)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return _.some(o);if(r(o,n))break}return _.none()})(e,t,w),B=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return _.some(r);return _.none()},N=e=>{const t=[];for(let r=0,n=e.length;r<n;++r){if(!s(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);S.apply(t,e[r])}return t},L=(e,t)=>N(T(e,t)),V=(e,t)=>{for(let r=0,n=e.length;r<n;++r)if(!0!==t(e[r],r))return!1;return!0},z=(e,t)=>{const r={};for(let n=0,o=e.length;n<o;n++){const o=e[n];r[String(o)]=t(o,n)}return r},H=(e,t)=>t>=0&&t<e.length?_.some(e[t]):_.none(),j=e=>H(e,0),G=e=>H(e,e.length-1),U=(e,t)=>{for(let r=0;r<e.length;r++){const n=t(e[r],r);if(n.isSome())return n}return _.none()},q=Object.keys,W=Object.hasOwnProperty,$=(e,t)=>{const r=q(e);for(let n=0,o=r.length;n<o;n++){const o=r[n];t(e[o],o)}},Z=(e,t)=>K(e,((e,r)=>({k:r,v:t(e,r)}))),K=(e,t)=>{const r={};return $(e,((e,n)=>{const o=t(e,n);r[o.k]=o.v})),r},Y=(e,t)=>{const r=[];return $(e,((e,n)=>{r.push(t(e,n))})),r},X=e=>Y(e,m),J=(e,t)=>W.call(e,t);"undefined"!=typeof window?window:Function("return this;")();const Q=e=>e.dom.nodeName.toLowerCase(),ee=e=>e.dom.nodeType,te=e=>t=>ee(t)===e,re=e=>8===ee(e)||"#comment"===Q(e),ne=te(1),oe=te(3),ie=te(9),se=te(11),ae=e=>t=>ne(t)&&Q(t)===e,le=(e,t,r)=>{if(!(o(r)||l(r)||u(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},ce=(e,t,r)=>{le(e.dom,t,r)},he=(e,t)=>{const r=e.dom;$(t,((e,t)=>{le(r,t,e)}))},de=(e,t)=>{const r=e.dom.getAttribute(t);return null===r?void 0:r},ue=(e,t)=>_.from(de(e,t)),pe=(e,t)=>{e.dom.removeAttribute(t)},fe=e=>R(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),me=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},ge={fromHtml:(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return me(r.childNodes[0])},fromTag:(e,t)=>{const r=(t||document).createElement(e);return me(r)},fromText:(e,t)=>{const r=(t||document).createTextNode(e);return me(r)},fromDom:me,fromPoint:(e,t,r)=>_.from(e.dom.elementFromPoint(t,r)).map(me)},ve=(e,t)=>{const r=e.dom;if(1!==r.nodeType)return!1;{const e=r;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ye=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,be=(e,t)=>{const r=void 0===t?document:t.dom;return ye(r)?_.none():_.from(r.querySelector(e)).map(ge.fromDom)},we=(e,t)=>e.dom===t.dom,xe=(e,t)=>{const r=e.dom,n=t.dom;return r!==n&&r.contains(n)},_e=ve,Ee=e=>ge.fromDom(e.dom.ownerDocument),Ce=e=>ie(e)?e:Ee(e),Se=e=>_.from(e.dom.parentNode).map(ge.fromDom),ke=(e,t)=>{const r=d(t)?t:w;let n=e.dom;const o=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=ge.fromDom(e);if(o.push(t),!0===r(t))break;n=e}return o},Ae=e=>_.from(e.dom.previousSibling).map(ge.fromDom),Pe=e=>_.from(e.dom.nextSibling).map(ge.fromDom),Te=e=>T(e.dom.childNodes,ge.fromDom),Me=(e,t)=>{const r=e.dom.childNodes;return _.from(r[t]).map(ge.fromDom)},Oe=(e,t)=>{Se(e).each((r=>{r.dom.insertBefore(t.dom,e.dom)}))},De=(e,t)=>{Pe(e).fold((()=>{Se(e).each((e=>{Re(e,t)}))}),(e=>{Oe(e,t)}))},Ie=(e,t)=>{const r=(e=>Me(e,0))(e);r.fold((()=>{Re(e,t)}),(r=>{e.dom.insertBefore(t.dom,r.dom)}))},Re=(e,t)=>{e.dom.appendChild(t.dom)},Fe=(e,t)=>{Oe(e,t),Re(t,e)},Be=(e,t)=>{M(t,((r,n)=>{const o=0===n?e:t[n-1];De(o,r)}))},Ne=(e,t)=>{M(t,(t=>{Re(e,t)}))},Le=e=>{e.dom.textContent="",M(Te(e),(e=>{Ve(e)}))},Ve=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},ze=e=>{const t=Te(e);t.length>0&&Be(e,t),Ve(e)},He=(e,t)=>ge.fromDom(e.dom.cloneNode(t)),je=e=>He(e,!1),Ge=e=>He(e,!0),Ue=(e,t)=>{const r=ge.fromTag(t),n=fe(e);return he(r,n),r},qe=["tfoot","thead","tbody","colgroup"],We=(e,t,r)=>({element:e,rowspan:t,colspan:r}),$e=(e,t,r)=>({element:e,cells:t,section:r}),Ze=(e,t,r)=>({element:e,isNew:t,isLocked:r}),Ke=(e,t,r,n)=>({element:e,cells:t,section:r,isNew:n}),Ye=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),Xe=f(Ye),Je=Ye?e=>ge.fromDom(e.dom.getRootNode()):Ce,Qe=e=>ge.fromDom(e.dom.host),et=e=>{const t=oe(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const r=t.ownerDocument;return(e=>{const t=Je(e);return se(r=t)&&h(r.dom.host)?_.some(t):_.none();var r})(ge.fromDom(t)).fold((()=>r.body.contains(t)),(n=et,o=Qe,e=>n(o(e))));var n,o},tt=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return ge.fromDom(t)},rt=(e,t)=>{let r=[];return M(Te(e),(e=>{t(e)&&(r=r.concat([e])),r=r.concat(rt(e,t))})),r},nt=(e,t,r)=>((e,r,n)=>D(ke(e,n),(e=>ve(e,t))))(e,0,r),ot=(e,t)=>((e,r)=>D(Te(e),(e=>ve(e,t))))(e),it=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return ye(r)?[]:T(r.querySelectorAll(e),ge.fromDom)})(t,e);var st=(e,t,r,n,o)=>e(r,n)?_.some(r):d(o)&&o(r)?_.none():t(r,n,o);const at=(e,t,r)=>{let n=e.dom;const o=d(r)?r:w;for(;n.parentNode;){n=n.parentNode;const e=ge.fromDom(n);if(t(e))return _.some(e);if(o(e))break}return _.none()},lt=(e,t,r)=>at(e,(e=>ve(e,t)),r),ct=(e,t)=>((e,r)=>F(e.dom.childNodes,(e=>{return r=ge.fromDom(e),ve(r,t);var r})).map(ge.fromDom))(e),ht=(e,t)=>be(t,e),dt=(e,t,r)=>st(((e,t)=>ve(e,t)),lt,e,t,r),ut=(e,t,r=g)=>e.exists((e=>r(e,t))),pt=e=>{const t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},ft=(e,t)=>e?_.some(t):_.none(),mt=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,gt=(e,t,r=0,n)=>{const o=e.indexOf(t,r);return-1!==o&&(!!c(n)||o+t.length<=n)},vt=(e,t)=>mt(e,t,0),yt=(e,t)=>mt(e,t,e.length-t.length),bt=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),wt=e=>e.length>0,xt=e=>void 0!==e.style&&d(e.style.getPropertyValue),_t=(e,t,r)=>{if(!o(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);xt(e)&&e.style.setProperty(t,r)},Et=(e,t,r)=>{const n=e.dom;_t(n,t,r)},Ct=(e,t)=>{const r=e.dom;$(t,((e,t)=>{_t(r,t,e)}))},St=(e,t)=>{const r=e.dom,n=window.getComputedStyle(r).getPropertyValue(t);return""!==n||et(e)?n:kt(r,t)},kt=(e,t)=>xt(e)?e.style.getPropertyValue(t):"",At=(e,t)=>{const r=e.dom,n=kt(r,t);return _.from(n).filter((e=>e.length>0))},Pt=(e,t)=>{((e,t)=>{xt(e)&&e.style.removeProperty(t)})(e.dom,t),ut(ue(e,"style").map(bt),"")&&pe(e,"style")},Tt=(e,t,r=0)=>ue(e,t).map((e=>parseInt(e,10))).getOr(r),Mt=(e,t)=>Tt(e,t,1),Ot=e=>ae("col")(e)?Tt(e,"span",1)>1:Mt(e,"colspan")>1,Dt=e=>Mt(e,"rowspan")>1,It=(e,t)=>parseInt(St(e,t),10),Rt=f(10),Ft=f(10),Bt=(e,t)=>Nt(e,t,x),Nt=(e,t,r)=>L(Te(e),(e=>ve(e,t)?r(e)?[e]:[]:Nt(e,t,r))),Lt=(e,t)=>((e,t,r=w)=>r(t)?_.none():k(e,Q(t))?_.some(t):lt(t,e.join(","),(e=>ve(e,"table")||r(e))))(["td","th"],e,t),Vt=e=>Bt(e,"th,td"),zt=e=>ve(e,"colgroup")?ot(e,"col"):L(Gt(e),(e=>ot(e,"col"))),Ht=(e,t)=>dt(e,"table",t),jt=e=>Bt(e,"tr"),Gt=e=>Ht(e).fold(f([]),(e=>ot(e,"colgroup"))),Ut=(e,t)=>T(e,(e=>{if("colgroup"===Q(e)){const t=T(zt(e),(e=>{const t=Tt(e,"span",1);return We(e,1,t)}));return $e(e,t,"colgroup")}{const r=T(Vt(e),(e=>{const t=Tt(e,"rowspan",1),r=Tt(e,"colspan",1);return We(e,t,r)}));return $e(e,r,t(e))}})),qt=e=>Se(e).map((e=>{const t=Q(e);return(e=>k(qe,e))(t)?t:"tbody"})).getOr("tbody"),Wt=e=>{const t=jt(e),r=[...Gt(e),...t];return Ut(r,qt)},$t=e=>{let t,r=!1;return(...n)=>(r||(r=!0,t=e.apply(null,n)),t)},Zt=()=>Kt(0,0),Kt=(e,t)=>({major:e,minor:t}),Yt={nu:Kt,detect:(e,t)=>{const r=String(t).toLowerCase();return 0===e.length?Zt():((e,t)=>{const r=((e,t)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.test(t))return n}})(e,t);if(!r)return{major:0,minor:0};const n=e=>Number(t.replace(r,"$"+e));return Kt(n(1),n(2))})(e,r)},unknown:Zt},Xt=(e,t)=>{const r=String(t).toLowerCase();return F(e,(e=>e.search(r)))},Jt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qt=e=>t=>gt(t,e),er=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>gt(e,"edge/")&&gt(e,"chrome")&&gt(e,"safari")&&gt(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Jt],search:e=>gt(e,"chrome")&&!gt(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>gt(e,"msie")||gt(e,"trident")},{name:"Opera",versionRegexes:[Jt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qt("firefox")},{name:"Safari",versionRegexes:[Jt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(gt(e,"safari")||gt(e,"mobile/"))&&gt(e,"applewebkit")}],tr=[{name:"Windows",search:Qt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>gt(e,"iphone")||gt(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Qt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qt("linux"),versionRegexes:[]},{name:"Solaris",search:Qt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],rr={browsers:f(er),oses:f(tr)},nr="Edge",or="Chromium",ir="Opera",sr="Firefox",ar="Safari",lr=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isEdge:n(nr),isChromium:n(or),isIE:n("IE"),isOpera:n(ir),isFirefox:n(sr),isSafari:n(ar)}},cr=()=>lr({current:void 0,version:Yt.unknown()}),hr=lr,dr=(f(nr),f(or),f("IE"),f(ir),f(sr),f(ar),"Windows"),ur="Android",pr="Linux",fr="macOS",mr="Solaris",gr="FreeBSD",vr="ChromeOS",yr=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isWindows:n(dr),isiOS:n("iOS"),isAndroid:n(ur),isMacOS:n(fr),isLinux:n(pr),isSolaris:n(mr),isFreeBSD:n(gr),isChromeOS:n(vr)}},br=()=>yr({current:void 0,version:Yt.unknown()}),wr=yr,xr=(f(dr),f("iOS"),f(ur),f(pr),f(fr),f(mr),f(gr),f(vr),e=>window.matchMedia(e).matches);let _r=$t((()=>((e,t,r)=>{const n=rr.browsers(),o=rr.oses(),i=t.bind((e=>((e,t)=>U(t.brands,(t=>{const r=t.brand.toLowerCase();return F(e,(e=>{var t;return r===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Yt.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>Xt(e,t).map((e=>{const r=Yt.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(n,e))).fold(cr,hr),s=((e,t)=>Xt(e,t).map((e=>{const r=Yt.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(o,e).fold(br,wr),a=((e,t,r,n)=>{const o=e.isiOS()&&!0===/ipad/i.test(r),i=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),a=s||n("(pointer:coarse)"),l=o||!i&&s&&n("(min-device-width:768px)"),c=i||s&&!l,h=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),d=!c&&!l&&!h;return{isiPad:f(o),isiPhone:f(i),isTablet:f(l),isPhone:f(c),isTouch:f(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:f(h),isDesktop:f(d)}})(s,i,e,r);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,_.from(navigator.userAgentData),xr)));const Er=()=>_r(),Cr=(e,t)=>{const r=r=>{const n=t(r);if(n<=0||null===n){const t=St(r,e);return parseFloat(t)||0}return n},n=(e,t)=>R(t,((t,r)=>{const n=St(e,r),o=void 0===n?0:parseInt(n,10);return isNaN(o)?t:t+o}),0);return{set:(t,r)=>{if(!u(r)&&!r.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+r);const n=t.dom;xt(n)&&(n.style[e]=r+"px")},get:r,getOuter:r,aggregate:n,max:(e,t,r)=>{const o=n(e,r);return t>o?t-o:0}}},Sr=(e,t,r)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?_.none():_.some(t)})(e).getOr(t))(St(e,t),r),kr=Cr("width",(e=>e.dom.offsetWidth)),Ar=e=>kr.get(e),Pr=e=>kr.getOuter(e),Tr=e=>((e,t)=>{const r=e.dom,n=r.getBoundingClientRect().width||r.offsetWidth;return"border-box"===t?n:((e,t,r,n)=>t-Sr(e,"padding-left",0)-Sr(e,"padding-right",0)-Sr(e,"border-left-width",0)-Sr(e,"border-right-width",0))(e,n)})(e,"content-box"),Mr=(e,t,r)=>{const n=e.cells,o=n.slice(0,t),i=n.slice(t),s=o.concat(r).concat(i);return Ir(e,s)},Or=(e,t,r)=>Mr(e,t,[r]),Dr=(e,t,r)=>{e.cells[t]=r},Ir=(e,t)=>Ke(e.element,t,e.section,e.isNew),Rr=(e,t)=>e.cells[t],Fr=(e,t)=>Rr(e,t).element,Br=e=>e.cells.length,Nr=e=>{const t=O(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},Lr=(e,t,r)=>{const n=T(e.cells,r);return Ke(t(e.element),n,e.section,!0)},Vr="data-snooker-locked-cols",zr=e=>ue(e,Vr).bind((e=>_.from(e.match(/\d+/g)))).map((e=>z(e,x))),Hr=e=>{const t=R(Nr(e).rows,((e,t)=>(M(t.cells,((t,r)=>{t.isLocked&&(e[r]=!0)})),e)),{}),r=Y(t,((e,t)=>parseInt(t,10)));return((e,t)=>{const r=E.call(e,0);return r.sort(void 0),r})(r)},jr=(e,t)=>e+","+t,Gr=(e,t)=>{const r=L(e.all,(e=>e.cells));return D(r,t)},Ur=e=>{const t={},r=[],n=j(e).map((e=>e.element)).bind(Ht).bind(zr).getOr({});let o=0,i=0,s=0;const{pass:a,fail:l}=O(e,(e=>"colgroup"===e.section));M(l,(e=>{const a=[];M(e.cells,(e=>{let r=0;for(;void 0!==t[jr(s,r)];)r++;const o=((e,t)=>J(e,t)&&void 0!==e[t]&&null!==e[t])(n,r.toString()),l=((e,t,r,n,o,i)=>({element:e,rowspan:t,colspan:r,row:n,column:o,isLocked:i}))(e.element,e.rowspan,e.colspan,s,r,o);for(let n=0;n<e.colspan;n++)for(let o=0;o<e.rowspan;o++){const e=r+n,a=jr(s+o,e);t[a]=l,i=Math.max(i,e+1)}a.push(l)})),o++,r.push($e(e.element,a,e.section)),s++}));const{columns:c,colgroups:h}=G(a).map((e=>{const t=(e=>{const t={};let r=0;return M(e.cells,(e=>{const n=e.colspan;P(n,(o=>{const i=r+o;t[i]=((e,t,r)=>({element:e,colspan:t,column:r}))(e.element,n,i)})),r+=n})),t})(e),r=((e,t)=>({element:e,columns:t}))(e.element,X(t));return{colgroups:[r],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),d=((e,t)=>({rows:e,columns:t}))(o,i);return{grid:d,access:t,all:r,columns:c,colgroups:h}},qr=e=>{const t=Wt(e);return Ur(t)},Wr=Ur,$r=(e,t,r)=>_.from(e.access[jr(t,r)]),Zr=(e,t,r)=>{const n=Gr(e,(e=>r(t,e.element)));return n.length>0?_.some(n[0]):_.none()},Kr=Gr,Yr=e=>L(e.all,(e=>e.cells)),Xr=e=>X(e.columns),Jr=e=>q(e.columns).length>0,Qr=(e,t)=>_.from(e.columns[t]),en=(e,t=x)=>{const r=e.grid,n=P(r.columns,m),o=P(r.rows,m);return T(n,(r=>tn((()=>L(o,(t=>$r(e,t,r).filter((e=>e.column===r)).toArray()))),(e=>1===e.colspan&&t(e.element)),(()=>$r(e,0,r)))))},tn=(e,t,r)=>{const n=e();return F(n,t).orThunk((()=>_.from(n[0]).orThunk(r))).map((e=>e.element))},rn=e=>{const t=e.grid,r=P(t.rows,m),n=P(t.columns,m);return T(r,(t=>tn((()=>L(n,(r=>$r(e,t,r).filter((e=>e.row===t)).fold(f([]),(e=>[e]))))),(e=>1===e.rowspan),(()=>$r(e,t,0)))))},nn=(e,t)=>r=>"rtl"===on(r)?t:e,on=e=>"rtl"===St(e,"direction")?"rtl":"ltr",sn=Cr("height",(e=>{const t=e.dom;return et(e)?t.getBoundingClientRect().height:t.offsetHeight})),an=e=>sn.get(e),ln=e=>sn.getOuter(e),cn=(e,t)=>({left:e,top:t,translate:(r,n)=>cn(e+r,t+n)}),hn=cn,dn=(e,t)=>void 0!==e?e:void 0!==t?t:0,un=e=>{const t=e.dom.ownerDocument,r=t.body,n=t.defaultView,o=t.documentElement;if(r===e.dom)return hn(r.offsetLeft,r.offsetTop);const i=dn(null==n?void 0:n.pageYOffset,o.scrollTop),s=dn(null==n?void 0:n.pageXOffset,o.scrollLeft),a=dn(o.clientTop,r.clientTop),l=dn(o.clientLeft,r.clientLeft);return pn(e).translate(s-l,i-a)},pn=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?hn(r.offsetLeft,r.offsetTop):et(e)?(e=>{const t=e.getBoundingClientRect();return hn(t.left,t.top)})(t):hn(0,0)},fn=(e,t)=>({row:e,y:t}),mn=(e,t)=>({col:e,x:t}),gn=e=>un(e).left+Pr(e),vn=e=>un(e).left,yn=(e,t)=>mn(e,vn(t)),bn=(e,t)=>mn(e,gn(t)),wn=e=>un(e).top,xn=(e,t)=>fn(e,wn(t)),_n=(e,t)=>fn(e,wn(t)+ln(t)),En=(e,t,r)=>{if(0===r.length)return[];const n=T(r.slice(1),((t,r)=>t.map((t=>e(r,t))))),o=r[r.length-1].map((e=>t(r.length-1,e)));return n.concat([o])},Cn={delta:m,positions:e=>En(xn,_n,e),edge:wn},Sn=nn({delta:m,edge:vn,positions:e=>En(yn,bn,e)},{delta:e=>-e,edge:gn,positions:e=>En(bn,yn,e)}),kn={delta:(e,t)=>Sn(t).delta(e,t),positions:(e,t)=>Sn(t).positions(e,t),edge:e=>Sn(e).edge(e)},An={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Pn=(()=>{const e="[0-9]+",t="[eE][+-]?[0-9]+",r=e=>`(?:${e})?`,n=["Infinity","[0-9]+\\."+r(e)+r(t),"\\.[0-9]+"+r(t),e+r(t)].join("|");return new RegExp(`^([+-]?(?:${n}))(.*)$`)})(),Tn=/(\d+(\.\d+)?)%/,Mn=/(\d+(\.\d+)?)px|em/,On=ae("col"),Dn=(e,t,r)=>{const n=(o=e,_.from(o.dom.parentElement).map(ge.fromDom)).getOrThunk((()=>tt(Ee(e))));var o;return t(e)/r(n)*100},In=(e,t)=>{Et(e,"width",t+"px")},Rn=(e,t)=>{Et(e,"width",t+"%")},Fn=(e,t)=>{Et(e,"height",t+"px")},Bn=e=>{const t=(e=>{return Sr(t=e,"height",t.dom.offsetHeight)+"px";var t})(e);return t?((e,t,r,n)=>{const o=parseFloat(e);return yt(e,"%")&&"table"!==Q(t)?((e,t,r,n)=>{const o=Ht(e).map((e=>{const n=r(e);return Math.floor(t/100*n)})).getOr(t);return n(e,o),o})(t,o,r,n):o})(t,e,an,Fn):an(e)},Nn=(e,t)=>At(e,t).orThunk((()=>ue(e,t).map((e=>e+"px")))),Ln=e=>Nn(e,"width"),Vn=e=>Dn(e,Ar,Tr),zn=e=>{return On(e)?Ar(e):Sr(t=e,"width",t.dom.offsetWidth);var t},Hn=e=>((e,t,r)=>r(e)/Mt(e,"rowspan"))(e,0,Bn),jn=(e,t,r)=>{Et(e,"width",t+r)},Gn=e=>Dn(e,Ar,Tr)+"%",Un=f(Tn),qn=ae("col"),Wn=e=>Ln(e).getOrThunk((()=>zn(e)+"px")),$n=e=>{return(t=e,Nn(t,"height")).getOrThunk((()=>Hn(e)+"px"));var t},Zn=(e,t,r,n,o,i)=>e.filter(n).fold((()=>i(((e,t)=>{if(t<0||t>=e.length-1)return _.none();const r=e[t].fold((()=>{const r=(e=>{const t=E.call(e,0);return t.reverse(),t})(e.slice(0,t));return U(r,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>_.some({value:e,delta:0}))),n=e[t+1].fold((()=>{const r=e.slice(t+1);return U(r,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>_.some({value:e,delta:1})));return r.bind((e=>n.map((t=>{const r=t.delta+e.delta;return Math.abs(t.value-e.value)/r}))))})(r,t))),(e=>o(e))),Kn=(e,t,r,n)=>{const o=en(e),i=Jr(e)?(e=>T(Xr(e),(e=>_.from(e.element))))(e):o,s=[_.some(kn.edge(t))].concat(T(kn.positions(o,t),(e=>e.map((e=>e.x))))),a=y(Ot);return T(i,((e,t)=>Zn(e,t,s,a,(e=>{if((e=>{const t=Er().browser,r=t.isChromium()||t.isFirefox();return!qn(e)||r})(e))return r(e);{const e=null!=(i=o[t])?m(i):_.none();return Zn(e,t,s,a,(e=>n(_.some(Ar(e)))),n)}var i}),n)))},Yn=e=>e.map((e=>e+"px")).getOr(""),Xn=(e,t,r)=>Kn(e,t,zn,(e=>e.getOrThunk(r.minCellWidth))),Jn=(e,t,r,n,o)=>{const i=rn(e),s=[_.some(r.edge(t))].concat(T(r.positions(i,t),(e=>e.map((e=>e.y)))));return T(i,((e,t)=>Zn(e,t,s,y(Dt),n,o)))},Qn=(e,t)=>()=>et(e)?t(e):parseFloat(At(e,"width").getOr("0")),eo=e=>{const t=Qn(e,(e=>parseFloat(Gn(e)))),r=Qn(e,Ar);return{width:t,pixelWidth:r,getWidths:(t,r)=>((e,t,r)=>Kn(e,t,Vn,(e=>e.fold((()=>r.minCellWidth()),(e=>e/r.pixelWidth()*100)))))(t,e,r),getCellDelta:e=>e/r()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>Rt()/r()*100,setElementWidth:Rn,adjustTableWidth:r=>{const n=t();Rn(e,n+r/100*n)},isRelative:!0,label:"percent"}},to=e=>{const t=Qn(e,Ar);return{width:t,pixelWidth:t,getWidths:(t,r)=>Xn(t,e,r),getCellDelta:m,singleColumnWidth:(e,t)=>[Math.max(Rt(),e+t)-e],minCellWidth:Rt,setElementWidth:In,adjustTableWidth:r=>{const n=t()+r;In(e,n)},isRelative:!1,label:"pixel"}},ro=e=>Ln(e).fold((()=>(e=>{const t=Qn(e,Ar),r=f(0);return{width:t,pixelWidth:t,getWidths:(t,r)=>Xn(t,e,r),getCellDelta:r,singleColumnWidth:f([0]),minCellWidth:r,setElementWidth:p,adjustTableWidth:p,isRelative:!0,label:"none"}})(e)),(t=>((e,t)=>null!==Un().exec(t)?eo(e):to(e))(e,t))),no=to,oo=eo,io=(e,t,r)=>{const n=e[r].element,o=ge.fromTag("td");Re(o,ge.fromTag("br")),(t?Re:Ie)(n,o)},so=((e,t)=>{const r=t=>e(t)?_.from(t.dom.nodeValue):_.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return r(t).getOr("")},getOption:r,set:(t,r)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=r}}})(oe),ao=e=>so.get(e),lo=e=>so.getOption(e),co=(e,t)=>so.set(e,t),ho=e=>"img"===Q(e)?1:lo(e).fold((()=>Te(e).length),(e=>e.length)),uo=["img","br"],po=e=>lo(e).filter((e=>0!==e.trim().length||e.indexOf("")>-1)).isSome()||k(uo,Q(e)),fo=e=>((e,t)=>{const r=e=>{for(let n=0;n<e.childNodes.length;n++){const o=ge.fromDom(e.childNodes[n]);if(t(o))return _.some(o);const i=r(e.childNodes[n]);if(i.isSome())return i}return _.none()};return r(e.dom)})(e,po),mo=e=>go(e,po),go=(e,t)=>{const r=e=>{const n=Te(e);for(let e=n.length-1;e>=0;e--){const o=n[e];if(t(o))return _.some(o);const i=r(o);if(i.isSome())return i}return _.none()};return r(e)},vo={scope:["row","col"]},yo=e=>()=>{const t=ge.fromTag("td",e.dom);return Re(t,ge.fromTag("br",e.dom)),t},bo=e=>()=>ge.fromTag("col",e.dom),wo=e=>()=>ge.fromTag("colgroup",e.dom),xo=e=>()=>ge.fromTag("tr",e.dom),_o=(e,t,r)=>{const n=((e,t)=>{const r=Ue(e,t),n=Te(Ge(e));return Ne(r,n),r})(e,t);return $(r,((e,t)=>{null===e?pe(n,t):ce(n,t,e)})),n},Eo=e=>e,Co=(e,t,r)=>{const n=(e,t)=>{((e,t)=>{const r=e.dom,n=t.dom;xt(r)&&xt(n)&&(n.style.cssText=r.style.cssText)})(e.element,t),Pt(t,"height"),1!==e.colspan&&Pt(t,"width")};return{col:r=>{const o=ge.fromTag(Q(r.element),t.dom);return n(r,o),e(r.element,o),o},colgroup:wo(t),row:xo(t),cell:o=>{const i=ge.fromTag(Q(o.element),t.dom),s=r.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=s.length>0?((e,t,r)=>fo(e).map((n=>{const o=r.join(","),i=nt(n,o,(t=>we(t,e)));return I(i,((e,t)=>{const r=je(t);return pe(r,"contenteditable"),Re(e,r),r}),t)})).getOr(t))(o.element,i,s):i;return Re(a,ge.fromTag("br")),n(o,i),((e,t)=>{$(vo,((r,n)=>ue(e,n).filter((e=>k(r,e))).each((e=>ce(t,n,e)))))})(o.element,i),e(o.element,i),i},replace:_o,colGap:bo(t),gap:yo(t)}},So=e=>({col:bo(e),colgroup:wo(e),row:xo(e),cell:yo(e),replace:Eo,colGap:bo(e),gap:yo(e)}),ko=e=>ge.fromDom(e.getBody()),Ao=e=>t=>we(t,ko(e)),Po=e=>{pe(e,"data-mce-style");const t=e=>pe(e,"data-mce-style");M(Vt(e),t),M(zt(e),t),M(jt(e),t)},To=e=>ge.fromDom(e.selection.getStart()),Mo=e=>e.getBoundingClientRect().width,Oo=e=>e.getBoundingClientRect().height,Do=(e,t)=>{const r=t.column,n=t.column+t.colspan-1,o=t.row,i=t.row+t.rowspan-1;return r<=e.finishCol&&n>=e.startCol&&o<=e.finishRow&&i>=e.startRow},Io=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Ro=(e,t,r)=>{const n=Zr(e,t,we),o=Zr(e,r,we);return n.bind((e=>o.map((t=>{return r=e,n=t,{startRow:Math.min(r.row,n.row),startCol:Math.min(r.column,n.column),finishRow:Math.max(r.row+r.rowspan-1,n.row+n.rowspan-1),finishCol:Math.max(r.column+r.colspan-1,n.column+n.colspan-1)};var r,n}))))},Fo=(e,t,r)=>Ro(e,t,r).map((t=>{const r=Kr(e,v(Do,t));return T(r,(e=>e.element))})),Bo=(e,t)=>Zr(e,t,((e,t)=>xe(t,e))).map((e=>e.element)),No=(e,t,r)=>{const n=Vo(e);return Fo(n,t,r)},Lo=(e,t,r,n,o)=>{const i=Vo(e),s=we(e,r)?_.some(t):Bo(i,t),a=we(e,o)?_.some(n):Bo(i,n);return s.bind((e=>a.bind((t=>Fo(i,e,t)))))},Vo=qr;var zo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ho=()=>({up:f({selector:lt,closest:dt,predicate:at,all:ke}),down:f({selector:it,predicate:rt}),styles:f({get:St,getRaw:At,set:Et,remove:Pt}),attrs:f({get:de,set:ce,remove:pe,copyTo:(e,t)=>{const r=fe(e);he(t,r)}}),insert:f({before:Oe,after:De,afterAll:Be,append:Re,appendAll:Ne,prepend:Ie,wrap:Fe}),remove:f({unwrap:ze,remove:Ve}),create:f({nu:ge.fromTag,clone:e=>ge.fromDom(e.dom.cloneNode(!1)),text:ge.fromText}),query:f({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:Ae,nextSibling:Pe}),property:f({children:Te,name:Q,parent:Se,document:e=>Ce(e).dom,isText:oe,isComment:re,isElement:ne,isSpecial:e=>{const t=Q(e);return k(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>ne(e)?ue(e,"lang"):_.none(),getText:ao,setText:co,isBoundary:e=>!!ne(e)&&("body"===Q(e)||k(zo,Q(e))),isEmptyTag:e=>!!ne(e)&&k(["br","img","hr","input"],Q(e)),isNonEditable:e=>ne(e)&&"false"===de(e,"contenteditable")}),eq:we,is:_e});const jo=(e,t,r,n)=>{const o=t(e,r);return I(n,((r,n)=>{const o=t(e,n);return Go(e,r,o)}),o)},Go=(e,t,r)=>t.bind((t=>r.filter(v(e.eq,t)))),Uo=Ho(),qo=(e,t)=>((e,t,r)=>r.length>0?((e,t,r,n)=>n(e,t,r[0],r.slice(1)))(e,t,r,jo):_.none())(Uo,((t,r)=>e(r)),t),Wo=e=>lt(e,"table"),$o=(e,t,r)=>{const n=e=>t=>void 0!==r&&r(t)||we(t,e);return we(e,t)?_.some({boxes:_.some([e]),start:e,finish:t}):Wo(e).bind((o=>Wo(t).bind((i=>{if(we(o,i))return _.some({boxes:No(o,e,t),start:e,finish:t});if(xe(o,i)){const r=nt(t,"td,th",n(o)),s=r.length>0?r[r.length-1]:t;return _.some({boxes:Lo(o,e,o,t,i),start:e,finish:s})}if(xe(i,o)){const r=nt(e,"td,th",n(i)),s=r.length>0?r[r.length-1]:e;return _.some({boxes:Lo(i,e,o,t,i),start:e,finish:s})}return((e,t,r)=>((e,t,r,n=w)=>{const o=[t].concat(e.up().all(t)),i=[r].concat(e.up().all(r)),s=e=>B(e,n).fold((()=>e),(t=>e.slice(0,t+1))),a=s(o),l=s(i),c=F(a,(t=>A(l,((e,t)=>v(e.eq,t))(e,t))));return{firstpath:a,secondpath:l,shared:c}})(Uo,e,t,void 0))(e,t).shared.bind((s=>dt(s,"table",r).bind((r=>{const s=nt(t,"td,th",n(r)),a=s.length>0?s[s.length-1]:t,l=nt(e,"td,th",n(r)),c=l.length>0?l[l.length-1]:e;return _.some({boxes:Lo(r,e,o,t,i),start:c,finish:a})}))))}))))},Zo=(e,t)=>{const r=it(e,t);return r.length>0?_.some(r):_.none()},Ko=(e,t,r)=>ht(e,t).bind((t=>ht(e,r).bind((e=>qo(Wo,[t,e]).map((r=>({first:t,last:e,table:r}))))))),Yo=(e,t,r,n,o)=>((e,t)=>F(e,(e=>ve(e,t))))(e,o).bind((e=>((e,t,r)=>Ht(e).bind((n=>((e,t,r,n)=>Zr(e,t,we).bind((t=>{const o=r>0?t.row+t.rowspan-1:t.row,i=n>0?t.column+t.colspan-1:t.column;return $r(e,o+r,i+n).map((e=>e.element))})))(Vo(n),e,t,r))))(e,t,r).bind((e=>((e,t)=>lt(e,"table").bind((r=>ht(r,t).bind((t=>$o(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,n))))),Xo=(e,t)=>Zo(e,t),Jo=(e,t,r)=>Ko(e,t,r).bind((t=>{const r=t=>we(e,t),n="thead,tfoot,tbody,table",o=lt(t.first,n,r),i=lt(t.last,n,r);return o.bind((e=>i.bind((r=>we(e,r)?((e,t,r)=>((e,t,r)=>Ro(e,t,r).bind((t=>((e,t)=>{let r=!0;const n=v(Io,t);for(let o=t.startRow;o<=t.finishRow;o++)for(let i=t.startCol;i<=t.finishCol;i++)r=r&&$r(e,o,i).exists(n);return r?_.some(t):_.none()})(e,t))))(Vo(e),t,r))(t.table,t.first,t.last):_.none()))))})),Qo=m,ei=e=>{const t=(e,t)=>ue(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&V(e,(e=>t(e,"rowspan")||t(e,"colspan")))?_.some(e):_.none()},ti=(e,t,r)=>t.length<=1?_.none():Jo(e,r.firstSelectedSelector,r.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),ri={selected:"data-mce-selected",selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:"data-mce-first-selected",firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:"data-mce-last-selected",lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},ni=(e,t,r)=>({element:r,mergable:ti(t,e,ri),unmergable:ei(e),selection:Qo(e)}),oi=e=>(t,r)=>{const n=Q(t),o="col"===n||"colgroup"===n?Ht(i=t).bind((e=>Xo(e,ri.firstSelectedSelector))).fold(f(i),(e=>e[0])):t;var i;return dt(o,e,r)},ii=oi("th,td,caption"),si=oi("th,td"),ai=e=>{return t=e.model.table.getSelectedCells(),T(t,ge.fromDom);var t},li=(e,t)=>{e.on("BeforeGetContent",(t=>{const r=r=>{t.preventDefault(),(e=>Ht(e[0]).map((e=>{const t=((e,t)=>{const r=e=>ve(e.element,t),n=Ge(e),o=Wt(n),i=ro(e),s=Wr(o),a=((e,t)=>{const r=e.grid.columns;let n=e.grid.rows,o=r,i=0,s=0;const a=[],l=[];return $(e.access,(e=>{if(a.push(e),t(e)){l.push(e);const t=e.row,r=t+e.rowspan-1,a=e.column,c=a+e.colspan-1;t<n?n=t:r>i&&(i=r),a<o?o=a:c>s&&(s=c)}})),((e,t,r,n,o,i)=>({minRow:e,minCol:t,maxRow:r,maxCol:n,allCells:o,selectedCells:i}))(n,o,i,s,a,l)})(s,r),l="th:not("+t+"),td:not("+t+")",c=Nt(n,"th,td",(e=>ve(e,l)));M(c,Ve),((e,t,r,n)=>{const o=D(e,(e=>"colgroup"!==e.section)),i=t.grid.columns,s=t.grid.rows;for(let e=0;e<s;e++){let s=!1;for(let a=0;a<i;a++)e<r.minRow||e>r.maxRow||a<r.minCol||a>r.maxCol||($r(t,e,a).filter(n).isNone()?io(o,s,e):s=!0)}})(o,s,a,r);const h=((e,t,r,n)=>{if(0===n.minCol&&t.grid.columns===n.maxCol+1)return 0;const o=Xn(t,e,r),i=R(o,((e,t)=>e+t),0),s=R(o.slice(n.minCol,n.maxCol+1),((e,t)=>e+t),0),a=s/i*r.pixelWidth()-r.pixelWidth();return r.getCellDelta(a)})(e,qr(e),i,a);return((e,t,r,n)=>{$(r.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&Ve(e.element)}));const o=D(Bt(e,"tr"),(e=>0===e.dom.childElementCount));M(o,Ve),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||M(Bt(e,"th,td"),(e=>{pe(e,"rowspan"),pe(e,"colspan")})),pe(e,Vr),pe(e,"data-snooker-col-series"),ro(e).adjustTableWidth(n)})(n,a,s,h),n})(e,"[data-mce-selected]");return Po(t),[t]})))(r).each((r=>{t.content="text"===t.format?(e=>T(e,(e=>e.dom.innerText)).join(""))(r):((e,t)=>T(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""))(e,r)}))};if(!0===t.selection){const t=(e=>D(ai(e),(e=>ve(e,ri.selectedSelector))))(e);t.length>=1&&r(t)}})),e.on("BeforeSetContent",(r=>{if(!0===r.selection&&!0===r.paste){const n=ai(e);j(n).each((n=>{Ht(n).each((o=>{const i=D(((e,t)=>{const r=document.createElement("div");return r.innerHTML=e,Te(ge.fromDom(r))})(r.content),(e=>"meta"!==Q(e))),s=ae("table");if(1===i.length&&s(i[0])){r.preventDefault();const s=ge.fromDom(e.getDoc()),a=So(s),l=((e,t,r)=>({element:e,clipboard:t,generators:r}))(n,i[0],a);t.pasteCells(o,l).each((()=>{e.focus()}))}}))}))}}))},ci=(e,t)=>({element:e,offset:t}),hi=(e,t,r)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?r(t).bind((t=>hi(e,t,r).orThunk((()=>_.some(t))))):_.none(),di=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,ui=(e,t)=>{const r=hi(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(r))return ci(r,di(e,r));const n=e.property().children(r);return n.length>0?ui(e,n[n.length-1]):ci(r,di(e,r))},pi=ui,fi=Ho(),mi=(e,t)=>{if(!Ot(e)){const r=(e=>Ln(e).bind((e=>{return t=e,r=["fixed","relative","empty"],_.from(Pn.exec(t)).bind((e=>{const t=Number(e[1]),n=e[2];return((e,t)=>A(t,(t=>A(An[t],(t=>e===t)))))(n,r)?_.some({value:t,unit:n}):_.none()}));var t,r})))(e);r.each((r=>{const n=r.value/2;jn(e,n,r.unit),jn(t,n,r.unit)}))}},gi=e=>T(e,f(0)),vi=(e,t,r,n,o)=>o(e.slice(0,t)).concat(n).concat(o(e.slice(r))),yi=e=>(t,r,n,o)=>{if(e(n)){const e=Math.max(o,t[r]-Math.abs(n)),i=Math.abs(e-t[r]);return n>=0?i:-i}return n},bi=yi((e=>e<0)),wi=yi(x),xi=()=>{const e=(e,t,r,n)=>{const o=(100+r)/100,i=Math.max(n,(e[t]+r)/o);return T(e,((e,r)=>(r===t?i:e/o)-e))},t=(t,r,n,o,i,s)=>s?e(t,r,o,i):((e,t,r,n,o)=>{const i=bi(e,t,n,o);return vi(e,t,r+1,[i,0],gi)})(t,r,n,o,i);return{resizeTable:(e,t)=>e(t),clampTableDelta:bi,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,r,n,o,i,s,a)=>t(e,n,o,i,s,a),calcRightEdgeDeltas:(t,r,n,o,i,s)=>{if(s)return e(t,n,o,i);{const e=bi(t,n,o,i);return gi(t.slice(0,n)).concat([e])}},calcRedestributedWidths:(e,t,r,n)=>{if(n){const n=(t+r)/t,o=T(e,(e=>e/n));return{delta:100*n-100,newSizes:o}}return{delta:r,newSizes:e}}}},_i=()=>{const e=(e,t,r,n,o)=>{const i=wi(e,n>=0?r:t,n,o);return vi(e,t,r+1,[i,-i],gi)};return{resizeTable:(e,t,r)=>{r&&e(t)},clampTableDelta:(e,t,r,n,o)=>{if(o){if(r>=0)return r;{const t=R(e,((e,t)=>e+t-n),0);return Math.max(-t,r)}}return bi(e,t,r,n)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,r,n,o,i,s)=>e(t,n,o,i,s),calcRightEdgeDeltas:(e,t,r,n,o,i)=>{if(i)return gi(e);{const t=n/e.length;return T(e,f(t))}},calcRedestributedWidths:(e,t,r,n)=>({delta:0,newSizes:e})}},Ei=e=>qr(e).grid,Ci=ae("th"),Si=e=>V(e,(e=>Ci(e.element))),ki=(e,t)=>e&&t?"sectionCells":e?"section":"cells",Ai=e=>{const t="thead"===e.section,r=ut(Pi(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||r?{type:"header",subType:ki(t,r)}:{type:"body"}},Pi=e=>{const t=D(e,(e=>Ci(e.element)));return 0===t.length?_.some("td"):t.length===e.length?_.some("th"):_.none()},Ti=(e,t,r)=>Ze(r(e.element,t),!0,e.isLocked),Mi=(e,t)=>e.section!==t?Ke(e.element,e.cells,t,e.isNew):e,Oi=()=>({transformRow:Mi,transformCell:(e,t,r)=>{const n=r(e.element,t),o="td"!==Q(n)?((e,t)=>{const r=Ue(e,"td");De(e,r);const n=Te(e);return Ne(r,n),Ve(e),r})(n):n;return Ze(o,e.isNew,e.isLocked)}}),Di=()=>({transformRow:Mi,transformCell:Ti}),Ii=()=>({transformRow:(e,t)=>Mi(e,"thead"===t?"tbody":t),transformCell:Ti}),Ri=Oi,Fi=Di,Bi=Ii,Ni=()=>({transformRow:m,transformCell:Ti}),Li=e=>dt(e,"[contenteditable]"),Vi=(e,t=!1)=>et(e)?e.dom.isContentEditable:Li(e).fold(f(t),(e=>"true"===zi(e))),zi=e=>e.dom.contentEditable,Hi=(e,t,r,n)=>{r===n?pe(e,t):ce(e,t,r)},ji=(e,t,r)=>{G(ot(e,t)).fold((()=>Ie(e,r)),(e=>De(e,r)))},Gi=(e,t)=>{const r=[],n=[],o=e=>T(e,(e=>{e.isNew&&r.push(e.element);const t=e.element;return Le(t),M(e.cells,(e=>{e.isNew&&n.push(e.element),Hi(e.element,"colspan",e.colspan,1),Hi(e.element,"rowspan",e.rowspan,1),Re(t,e.element)})),t})),i=e=>L(e,(e=>T(e.cells,(e=>(Hi(e.element,"span",e.colspan,1),e.element))))),s=(t,r)=>{const n=((e,t)=>{const r=ct(e,t).getOrThunk((()=>{const r=ge.fromTag(t,Ee(e).dom);return"thead"===t?ji(e,"caption,colgroup",r):"colgroup"===t?ji(e,"caption",r):Re(e,r),r}));return Le(r),r})(e,r),s=("colgroup"===r?i:o)(t);Ne(n,s)},a=(t,r)=>{t.length>0?s(t,r):(t=>{ct(e,t).each(Ve)})(r)},l=[],c=[],h=[],d=[];return M(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":c.push(e);break;case"tfoot":h.push(e);break;case"colgroup":d.push(e)}})),a(d,"colgroup"),a(l,"thead"),a(c,"tbody"),a(h,"tfoot"),{newRows:r,newCells:n}},Ui=(e,t)=>{if(0===e.length)return 0;const r=e[0];return B(e,(e=>!t(r.element,e.element))).getOr(e.length)},qi=(e,t)=>{const r=T(e,(e=>T(e.cells,w)));return T(e,((n,o)=>{const i=L(n.cells,((n,i)=>{if(!1===r[o][i]){const h=((e,t,r,n)=>{const o=((e,t)=>e[t])(e,t),i="colgroup"===o.section,s=Ui(o.cells.slice(r),n),a=i?1:Ui(((e,t)=>T(e,(e=>Rr(e,t))))(e.slice(t),r),n);return{colspan:s,rowspan:a}})(e,o,i,t);return((e,t,n,o)=>{for(let i=e;i<e+n;i++)for(let e=t;e<t+o;e++)r[i][e]=!0})(o,i,h.rowspan,h.colspan),[(s=n.element,a=h.rowspan,l=h.colspan,c=n.isNew,{element:s,rowspan:a,colspan:l,isNew:c})]}return[];var s,a,l,c}));return((e,t,r,n)=>({element:e,cells:t,section:r,isNew:n}))(n.element,i,n.section,n.isNew)}))},Wi=(e,t,r)=>{const n=[];M(e.colgroups,(o=>{const i=[];for(let n=0;n<e.grid.columns;n++){const o=Qr(e,n).map((e=>Ze(e.element,r,!1))).getOrThunk((()=>Ze(t.colGap(),!0,!1)));i.push(o)}n.push(Ke(o.element,i,"colgroup",r))}));for(let o=0;o<e.grid.rows;o++){const i=[];for(let n=0;n<e.grid.columns;n++){const s=$r(e,o,n).map((e=>Ze(e.element,r,e.isLocked))).getOrThunk((()=>Ze(t.gap(),!0,!1)));i.push(s)}const s=e.all[o],a=Ke(s.element,i,s.section,r);n.push(a)}return n},$i=e=>qi(e,we),Zi=(e,t)=>U(e.all,(e=>F(e.cells,(e=>we(t,e.element))))),Ki=(e,t,r)=>{const n=T(t.selection,(t=>Lt(t).bind((t=>Zi(e,t))).filter(r))),o=pt(n);return ft(o.length>0,o)},Yi=(e,t,r,n,o)=>(i,s,a,l)=>{const c=qr(i),h=_.from(null==l?void 0:l.section).getOrThunk(Ni);return t(c,s).map((t=>{const r=((e,t)=>Wi(e,t,!1))(c,a),n=e(r,t,we,o(a),h),i=Hr(n.grid);return{info:t,grid:$i(n.grid),cursor:n.cursor,lockedColumns:i}})).bind((e=>{const t=Gi(i,e.grid),o=_.from(null==l?void 0:l.sizing).getOrThunk((()=>ro(i))),s=_.from(null==l?void 0:l.resize).getOrThunk(_i);return r(i,e.grid,e.info,{sizing:o,resize:s,section:h}),n(i),pe(i,Vr),e.lockedColumns.length>0&&ce(i,Vr,e.lockedColumns.join(",")),_.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},Xi=(e,t)=>Ki(e,t,x).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),Ji=(e,t)=>Ki(e,t,x),Qi=(e,t)=>Ki(e,t,(e=>!e.isLocked)),es=(e,t)=>V(t,(t=>((e,t)=>Zi(e,t).exists((e=>!e.isLocked)))(e,t))),ts=(e,t,r,n)=>{const o=Nr(e).rows;let i=!0;for(let e=0;e<o.length;e++)for(let s=0;s<Br(o[0]);s++){const a=o[e],l=Rr(a,s),c=r(l.element,t);c&&!i?Dr(a,s,Ze(n(),!0,l.isLocked)):c&&(i=!1)}return e},rs=e=>{const t=t=>t(e),r=f(e),n=()=>o,o={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:x,isError:w,map:t=>os.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:r,or:n,getOrThunk:r,orThunk:n,getOrDie:r,each:t=>{t(e)},toOptional:()=>_.some(e)};return o},ns=e=>{const t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:w,isError:x,map:t,mapError:t=>os.error(t(e)),bind:t,exists:w,forall:x,getOr:m,or:m,getOrThunk:b,orThunk:b,getOrDie:(n=String(e),()=>{throw new Error(n)}),each:p,toOptional:_.none};var n;return r},os={value:rs,error:ns,fromOption:(e,t)=>e.fold((()=>ns(t)),rs)},is=(e,t)=>({rowDelta:0,colDelta:Br(e[0])-Br(t[0])}),ss=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),as=(e,t,r,n)=>{const o="colgroup"===t.section?r.col:r.cell;return P(e,(e=>Ze(o(),!0,n(e))))},ls=(e,t,r,n)=>{const o=e[e.length-1];return e.concat(P(t,(()=>{const e="colgroup"===o.section?r.colgroup:r.row,t=Lr(o,e,m),i=as(t.cells.length,t,r,(e=>J(n,e.toString())));return Ir(t,i)})))},cs=(e,t,r,n)=>T(e,(e=>{const o=as(t,e,r,w);return Mr(e,n,o)})),hs=(e,t,r)=>{const n=t.colDelta<0?cs:m,o=t.rowDelta<0?ls:m,i=Hr(e),s=Br(e[0]),a=A(i,(e=>e===s-1)),l=n(e,Math.abs(t.colDelta),r,a?s-1:s),c=Hr(l);return o(l,Math.abs(t.rowDelta),r,z(c,x))},ds=(e,t,r,n)=>{const o=v(n,Rr(e[t],r).element),i=e[t];return e.length>1&&Br(i)>1&&(r>0&&o(Fr(i,r-1))||r<i.cells.length-1&&o(Fr(i,r+1))||t>0&&o(Fr(e[t-1],r))||t<e.length-1&&o(Fr(e[t+1],r)))},us=(e,t,r)=>D(r,(r=>r>=e.column&&r<=Br(t[0])+e.column)),ps=(e,t,r,n,o)=>{((e,t,r,n)=>{t>0&&t<e[0].cells.length&&M(e,(e=>{const o=e.cells[t-1];let i=0;const s=n();for(;e.cells.length>t+i&&r(o.element,e.cells[t+i].element);)Dr(e,t+i,Ze(s,!0,e.cells[t+i].isLocked)),i++}))})(t,e,o,n.cell);const i=ss(r,t),s=hs(r,i,n),a=ss(t,s),l=hs(t,a,n);return T(l,((t,r)=>Mr(t,e,s[r].cells)))},fs=(e,t,r,n,o)=>{((e,t,r,n)=>{const o=Nr(e).rows;if(t>0&&t<o.length){const e=((e,t)=>R(e,((e,r)=>A(e,(e=>t(e.element,r.element)))?e:e.concat([r])),[]))(o[t-1].cells,r);M(e,(e=>{let i=_.none();for(let s=t;s<o.length;s++)for(let t=0;t<Br(o[0]);t++){const a=o[s],l=Rr(a,t);r(l.element,e.element)&&(i.isNone()&&(i=_.some(n())),i.each((e=>{Dr(a,t,Ze(e,!0,l.isLocked))})))}}))}})(t,e,o,n.cell);const i=Hr(t),s=is(t,r),a={...s,colDelta:s.colDelta-i.length},l=hs(t,a,n),{cols:c,rows:h}=Nr(l),d=Hr(l),u=is(r,t),p={...u,colDelta:u.colDelta+d.length},f=(g=n,v=d,T(r,(e=>R(v,((t,r)=>{const n=as(1,e,g,x)[0];return Or(t,r,n)}),e)))),m=hs(f,p,n);var g,v;return[...c,...h.slice(0,e),...m,...h.slice(e,h.length)]},ms=(e,t,r,n,o)=>{const{rows:i,cols:s}=Nr(e),a=i.slice(0,t),l=i.slice(t);return[...s,...a,((e,t,r,n)=>Lr(e,(e=>n(e,r)),t))(i[r],((e,r)=>t>0&&t<i.length&&n(Fr(i[t-1],r),Fr(i[t],r))?Rr(i[t],r):Ze(o(e.element,n),!0,e.isLocked)),n,o),...l]},gs=(e,t,r,n,o)=>T(e,(e=>{const i=t>0&&t<Br(e)&&n(Fr(e,t-1),Fr(e,t)),s=((e,t,r,n,o,i,s)=>{if("colgroup"!==r&&n)return Rr(e,t);{const t=Rr(e,o);return Ze(s(t.element,i),!0,!1)}})(e,t,e.section,i,r,n,o);return Or(e,t,s)})),vs=(e,t,r,n)=>((e,t,r,n)=>void 0!==Fr(e[t],r)&&t>0&&n(Fr(e[t-1],r),Fr(e[t],r)))(e,t,r,n)||((e,t,r)=>t>0&&r(Fr(e,t-1),Fr(e,t)))(e[t],r,n),ys=(e,t,r,n)=>{const o=e=>(e=>"row"===e?Dt(t):Ot(t))(e)?`${e}group`:e;return e?Ci(t)?o(r):null:n&&Ci(t)?o("row"===r?"col":"row"):null},bs=(e,t,r)=>Ze(r(e.element,t),!0,e.isLocked),ws=(e,t,r,n,o,i,s)=>T(e,((e,a)=>((e,l)=>{const c=e.cells,h=T(c,((e,l)=>{if((e=>A(t,(t=>r(e.element,t.element))))(e)){const t=s(e,a,l)?o(e,r,n):e;return i(t,a,l).each((e=>{var r,n;r=t.element,n={scope:_.from(e)},$(n,((e,t)=>{e.fold((()=>{pe(r,t)}),(e=>{le(r.dom,t,e)}))}))})),t}return e}));return Ke(e.element,h,e.section,e.isNew)})(e))),xs=(e,t,r)=>L(e,((n,o)=>vs(e,o,t,r)?[]:[Rr(n,t)])),_s=(e,t,r,n,o)=>{const i=Nr(e).rows,s=L(t,(e=>xs(i,e,n))),a=T(i,(e=>Si(e.cells))),l=((e,t)=>V(t,m)&&Si(e)?x:(e,r,n)=>!("th"===Q(e.element)&&t[r]))(s,a),c=((e,t)=>(r,n)=>_.some(ys(e,r.element,"row",t[n])))(r,a);return ws(e,s,n,o,bs,c,l)},Es=(e,t,r,n)=>{const o=Nr(e).rows,i=T(t,(e=>Rr(o[e.row],e.column)));return ws(e,i,r,n,bs,_.none,x)},Cs=e=>{if(!s(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],r={};return M(e,((n,o)=>{const i=q(n);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],l=n[a];if(void 0!==r[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!s(l))throw new Error("case arguments must be an array");t.push(a),r[a]=(...r)=>{const n=r.length;if(n!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,r)},match:e=>{const n=q(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!V(t,(e=>k(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:a,params:r})}}}})),r},Ss={...Cs([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ks=(e,t,r)=>{let n=0;for(let o=e;o<t;o++)n+=void 0!==r[o]?r[o]:0;return n},As=(e,t)=>{const r=Yr(e);return T(r,(e=>{const r=ks(e.row,e.row+e.rowspan,t);return{element:e.element,height:r,rowspan:e.rowspan}}))},Ps=(e,t,r)=>{const n=((e,t)=>Jr(e)?((e,t)=>{const r=Xr(e);return T(r,((e,r)=>({element:e.element,width:t[r],colspan:e.colspan})))})(e,t):((e,t)=>{const r=Yr(e);return T(r,(e=>{const r=ks(e.column,e.column+e.colspan,t);return{element:e.element,width:r,colspan:e.colspan}}))})(e,t))(e,t);M(n,(e=>{r.setElementWidth(e.element,e.width)}))},Ts=(e,t,r,n,o)=>{const i=qr(e),s=o.getCellDelta(t),a=o.getWidths(i,o),l=r===i.grid.columns-1,c=n.clampTableDelta(a,r,s,o.minCellWidth(),l),h=((e,t,r,n,o)=>{const i=e.slice(0),s=((e,t)=>0===e.length?Ss.none():1===e.length?Ss.only(0):0===t?Ss.left(0,1):t===e.length-1?Ss.right(t-1,t):t>0&&t<e.length-1?Ss.middle(t-1,t,t+1):Ss.none())(e,t),a=f(T(i,f(0)));return s.fold(a,(e=>n.singleColumnWidth(i[e],r)),((e,t)=>o.calcLeftEdgeDeltas(i,e,t,r,n.minCellWidth(),n.isRelative)),((e,t,s)=>o.calcMiddleDeltas(i,e,t,s,r,n.minCellWidth(),n.isRelative)),((e,t)=>o.calcRightEdgeDeltas(i,e,t,r,n.minCellWidth(),n.isRelative)))})(a,r,c,o,n),d=T(h,((e,t)=>e+a[t]));Ps(i,d,o),n.resizeTable(o.adjustTableWidth,c,l)},Ms=e=>R(e,((e,t)=>A(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),Os=ae("col"),Ds=ae("colgroup"),Is=e=>"tr"===Q(e)||Ds(e),Rs=e=>({element:e,colspan:Tt(e,"colspan",1),rowspan:Tt(e,"rowspan",1)}),Fs=e=>ue(e,"scope").map((e=>e.substr(0,3))),Bs=(e,t=Rs)=>{const r=r=>{if(Is(r))return Ds((o={element:r}).element)?e.colgroup(o):e.row(o);{const o=r,i=(t=>Os(t.element)?e.col(t):e.cell(t))(t(o));return n=_.some({item:o,replacement:i}),i}var o};let n=_.none();return{getOrInit:(e,t)=>n.fold((()=>r(e)),(n=>t(e,n.item)?n.replacement:r(e)))}},Ns=e=>t=>{const r=[],n=n=>{const o="td"===e?{scope:null}:{},i=t.replace(n,e,o);return r.push({item:n,sub:i}),i};return{replaceOrInit:(e,t)=>{if(Is(e)||Os(e))return e;{const o=e;return((e,t)=>F(r,(r=>t(r.item,e))))(o,t).fold((()=>n(o)),(r=>t(e,r.item)?r.sub:n(o)))}}}},Ls=e=>({unmerge:t=>{const r=Fs(t);return r.each((e=>ce(t,"scope",e))),()=>{const n=e.cell({element:t,colspan:1,rowspan:1});return Pt(n,"width"),Pt(t,"width"),r.each((e=>ce(n,"scope",e))),n}},merge:e=>(Pt(e[0],"width"),(()=>{const t=pt(T(e,Fs));if(0===t.length)return _.none();{const e=t[0],r=["row","col"];return A(t,(t=>t!==e&&k(r,t)))?_.none():_.from(e)}})().fold((()=>pe(e[0],"scope")),(t=>ce(e[0],"scope",t+"group"))),f(e[0]))}),Vs=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],zs=Ho(),Hs=e=>((e,t)=>{const r=e.property().name(t);return k(Vs,r)})(zs,e),js=e=>((e,t)=>{const r=e.property().name(t);return k(["ol","ul"],r)})(zs,e),Gs=e=>{const t=ae("br"),r=e=>mo(e).bind((r=>{const n=Pe(r).map((e=>!!Hs(e)||!!((e,t)=>k(["br","img","hr","input"],e.property().name(t)))(zs,e)&&"img"!==Q(e))).getOr(!1);return Se(r).map((o=>{return!0===n||("li"===Q(i=o)||at(i,js).isSome())||t(r)||Hs(o)&&!we(e,o)?[]:[ge.fromTag("br")];var i}))})).getOr([]),n=(()=>{const n=L(e,(e=>{const n=Te(e);return(e=>V(e,(e=>t(e)||oe(e)&&0===ao(e).trim().length)))(n)?[]:n.concat(r(e))}));return 0===n.length?[ge.fromTag("br")]:n})();Le(e[0]),Ne(e[0],n)},Us=e=>Vi(e,!0),qs=e=>{0===Vt(e).length&&Ve(e)},Ws=(e,t)=>({grid:e,cursor:t}),$s=(e,t,r)=>{const n=((e,t,r)=>{var n,o;const i=Nr(e).rows;return _.from(null===(o=null===(n=i[t])||void 0===n?void 0:n.cells[r])||void 0===o?void 0:o.element).filter(Us).orThunk((()=>(e=>U(e,(e=>U(e.cells,(e=>{const t=e.element;return ft(Us(t),t)})))))(i)))})(e,t,r);return Ws(e,n)},Zs=e=>R(e,((e,t)=>A(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),Ks=(e,t)=>(r,n,o,i,s)=>{const a=Zs(n),l=T(a,(e=>e.row)),c=((e,t,r,n,o,i,s)=>{const{cols:a,rows:l}=Nr(e),c=l[t[0]],h=L(t,(e=>((e,t,r)=>{const n=e[t];return L(n.cells,((n,o)=>vs(e,t,o,r)?[]:[n]))})(l,e,o))),d=T(c.cells,((e,t)=>Si(xs(l,t,o)))),u=[...l];M(t,(e=>{u[e]=s.transformRow(l[e],r)}));const p=[...a,...u],f=((e,t)=>V(t,m)&&Si(e.cells)?x:(e,r,n)=>!("th"===Q(e.element)&&t[n]))(c,d),g=((e,t)=>(r,n,o)=>_.some(ys(e,r.element,"col",t[o])))(n,d);return ws(p,h,o,i,s.transformCell,g,f)})(r,l,e,t,o,i.replaceOrInit,s);return $s(c,n[0].row,n[0].column)},Ys=Ks("thead",!0),Xs=Ks("tbody",!1),Js=Ks("tfoot",!1),Qs=(e,t,r)=>{const n=((e,t)=>Ut(e,(()=>t)))(e,r.section),o=Wr(n);return Wi(o,t,!0)},ea=(e,t,r,n)=>((e,t,r,n)=>{const o=Wr(t),i=n.getWidths(o,n);Ps(o,i,n)})(0,t,0,n.sizing),ta=(e,t,r,n)=>((e,t,r,n,o)=>{const i=Wr(t),s=n.getWidths(i,n),a=n.pixelWidth(),{newSizes:l,delta:c}=o.calcRedestributedWidths(s,a,r.pixelDelta,n.isRelative);Ps(i,l,n),n.adjustTableWidth(c)})(0,t,r,n.sizing,n.resize),ra=(e,t)=>A(t,(e=>0===e.column&&e.isLocked)),na=(e,t)=>A(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),oa=(e,t)=>{const r=en(e),n=Ms(t);return R(n,((e,t)=>e+r[t.column].map(Pr).getOr(0)),0)},ia=e=>(t,r)=>Ji(t,r).filter((r=>!(e?ra:na)(t,r))).map((e=>({details:e,pixelDelta:oa(t,e)}))),sa=e=>(t,r)=>Xi(t,r).filter((r=>!(e?ra:na)(t,r.cells))),aa=Ns("th"),la=Ns("td"),ca=Yi(((e,t,r,n)=>{const o=t[0].row,i=Zs(t),s=I(i,((e,t)=>({grid:ms(e.grid,o,t.row+e.delta,r,n.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return $s(s,o,t[0].column)}),Ji,p,p,Bs),ha=Yi(((e,t,r,n)=>{const o=Zs(t),i=o[o.length-1],s=i.row+i.rowspan,a=I(o,((e,t)=>ms(e,s,t.row,r,n.getOrInit)),e);return $s(a,s,t[0].column)}),Ji,p,p,Bs),da=Yi(((e,t,r,n)=>{const o=t.details,i=Ms(o),s=i[0].column,a=I(i,((e,t)=>({grid:gs(e.grid,s,t.column+e.delta,r,n.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return $s(a,o[0].row,s)}),ia(!0),ta,p,Bs),ua=Yi(((e,t,r,n)=>{const o=t.details,i=o[o.length-1],s=i.column+i.colspan,a=Ms(o),l=I(a,((e,t)=>gs(e,s,t.column,r,n.getOrInit)),e);return $s(l,o[0].row,s)}),ia(!1),ta,p,Bs),pa=Yi(((e,t,r,n)=>{const o=Ms(t.details),i=((e,t)=>L(e,(e=>{const r=e.cells,n=I(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),r);return n.length>0?[Ke(e.element,n,e.section,e.isNew)]:[]})))(e,T(o,(e=>e.column))),s=i.length>0?i[0].cells.length-1:0;return $s(i,o[0].row,Math.min(o[0].column,s))}),((e,t)=>Qi(e,t).map((t=>({details:t,pixelDelta:-oa(e,t)})))),ta,qs,Bs),fa=Yi(((e,t,r,n)=>{const o=Zs(t),i=((e,t,r)=>{const{rows:n,cols:o}=Nr(e);return[...o,...n.slice(0,t),...n.slice(r+1)]})(e,o[0].row,o[o.length-1].row),s=i.length>0?i.length-1:0;return $s(i,Math.min(t[0].row,s),t[0].column)}),Ji,p,qs,Bs),ma=Yi(((e,t,r,n)=>{const o=Ms(t),i=T(o,(e=>e.column)),s=_s(e,i,!0,r,n.replaceOrInit);return $s(s,t[0].row,t[0].column)}),Qi,p,p,aa),ga=Yi(((e,t,r,n)=>{const o=Ms(t),i=T(o,(e=>e.column)),s=_s(e,i,!1,r,n.replaceOrInit);return $s(s,t[0].row,t[0].column)}),Qi,p,p,la),va=Yi(Ys,Qi,p,p,aa),ya=Yi(Xs,Qi,p,p,la),ba=Yi(Js,Qi,p,p,la),wa=Yi(((e,t,r,n)=>{const o=Es(e,t,r,n.replaceOrInit);return $s(o,t[0].row,t[0].column)}),Qi,p,p,aa),xa=Yi(((e,t,r,n)=>{const o=Es(e,t,r,n.replaceOrInit);return $s(o,t[0].row,t[0].column)}),Qi,p,p,la),_a=Yi(((e,t,r,n)=>{const o=t.cells;Gs(o);const i=((e,t,r,n)=>{const o=Nr(e).rows;if(0===o.length)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let r=t.startCol;r<=t.finishCol;r++){const t=o[e],i=Rr(t,r).isLocked;Dr(t,r,Ze(n(),!1,i))}return e})(e,t.bounds,0,n.merge(o));return Ws(i,_.from(o[0]))}),((e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>es(e,t.cells)))),ea,p,Ls),Ea=Yi(((e,t,r,n)=>{const o=I(t,((e,t)=>ts(e,t,r,n.unmerge(t))),e);return Ws(o,_.from(t[0]))}),((e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>es(e,t)))),ea,p,Ls),Ca=Yi(((e,t,r,n)=>{const o=((e,t)=>{const r=qr(e);return Wi(r,t,!0)})(t.clipboard,t.generators);var i,s;return((e,t,r,n,o)=>{const i=Hr(t),s=((e,t,r)=>{const n=Br(t[0]),o=Nr(t).cols.length+e.row,i=P(n-e.column,(t=>t+e.column));return{row:o,column:F(i,(e=>V(r,(t=>t!==e)))).getOr(n-1)}})(e,t,i),a=Nr(r).rows,l=us(s,a,i),c=((e,t,r)=>{if(e.row>=t.length||e.column>Br(t[0]))return os.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const n=t.slice(e.row),o=n[0].cells.slice(e.column),i=Br(r[0]),s=r.length;return os.value({rowDelta:n.length-s,colDelta:o.length-i})})(s,t,a);return c.map((e=>{const r={...e,colDelta:e.colDelta-l.length},i=hs(t,r,n),c=Hr(i),h=us(s,a,c);return((e,t,r,n,o,i)=>{const s=e.row,a=e.column,l=s+r.length,c=a+Br(r[0])+i.length,h=z(i,x);for(let e=s;e<l;e++){let i=0;for(let l=a;l<c;l++){if(h[l]){i++;continue}ds(t,e,l,o)&&ts(t,Fr(t[e],l),o,n.cell);const c=l-a-i,d=Rr(r[e-s],c),u=d.element,p=n.replace(u);Dr(t[e],l,Ze(p,!0,d.isLocked))}}return t})(s,i,a,n,o,h)}))})((i=t.row,s=t.column,{row:i,column:s}),e,o,t.generators,r).fold((()=>Ws(e,_.some(t.element))),(e=>$s(e,t.row,t.column)))}),((e,t)=>Lt(t.element).bind((r=>Zi(e,r).map((e=>({...e,generators:t.generators,clipboard:t.clipboard})))))),ea,p,Bs),Sa=Yi(((e,t,r,n)=>{const o=Nr(e).rows,i=t.cells[0].column,s=o[t.cells[0].row],a=Qs(t.clipboard,t.generators,s),l=ps(i,e,a,t.generators,r);return $s(l,t.cells[0].row,t.cells[0].column)}),sa(!0),p,p,Bs),ka=Yi(((e,t,r,n)=>{const o=Nr(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,s=o[t.cells[0].row],a=Qs(t.clipboard,t.generators,s),l=ps(i,e,a,t.generators,r);return $s(l,t.cells[0].row,t.cells[0].column)}),sa(!1),p,p,Bs),Aa=Yi(((e,t,r,n)=>{const o=Nr(e).rows,i=t.cells[0].row,s=o[i],a=Qs(t.clipboard,t.generators,s),l=fs(i,e,a,t.generators,r);return $s(l,t.cells[0].row,t.cells[0].column)}),Xi,p,p,Bs),Pa=Yi(((e,t,r,n)=>{const o=Nr(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,s=o[t.cells[0].row],a=Qs(t.clipboard,t.generators,s),l=fs(i,e,a,t.generators,r);return $s(l,t.cells[0].row,t.cells[0].column)}),Xi,p,p,Bs),Ta=(e,t)=>{const r=qr(e);return Ji(r,t).bind((e=>{const t=e[e.length-1],n=e[0].column,o=t.column+t.colspan,i=N(T(r.all,(e=>D(e.cells,(e=>e.column>=n&&e.column<o)))));return Pi(i)})).getOr("")},Ma=(e,t)=>{const r=qr(e);return Ji(r,t).bind(Pi).getOr("")},Oa=(e,t)=>{const r=qr(e);return Ji(r,t).bind((e=>{const t=e[e.length-1],n=e[0].row,o=t.row+t.rowspan;return(e=>{const t=T(e,(e=>Ai(e).type)),r=k(t,"header"),n=k(t,"footer");if(r||n){const e=k(t,"body");return!r||e||n?r||e||!n?_.none():_.some("footer"):_.some("header")}return _.some("body")})(r.all.slice(n,o))})).getOr("")},Da=(e,t)=>e.dispatch("NewRow",{node:t}),Ia=(e,t)=>e.dispatch("NewCell",{node:t}),Ra=(e,t,r)=>{e.dispatch("TableModified",{...r,table:t})},Fa={structure:!1,style:!0},Ba={structure:!0,style:!1},Na={structure:!0,style:!0},La=e=>t=>t.options.get(e),Va="100%",za=e=>{var t;const r=e.dom,n=null!==(t=r.getParent(e.selection.getStart(),r.isBlock))&&void 0!==t?t:e.getBody();return Tr(ge.fromDom(n))+"px"},Ha=e=>_.from(e.options.get("table_clone_elements")),ja=La("table_header_type"),Ga=La("table_column_resizing"),Ua=e=>"preservetable"===Ga(e),qa=e=>"resizetable"===Ga(e),Wa=La("table_sizing_mode"),$a=e=>"relative"===Wa(e),Za=e=>"fixed"===Wa(e),Ka=e=>"responsive"===Wa(e),Ya=La("table_resize_bars"),Xa=La("table_style_by_css"),Ja=e=>{const t=e.options,r=t.get("table_default_attributes");return t.isSet("table_default_attributes")?r:((e,t)=>Ka(e)||Xa(e)?t:Za(e)?{...t,width:za(e)}:{...t,width:Va})(e,r)},Qa=La("table_use_colgroups"),el=(e,t)=>$a(e)?oo(t):Za(e)?no(t):ro(t),tl=(e,t,r)=>{const n=e=>"table"===Q(ko(e)),o=Ha(e),i=qa(e)?p:mi,s=t=>{switch(ja(e)){case"section":return Ri();case"sectionCells":return Fi();case"cells":return Bi();default:return((e,t)=>{var r;switch((r=qr(e),U(r.all,(e=>{const t=Ai(e);return"header"===t.type?_.from(t.subType):_.none()}))).getOr(t)){case"section":return Oi();case"sectionCells":return Di();case"cells":return Ii()}})(t,"section")}},a=(n,i,a,l)=>(c,h,d=!1)=>{Po(c);const u=ge.fromDom(e.getDoc()),p=Co(a,u,o),f={sizing:el(e,c),resize:qa(e)?xi():_i(),section:s(c)};return i(c)?n(c,h,p,f).bind((n=>{t.refresh(c.dom),M(n.newRows,(t=>{Da(e,t.dom)})),M(n.newCells,(t=>{Ia(e,t.dom)}));const o=((t,n)=>n.cursor.fold((()=>{const n=Vt(t);return j(n).filter(et).map((n=>{r.clearSelectedCells(t.dom);const o=e.dom.createRng();return o.selectNode(n.dom),e.selection.setRng(o),ce(n,"data-mce-selected","1"),o}))}),(n=>{const o=pi(fi,n),i=e.dom.createRng();return i.setStart(o.element.dom,o.offset),i.setEnd(o.element.dom,o.offset),e.selection.setRng(i),r.clearSelectedCells(t.dom),_.some(i)})))(c,n);return et(c)&&(Po(c),d||Ra(e,c.dom,l)),o.map((e=>({rng:e,effect:l})))})):_.none()},l=a(fa,(t=>!n(e)||Ei(t).rows>1),p,Ba),c=a(pa,(t=>!n(e)||Ei(t).columns>1),p,Ba);return{deleteRow:l,deleteColumn:c,insertRowsBefore:a(ca,x,p,Ba),insertRowsAfter:a(ha,x,p,Ba),insertColumnsBefore:a(da,x,i,Ba),insertColumnsAfter:a(ua,x,i,Ba),mergeCells:a(_a,x,p,Ba),unmergeCells:a(Ea,x,p,Ba),pasteColsBefore:a(Sa,x,p,Ba),pasteColsAfter:a(ka,x,p,Ba),pasteRowsBefore:a(Aa,x,p,Ba),pasteRowsAfter:a(Pa,x,p,Ba),pasteCells:a(Ca,x,p,Na),makeCellsHeader:a(wa,x,p,Ba),unmakeCellsHeader:a(xa,x,p,Ba),makeColumnsHeader:a(ma,x,p,Ba),unmakeColumnsHeader:a(ga,x,p,Ba),makeRowsHeader:a(va,x,p,Ba),makeRowsBody:a(ya,x,p,Ba),makeRowsFooter:a(ba,x,p,Ba),getTableRowType:Oa,getTableCellType:Ma,getTableColType:Ta}},rl=(e,t,r)=>{const n=Tt(e,t,1);1===r||n<=1?pe(e,t):ce(e,t,Math.min(r,n))},nl=(e,t)=>r=>{const n=r.column+r.colspan-1,o=r.column;return n>=e&&o<t},ol=Cs([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),il=(e,t,r)=>{const n=r.substring(0,r.length-e.length),o=parseFloat(n);return n===o.toString()?t(o):ol.invalid(r)},sl={...ol,from:e=>yt(e,"%")?il("%",ol.percent,e):yt(e,"px")?il("px",ol.pixels,e):ol.invalid(e)},al=(e,t,r)=>{const n=sl.from(r),o=V(e,(e=>"0px"===e))?((e,t)=>{const r=e.fold((()=>f("")),(e=>f(e/t+"px")),(()=>f(100/t+"%")));return P(t,r)})(n,e.length):((e,t,r)=>e.fold((()=>t),(e=>((e,t,r)=>{const n=r/t;return T(e,(e=>sl.from(e).fold((()=>e),(e=>e*n+"px"),(e=>e/100*r+"px"))))})(t,r,e)),(e=>((e,t)=>T(e,(e=>sl.from(e).fold((()=>e),(e=>e/t*100+"%"),(e=>e+"%")))))(t,r))))(n,e,t);return hl(o)},ll=(e,t)=>0===e.length?t:I(e,((e,t)=>sl.from(t).fold(f(0),m,m)+e),0),cl=(e,t)=>sl.from(e).fold(f(e),(e=>e+t+"px"),(e=>e+t+"%")),hl=e=>{if(0===e.length)return e;const t=I(e,((e,t)=>{const r=sl.from(t).fold((()=>({value:t,remainder:0})),(e=>((e,t)=>{const r=Math.floor(e);return{value:r+"px",remainder:e-r}})(e)),(e=>({value:e+"%",remainder:0})));return{output:[r.value].concat(e.output),remainder:e.remainder+r.remainder}}),{output:[],remainder:0}),r=t.output;return r.slice(0,r.length-1).concat([cl(r[r.length-1],Math.round(t.remainder))])},dl=sl.from,ul=e=>dl(e).fold(f("px"),f("px"),f("%")),pl=(e,t,r)=>{const n=qr(e),o=n.all,i=Yr(n),s=Xr(n);t.each((t=>{const r=ul(t),o=Ar(e),a=((e,t)=>Kn(e,t,Wn,Yn))(n,e),l=al(a,o,t);Jr(n)?((e,t,r)=>{M(t,((t,n)=>{const o=ll([e[n]],Rt());Et(t.element,"width",o+r)}))})(l,s,r):((e,t,r)=>{M(t,(t=>{const n=e.slice(t.column,t.colspan+t.column),o=ll(n,Rt());Et(t.element,"width",o+r)}))})(l,i,r),Et(e,"width",t)})),r.each((t=>{const r=ul(t),s=an(e),a=((e,t,r)=>Jn(e,t,r,$n,Yn))(n,e,Cn);((e,t,r,n)=>{M(r,(t=>{const r=e.slice(t.row,t.rowspan+t.row),o=ll(r,Ft());Et(t.element,"height",o+n)})),M(t,((t,r)=>{Et(t.element,"height",e[r])}))})(al(a,s,t),o,i,r),Et(e,"height",t)}))},fl=e=>Ln(e).exists((e=>Tn.test(e))),ml=e=>Ln(e).exists((e=>Mn.test(e))),gl=e=>Ln(e).isNone(),vl=e=>{pe(e,"width")},yl=e=>{const t=Gn(e);pl(e,_.some(t),_.none()),vl(e)},bl=e=>{const t=(e=>Ar(e)+"px")(e);pl(e,_.some(t),_.none()),vl(e)},wl=e=>{Pt(e,"width");const t=zt(e),r=t.length>0?t:Vt(e);M(r,(e=>{Pt(e,"width"),vl(e)})),vl(e)},xl={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},_l=(e,t,r,n)=>P(e,(e=>((e,t,r,n)=>{const o=ge.fromTag("tr");for(let i=0;i<e;i++){const e=ge.fromTag(n<t||i<r?"th":"td");i<r&&ce(e,"scope","row"),n<t&&ce(e,"scope","col"),Re(e,ge.fromTag("br")),Re(o,e)}return o})(t,r,n,e))),El=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},Cl=(e,t,r,n,i)=>{const s=(e=>{const t=e.options,r=t.get("table_default_styles");return t.isSet("table_default_styles")?r:((e,t)=>Ka(e)||!Xa(e)?t:Za(e)?{...t,width:za(e)}:{...t,width:Va})(e,r)})(e),a={styles:s,attributes:Ja(e),colGroups:Qa(e)};return e.undoManager.ignore((()=>{const o=((e,t,r,n,o,i=xl)=>{const s=ge.fromTag("table"),a="cells"!==o;Ct(s,i.styles),he(s,i.attributes),i.colGroups&&Re(s,(e=>{const t=ge.fromTag("colgroup");return P(e,(()=>Re(t,ge.fromTag("col")))),t})(t));const l=Math.min(e,r);if(a&&r>0){const e=ge.fromTag("thead");Re(s,e);const i=_l(r,t,"sectionCells"===o?l:0,n);Ne(e,i)}const c=ge.fromTag("tbody");Re(s,c);const h=_l(a?e-l:e,t,a?0:r,n);return Ne(c,h),s})(r,t,i,n,ja(e),a);ce(o,"data-mce-id","__mce");const s=(e=>{const t=ge.fromTag("div"),r=ge.fromDom(e.dom.cloneNode(!0));return Re(t,r),(e=>e.dom.innerHTML)(t)})(o);e.insertContent(s),e.addVisual()})),ht(ko(e),'table[data-mce-id="__mce"]').map((t=>(Za(e)?bl(t):Ka(e)?wl(t):($a(e)||(e=>o(e)&&-1!==e.indexOf("%"))(s.width))&&yl(t),Po(t),pe(t,"data-mce-id"),((e,t)=>{M(it(t,"tr"),(t=>{Da(e,t.dom),M(it(t,"th,td"),(t=>{Ia(e,t.dom)}))}))})(e,t),((e,t)=>{ht(t,"td,th").each(v(El,e))})(e,t),t.dom))).getOrNull()};var Sl=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const kl="x-tinymce/dom-table-",Al=kl+"rows",Pl=kl+"columns",Tl=e=>{const t=Sl.FakeClipboardItem(e);Sl.write([t])},Ml=e=>{var t;const r=null!==(t=Sl.read())&&void 0!==t?t:[];return U(r,(t=>_.from(t.getType(e))))},Ol=e=>{Ml(e).isSome()&&Sl.clear()},Dl=e=>{e.fold(Rl,(e=>Tl({[Al]:e})))},Il=()=>Ml(Al),Rl=()=>Ol(Al),Fl=e=>{e.fold(Nl,(e=>Tl({[Pl]:e})))},Bl=()=>Ml(Pl),Nl=()=>Ol(Pl),Ll=e=>ii(To(e),Ao(e)),Vl=(e,t)=>{const r=Ao(e),n=e=>Ht(e,r),s=t=>(e=>si(To(e),Ao(e)))(e).bind((e=>n(e).map((r=>t(r,e))))),a=t=>{e.focus()},l=(t,r=!1)=>s(((n,o)=>{const i=ni(ai(e),n,o);t(n,i,r).each(a)})),c=()=>s(((t,r)=>((e,t,r)=>{const n=qr(e);return Ji(n,t).bind((e=>{const t=Wi(n,r,!1),o=Nr(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),i=L(o,(e=>{const t=D(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),s=$i(i);return ft(s.length>0,s)})).map((e=>T(e,(e=>{const t=je(e.element);return M(e.cells,(e=>{const r=Ge(e.element);Hi(r,"colspan",e.colspan,1),Hi(r,"rowspan",e.rowspan,1),Re(t,r)})),t}))))})(t,ni(ai(e),t,r),Co(p,ge.fromDom(e.getDoc()),_.none())))),h=()=>s(((t,r)=>((e,t)=>{const r=qr(e);return Qi(r,t).map((e=>{const t=e[e.length-1],n=e[0].column,o=t.column+t.colspan,i=((e,t,r)=>{if(Jr(e)){const n=D(Xr(e),nl(t,r)),o=T(n,(e=>{const n=Ge(e.element);return rl(n,"span",r-t),n})),i=ge.fromTag("colgroup");return Ne(i,o),[i]}return[]})(r,n,o),s=((e,t,r)=>T(e.all,(e=>{const n=D(e.cells,nl(t,r)),o=T(n,(e=>{const n=Ge(e.element);return rl(n,"colspan",r-t),n})),i=ge.fromTag("tr");return Ne(i,o),i})))(r,n,o);return[...i,...s]}))})(t,ni(ai(e),t,r)))),d=(t,r)=>r().each((r=>{const n=T(r,(e=>Ge(e)));s(((r,o)=>{const i=So(ge.fromDom(e.getDoc())),s=((e,t,r,n)=>({selection:Qo(e),clipboard:r,generators:n}))(ai(e),0,n,i);t(r,s).each(a)}))})),f=e=>(t,r)=>((e,t)=>J(e,t)?_.from(e.type):_.none())(r,"type").each((t=>{l(e(t),r.no_events)}));$({mceTableSplitCells:()=>l(t.unmergeCells),mceTableMergeCells:()=>l(t.mergeCells),mceTableInsertRowBefore:()=>l(t.insertRowsBefore),mceTableInsertRowAfter:()=>l(t.insertRowsAfter),mceTableInsertColBefore:()=>l(t.insertColumnsBefore),mceTableInsertColAfter:()=>l(t.insertColumnsAfter),mceTableDeleteCol:()=>l(t.deleteColumn),mceTableDeleteRow:()=>l(t.deleteRow),mceTableCutCol:()=>h().each((e=>{Fl(e),l(t.deleteColumn)})),mceTableCutRow:()=>c().each((e=>{Dl(e),l(t.deleteRow)})),mceTableCopyCol:()=>h().each((e=>Fl(e))),mceTableCopyRow:()=>c().each((e=>Dl(e))),mceTablePasteColBefore:()=>d(t.pasteColsBefore,Bl),mceTablePasteColAfter:()=>d(t.pasteColsAfter,Bl),mceTablePasteRowBefore:()=>d(t.pasteRowsBefore,Il),mceTablePasteRowAfter:()=>d(t.pasteRowsAfter,Il),mceTableDelete:()=>Ll(e).each((t=>{Ht(t,r).filter(y(r)).each((t=>{const r=ge.fromText("");if(De(t,r),Ve(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(r.dom,0),t.setEnd(r.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,r)=>{s((t=>{const n=ai(e),o=V(n,(t=>e.formatter.match("tablecellclass",{value:r},t.dom))),i=o?e.formatter.remove:e.formatter.apply;M(n,(e=>i("tablecellclass",{value:r},e.dom))),Ra(e,t.dom,Fa)}))},mceTableToggleClass:(t,r)=>{s((t=>{e.formatter.toggle("tableclass",{value:r},t.dom),Ra(e,t.dom,Fa)}))},mceTableToggleCaption:()=>{Ll(e).each((t=>{Ht(t,r).each((r=>{ct(r,"caption").fold((()=>{const t=ge.fromTag("caption");Re(t,ge.fromText("Caption")),((e,t,r)=>{Me(e,0).fold((()=>{Re(e,t)}),(e=>{Oe(e,t)}))})(r,t),e.selection.setCursorLocation(t.dom,0)}),(n=>{ae("caption")(t)&&be("td",r).each((t=>e.selection.setCursorLocation(t.dom,0))),Ve(n)})),Ra(e,r.dom,Ba)}))}))},mceTableSizingMode:(t,n)=>(t=>Ll(e).each((n=>{Ka(e)||Za(e)||$a(e)||Ht(n,r).each((r=>{"relative"!==t||fl(r)?"fixed"!==t||ml(r)?"responsive"!==t||gl(r)||wl(r):bl(r):yl(r),Po(r),Ra(e,r.dom,Ba)}))})))(n),mceTableCellType:f((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:f((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:f((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,r)=>e.addCommand(r,t))),e.addCommand("mceInsertTable",((t,r)=>{((e,t,r,n={})=>{const o=e=>u(e)&&e>0;if(o(t)&&o(r)){const o=n.headerRows||0,i=n.headerColumns||0;return Cl(e,r,t,i,o)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(e,r.rows,r.columns,r.options)})),e.addCommand("mceTableApplyCellStyle",((t,r)=>{const s=e=>"tablecell"+e.toLowerCase().replace("-","");if(!i(r))return;const a=ai(e);if(0===a.length)return;const l=((e,t)=>{const r={};return((e,t,r,n)=>{$(e,((e,o)=>{(t(e,o)?r:n)(e,o)}))})(e,t,(e=>(t,r)=>{e[r]=t})(r),p),r})(r,((t,r)=>e.formatter.has(s(r))&&o(t)));(e=>{for(const t in e)if(W.call(e,t))return!1;return!0})(l)||($(l,((t,r)=>{const n=s(r);M(a,(r=>{""===t?e.formatter.remove(n,{value:null},r.dom,!0):e.formatter.apply(n,{value:t},r.dom)}))})),n(a[0]).each((t=>Ra(e,t.dom,Fa))))}))},zl=Cs([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Hl={before:zl.before,on:zl.on,after:zl.after,cata:(e,t,r,n)=>e.fold(t,r,n),getStart:e=>e.fold(m,m,m)},jl=(e,t)=>({selection:e,kill:t}),Gl=(e,t)=>{const r=e.document.createRange();return r.selectNode(t.dom),r},Ul=(e,t)=>{const r=e.document.createRange();return ql(r,t),r},ql=(e,t)=>e.selectNodeContents(t.dom),Wl=(e,t,r)=>{const n=e.document.createRange();var o;return o=n,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,r)=>{e.setEnd(t.dom,r)}),(t=>{e.setEndAfter(t.dom)}))})(n,r),n},$l=(e,t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},Zl=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Kl=Cs([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Yl=(e,t,r)=>t(ge.fromDom(r.startContainer),r.startOffset,ge.fromDom(r.endContainer),r.endOffset),Xl=(e,t)=>{const r=((e,t)=>t.match({domRange:e=>({ltr:f(e),rtl:_.none}),relative:(t,r)=>({ltr:$t((()=>Wl(e,t,r))),rtl:$t((()=>_.some(Wl(e,r,t))))}),exact:(t,r,n,o)=>({ltr:$t((()=>$l(e,t,r,n,o))),rtl:$t((()=>_.some($l(e,n,o,t,r))))})}))(e,t);return((e,t)=>{const r=t.ltr();return r.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Kl.rtl(ge.fromDom(e.endContainer),e.endOffset,ge.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Yl(0,Kl.ltr,r))):Yl(0,Kl.ltr,r)})(0,r)},Jl=(e,t)=>Xl(e,t).match({ltr:(t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},rtl:(t,r,n,o)=>{const i=e.document.createRange();return i.setStart(n.dom,o),i.setEnd(t.dom,r),i}});Kl.ltr,Kl.rtl;const Ql=(e,t,r,n)=>({start:e,soffset:t,finish:r,foffset:n}),ec=(e,t,r,n)=>({start:Hl.on(e,t),finish:Hl.on(r,n)}),tc=(e,t)=>{const r=Jl(e,t);return Ql(ge.fromDom(r.startContainer),r.startOffset,ge.fromDom(r.endContainer),r.endOffset)},rc=ec,nc=(e,t,r,n,o)=>we(r,n)?_.none():$o(r,n,t).bind((t=>{const n=t.boxes.getOr([]);return n.length>1?(o(e,n,t.start,t.finish),_.some(jl(_.some(rc(r,0,r,ho(r))),!0))):_.none()})),oc=(e,t)=>({item:e,mode:t}),ic=(e,t,r,n=sc)=>e.property().parent(t).map((e=>oc(e,n))),sc=(e,t,r,n=ac)=>r.sibling(e,t).map((e=>oc(e,n))),ac=(e,t,r,n=ac)=>{const o=e.property().children(t);return r.first(o).map((e=>oc(e,n)))},lc=[{current:ic,next:sc,fallback:_.none()},{current:sc,next:ac,fallback:_.some(ic)},{current:ac,next:ac,fallback:_.some(sc)}],cc=(e,t,r,n,o=lc)=>F(o,(e=>e.current===r)).bind((r=>r.current(e,t,n,r.next).orThunk((()=>r.fallback.bind((r=>cc(e,t,r,n))))))),hc=(e,t,r,n,o,i)=>cc(e,t,n,o).bind((t=>i(t.item)?_.none():r(t.item)?_.some(t.item):hc(e,t.item,r,t.mode,o,i))),dc=e=>t=>0===e.property().children(t).length,uc=(e,t,r,n)=>hc(e,t,r,sc,{sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?_.some(e[e.length-1]):_.none()},n),pc=(e,t,r,n)=>hc(e,t,r,sc,{sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?_.some(e[0]):_.none()},n),fc=Ho(),mc=(e,t)=>((e,t,r)=>uc(e,t,dc(e),r))(fc,e,t),gc=(e,t)=>((e,t,r)=>pc(e,t,dc(e),r))(fc,e,t),vc=Cs([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),yc=e=>dt(e,"tr"),bc={...vc,verify:(e,t,r,n,o,i,s)=>dt(n,"td,th",s).bind((r=>dt(t,"td,th",s).map((t=>we(r,t)?we(n,r)&&ho(r)===o?i(t):vc.none("in same cell"):qo(yc,[r,t]).fold((()=>((e,t,r)=>{const n=e.getRect(t),o=e.getRect(r);return o.right>n.left&&o.left<n.right})(e,t,r)?vc.success():i(t)),(e=>i(t))))))).getOr(vc.none("default")),cata:(e,t,r,n,o)=>e.fold(t,r,n,o)},wc=ae("br"),xc=(e,t,r)=>t(e,r).bind((e=>oe(e)&&0===ao(e).trim().length?xc(e,t,r):_.some(e))),_c=(e,t,r,n)=>((e,t)=>Me(e,t).filter(wc).orThunk((()=>Me(e,t-1).filter(wc))))(t,r).bind((t=>n.traverse(t).fold((()=>xc(t,n.gather,e).map(n.relative)),(e=>(e=>Se(e).bind((t=>{const r=Te(t);return((e,t)=>B(e,v(we,t)))(r,e).map((n=>((e,t,r,n)=>({parent:e,children:t,element:r,index:n}))(t,r,e,n)))})))(e).map((e=>Hl.on(e.parent,e.index))))))),Ec=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),Cc=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),Sc=(e,t,r)=>({left:e.left+t,top:e.top+r,right:e.right+t,bottom:e.bottom+r}),kc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),Ac=(e,t)=>_.some(e.getRect(t)),Pc=(e,t,r)=>ne(t)?Ac(e,t).map(kc):oe(t)?((e,t,r)=>r>=0&&r<ho(t)?e.getRangedRect(t,r,t,r+1):r>0?e.getRangedRect(t,r-1,t,r):_.none())(e,t,r).map(kc):_.none(),Tc=(e,t)=>ne(t)?Ac(e,t).map(kc):oe(t)?e.getRangedRect(t,0,t,ho(t)).map(kc):_.none(),Mc=Cs([{none:[]},{retry:["caret"]}]),Oc=(e,t,r)=>{return(n=t,o=Hs,st(((e,t)=>t(e)),at,n,o,undefined)).fold(w,(t=>Tc(e,t).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(r,e)))));var n,o},Dc={point:e=>e.bottom,adjuster:(e,t,r,n,o)=>{const i=Ec(o,5);return Math.abs(r.bottom-n.bottom)<1||r.top>o.bottom?Mc.retry(i):r.top===o.bottom?Mc.retry(Ec(o,1)):Oc(e,t,o)?Mc.retry(Sc(i,5,0)):Mc.none()},move:Ec,gather:gc},Ic=(e,t,r,n,o)=>0===o?_.some(n):((e,t,r)=>e.elementFromPoint(t,r).filter((e=>"table"===Q(e))).isSome())(e,n.left,t.point(n))?((e,t,r,n,o)=>Ic(e,t,r,t.move(n,5),o))(e,t,r,n,o-1):e.situsFromPoint(n.left,t.point(n)).bind((i=>i.start.fold(_.none,(i=>Tc(e,i).bind((s=>t.adjuster(e,i,s,r,n).fold(_.none,(n=>Ic(e,t,r,n,o-1))))).orThunk((()=>_.some(n)))),_.none))),Rc=(e,t,r)=>{const n=e.move(r,5),o=Ic(t,e,r,n,100).getOr(n);return((e,t,r)=>e.point(t)>r.getInnerHeight()?_.some(e.point(t)-r.getInnerHeight()):e.point(t)<0?_.some(-e.point(t)):_.none())(e,o,t).fold((()=>t.situsFromPoint(o.left,e.point(o))),(r=>(t.scrollBy(0,r),t.situsFromPoint(o.left,e.point(o)-r))))},Fc={tryUp:v(Rc,{point:e=>e.top,adjuster:(e,t,r,n,o)=>{const i=Cc(o,5);return Math.abs(r.top-n.top)<1||r.bottom<o.top?Mc.retry(i):r.bottom===o.top?Mc.retry(Cc(o,1)):Oc(e,t,o)?Mc.retry(Sc(i,5,0)):Mc.none()},move:Cc,gather:mc}),tryDown:v(Rc,Dc),getJumpSize:f(5)},Bc=(e,t,r)=>e.getSelection().bind((n=>((e,t,r,n)=>{const o=wc(t)?((e,t,r)=>r.traverse(t).orThunk((()=>xc(t,r.gather,e))).map(r.relative))(e,t,n):_c(e,t,r,n);return o.map((e=>({start:e,finish:e})))})(t,n.finish,n.foffset,r).fold((()=>_.some(ci(n.finish,n.foffset))),(o=>{const i=e.fromSitus(o);return s=bc.verify(e,n.finish,n.foffset,i.finish,i.foffset,r.failure,t),bc.cata(s,(e=>_.none()),(()=>_.none()),(e=>_.some(ci(e,0))),(e=>_.some(ci(e,ho(e)))));var s})))),Nc=(e,t,r,n,o,i)=>0===i?_.none():zc(e,t,r,n,o).bind((s=>{const a=e.fromSitus(s),l=bc.verify(e,r,n,a.finish,a.foffset,o.failure,t);return bc.cata(l,(()=>_.none()),(()=>_.some(s)),(s=>we(r,s)&&0===n?Lc(e,r,n,Cc,o):Nc(e,t,s,0,o,i-1)),(s=>we(r,s)&&n===ho(s)?Lc(e,r,n,Ec,o):Nc(e,t,s,ho(s),o,i-1)))})),Lc=(e,t,r,n,o)=>Pc(e,t,r).bind((t=>Vc(e,o,n(t,Fc.getJumpSize())))),Vc=(e,t,r)=>{const n=Er().browser;return n.isChromium()||n.isSafari()||n.isFirefox()?t.retry(e,r):_.none()},zc=(e,t,r,n,o)=>Pc(e,r,n).bind((t=>Vc(e,o,t))),Hc=(e,t,r,n,o)=>dt(n,"td,th",t).bind((n=>dt(n,"table",t).bind((i=>((e,t)=>at(e,(e=>Se(e).exists((e=>we(e,t)))),void 0).isSome())(o,i)?((e,t,r)=>Bc(e,t,r).bind((n=>Nc(e,t,n.element,n.offset,r,20).map(e.fromSitus))))(e,t,r).bind((e=>dt(e.finish,"td,th",t).map((t=>({start:n,finish:t,range:e}))))):_.none())))),jc=(e,t,r,n,o,i)=>i(n,t).orThunk((()=>Hc(e,t,r,n,o).map((e=>{const t=e.range;return jl(_.some(rc(t.start,t.soffset,t.finish,t.foffset)),!0)})))),Gc=(e,t)=>dt(e,"tr",t).bind((e=>dt(e,"table",t).bind((r=>{const n=it(r,"tr");return we(e,n[0])?((e,t,r)=>uc(fc,e,(e=>mo(e).isSome()),r))(r,0,t).map((e=>{const t=ho(e);return jl(_.some(rc(e,t,e,t)),!0)})):_.none()})))),Uc=(e,t)=>dt(e,"tr",t).bind((e=>dt(e,"table",t).bind((r=>{const n=it(r,"tr");return we(e,n[n.length-1])?((e,t,r)=>pc(fc,e,(e=>fo(e).isSome()),r))(r,0,t).map((e=>jl(_.some(rc(e,0,e,0)),!0))):_.none()})))),qc=(e,t,r,n,o,i,s)=>Hc(e,r,n,o,i).bind((e=>nc(t,r,e.start,e.finish,s))),Wc=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},$c=()=>{const e=(e=>{const t=Wc(_.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(_.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(_.some(e))}}})(p);return{...e,on:t=>e.get().each(t)}},Zc=(e,t)=>dt(e,"td,th",t),Kc={traverse:Pe,gather:gc,relative:Hl.before,retry:Fc.tryDown,failure:bc.failedDown},Yc={traverse:Ae,gather:mc,relative:Hl.before,retry:Fc.tryUp,failure:bc.failedUp},Xc=e=>t=>t===e,Jc=Xc(38),Qc=Xc(40),eh=e=>e>=37&&e<=40,th={isBackward:Xc(37),isForward:Xc(39)},rh={isBackward:Xc(39),isForward:Xc(37)},nh=Cs([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),oh={domRange:nh.domRange,relative:nh.relative,exact:nh.exact,exactFromRange:e=>nh.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>ge.fromDom(e.startContainer),relative:(e,t)=>Hl.getStart(e),exact:(e,t,r,n)=>e}))(e);return ge.fromDom(Ce(t).dom.defaultView)},range:Ql},ih=document.caretPositionFromPoint?(e,t,r)=>{var n,o;return _.from(null===(o=(n=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(n,t,r)).bind((t=>{if(null===t.offsetNode)return _.none();const r=e.dom.createRange();return r.setStart(t.offsetNode,t.offset),r.collapse(),_.some(r)}))}:document.caretRangeFromPoint?(e,t,r)=>{var n,o;return _.from(null===(o=(n=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(n,t,r))}:_.none,sh=(e,t)=>{const r=Q(e);return"input"===r?Hl.after(e):k(["br","img"],r)?0===t?Hl.before(e):Hl.after(e):Hl.on(e,t)},ah=e=>_.from(e.getSelection()),lh=(e,t)=>{ah(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},ch=(e,t,r,n,o)=>{const i=$l(e,t,r,n,o);lh(e,i)},hh=(e,t)=>Xl(e,t).match({ltr:(t,r,n,o)=>{ch(e,t,r,n,o)},rtl:(t,r,n,o)=>{ah(e).each((i=>{if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,r,n.dom,o);else if(i.extend)try{((e,t,r,n,o,i)=>{t.collapse(r.dom,n),t.extend(o.dom,i)})(0,i,t,r,n,o)}catch(i){ch(e,n,o,t,r)}else ch(e,n,o,t,r)}))}}),dh=(e,t,r,n,o)=>{const i=((e,t,r,n)=>{const o=sh(e,t),i=sh(r,n);return oh.relative(o,i)})(t,r,n,o);hh(e,i)},uh=(e,t,r)=>{const n=((e,t)=>{const r=e.fold(Hl.before,sh,Hl.after),n=t.fold(Hl.before,sh,Hl.after);return oh.relative(r,n)})(t,r);hh(e,n)},ph=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),r=e.getRangeAt(e.rangeCount-1);return _.some(Ql(ge.fromDom(t.startContainer),t.startOffset,ge.fromDom(r.endContainer),r.endOffset))}return _.none()},fh=e=>{if(null===e.anchorNode||null===e.focusNode)return ph(e);{const t=ge.fromDom(e.anchorNode),r=ge.fromDom(e.focusNode);return((e,t,r,n)=>{const o=((e,t,r,n)=>{const o=Ee(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(r.dom,n),o})(e,t,r,n),i=we(e,r)&&t===n;return o.collapsed&&!i})(t,e.anchorOffset,r,e.focusOffset)?_.some(Ql(t,e.anchorOffset,r,e.focusOffset)):ph(e)}},mh=(e,t,r=!0)=>{const n=(r?Ul:Gl)(e,t);lh(e,n)},gh=e=>(e=>ah(e).filter((e=>e.rangeCount>0)).bind(fh))(e).map((e=>oh.exact(e.start,e.soffset,e.finish,e.foffset))),vh=e=>({elementFromPoint:(t,r)=>ge.fromPoint(ge.fromDom(e.document),t,r),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,r,n,o)=>{const i=oh.exact(t,r,n,o);return((e,t)=>(e=>{const t=e.getClientRects(),r=t.length>0?t[0]:e.getBoundingClientRect();return r.width>0||r.height>0?_.some(r).map(Zl):_.none()})(Jl(e,t)))(e,i)},getSelection:()=>gh(e).map((t=>tc(e,t))),fromSitus:t=>{const r=oh.relative(t.start,t.finish);return tc(e,r)},situsFromPoint:(t,r)=>((e,t,r)=>((e,t,r)=>{const n=ge.fromDom(e.document);return ih(n,t,r).map((e=>Ql(ge.fromDom(e.startContainer),e.startOffset,ge.fromDom(e.endContainer),e.endOffset)))})(e,t,r))(e,t,r).map((e=>ec(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{ah(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{gh(e).each((r=>r.fold((e=>e.collapse(t)),((r,n)=>{const o=t?r:n;uh(e,o,o)}),((r,n,o,i)=>{const s=t?r:o,a=t?n:i;dh(e,s,a,s,a)}))))},setSelection:t=>{dh(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,r)=>{uh(e,t,r)},selectNode:t=>{mh(e,t,!1)},selectContents:t=>{mh(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{const t=void 0!==e?e.dom:document,r=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return hn(r,n)})(ge.fromDom(e.document)).top,scrollBy:(t,r)=>{((e,t,r)=>{const n=(void 0!==r?r.dom:document).defaultView;n&&n.scrollBy(e,t)})(t,r,ge.fromDom(e.document))}}),yh=(e,t)=>({rows:e,cols:t}),bh=e=>void 0!==e.dom.classList,wh=(e,t)=>((e,t,r)=>{const n=((e,t)=>{const r=de(e,t);return void 0===r||""===r?[]:r.split(" ")})(e,t).concat([r]);return ce(e,t,n.join(" ")),!0})(e,"class",t),xh=(e,t)=>{bh(e)?e.dom.classList.add(t):wh(e,t)},_h=(e,t)=>bh(e)&&e.dom.classList.contains(t),Eh=()=>({tag:"none"}),Ch=e=>({tag:"multiple",elements:e}),Sh=e=>({tag:"single",element:e}),kh=e=>{const t=ge.fromDom((e=>{if(Xe()&&h(e.target)){const t=ge.fromDom(e.target);if(ne(t)&&h(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return j(t)}}return _.from(e.target)})(e).getOr(e.target)),r=()=>e.stopPropagation(),n=()=>e.preventDefault(),o=(i=n,s=r,(...e)=>i(s.apply(null,e)));var i,s;return((e,t,r,n,o,i,s)=>({target:e,x:t,y:r,stop:n,prevent:o,kill:i,raw:s}))(t,e.clientX,e.clientY,r,n,o,e)},Ah=(e,t,r,n)=>{e.dom.removeEventListener(t,r,n)},Ph=x,Th=(e,t,r)=>((e,t,r,n)=>((e,t,r,n,o)=>{const i=((e,t)=>r=>{e(r)&&t(kh(r))})(r,n);return e.dom.addEventListener(t,i,o),{unbind:v(Ah,e,t,i,o)}})(e,t,r,n,!1))(e,t,Ph,r),Mh=kh,Oh=e=>!_h(ge.fromDom(e.target),"ephox-snooker-resizer-bar"),Dh=(e,t)=>{const r=(o=ri.selectedSelector,{get:()=>Xo(ge.fromDom(e.getBody()),o).fold((()=>si(To(e),Ao(e)).fold(Eh,Sh)),Ch)}),n=((e,t,r)=>{const n=t=>{pe(t,e.selected),pe(t,e.firstSelected),pe(t,e.lastSelected)},o=t=>{ce(t,e.selected,"1")},i=e=>{s(e),r()},s=t=>{const r=it(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);M(r,n)};return{clearBeforeUpdate:s,clear:i,selectRange:(r,n,s,a)=>{i(r),M(n,o),ce(s,e.firstSelected,"1"),ce(a,e.lastSelected,"1"),t(n,s,a)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}})(ri,((t,r,n)=>{Ht(r).each((o=>{const i=Ha(e),s=Co(p,ge.fromDom(e.getDoc()),i),a=((e,t,r)=>{const n=qr(e);return Ji(n,t).map((e=>{const t=Wi(n,r,!1),{rows:o}=Nr(t),i=((e,t)=>{const r=e.slice(0,t[t.length-1].row+1),n=$i(r);return L(n,(e=>{const r=e.cells.slice(0,t[t.length-1].column+1);return T(r,(e=>e.element))}))})(o,e),s=((e,t)=>{const r=e.slice(t[0].row+t[0].rowspan-1,e.length),n=$i(r);return L(n,(e=>{const r=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return T(r,(e=>e.element))}))})(o,e);return{upOrLeftCells:i,downOrRightCells:s}}))})(o,{selection:ai(e)},s);((e,t,r,n,o)=>{e.dispatch("TableSelectionChange",{cells:t,start:r,finish:n,otherCells:o})})(e,t,r,n,a)}))}),(()=>(e=>{e.dispatch("TableSelectionClear")})(e)));var o;return e.on("init",(r=>{const o=e.getWin(),i=ko(e),s=Ao(e),a=((e,t,r,n)=>{const o=((e,t,r,n)=>{const o=$c(),i=o.clear,s=i=>{o.on((o=>{n.clearBeforeUpdate(t),Zc(i.target,r).each((s=>{$o(o,s,r).each((r=>{const o=r.boxes.getOr([]);if(1===o.length){const r=o[0],s="false"===zi(r),a=ut(Li(i.target),r,we);s&&a&&(n.selectRange(t,o,r,r),e.selectContents(r))}else o.length>1&&(n.selectRange(t,o,r.start,r.finish),e.selectContents(s))}))}))}))};return{clearstate:i,mousedown:e=>{n.clear(t),Zc(e.target,r).each(o.set)},mouseover:e=>{s(e)},mouseup:e=>{s(e),i()}}})(vh(e),t,r,n);return{clearstate:o.clearstate,mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}})(o,i,s,n),l=((e,t,r,n)=>{const o=vh(e),i=()=>(n.clear(t),_.none());return{keydown:(e,s,a,l,c,h)=>{const d=e.raw,u=d.which,p=!0===d.shiftKey,f=Zo(t,n.selectedSelector).fold((()=>(eh(u)&&!p&&n.clearBeforeUpdate(t),Qc(u)&&p?v(qc,o,t,r,Kc,l,s,n.selectRange):Jc(u)&&p?v(qc,o,t,r,Yc,l,s,n.selectRange):Qc(u)?v(jc,o,r,Kc,l,s,Uc):Jc(u)?v(jc,o,r,Yc,l,s,Gc):_.none)),(e=>{const r=r=>()=>{const i=U(r,(r=>((e,t,r,n,o)=>Yo(n,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>(o.clearBeforeUpdate(r),o.selectRange(r,e.boxes,e.start,e.finish),e.boxes))))(r.rows,r.cols,t,e,n)));return i.fold((()=>Ko(t,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>{const r=Qc(u)||h.isForward(u)?Hl.after:Hl.before;return o.setRelativeSelection(Hl.on(e.first,0),r(e.table)),n.clear(t),jl(_.none(),!0)}))),(e=>_.some(jl(_.none(),!0))))};return Qc(u)&&p?r([yh(1,0)]):Jc(u)&&p?r([yh(-1,0)]):h.isBackward(u)&&p?r([yh(0,-1),yh(-1,0)]):h.isForward(u)&&p?r([yh(0,1),yh(1,0)]):eh(u)&&!p?i:_.none}));return f()},keyup:(e,o,i,s,a)=>Zo(t,n.selectedSelector).fold((()=>{const l=e.raw,c=l.which;return!0===l.shiftKey&&eh(c)?((e,t,r,n,o,i,s)=>we(r,o)&&n===i?_.none():dt(r,"td,th",t).bind((r=>dt(o,"td,th",t).bind((n=>nc(e,t,r,n,s))))))(t,r,o,i,s,a,n.selectRange):_.none()}),_.none)}})(o,i,s,n),c=((e,t,r,n)=>{const o=vh(e);return(e,i)=>{n.clearBeforeUpdate(t),$o(e,i,r).each((e=>{const r=e.boxes.getOr([]);n.selectRange(t,r,e.start,e.finish),o.selectContents(i),o.collapseSelection()}))}})(o,i,s,n);e.on("TableSelectorChange",(e=>c(e.start,e.finish)));const h=(t,r)=>{(e=>!0===e.raw.shiftKey)(t)&&(r.kill&&t.kill(),r.selection.each((t=>{const r=oh.relative(t.start,t.finish),n=Jl(o,r);e.selection.setRng(n)})))},d=e=>0===e.button,u=(()=>{const e=Wc(ge.fromDom(i)),t=Wc(0);return{touchEnd:r=>{const n=ge.fromDom(r.target);if(ae("td")(n)||ae("th")(n)){const o=e.get(),i=t.get();we(o,n)&&r.timeStamp-i<300&&(r.preventDefault(),c(n,n))}e.set(n),t.set(r.timeStamp)}}})();e.on("dragstart",(e=>{a.clearstate()})),e.on("mousedown",(e=>{d(e)&&Oh(e)&&a.mousedown(Mh(e))})),e.on("mouseover",(e=>{var t;void 0!==(t=e).buttons&&0==(1&t.buttons)||!Oh(e)||a.mouseover(Mh(e))})),e.on("mouseup",(e=>{d(e)&&Oh(e)&&a.mouseup(Mh(e))})),e.on("touchend",u.touchEnd),e.on("keyup",(t=>{const r=Mh(t);if(r.raw.shiftKey&&eh(r.raw.which)){const t=e.selection.getRng(),n=ge.fromDom(t.startContainer),o=ge.fromDom(t.endContainer);l.keyup(r,n,t.startOffset,o,t.endOffset).each((e=>{h(r,e)}))}})),e.on("keydown",(r=>{const n=Mh(r);t.hide();const o=e.selection.getRng(),i=ge.fromDom(o.startContainer),s=ge.fromDom(o.endContainer),a=nn(th,rh)(ge.fromDom(e.selection.getStart()));l.keydown(n,i,o.startOffset,s,o.endOffset,a).each((e=>{h(n,e)})),t.show()})),e.on("NodeChange",(()=>{const t=e.selection,r=ge.fromDom(t.getStart()),o=ge.fromDom(t.getEnd());qo(Ht,[r,o]).fold((()=>n.clear(i)),p)}))})),e.on("PreInit",(()=>{e.serializer.addTempAttr(ri.firstSelected),e.serializer.addTempAttr(ri.lastSelected)})),{getSelectedCells:()=>((e,t,r,n)=>{switch(e.tag){case"none":return t();case"single":return(e=>[e.dom])(e.element);case"multiple":return(e=>T(e,(e=>e.dom)))(e.elements)}})(r.get(),f([])),clearSelectedCells:e=>n.clear(ge.fromDom(e))}},Ih=e=>{let t=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=D(t,(t=>t!==e))},trigger:(...r)=>{const n={};M(e,((e,t)=>{n[e]=r[t]})),M(t,(e=>{e(n)}))}}},Rh=e=>({registry:Z(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:Z(e,(e=>e.trigger))}),Fh=e=>e.slice(0).sort(),Bh=(e,t)=>{const r=D(t,(t=>!k(e,t)));r.length>0&&(e=>{throw new Error("Unsupported keys for object: "+Fh(e).join(", "))})(r)},Nh=e=>((e,t)=>((e,t,r)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return((e,t)=>{if(!s(t))throw new Error("The required fields must be an array. Was: "+t+".");M(t,(t=>{if(!o(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))})("required",t),(e=>{const t=Fh(e);F(t,((e,r)=>r<t.length-1&&e===t[r+1])).each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))})(t),n=>{const o=q(n);V(t,(e=>k(o,e)))||((e,t)=>{throw new Error("All required keys ("+Fh(e).join(", ")+") were not specified. Specified keys were: "+Fh(t).join(", ")+".")})(t,o),e(t,o);const i=D(t,(e=>!r.validate(n[e],e)));return i.length>0&&((e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+Fh(e).join(", ")+") were not.")})(i,r.label),n}})(e,t,{validate:d,label:"function"}))(Bh,e),Lh=Nh(["compare","extract","mutate","sink"]),Vh=Nh(["element","start","stop","destroy"]),zh=Nh(["forceDrop","drop","move","delayDrop"]),Hh=()=>{const e=(()=>{const e=Rh({move:Ih(["info"])});return{onEvent:p,reset:p,events:e.registry}})(),t=(()=>{let e=_.none();const t=Rh({move:Ih(["info"])});return{onEvent:(r,n)=>{n.extract(r).each((r=>{const o=((t,r)=>{const n=e.map((e=>t.compare(e,r)));return e=_.some(r),n})(n,r);o.each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=_.none()},events:t.registry}})();let r=e;return{on:()=>{r.reset(),r=t},off:()=>{r.reset(),r=e},isOn:()=>r===t,onEvent:(e,t)=>{r.onEvent(e,t)},events:t.events}},jh=e=>{const t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},Gh=jh("ephox-dragster").resolve;var Uh=Lh({compare:(e,t)=>hn(t.left-e.left,t.top-e.top),extract:e=>_.some(hn(e.x,e.y)),sink:(e,t)=>{const r=(e=>{const t={layerClass:Gh("blocker"),...e},r=ge.fromTag("div");return ce(r,"role","presentation"),Ct(r,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),xh(r,Gh("blocker")),xh(r,t.layerClass),{element:f(r),destroy:()=>{Ve(r)}}})(t),n=Th(r.element(),"mousedown",e.forceDrop),o=Th(r.element(),"mouseup",e.drop),i=Th(r.element(),"mousemove",e.move),s=Th(r.element(),"mouseout",e.delayDrop);return Vh({element:r.element,start:e=>{Re(e,r.element())},stop:()=>{Ve(r.element())},destroy:()=>{r.destroy(),o.unbind(),i.unbind(),s.unbind(),n.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const qh=jh("ephox-snooker").resolve,Wh=qh("resizer-bar"),$h=qh("resizer-rows"),Zh=qh("resizer-cols"),Kh=e=>{const t=it(e.parent(),"."+Wh);M(t,Ve)},Yh=(e,t,r)=>{const n=e.origin();M(t,(t=>{t.each((t=>{const o=r(n,t);xh(o,Wh),Re(e.parent(),o)}))}))},Xh=(e,t,r,n,o)=>{const i=un(r),s=t.isResizable,a=n.length>0?Cn.positions(n,r):[],l=a.length>0?((e,t)=>L(e.all,((e,r)=>t(e.element)?[r]:[])))(e,s):[];((e,t,r,n)=>{Yh(e,t,((e,t)=>{const o=((e,t,r,n,o)=>{const i=ge.fromTag("div");return Ct(i,{position:"absolute",left:t+"px",top:r-3.5+"px",height:"7px",width:n+"px"}),he(i,{"data-row":e,role:"presentation"}),i})(t.row,r.left-e.left,t.y-e.top,n);return xh(o,$h),o}))})(t,D(a,((e,t)=>A(l,(e=>t===e)))),i,Pr(r));const c=o.length>0?kn.positions(o,r):[],h=c.length>0?((e,t)=>{const r=[];return P(e.grid.columns,(n=>{Qr(e,n).map((e=>e.element)).forall(t)&&r.push(n)})),D(r,(r=>{const n=Kr(e,(e=>e.column===r));return V(n,(e=>t(e.element)))}))})(e,s):[];((e,t,r,n)=>{Yh(e,t,((e,t)=>{const o=((e,t,r,n,o)=>{const i=ge.fromTag("div");return Ct(i,{position:"absolute",left:t-3.5+"px",top:r+"px",height:o+"px",width:"7px"}),he(i,{"data-column":e,role:"presentation"}),i})(t.col,t.x-e.left,r.top-e.top,0,n);return xh(o,Zh),o}))})(t,D(c,((e,t)=>A(h,(e=>t===e)))),i,ln(r))},Jh=(e,t)=>{if(Kh(e),e.isResizable(t)){const r=qr(t),n=rn(r),o=en(r);Xh(r,e,t,n,o)}},Qh=(e,t)=>{const r=it(e.parent(),"."+Wh);M(r,t)},ed=e=>{Qh(e,(e=>{Et(e,"display","none")}))},td=e=>{Qh(e,(e=>{Et(e,"display","block")}))},rd=qh("resizer-bar-dragging"),nd=e=>{const t=(()=>{const e=Rh({drag:Ih(["xDelta","yDelta","target"])});let t=_.none();const r=(()=>{const e=Rh({drag:Ih(["xDelta","yDelta"])});return{mutate:(t,r)=>{e.trigger.drag(t,r)},events:e.registry}})();return r.events.drag.bind((r=>{t.each((t=>{e.trigger.drag(r.xDelta,r.yDelta,t)}))})),{assign:e=>{t=_.some(e)},get:()=>t,mutate:r.mutate,events:e.registry}})(),r=((e,t={})=>{var r;return((e,t,r)=>{let n=!1;const o=Rh({start:Ih([]),stop:Ih([])}),i=Hh(),s=()=>{h.stop(),i.isOn()&&(i.off(),o.trigger.stop())},l=((e,t)=>{let r=null;const n=()=>{a(r)||(clearTimeout(r),r=null)};return{cancel:n,throttle:(...t)=>{n(),r=setTimeout((()=>{r=null,e.apply(null,t)}),200)}}})(s);i.events.move.bind((r=>{t.mutate(e,r.info)}));const c=e=>(...t)=>{n&&e.apply(null,t)},h=t.sink(zh({forceDrop:s,drop:c(s),move:c((e=>{l.cancel(),i.onEvent(e,t)})),delayDrop:c(l.throttle)}),r);return{element:h.element,go:e=>{h.start(e),i.on(),o.trigger.start()},on:()=>{n=!0},off:()=>{n=!1},destroy:()=>{h.destroy()},events:o.registry}})(e,null!==(r=t.mode)&&void 0!==r?r:Uh,t)})(t,{});let n=_.none();const o=(e,t)=>_.from(de(e,t));t.events.drag.bind((e=>{o(e.target,"data-row").each((t=>{const r=It(e.target,"top");Et(e.target,"top",r+e.yDelta+"px")})),o(e.target,"data-column").each((t=>{const r=It(e.target,"left");Et(e.target,"left",r+e.xDelta+"px")}))}));const i=(e,t)=>It(e,t)-Tt(e,"data-initial-"+t,0);r.events.stop.bind((()=>{t.get().each((t=>{n.each((r=>{o(t,"data-row").each((e=>{const n=i(t,"top");pe(t,"data-initial-top"),d.trigger.adjustHeight(r,n,parseInt(e,10))})),o(t,"data-column").each((e=>{const n=i(t,"left");pe(t,"data-initial-left"),d.trigger.adjustWidth(r,n,parseInt(e,10))})),Jh(e,r)}))}))}));const s=(n,o)=>{d.trigger.startAdjust(),t.assign(n),ce(n,"data-initial-"+o,It(n,o)),xh(n,rd),Et(n,"opacity","0.2"),r.go(e.parent())},l=Th(e.parent(),"mousedown",(e=>{var t;t=e.target,_h(t,$h)&&s(e.target,"top"),(e=>_h(e,Zh))(e.target)&&s(e.target,"left")})),c=t=>we(t,e.view()),h=Th(e.view(),"mouseover",(t=>{var r;(r=t.target,dt(r,"table",c).filter(Vi)).fold((()=>{et(t.target)&&Kh(e)}),(t=>{n=_.some(t),Jh(e,t)}))})),d=Rh({adjustHeight:Ih(["table","delta","row"]),adjustWidth:Ih(["table","delta","column"]),startAdjust:Ih([])});return{destroy:()=>{l.unbind(),h.unbind(),r.destroy(),Kh(e)},refresh:t=>{Jh(e,t)},on:r.on,off:r.off,hideBars:v(ed,e),showBars:v(td,e),events:d.registry}},od=(e,t,r)=>{const n=Cn,o=kn,i=nd(e),s=Rh({beforeResize:Ih(["table","type"]),afterResize:Ih(["table","type"]),startDrag:Ih([])});return i.events.adjustHeight.bind((e=>{const t=e.table;s.trigger.beforeResize(t,"row");((e,t,r,n)=>{const o=qr(e),i=((e,t,r)=>Jn(e,t,r,Hn,(e=>e.getOrThunk(Ft))))(o,e,n),s=T(i,((e,n)=>r===n?Math.max(t+e,Ft()):e)),a=As(o,s),l=((e,t)=>T(e.all,((e,r)=>({element:e.element,height:t[r]}))))(o,s);M(l,(e=>{Fn(e.element,e.height)})),M(a,(e=>{Fn(e.element,e.height)}));const c=I(s,((e,t)=>e+t),0);Fn(e,c)})(t,n.delta(e.delta,t),e.row,n),s.trigger.afterResize(t,"row")})),i.events.startAdjust.bind((e=>{s.trigger.startDrag()})),i.events.adjustWidth.bind((e=>{const n=e.table;s.trigger.beforeResize(n,"col");const i=o.delta(e.delta,n),a=r(n);Ts(n,i,e.column,t,a),s.trigger.afterResize(n,"col")})),{on:i.on,off:i.off,refreshBars:i.refresh,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:s.registry}},id=e=>h(e)&&"TABLE"===e.nodeName,sd="bar-",ad=e=>"false"!==de(e,"data-mce-resize"),ld=e=>{const t=$c(),r=$c(),n=$c();let o,i;const s=t=>el(e,t),a=()=>Ua(e)?_i():xi();return e.on("init",(()=>{const o=((e,t)=>e.inline?((e,t,r)=>({parent:f(t),view:f(e),origin:f(hn(0,0)),isResizable:r}))(ge.fromDom(e.getBody()),(()=>{const e=ge.fromTag("div");return Ct(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Re(tt(ge.fromDom(document)),e),e})(),t):((e,t)=>{const r=ie(e)?(e=>ge.fromDom(Ce(e).dom.documentElement))(e):e;return{parent:f(r),view:f(e),origin:f(hn(0,0)),isResizable:t}})(ge.fromDom(e.getDoc()),t))(e,ad);if(n.set(o),(e=>{const t=e.options.get("object_resizing");return k(t.split(","),"table")})(e)&&Ya(e)){const n=a(),i=od(o,n,s);i.on(),i.events.startDrag.bind((r=>{t.set(e.selection.getRng())})),i.events.beforeResize.bind((t=>{const r=t.table.dom;((e,t,r,n,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:r,height:n,origin:o})})(e,r,Mo(r),Oo(r),sd+t.type)})),i.events.afterResize.bind((r=>{const n=r.table,o=n.dom;Po(n),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,r,n,o)=>{e.dispatch("ObjectResized",{target:t,width:r,height:n,origin:o})})(e,o,Mo(o),Oo(o),sd+r.type),e.undoManager.add()})),r.set(i)}})),e.on("ObjectResizeStart",(t=>{const r=t.target;if(id(r)){const n=ge.fromDom(r);M(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+Ga(e)+"-columns")})),!ml(n)&&Za(e)?bl(n):!fl(n)&&$a(e)&&yl(n),gl(n)&&vt(t.origin,sd)&&yl(n),o=t.width,i=Ka(e)?"":((e,t)=>{const r=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return _.from(r).filter(wt)})(e,r).getOr("")}})),e.on("ObjectResized",(t=>{const r=t.target;if(id(r)){const n=ge.fromDom(r),l=t.origin;vt(l,"corner-")&&((t,r,n)=>{const l=yt(r,"e");if(""===i&&yl(t),n!==o&&""!==i){Et(t,"width",i);const r=a(),c=s(t),h=Ua(e)||l?(e=>Ei(e).columns)(t)-1:0;Ts(t,n-o,h,r,c)}else if((e=>/^(\d+(\.\d+)?)%$/.test(e))(i)){const e=parseFloat(i.replace("%",""));Et(t,"width",n*e/o+"%")}(e=>/^(\d+(\.\d+)?)px$/.test(e))(i)&&(e=>{const t=qr(e);Jr(t)||M(Vt(e),(e=>{const t=St(e,"width");Et(e,"width",t),pe(e,"width")}))})(t)})(n,l,t.width),Po(n),Ra(e,n.dom,Fa)}})),e.on("SwitchMode",(()=>{r.on((t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),e.on("remove",(()=>{r.on((e=>{e.destroy()})),n.on((t=>{((e,t)=>{e.inline&&Ve(t.parent())})(e,t)}))})),{refresh:e=>{r.on((t=>t.refreshBars(ge.fromDom(e))))},hide:()=>{r.on((e=>e.hideBars()))},show:()=>{r.on((e=>e.showBars()))}}},cd=e=>{(e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=k(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=k(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0})})(e);const t=ld(e),r=Dh(e,t),n=tl(e,t,r);return Vl(e,n),((e,t)=>{const r=Ao(e),n=t=>si(To(e)).bind((n=>Ht(n,r).map((r=>{const o=ni(ai(e),r,n);return t(r,o)})))).getOr("");$({mceTableRowType:()=>n(t.getTableRowType),mceTableCellType:()=>n(t.getTableCellType),mceTableColType:()=>n(t.getTableColType)},((t,r)=>e.addQueryValueHandler(r,t)))})(e,n),li(e,n),{getSelectedCells:r.getSelectedCells,clearSelectedCells:r.clearSelectedCells}};e.add("dom",(e=>({table:cd(e)})))}()},1768:function(){!function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,r)=>{var n;return!!r(e,t.prototype)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name},r=e=>r=>(e=>{const r=typeof e;return null===e?"null":"object"===r&&Array.isArray(e)?"array":"object"===r&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":r})(r)===e,n=e=>t=>typeof t===e,o=e=>t=>e===t,i=r("string"),s=r("object"),a=r=>((r,n)=>s(r)&&t(r,n,((t,r)=>e(t)===r)))(r,Object),l=r("array"),c=o(null),h=n("boolean"),d=o(void 0),u=e=>null==e,p=e=>!u(e),f=n("function"),m=n("number"),g=(e,t)=>{if(l(e)){for(let r=0,n=e.length;r<n;++r)if(!t(e[r]))return!1;return!0}return!1},v=()=>{},y=(e,t)=>(...r)=>e(t.apply(null,r)),b=e=>()=>e,w=e=>e,x=(e,t)=>e===t;function _(e,...t){return(...r)=>{const n=t.concat(r);return e.apply(null,n)}}const E=e=>t=>!e(t),C=e=>()=>{throw new Error(e)},S=e=>e(),k=b(!1),A=b(!0);var P=tinymce.util.Tools.resolve("tinymce.ThemeManager");class T{constructor(e,t){this.tag=e,this.value=t}static some(e){return new T(!0,e)}static none(){return T.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?T.some(e(this.value)):T.none()}bind(e){return this.tag?e(this.value):T.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:T.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return p(e)?T.some(e):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const M=Array.prototype.slice,O=Array.prototype.indexOf,D=Array.prototype.push,I=(e,t)=>O.call(e,t),R=(e,t)=>{const r=I(e,t);return-1===r?T.none():T.some(r)},F=(e,t)=>I(e,t)>-1,B=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return!0;return!1},N=(e,t)=>{const r=[];for(let n=0;n<e;n++)r.push(t(n));return r},L=(e,t)=>{const r=[];for(let n=0;n<e.length;n+=t){const o=M.call(e,n,n+t);r.push(o)}return r},V=(e,t)=>{const r=e.length,n=new Array(r);for(let o=0;o<r;o++){const r=e[o];n[o]=t(r,o)}return n},z=(e,t)=>{for(let r=0,n=e.length;r<n;r++)t(e[r],r)},H=(e,t)=>{const r=[],n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];(t(i,o)?r:n).push(i)}return{pass:r,fail:n}},j=(e,t)=>{const r=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)&&r.push(o)}return r},G=(e,t,r)=>(((e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)})(e,((e,n)=>{r=t(r,e,n)})),r),U=(e,t,r)=>(z(e,((e,n)=>{r=t(r,e,n)})),r),q=(e,t)=>((e,t,r)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return T.some(o);if(r(o,n))break}return T.none()})(e,t,k),W=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return T.some(r);return T.none()},$=e=>{const t=[];for(let r=0,n=e.length;r<n;++r){if(!l(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);D.apply(t,e[r])}return t},Z=(e,t)=>$(V(e,t)),K=(e,t)=>{for(let r=0,n=e.length;r<n;++r)if(!0!==t(e[r],r))return!1;return!0},Y=e=>{const t=M.call(e,0);return t.reverse(),t},X=(e,t)=>j(e,(e=>!F(t,e))),J=(e,t)=>{const r={};for(let n=0,o=e.length;n<o;n++){const o=e[n];r[String(o)]=t(o,n)}return r},Q=e=>[e],ee=(e,t)=>{const r=M.call(e,0);return r.sort(t),r},te=(e,t)=>t>=0&&t<e.length?T.some(e[t]):T.none(),re=e=>te(e,0),ne=e=>te(e,e.length-1),oe=f(Array.from)?Array.from:e=>M.call(e),ie=(e,t)=>{for(let r=0;r<e.length;r++){const n=t(e[r],r);if(n.isSome())return n}return T.none()},se=Object.keys,ae=Object.hasOwnProperty,le=(e,t)=>{const r=se(e);for(let n=0,o=r.length;n<o;n++){const o=r[n];t(e[o],o)}},ce=(e,t)=>he(e,((e,r)=>({k:r,v:t(e,r)}))),he=(e,t)=>{const r={};return le(e,((e,n)=>{const o=t(e,n);r[o.k]=o.v})),r},de=e=>(t,r)=>{e[r]=t},ue=(e,t,r,n)=>{le(e,((e,o)=>{(t(e,o)?r:n)(e,o)}))},pe=(e,t)=>{const r={};return ue(e,t,de(r),v),r},fe=(e,t)=>{const r=[];return le(e,((e,n)=>{r.push(t(e,n))})),r},me=(e,t)=>{const r=se(e);for(let n=0,o=r.length;n<o;n++){const o=r[n],i=e[o];if(t(i,o,e))return T.some(i)}return T.none()},ge=e=>fe(e,w),ve=(e,t)=>ye(e,t)?T.from(e[t]):T.none(),ye=(e,t)=>ae.call(e,t),be=(e,t)=>ye(e,t)&&void 0!==e[t]&&null!==e[t],we=(e,t,r=x)=>e.exists((e=>r(e,t))),xe=e=>{const t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},_e=(e,t,r)=>e.isSome()&&t.isSome()?T.some(r(e.getOrDie(),t.getOrDie())):T.none(),Ee=(e,t)=>e?T.some(t):T.none(),Ce=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,Se=(e,t,r=0,n)=>{const o=e.indexOf(t,r);return-1!==o&&(!!d(n)||o+t.length<=n)},ke=(e,t)=>Ce(e,t,e.length-t.length),Ae=(Er=/^\s+|\s+$/g,e=>e.replace(Er,"")),Pe=e=>e.length>0,Te=e=>void 0!==e.style&&f(e.style.getPropertyValue),Me=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Oe=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Me(r.childNodes[0])},De=(e,t)=>{const r=(t||document).createElement(e);return Me(r)},Ie=(e,t)=>{const r=(t||document).createTextNode(e);return Me(r)},Re=Me,Fe="undefined"!=typeof window?window:Function("return this;")(),Be=(e,t)=>((e,t)=>{let r=null!=t?t:Fe;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r})(e.split("."),t),Ne=Object.getPrototypeOf,Le=e=>{const t=Be("ownerDocument.defaultView",e);return s(e)&&((e=>((e,t)=>{const r=((e,t)=>Be(e,t))(e,t);if(null==r)throw new Error(e+" not available on this browser");return r})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ne(e).constructor.name))},Ve=e=>e.dom.nodeName.toLowerCase(),ze=e=>t=>(e=>e.dom.nodeType)(t)===e,He=ze(1),je=ze(3),Ge=ze(9),Ue=ze(11),qe=e=>t=>He(t)&&Ve(t)===e,We=(e,t)=>{const r=e.dom;if(1!==r.nodeType)return!1;{const e=r;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},$e=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Ze=(e,t)=>e.dom===t.dom,Ke=(e,t)=>{const r=e.dom,n=t.dom;return r!==n&&r.contains(n)},Ye=e=>Re(e.dom.ownerDocument),Xe=e=>Ge(e)?e:Ye(e),Je=e=>Re(Xe(e).dom.documentElement),Qe=e=>Re(Xe(e).dom.defaultView),et=e=>T.from(e.dom.parentNode).map(Re),tt=e=>T.from(e.dom.parentElement).map(Re),rt=e=>T.from(e.dom.offsetParent).map(Re),nt=e=>V(e.dom.childNodes,Re),ot=(e,t)=>{const r=e.dom.childNodes;return T.from(r[t]).map(Re)},it=(e,t)=>({element:e,offset:t}),st=(e,t)=>{const r=nt(e);return r.length>0&&t<r.length?it(r[t],0):it(e,t)},at=e=>Ue(e)&&p(e.dom.host),lt=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),ct=b(lt),ht=lt?e=>Re(e.dom.getRootNode()):Xe,dt=e=>at(e)?e:Re(Xe(e).dom.body),ut=e=>{const t=ht(e);return at(t)?T.some(t):T.none()},pt=e=>Re(e.dom.host),ft=e=>{const t=je(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const r=t.ownerDocument;return ut(Re(t)).fold((()=>r.body.contains(t)),(n=ft,o=pt,e=>n(o(e))));var n,o},mt=()=>gt(Re(document)),gt=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Re(t)},vt=(e,t,r)=>{if(!(i(r)||h(r)||m(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},yt=(e,t,r)=>{vt(e.dom,t,r)},bt=(e,t)=>{const r=e.dom;le(t,((e,t)=>{vt(r,t,e)}))},wt=(e,t)=>{const r=e.dom.getAttribute(t);return null===r?void 0:r},xt=(e,t)=>T.from(wt(e,t)),_t=(e,t)=>{const r=e.dom;return!(!r||!r.hasAttribute)&&r.hasAttribute(t)},Et=(e,t)=>{e.dom.removeAttribute(t)},Ct=(e,t,r)=>{if(!i(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Te(e)&&e.style.setProperty(t,r)},St=(e,t)=>{Te(e)&&e.style.removeProperty(t)},kt=(e,t,r)=>{const n=e.dom;Ct(n,t,r)},At=(e,t)=>{const r=e.dom;le(t,((e,t)=>{Ct(r,t,e)}))},Pt=(e,t)=>{const r=e.dom;le(t,((e,t)=>{e.fold((()=>{St(r,t)}),(e=>{Ct(r,t,e)}))}))},Tt=(e,t)=>{const r=e.dom,n=window.getComputedStyle(r).getPropertyValue(t);return""!==n||ft(e)?n:Mt(r,t)},Mt=(e,t)=>Te(e)?e.style.getPropertyValue(t):"",Ot=(e,t)=>{const r=e.dom,n=Mt(r,t);return T.from(n).filter((e=>e.length>0))},Dt=e=>{const t={},r=e.dom;if(Te(r))for(let e=0;e<r.style.length;e++){const n=r.style.item(e);t[n]=r.style[n]}return t},It=(e,t,r)=>{const n=De(e);return kt(n,t,r),Ot(n,t).isSome()},Rt=(e,t)=>{const r=e.dom;St(r,t),we(xt(e,"style").map(Ae),"")&&Et(e,"style")},Ft=e=>e.dom.offsetWidth,Bt=(e,t)=>{const r=r=>{const n=t(r);if(n<=0||null===n){const t=Tt(r,e);return parseFloat(t)||0}return n},n=(e,t)=>U(t,((t,r)=>{const n=Tt(e,r),o=void 0===n?0:parseInt(n,10);return isNaN(o)?t:t+o}),0);return{set:(t,r)=>{if(!m(r)&&!r.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+r);const n=t.dom;Te(n)&&(n.style[e]=r+"px")},get:r,getOuter:r,aggregate:n,max:(e,t,r)=>{const o=n(e,r);return t>o?t-o:0}}},Nt=Bt("height",(e=>{const t=e.dom;return ft(e)?t.getBoundingClientRect().height:t.offsetHeight})),Lt=e=>Nt.get(e),Vt=e=>Nt.getOuter(e),zt=(e,t)=>({left:e,top:t,translate:(r,n)=>zt(e+r,t+n)}),Ht=zt,jt=(e,t)=>void 0!==e?e:void 0!==t?t:0,Gt=e=>{const t=e.dom.ownerDocument,r=t.body,n=t.defaultView,o=t.documentElement;if(r===e.dom)return Ht(r.offsetLeft,r.offsetTop);const i=jt(null==n?void 0:n.pageYOffset,o.scrollTop),s=jt(null==n?void 0:n.pageXOffset,o.scrollLeft),a=jt(o.clientTop,r.clientTop),l=jt(o.clientLeft,r.clientLeft);return Ut(e).translate(s-l,i-a)},Ut=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?Ht(r.offsetLeft,r.offsetTop):ft(e)?(e=>{const t=e.getBoundingClientRect();return Ht(t.left,t.top)})(t):Ht(0,0)},qt=Bt("width",(e=>e.dom.offsetWidth)),Wt=e=>qt.get(e),$t=e=>qt.getOuter(e),Zt=e=>{let t,r=!1;return(...n)=>(r||(r=!0,t=e.apply(null,n)),t)},Kt=()=>Yt(0,0),Yt=(e,t)=>({major:e,minor:t}),Xt={nu:Yt,detect:(e,t)=>{const r=String(t).toLowerCase();return 0===e.length?Kt():((e,t)=>{const r=((e,t)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.test(t))return n}})(e,t);if(!r)return{major:0,minor:0};const n=e=>Number(t.replace(r,"$"+e));return Yt(n(1),n(2))})(e,r)},unknown:Kt},Jt=(e,t)=>{const r=String(t).toLowerCase();return q(e,(e=>e.search(r)))},Qt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,er=e=>t=>Se(t,e),tr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Se(e,"edge/")&&Se(e,"chrome")&&Se(e,"safari")&&Se(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qt],search:e=>Se(e,"chrome")&&!Se(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Se(e,"msie")||Se(e,"trident")},{name:"Opera",versionRegexes:[Qt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:er("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:er("firefox")},{name:"Safari",versionRegexes:[Qt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Se(e,"safari")||Se(e,"mobile/"))&&Se(e,"applewebkit")}],rr=[{name:"Windows",search:er("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Se(e,"iphone")||Se(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:er("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:er("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:er("linux"),versionRegexes:[]},{name:"Solaris",search:er("sunos"),versionRegexes:[]},{name:"FreeBSD",search:er("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:er("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],nr={browsers:b(tr),oses:b(rr)},or="Edge",ir="Chromium",sr="Opera",ar="Firefox",lr="Safari",cr=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isEdge:n(or),isChromium:n(ir),isIE:n("IE"),isOpera:n(sr),isFirefox:n(ar),isSafari:n(lr)}},hr=()=>cr({current:void 0,version:Xt.unknown()}),dr=cr,ur=(b(or),b(ir),b("IE"),b(sr),b(ar),b(lr),"Windows"),pr="Android",fr="Linux",mr="macOS",gr="Solaris",vr="FreeBSD",yr="ChromeOS",br=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isWindows:n(ur),isiOS:n("iOS"),isAndroid:n(pr),isMacOS:n(mr),isLinux:n(fr),isSolaris:n(gr),isFreeBSD:n(vr),isChromeOS:n(yr)}},wr=()=>br({current:void 0,version:Xt.unknown()}),xr=br,_r=(b(ur),b("iOS"),b(pr),b(fr),b(mr),b(gr),b(vr),b(yr),e=>window.matchMedia(e).matches);var Er;let Cr=Zt((()=>((e,t,r)=>{const n=nr.browsers(),o=nr.oses(),i=t.bind((e=>((e,t)=>ie(t.brands,(t=>{const r=t.brand.toLowerCase();return q(e,(e=>{var t;return r===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Xt.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>Jt(e,t).map((e=>{const r=Xt.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(n,e))).fold(hr,dr),s=((e,t)=>Jt(e,t).map((e=>{const r=Xt.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(o,e).fold(wr,xr),a=((e,t,r,n)=>{const o=e.isiOS()&&!0===/ipad/i.test(r),i=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),a=s||n("(pointer:coarse)"),l=o||!i&&s&&n("(min-device-width:768px)"),c=i||s&&!l,h=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),d=!c&&!l&&!h;return{isiPad:b(o),isiPhone:b(i),isTablet:b(l),isPhone:b(c),isTouch:b(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:b(h),isDesktop:b(d)}})(s,i,e,r);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,T.from(navigator.userAgentData),_r)));const Sr=()=>Cr(),kr=e=>{const t=Re((e=>{if(ct()&&p(e.target)){const t=Re(e.target);if(He(t)&&(e=>p(e.dom.shadowRoot))(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return re(t)}}return T.from(e.target)})(e).getOr(e.target)),r=()=>e.stopPropagation(),n=()=>e.preventDefault(),o=y(n,r);return((e,t,r,n,o,i,s)=>({target:e,x:t,y:r,stop:n,prevent:o,kill:i,raw:s}))(t,e.clientX,e.clientY,r,n,o,e)},Ar=(e,t,r,n,o)=>{const i=((e,t)=>r=>{e(r)&&t(kr(r))})(r,n);return e.dom.addEventListener(t,i,o),{unbind:_(Pr,e,t,i,o)}},Pr=(e,t,r,n)=>{e.dom.removeEventListener(t,r,n)},Tr=(e,t)=>{et(e).each((r=>{r.dom.insertBefore(t.dom,e.dom)}))},Mr=(e,t)=>{const r=(e=>T.from(e.dom.nextSibling).map(Re))(e);r.fold((()=>{et(e).each((e=>{Dr(e,t)}))}),(e=>{Tr(e,t)}))},Or=(e,t)=>{const r=(e=>ot(e,0))(e);r.fold((()=>{Dr(e,t)}),(r=>{e.dom.insertBefore(t.dom,r.dom)}))},Dr=(e,t)=>{e.dom.appendChild(t.dom)},Ir=(e,t)=>{z(t,(t=>{Dr(e,t)}))},Rr=e=>{e.dom.textContent="",z(nt(e),(e=>{Fr(e)}))},Fr=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Br=e=>{const t=void 0!==e?e.dom:document,r=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return Ht(r,n)},Nr=(e,t,r)=>{const n=(void 0!==r?r.dom:document).defaultView;n&&n.scrollTo(e,t)},Lr=(e,t,r,n)=>({x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}),Vr=e=>{const t=void 0===e?window:e,r=t.document,n=Br(Re(r));return(e=>{const t=void 0===e?window:e;return Sr().browser.isFirefox()?T.none():T.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,r=e.clientWidth,o=e.clientHeight;return Lr(n.left,n.top,r,o)}),(e=>Lr(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))},zr=()=>Re(document),Hr=(e,t)=>e.view(t).fold(b([]),(t=>{const r=e.owner(t),n=Hr(e,r);return[t].concat(n)}));var jr=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?T.none():T.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Re)},owner:e=>Ye(e)});const Gr=e=>{const t=zr(),r=Br(t),n=((e,t)=>{const r=t.owner(e),n=Hr(t,r);return T.some(n)})(e,jr);return n.fold(_(Gt,e),(t=>{const n=Ut(e),o=G(t,((e,t)=>{const r=Ut(t);return{left:e.left+r.left,top:e.top+r.top}}),{left:0,top:0});return Ht(o.left+n.left+r.left,o.top+n.top+r.top)}))},Ur=(e,t,r,n)=>({x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}),qr=e=>{const t=Gt(e),r=$t(e),n=Vt(e);return Ur(t.left,t.top,r,n)},Wr=e=>{const t=Gr(e),r=$t(e),n=Vt(e);return Ur(t.left,t.top,r,n)},$r=()=>Vr(window),Zr=e=>{const t=t=>t(e),r=b(e),n=()=>o,o={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:A,isError:k,map:t=>Yr.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:r,or:n,getOrThunk:r,orThunk:n,getOrDie:r,each:t=>{t(e)},toOptional:()=>T.some(e)};return o},Kr=e=>{const t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:k,isError:A,map:t,mapError:t=>Yr.error(t(e)),bind:t,exists:k,forall:A,getOr:w,or:w,getOrThunk:S,orThunk:S,getOrDie:C(String(e)),each:v,toOptional:T.none};return r},Yr={value:Zr,error:Kr,fromOption:(e,t)=>e.fold((()=>Kr(t)),Zr)};var Xr;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(Xr||(Xr={}));const Jr=(e,t,r)=>e.stype===Xr.Error?t(e.serror):r(e.svalue),Qr=e=>({stype:Xr.Value,svalue:e}),en=e=>({stype:Xr.Error,serror:e}),tn=Qr,rn=en,nn=Jr,on=(e,t,r,n)=>({tag:"field",key:e,newKey:t,presence:r,prop:n}),sn=(e,t,r)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return r(e.newKey,e.instantiator)}},an=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const r={};for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)ye(o,t)&&(r[t]=e(r[t],o[t]))}return r},ln=an(((e,t)=>a(e)&&a(t)?ln(e,t):t)),cn=an(((e,t)=>t)),hn=e=>({tag:"defaultedThunk",process:e}),dn=e=>hn(b(e)),un=e=>({tag:"mergeWithThunk",process:e}),pn=e=>{const t=(e=>{const t=[],r=[];return z(e,(e=>{Jr(e,(e=>r.push(e)),(e=>t.push(e)))})),{values:t,errors:r}})(e);return t.errors.length>0?(r=t.errors,y(rn,$)(r)):tn(t.values);var r},fn=e=>s(e)&&se(e).length>100?" removed due to size":JSON.stringify(e,null,2),mn=(e,t)=>rn([{path:e,getErrorInfo:t}]),gn=e=>({extract:(t,r)=>{return n=e(r),o=e=>((e,t)=>mn(e,b(t)))(t,e),n.stype===Xr.Error?o(n.serror):n;var n,o},toString:b("val")}),vn=gn(tn),yn=(e,t,r,n)=>n(ve(e,t).getOrThunk((()=>r(e)))),bn=(e,t,r,n,o)=>{const i=e=>o.extract(t.concat([n]),e),s=e=>e.fold((()=>tn(T.none())),(e=>{const r=o.extract(t.concat([n]),e);return i=r,s=T.some,i.stype===Xr.Value?{stype:Xr.Value,svalue:s(i.svalue)}:i;var i,s}));switch(e.tag){case"required":return((e,t,r,n)=>ve(t,r).fold((()=>((e,t,r)=>mn(e,(()=>'Could not find valid *required* value for "'+t+'" in '+fn(r))))(e,r,t)),n))(t,r,n,i);case"defaultedThunk":return yn(r,n,e.process,i);case"option":return((e,t,r)=>r(ve(e,t)))(r,n,s);case"defaultedOptionThunk":return((e,t,r,n)=>n(ve(e,t).map((t=>!0===t?r(e):t))))(r,n,e.process,s);case"mergeWithThunk":return yn(r,n,b({}),(t=>{const n=ln(e.process(r),t);return i(n)}))}},wn=e=>({extract:(t,r)=>e().extract(t,r),toString:()=>e().toString()}),xn=e=>se(pe(e,p)),_n=e=>{const t=En(e),r=G(e,((e,t)=>sn(t,(t=>ln(e,{[t]:!0})),b(e))),{});return{extract:(e,n)=>{const o=h(n)?[]:xn(n),i=j(o,(e=>!be(r,e)));return 0===i.length?t.extract(e,n):((e,t)=>mn(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")))(e,i)},toString:t.toString}},En=e=>({extract:(t,r)=>((e,t,r)=>{const n={},o=[];for(const i of r)sn(i,((r,i,s,a)=>{const l=bn(s,e,t,r,a);nn(l,(e=>{o.push(...e)}),(e=>{n[i]=e}))}),((e,r)=>{n[e]=r(t)}));return o.length>0?rn(o):tn(n)})(t,r,e),toString:()=>{const t=V(e,(e=>sn(e,((e,t,r,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),Cn=e=>({extract:(t,r)=>{const n=V(r,((r,n)=>e.extract(t.concat(["["+n+"]"]),r)));return pn(n)},toString:()=>"array("+e.toString()+")"}),Sn=(e,t)=>{const r=void 0!==t?t:w;return{extract:(t,n)=>{const o=[];for(const i of e){const e=i.extract(t,n);if(e.stype===Xr.Value)return{stype:Xr.Value,svalue:r(e.svalue)};o.push(e)}return pn(o)},toString:()=>"oneOf("+V(e,(e=>e.toString())).join(", ")+")"}},kn=(e,t)=>({extract:(r,n)=>{const o=se(n),i=((t,r)=>Cn(gn(e)).extract(t,r))(r,o);return a=e=>{const o=V(e,(e=>on(e,e,{tag:"required",process:{}},t)));return En(o).extract(r,n)},(s=i).stype===Xr.Value?a(s.svalue):s;var s,a},toString:()=>"setOf("+t.toString()+")"}),An=y(Cn,En),Pn=b(vn),Tn=(e,t)=>gn((r=>{const n=typeof r;return e(r)?tn(r):rn(`Expected type: ${t} but got: ${n}`)})),Mn=Tn(m,"number"),On=Tn(i,"string"),Dn=Tn(h,"boolean"),In=Tn(f,"function"),Rn=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>Rn(e[t])));default:return!1}},Fn=gn((e=>Rn(e)?tn(e):rn("Expected value to be acceptable for sending via postMessage"))),Bn=(e,t)=>({extract:(r,n)=>ve(n,e).fold((()=>((e,t)=>mn(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(r,e)),(e=>((e,t,r,n)=>ve(r,n).fold((()=>((e,t,r)=>mn(e,(()=>'The chosen schema: "'+r+'" did not exist in branches: '+fn(t))))(e,r,n)),(r=>r.extract(e.concat(["branch: "+n]),t))))(r,n,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+se(t)}),Nn=e=>gn((t=>e(t).fold(rn,tn))),Ln=(e,t)=>kn((t=>e(t).fold(en,Qr)),t),Vn=(e,t,r)=>{return n=((e,t,r)=>((e,t)=>e.stype===Xr.Error?{stype:Xr.Error,serror:t(e.serror)}:e)(t.extract([e],r),(e=>({input:r,errors:e}))))(e,t,r),Jr(n,Yr.error,Yr.value);var n},zn=e=>e.fold((e=>{throw new Error(jn(e))}),w),Hn=(e,t,r)=>zn(Vn(e,t,r)),jn=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:b("... (only showing first ten failures)")}]):e;return V(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+fn(e.input),Gn=(e,t)=>Bn(e,ce(t,En)),Un=on,qn=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),Wn=e=>Nn((t=>F(e,t)?Yr.value(t):Yr.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),$n=e=>Un(e,e,{tag:"required",process:{}},Pn()),Zn=(e,t)=>Un(e,e,{tag:"required",process:{}},t),Kn=e=>Zn(e,Mn),Yn=e=>Zn(e,On),Xn=(e,t)=>Un(e,e,{tag:"required",process:{}},Wn(t)),Jn=e=>Zn(e,In),Qn=(e,t)=>Un(e,e,{tag:"required",process:{}},En(t)),eo=(e,t)=>Un(e,e,{tag:"required",process:{}},An(t)),to=(e,t)=>Un(e,e,{tag:"required",process:{}},Cn(t)),ro=e=>Un(e,e,{tag:"option",process:{}},Pn()),no=(e,t)=>Un(e,e,{tag:"option",process:{}},t),oo=e=>no(e,Mn),io=e=>no(e,On),so=(e,t)=>no(e,Wn(t)),ao=e=>no(e,In),lo=(e,t)=>no(e,Cn(t)),co=(e,t)=>no(e,En(t)),ho=(e,t)=>Un(e,e,dn(t),Pn()),uo=(e,t,r)=>Un(e,e,dn(t),r),po=(e,t)=>uo(e,t,Mn),fo=(e,t)=>uo(e,t,On),mo=(e,t,r)=>uo(e,t,Wn(r)),go=(e,t)=>uo(e,t,Dn),vo=(e,t)=>uo(e,t,In),yo=(e,t,r)=>uo(e,t,Cn(r)),bo=(e,t,r)=>uo(e,t,En(r)),wo=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},xo=e=>{if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],r={};return z(e,((n,o)=>{const i=se(n);if(1!==i.length)throw new Error("one and only one name per case");const s=i[0],a=n[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!l(a))throw new Error("case arguments must be an array");t.push(s),r[s]=(...r)=>{const n=r.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,r)},match:e=>{const n=se(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!K(t,(e=>F(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:s,params:r})}}}})),r};xo([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const _o=(e,t)=>((e,t)=>({[e]:t}))(e,t),Eo=e=>(e=>{const t={};return z(e,(e=>{t[e.key]=e.value})),t})(e),Co=e=>f(e)?e:k,So=(e,t,r)=>{let n=e.dom;const o=Co(r);for(;n.parentNode;){n=n.parentNode;const e=Re(n),r=t(e);if(r.isSome())return r;if(o(e))break}return T.none()},ko=(e,t,r)=>{const n=t(e),o=Co(r);return n.orThunk((()=>o(e)?T.none():So(e,t,o)))},Ao=(e,t)=>Ze(e.element,t.event.target),Po={can:A,abort:k,run:v},To=e=>{if(!be(e,"can")&&!be(e,"abort")&&!be(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Po,...e}},Mo=b,Oo=Mo("touchstart"),Do=Mo("touchmove"),Io=Mo("touchend"),Ro=Mo("touchcancel"),Fo=Mo("mousedown"),Bo=Mo("mousemove"),No=Mo("mouseout"),Lo=Mo("mouseup"),Vo=Mo("mouseover"),zo=Mo("focusin"),Ho=Mo("focusout"),jo=Mo("keydown"),Go=Mo("keyup"),Uo=Mo("input"),qo=Mo("change"),Wo=Mo("click"),$o=Mo("transitioncancel"),Zo=Mo("transitionend"),Ko=Mo("transitionstart"),Yo=Mo("selectstart"),Xo=e=>b("alloy."+e),Jo={tap:Xo("tap")},Qo=Xo("focus"),ei=Xo("blur.post"),ti=Xo("paste.post"),ri=Xo("receive"),ni=Xo("execute"),oi=Xo("focus.item"),ii=Jo.tap,si=Xo("longpress"),ai=Xo("sandbox.close"),li=Xo("typeahead.cancel"),ci=Xo("system.init"),hi=Xo("system.touchmove"),di=Xo("system.touchend"),ui=Xo("system.scroll"),pi=Xo("system.resize"),fi=Xo("system.attached"),mi=Xo("system.detached"),gi=Xo("system.dismissRequested"),vi=Xo("system.repositionRequested"),yi=Xo("focusmanager.shifted"),bi=Xo("slotcontainer.visibility"),wi=Xo("change.tab"),xi=Xo("dismiss.tab"),_i=Xo("highlight"),Ei=Xo("dehighlight"),Ci=(e,t)=>{Pi(e,e.element,t,{})},Si=(e,t,r)=>{Pi(e,e.element,t,r)},ki=e=>{Ci(e,ni())},Ai=(e,t,r)=>{Pi(e,t,r,{})},Pi=(e,t,r,n)=>{const o={target:t,...n};e.getSystem().triggerEvent(r,t,o)},Ti=(e,t,r,n)=>{e.getSystem().triggerEvent(r,t,n.event)},Mi=e=>Eo(e),Oi=(e,t)=>({key:e,value:To({abort:t})}),Di=e=>({key:e,value:To({run:(e,t)=>{t.event.prevent()}})}),Ii=(e,t)=>({key:e,value:To({run:t})}),Ri=(e,t,r)=>({key:e,value:To({run:(e,n)=>{t.apply(void 0,[e,n].concat(r))}})}),Fi=e=>t=>({key:e,value:To({run:(e,r)=>{Ao(e,r)&&t(e,r)}})}),Bi=(e,t,r)=>((e,t)=>Ii(e,((r,n)=>{r.getSystem().getByUid(t).each((t=>{Ti(t,t.element,e,n)}))})))(e,t.partUids[r]),Ni=(e,t)=>Ii(e,((e,r)=>{const n=r.event,o=e.getSystem().getByDom(n.target).getOrThunk((()=>ko(n.target,(t=>e.getSystem().getByDom(t).toOptional()),k).getOr(e)));t(e,o,r)})),Li=e=>Ii(e,((e,t)=>{t.cut()})),Vi=e=>Ii(e,((e,t)=>{t.stop()})),zi=(e,t)=>Fi(e)(t),Hi=Fi(fi()),ji=Fi(mi()),Gi=Fi(ci()),Ui=(Yi=ni(),e=>Ii(Yi,e)),qi=e=>e.dom.innerHTML,Wi=(e,t)=>{const r=Ye(e).dom,n=Re(r.createDocumentFragment()),o=((e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,nt(Re(r))})(t,r);Ir(n,o),Rr(e),Dr(e,n)},$i=e=>at(e)?"#shadow-root":(e=>{const t=De("div"),r=Re(e.dom.cloneNode(!0));return Dr(t,r),qi(t)})((e=>((e,t)=>Re(e.dom.cloneNode(!1)))(e))(e)),Zi=e=>$i(e),Ki=Mi([((e,t)=>({key:e,value:To({can:(e,t)=>{const r=t.event,n=r.originator,o=r.target;return!((e,t,r)=>Ze(t,e.element)&&!Ze(t,r))(e,n,o)||(console.warn(Qo()+" did not get interpreted by the desired target. \nOriginator: "+Zi(n)+"\nTarget: "+Zi(o)+"\nCheck the "+Qo()+" event handlers"),!1)}})}))(Qo())]);var Yi,Xi=Object.freeze({__proto__:null,events:Ki});let Ji=0;const Qi=e=>{const t=(new Date).getTime(),r=Math.floor(1e9*Math.random());return Ji++,e+"_"+r+Ji+String(t)},es=b("alloy-id-"),ts=b("data-alloy-id"),rs=es(),ns=ts(),os=(e,t)=>{Object.defineProperty(e.dom,ns,{value:t,writable:!0})},is=e=>{const t=He(e)?e.dom[ns]:null;return T.from(t)},ss=e=>Qi(e),as=w,ls=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+Zi(e().element)+" is not in context.":""),r=e=>()=>{throw new Error(t(e))},n=e=>()=>{console.warn(t(e))};return{debugInfo:b("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),build:r("build"),buildOrPatch:r("buildOrPatch"),addToWorld:r("addToWorld"),removeFromWorld:r("removeFromWorld"),addToGui:r("addToGui"),removeFromGui:r("removeFromGui"),getByUid:r("getByUid"),getByDom:r("getByDom"),isConnected:k}},cs=ls(),hs=e=>V(e,(e=>ke(e,"/*")?e.substring(0,e.length-"/*".length):e)),ds=(e,t)=>{const r=e.toString(),n=r.indexOf(")")+1,o=r.indexOf("("),i=r.substring(o+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:hs(i)}),e},us=Qi("alloy-premade"),ps=e=>(Object.defineProperty(e.element.dom,us,{value:e.uid,writable:!0}),_o(us,e)),fs=e=>ve(e,us),ms=e=>((e,t)=>{const r=t.toString(),n=r.indexOf(")")+1,o=r.indexOf("("),i=r.substring(o+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:hs(i.slice(1))}),e})(((t,...r)=>e(t.getApis(),t,...r)),e),gs={init:()=>vs({readState:b("No State required")})},vs=e=>e,ys=(e,t)=>{const r={};return le(e,((e,n)=>{le(e,((e,o)=>{const i=ve(r,o).getOr([]);r[o]=i.concat([t(n,e)])}))})),r},bs=e=>({classes:d(e.classes)?[]:e.classes,attributes:d(e.attributes)?{}:e.attributes,styles:d(e.styles)?{}:e.styles}),ws=e=>e.cHandler,xs=(e,t)=>({name:e,handler:t}),_s=(e,t)=>{const r={};return z(e,(e=>{r[e.name()]=e.handlers(t)})),r},Es=(e,t,r)=>{const n=t[r];return n?((e,t,r,n)=>{try{const t=ee(r,((t,r)=>{const o=t.name,i=r.name,s=n.indexOf(o),a=n.indexOf(i);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+o+".\nOrder specified: "+JSON.stringify(n,null,2));if(-1===a)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(n,null,2));return s<a?-1:a<s?1:0}));return Yr.value(t)}catch(e){return Yr.error([e])}})("Event: "+r,0,e,n).map((e=>(e=>{const t=((e,t)=>(...t)=>U(e,((e,r)=>e&&(e=>e.can)(r).apply(void 0,t)),!0))(e),r=((e,t)=>(...t)=>U(e,((e,r)=>e||(e=>e.abort)(r).apply(void 0,t)),!1))(e);return{can:t,abort:r,run:(...t)=>{z(e,(e=>{e.run.apply(void 0,t)}))}}})(V(e,(e=>e.handler))))):((e,t)=>Yr.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(V(t,(e=>e.name)),null,2)]))(r,e)},Cs=(e,t)=>((e,t)=>{const r=(e=>{const t=[],r=[];return z(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{r.push(e)}))})),{errors:t,values:r}})(e);return r.errors.length>0?(n=r.errors,Yr.error($(n))):((e,t)=>0===e.length?Yr.value(t):Yr.value(ln(t,cn.apply(void 0,e))))(r.values,t);var n})(fe(e,((e,r)=>(1===e.length?Yr.value(e[0].handler):Es(e,t,r)).map((n=>{const o=(e=>{const t=(e=>f(e)?{can:A,abort:k,run:e}:e)(e);return(e,r,...n)=>{const o=[e,r].concat(n);t.abort.apply(void 0,o)?r.stop():t.can.apply(void 0,o)&&t.run.apply(void 0,o)}})(n),i=e.length>1?j(t[r],(t=>B(e,(e=>e.name===t)))).join(" > "):e[0].name;return _o(r,((e,t)=>({handler:e,purpose:t}))(o,i))})))),{}),Ss="alloy.base.behaviour",ks=En([Un("dom","dom",{tag:"required",process:{}},En([$n("tag"),ho("styles",{}),ho("classes",[]),ho("attributes",{}),ro("value"),ro("innerHtml")])),$n("components"),$n("uid"),ho("events",{}),ho("apis",{}),Un("eventOrder","eventOrder",(Xs={[ni()]:["disabling",Ss,"toggling","typeaheadevents"],[Qo()]:[Ss,"focusing","keying"],[ci()]:[Ss,"disabling","toggling","representing"],[Uo()]:[Ss,"representing","streaming","invalidating"],[mi()]:[Ss,"representing","item-events","tooltipping"],[Fo()]:["focusing",Ss,"item-type-events"],[Oo()]:["focusing",Ss,"item-type-events"],[Vo()]:["item-type-events","tooltipping"],[ri()]:["receiving","reflecting","tooltipping"]},un(b(Xs))),Pn()),ro("domModification")]),As=e=>e.events,Ps=(e,t)=>{const r=wt(e,t);return void 0===r||""===r?[]:r.split(" ")},Ts=e=>void 0!==e.dom.classList,Ms=e=>Ps(e,"class"),Os=(e,t)=>{Ts(e)?e.dom.classList.add(t):((e,t)=>{((e,t,r)=>{const n=Ps(e,t).concat([r]);yt(e,t,n.join(" "))})(e,"class",t)})(e,t)},Ds=(e,t)=>{Ts(e)?e.dom.classList.remove(t):((e,t)=>{((e,t,r)=>{const n=j(Ps(e,t),(e=>e!==r));n.length>0?yt(e,t,n.join(" ")):Et(e,t)})(e,"class",t)})(e,t),(e=>{0===(Ts(e)?e.dom.classList:Ms(e)).length&&Et(e,"class")})(e)},Is=(e,t)=>Ts(e)&&e.dom.classList.contains(t),Rs=(e,t)=>{z(t,(t=>{Os(e,t)}))},Fs=(e,t)=>{z(t,(t=>{Ds(e,t)}))},Bs=e=>e.dom.value,Ns=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Ls=(e,t,r)=>{r.fold((()=>Dr(e,t)),(e=>{Ze(e,t)||(Tr(e,t),Fr(e))}))},Vs=(e,t,r)=>{const n=V(t,r),o=nt(e);return z(o.slice(n.length),Fr),n},zs=(e,t,r,n)=>{const o=ot(e,t),i=n(r,o),s=((e,t,r)=>ot(e,t).map((e=>{if(r.exists((t=>!Ze(t,e)))){const t=r.map(Ve).getOr("span"),n=De(t);return Tr(e,n),n}return e})))(e,t,o);return Ls(e,i.element,s),i},Hs=(e,t)=>{const r=se(e),n=se(t);return{toRemove:X(n,r),toSet:((e,r)=>{const n={},o={};return ue(e,((e,r)=>!ye(t,r)||e!==t[r]),de(n),de(o)),{t:n,f:o}})(e).t}},js=(e,t)=>{const{class:r,style:n,...o}=(e=>U(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:i,toRemove:s}=Hs(e.attributes,o),a=Dt(t),{toSet:l,toRemove:c}=Hs(e.styles,a),h=(e=>Ts(e)?(e=>{const t=e.dom.classList,r=new Array(t.length);for(let e=0;e<t.length;e++){const n=t.item(e);null!==n&&(r[e]=n)}return r})(e):Ms(e))(t),d=X(h,e.classes),u=X(e.classes,h);return z(s,(e=>Et(t,e))),bt(t,i),Rs(t,u),Fs(t,d),z(c,(e=>Rt(t,e))),At(t,l),e.innerHtml.fold((()=>{const r=e.domChildren;((e,t)=>{Vs(e,t,((t,r)=>{const n=ot(e,r);return Ls(e,t,n),t}))})(t,r)}),(e=>{Wi(t,e)})),(()=>{const r=t,n=e.value.getOrUndefined();n!==Bs(r)&&Ns(r,null!=n?n:"")})(),t},Gs=e=>{const t=(e=>{const t=ve(e,"behaviours").getOr({});return Z(se(t),(e=>{const r=t[e];return p(r)?[r.me]:[]}))})(e);return((e,t)=>((e,t)=>{const r=V(t,(e=>co(e.name(),[$n("config"),ho("state",gs)]))),n=Vn("component.behaviours",En(r),e.behaviours).fold((t=>{throw new Error(jn(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),w);return{list:t,data:ce(n,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return b(t)}))}})(e,t))(e,t)},Us=(e,t)=>{const r=()=>u,n=wo(cs),o=zn((e=>Vn("custom.definition",ks,e))(e)),i=Gs(e),s=(e=>e.list)(i),a=(e=>e.data)(i),l=((e,t,r)=>{const n={...(o=e).dom,uid:o.uid,domChildren:V(o.components,(e=>e.element))};var o;const i=(e=>e.domModification.fold((()=>bs({})),bs))(e),s={"alloy.base.modification":i},a=t.length>0?((e,t,r,n)=>{const o={...t};z(r,(t=>{o[t.name()]=t.exhibit(e,n)}));const i=ys(o,((e,t)=>({name:e,modification:t}))),s=e=>G(e,((e,t)=>({...t.modification,...e})),{}),a=G(i.classes,((e,t)=>t.modification.concat(e)),[]),l=s(i.attributes),c=s(i.styles);return bs({classes:a,attributes:l,styles:c})})(r,s,t,n):i;return l=n,c=a,{...l,attributes:{...l.attributes,...c.attributes},styles:{...l.styles,...c.styles},classes:l.classes.concat(c.classes)};var l,c})(o,s,a),c=((e,t)=>{const r=t.filter((t=>Ve(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>ye(e.dom,us))(t))).bind((t=>((e,t)=>{try{const r=js(e,t);return T.some(r)}catch(e){return T.none()}})(e,t))).getOrThunk((()=>(e=>{const t=De(e.tag);bt(t,e.attributes),Rs(t,e.classes),At(t,e.styles),e.innerHtml.each((e=>Wi(t,e)));const r=e.domChildren;return Ir(t,r),e.value.each((e=>{Ns(t,e)})),t})(e)));return os(r,e.uid),r})(l,t),h=((e,t,r)=>{const n={"alloy.base.behaviour":As(e)};return((e,t,r,n)=>{const o=((e,t,r)=>{const n={...r,..._s(t,e)};return ys(n,xs)})(e,r,n);return Cs(o,t)})(r,e.eventOrder,t,n).getOrDie()})(o,s,a),d=wo(o.components),u={uid:e.uid,getSystem:n.get,config:t=>{const r=a;return(f(r[t.name()])?r[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:e=>f(a[e.name()]),spec:e,readState:e=>a[e]().map((e=>e.state.readState())).getOr("not enabled"),getApis:()=>o.apis,connect:e=>{n.set(e)},disconnect:()=>{n.set(ls(r))},element:c,syncComponents:()=>{const e=nt(c),t=Z(e,(e=>n.get().getByDom(e).fold((()=>[]),Q)));d.set(t)},components:d.get,events:h};return u},qs=e=>{const t=Ie(e);return Ws({element:t})},Ws=e=>{const t=Hn("external.component",_n([$n("element"),ro("uid")]),e),r=wo(ls()),n=t.uid.getOrThunk((()=>ss("external")));os(t.element,n);const o={uid:n,getSystem:r.get,config:T.none,hasConfigured:k,connect:e=>{r.set(e)},disconnect:()=>{r.set(ls((()=>o)))},getApis:()=>({}),element:t.element,spec:e,readState:b("No state"),syncComponents:v,components:b([]),events:{}};return ps(o)},$s=ss,Zs=(e,t)=>fs(e).getOrThunk((()=>((e,t)=>{const{events:r,...n}=as(e),o=((e,t)=>{const r=ve(e,"components").getOr([]);return t.fold((()=>V(r,Ks)),(e=>V(r,((t,r)=>Zs(t,ot(e,r))))))})(n,t),i={...n,events:{...Xi,...r},components:o};return Yr.value(Us(i,t))})((e=>ye(e,"uid"))(e)?e:{uid:$s(""),...e},t).getOrDie())),Ks=e=>Zs(e,T.none()),Ys=ps;var Xs,Js=(e,t,r,n,o)=>e(r,n)?T.some(r):f(o)&&o(r)?T.none():t(r,n,o);const Qs=(e,t,r)=>{let n=e.dom;const o=f(r)?r:k;for(;n.parentNode;){n=n.parentNode;const e=Re(n);if(t(e))return T.some(e);if(o(e))break}return T.none()},ea=(e,t,r)=>Js(((e,t)=>t(e)),Qs,e,t,r),ta=(e,t,r)=>ea(e,t,r).isSome(),ra=(e,t,r)=>Qs(e,(e=>We(e,t)),r),na=(e,t)=>((e,r)=>q(e.dom.childNodes,(e=>{return r=Re(e),We(r,t);var r})).map(Re))(e),oa=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return $e(r)?T.none():T.from(r.querySelector(e)).map(Re)})(t,e),ia=(e,t,r)=>Js(((e,t)=>We(e,t)),ra,e,t,r),sa="aria-controls",aa=()=>{const e=Qi(sa);return{id:e,link:t=>{yt(t,sa,e)},unlink:e=>{Et(e,sa)}}},la=(e,t)=>ta(t,(t=>Ze(t,e.element)),k)||((e,t)=>(e=>ea(e,(e=>{if(!He(e))return!1;const t=wt(e,"id");return void 0!==t&&t.indexOf(sa)>-1})).bind((e=>{const t=wt(e,"id"),r=ht(e);return oa(r,`[${sa}="${t}"]`)})))(t).exists((t=>la(e,t))))(e,t);var ca;!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(ca||(ca={}));const ha=wo({}),da=["alloy/data/Fields","alloy/debugging/Debugging"],ua=(e,t,r)=>((e,t,r)=>{switch(ve(ha.get(),e).orThunk((()=>{const t=se(ha.get());return ie(t,(t=>e.indexOf(t)>-1?T.some(ha.get()[t]):T.none()))})).getOr(ca.NORMAL)){case ca.NORMAL:return r(pa());case ca.LOGGING:{const n=((e,t)=>{const r=[],n=(new Date).getTime();return{logEventCut:(e,t,n)=>{r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:(e,t,n)=>{r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:(e,t,n)=>{r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:(e,t)=>{r.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,n)=>{r.push({outcome:"response",purpose:n,target:t})},write:()=>{const o=(new Date).getTime();F(["mousemove","mouseover","mouseout",ci()],e)||console.log(e,{event:e,time:o-n,target:t.dom,sequence:V(r,(e=>F(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Zi(e.target)+")":e.outcome))})}}})(e,t),o=r(n);return n.write(),o}case ca.STOP:return!0}})(e,t,r),pa=b({logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v}),fa=b([$n("menu"),$n("selectedMenu")]),ma=b([$n("item"),$n("selectedItem")]);b(En(ma().concat(fa())));const ga=b(En(ma())),va=Qn("initSize",[$n("numColumns"),$n("numRows")]),ya=()=>Qn("markers",[$n("backgroundMenu")].concat(fa()).concat(ma())),ba=e=>Qn("markers",V(e,$n)),wa=(e,t,r)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");q(t,(e=>e.indexOf("alloy")>0&&!B(da,(t=>e.indexOf(t)>-1)))).getOr("unknown")}})(),Un(t,t,r,Nn((e=>Yr.value(((...t)=>e.apply(void 0,t))))))),xa=e=>wa(0,e,dn(v)),_a=e=>wa(0,e,dn(T.none)),Ea=e=>wa(0,e,{tag:"required",process:{}}),Ca=e=>wa(0,e,{tag:"required",process:{}}),Sa=(e,t)=>qn(e,b(t)),ka=e=>qn(e,w),Aa=b(va),Pa=(e,t,r,n,o,i,s,a=!1)=>({x:e,y:t,bubble:r,direction:n,placement:o,restriction:i,label:`${s}-${o}`,alwaysFit:a}),Ta=xo([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ma=Ta.southeast,Oa=Ta.southwest,Da=Ta.northeast,Ia=Ta.northwest,Ra=Ta.south,Fa=Ta.north,Ba=Ta.east,Na=Ta.west,La=(e,t,r,n)=>{const o=e+t;return o>n?r:o<r?n:o},Va=(e,t,r)=>Math.min(Math.max(e,t),r),za=(e,t)=>J(["left","right","top","bottom"],(r=>ve(t,r).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),Ha="layout",ja=e=>e.x,Ga=(e,t)=>e.x+e.width/2-t.width/2,Ua=(e,t)=>e.x+e.width-t.width,qa=(e,t)=>e.y-t.height,Wa=e=>e.y+e.height,$a=(e,t)=>e.y+e.height/2-t.height/2,Za=(e,t,r)=>Pa(ja(e),Wa(e),r.southeast(),Ma(),"southeast",za(e,{left:1,top:3}),Ha),Ka=(e,t,r)=>Pa(Ua(e,t),Wa(e),r.southwest(),Oa(),"southwest",za(e,{right:0,top:3}),Ha),Ya=(e,t,r)=>Pa(ja(e),qa(e,t),r.northeast(),Da(),"northeast",za(e,{left:1,bottom:2}),Ha),Xa=(e,t,r)=>Pa(Ua(e,t),qa(e,t),r.northwest(),Ia(),"northwest",za(e,{right:0,bottom:2}),Ha),Ja=(e,t,r)=>Pa(Ga(e,t),qa(e,t),r.north(),Fa(),"north",za(e,{bottom:2}),Ha),Qa=(e,t,r)=>Pa(Ga(e,t),Wa(e),r.south(),Ra(),"south",za(e,{top:3}),Ha),el=(e,t,r)=>Pa((e=>e.x+e.width)(e),$a(e,t),r.east(),Ba(),"east",za(e,{left:0}),Ha),tl=(e,t,r)=>Pa(((e,t)=>e.x-t.width)(e,t),$a(e,t),r.west(),Na(),"west",za(e,{right:1}),Ha),rl=()=>[Za,Ka,Ya,Xa,Qa,Ja,el,tl],nl=()=>[Ka,Za,Xa,Ya,Qa,Ja,el,tl],ol=()=>[Ya,Xa,Za,Ka,Ja,Qa],il=()=>[Xa,Ya,Ka,Za,Ja,Qa],sl=()=>[Za,Ka,Ya,Xa,Qa,Ja],al=()=>[Ka,Za,Xa,Ya,Qa,Ja];var ll=Object.freeze({__proto__:null,events:e=>Mi([Ii(ri(),((t,r)=>{const n=e.channels,o=se(n),i=r,s=((e,t)=>t.universal?e:j(e,(e=>F(t.channels,e))))(o,i);z(s,(e=>{const r=n[e],o=r.schema,s=Hn("channel["+e+"] data\nReceiver: "+Zi(t.element),o,i.data);r.onReceive(t,s)}))}))])}),cl=[Zn("channels",Ln(Yr.value,_n([Ea("onReceive"),ho("schema",Pn())])))];const hl=(e,t,r)=>Gi(((n,o)=>{r(n,e,t)})),dl=e=>({key:e,value:void 0}),ul=(e,t,r,n,o,i,s)=>{const a=e=>be(e,r)?e[r]():T.none(),l=ce(o,((e,t)=>((e,t,r)=>((e,t,r)=>{const n=r.toString(),o=n.indexOf(")")+1,i=n.indexOf("("),s=n.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:hs(s.slice(0,1).concat(s.slice(3)))}),e})(((n,...o)=>{const i=[n].concat(o);return n.config({name:b(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+r)}),(e=>{const r=Array.prototype.slice.call(i,1);return t.apply(void 0,[n,e.config,e.state].concat(r))}))}),r,t))(r,e,t))),c={...ce(i,((e,t)=>ds(e,t))),...l,revoke:_(dl,r),config:t=>{const n=Hn(r+"-config",e,t);return{key:r,value:{config:n,me:c,configAsRaw:Zt((()=>Hn(r+"-config",e,t))),initialConfig:t,state:s}}},schema:b(t),exhibit:(e,t)=>_e(a(e),ve(n,"exhibit"),((e,r)=>r(t,e.config,e.state))).getOrThunk((()=>bs({}))),name:b(r),handlers:e=>a(e).map((e=>ve(n,"events").getOr((()=>({})))(e.config,e.state))).getOr({})};return c},pl=e=>Eo(e),fl=_n([$n("fields"),$n("name"),ho("active",{}),ho("apis",{}),ho("state",gs),ho("extra",{})]),ml=e=>{const t=Hn("Creating behaviour: "+e.name,fl,e);return((e,t,r,n,o,i)=>{const s=_n(e),a=co(t,[("config",l=e,no("config",_n(l)))]);var l;return ul(s,a,t,r,n,o,i)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},gl=_n([$n("branchKey"),$n("branches"),$n("name"),ho("active",{}),ho("apis",{}),ho("state",gs),ho("extra",{})]),vl=e=>{const t=Hn("Creating behaviour: "+e.name,gl,e);return((e,t,r,n,o,i)=>{const s=e,a=co(t,[no("config",e)]);return ul(s,a,t,r,n,o,i)})(Gn(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},yl=b(void 0),bl=ml({fields:cl,name:"receiving",active:ll});var wl=Object.freeze({__proto__:null,exhibit:(e,t)=>bs({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const xl=e=>e.dom.focus(),_l=e=>{const t=ht(e).dom;return e.dom===t.activeElement},El=(e=zr())=>T.from(e.dom.activeElement).map(Re),Cl=e=>El(ht(e)).filter((t=>e.dom.contains(t.dom))),Sl=(e,t)=>{const r=ht(t),n=El(r).bind((e=>{const r=t=>Ze(e,t);return r(t)?T.some(t):((e,t)=>{const r=e=>{for(let n=0;n<e.childNodes.length;n++){const o=Re(e.childNodes[n]);if(t(o))return T.some(o);const i=r(e.childNodes[n]);if(i.isSome())return i}return T.none()};return r(e.dom)})(t,r)})),o=e(t);return n.each((e=>{El(r).filter((t=>Ze(t,e))).fold((()=>{xl(e)}),v)})),o},kl=(e,t,r,n,o)=>{const i=e=>e+"px";return{position:e,left:t.map(i),top:r.map(i),right:n.map(i),bottom:o.map(i)}},Al=(e,t)=>{Pt(e,(e=>({...e,position:T.some(e.position)}))(t))},Pl=xo([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Tl=(e,t,r,n,o,i)=>{const s=t.rect,a=s.x-r,l=s.y-n,c=o-(a+s.width),h=i-(l+s.height),d=T.some(a),u=T.some(l),p=T.some(c),f=T.some(h),m=T.none();return t.direction.fold((()=>kl(e,d,u,m,m)),(()=>kl(e,m,u,p,m)),(()=>kl(e,d,m,m,f)),(()=>kl(e,m,m,p,f)),(()=>kl(e,d,u,m,m)),(()=>kl(e,d,m,m,f)),(()=>kl(e,d,u,m,m)),(()=>kl(e,m,u,p,m)))},Ml=(e,t)=>e.fold((()=>{const e=t.rect;return kl("absolute",T.some(e.x),T.some(e.y),T.none(),T.none())}),((e,r,n,o)=>Tl("absolute",t,e,r,n,o)),((e,r,n,o)=>Tl("fixed",t,e,r,n,o))),Ol=(e,t)=>{const r=_(Gr,t),n=e.fold(r,r,(()=>{const e=Br();return Gr(t).translate(-e.left,-e.top)})),o=$t(t),i=Vt(t);return Ur(n.left,n.top,o,i)},Dl=(e,t)=>t.fold((()=>e.fold($r,$r,Ur)),(t=>e.fold(t,t,(()=>{const r=t(),n=Il(e,r.x,r.y);return Ur(n.left,n.top,r.width,r.height)})))),Il=(e,t,r)=>{const n=Ht(t,r);return e.fold(b(n),b(n),(()=>{const e=Br();return n.translate(-e.left,-e.top)}))};Pl.none;const Rl=Pl.relative,Fl=Pl.fixed,Bl="data-alloy-placement",Nl=e=>xt(e,Bl),Ll=xo([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Vl=(e,t,r,n)=>{const o=e.bubble,i=o.offset,s=((e,t,r)=>{const n=(n,o)=>t[n].map((t=>{const i="top"===n||"bottom"===n,s=i?r.top:r.left,a=("left"===n||"top"===n?Math.max:Math.min)(t,o)+s;return i?Va(a,e.y,e.bottom):Va(a,e.x,e.right)})).getOr(o),o=n("left",e.x),i=n("top",e.y),s=n("right",e.right),a=n("bottom",e.bottom);return Ur(o,i,s-o,a-i)})(n,e.restriction,i),a=e.x+i.left,l=e.y+i.top,c=Ur(a,l,t,r),{originInBounds:h,sizeInBounds:d,visibleW:u,visibleH:p}=((e,t)=>{const{x:r,y:n,right:o,bottom:i}=t,{x:s,y:a,right:l,bottom:c,width:h,height:d}=e;return{originInBounds:s>=r&&s<=o&&a>=n&&a<=i,sizeInBounds:l<=o&&l>=r&&c<=i&&c>=n,visibleW:Math.min(h,s>=r?o-s:l-r),visibleH:Math.min(d,a>=n?i-a:c-n)}})(c,s),f=h&&d,m=f?c:((e,t)=>{const{x:r,y:n,right:o,bottom:i}=t,{x:s,y:a,width:l,height:c}=e,h=Math.max(r,o-l),d=Math.max(n,i-c),u=Va(s,r,h),p=Va(a,n,d),f=Math.min(u+l,o)-u,m=Math.min(p+c,i)-p;return Ur(u,p,f,m)})(c,s),g=m.width>0&&m.height>0,{maxWidth:v,maxHeight:y}=((e,t,r)=>{const n=b(t.bottom-r.y),o=b(r.bottom-t.y),i=((e,t,r,n)=>e.fold(t,t,n,n,t,n,r,r))(e,o,o,n),s=b(t.right-r.x),a=b(r.right-t.x),l=((e,t,r,n)=>e.fold(t,n,t,n,r,r,t,n))(e,a,a,s);return{maxWidth:l,maxHeight:i}})(e.direction,m,n),w={rect:m,maxHeight:y,maxWidth:v,direction:e.direction,placement:e.placement,classes:{on:o.classesOn,off:o.classesOff},layout:e.label,testY:l};return f||e.alwaysFit?Ll.fit(w):Ll.nofit(w,u,p,g)},zl=e=>{const t=wo(T.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(T.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(T.some(e))}}},Hl=()=>zl((e=>e.unbind())),jl=()=>{const e=zl(v);return{...e,on:t=>e.get().each(t)}},Gl=A,Ul=(e,t,r)=>((e,t,r,n)=>Ar(e,t,r,n,!1))(e,t,Gl,r),ql=(e,t,r)=>((e,t,r,n)=>Ar(e,t,r,n,!0))(e,t,Gl,r),Wl=kr,$l=["top","bottom","right","left"],Zl="data-alloy-transition-timer",Kl=(e,t,r,n,o,s)=>{const a=((e,t,r)=>r.exists((r=>{const n=e.mode;return"all"===n||r[n]!==t[n]})))(n,o,s);if(a||((e,t)=>((e,t)=>K(t,(t=>Is(e,t))))(e,t.classes))(e,n)){kt(e,"position",r.position);const s=Ol(t,e),l=Ml(t,{...o,rect:s}),c=J($l,(e=>l[e]));((e,t)=>{const r=e=>parseFloat(e).toFixed(3);return me(t,((t,n)=>!((e,t,r=x)=>_e(e,t,r).getOr(e.isNone()&&t.isNone()))(e[n].map(r),t.map(r)))).isSome()})(r,c)&&(Pt(e,c),a&&((e,t)=>{Rs(e,t.classes),xt(e,Zl).each((t=>{clearTimeout(parseInt(t,10)),Et(e,Zl)})),((e,t)=>{const r=Hl(),n=Hl();let o;const s=t=>{var r;const n=null!==(r=t.raw.pseudoElement)&&void 0!==r?r:"";return Ze(t.target,e)&&!Pe(n)&&F($l,t.raw.propertyName)},a=i=>{if(u(i)||s(i)){r.clear(),n.clear();const s=null==i?void 0:i.raw.type;(u(s)||s===Zo())&&(clearTimeout(o),Et(e,Zl),Fs(e,t.classes))}},l=Ul(e,Ko(),(t=>{s(t)&&(l.unbind(),r.set(Ul(e,Zo(),a)),n.set(Ul(e,$o(),a)))})),c=(e=>{const t=t=>{const r=Tt(e,t).split(/\s*,\s*/);return j(r,Pe)},r=e=>{if(i(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return ke(e,"ms")?t:1e3*t}return 0},n=t("transition-delay"),o=t("transition-duration");return U(o,((e,t,o)=>{const i=r(n[o])+r(t);return Math.max(e,i)}),0)})(e);requestAnimationFrame((()=>{o=setTimeout(a,c+17),yt(e,Zl,o)}))})(e,t)})(e,n),Ft(e))}else Fs(e,n.classes)},Yl=(e,t)=>{((e,t)=>{const r=Nt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);kt(e,"max-height",r+"px")})(e,Math.floor(t))},Xl=b(((e,t)=>{Yl(e,t),At(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Jl=b(((e,t)=>{Yl(e,t)})),Ql=(e,t,r)=>void 0===e[t]?r:e[t],ec=(e,t,r,n)=>{const o=((e,t,r,n)=>{Rt(t,"max-height"),Rt(t,"max-width");const o={width:$t(i=t),height:Vt(i)};var i;return((e,t,r,n,o,i)=>{const s=n.width,a=n.height,l=(t,l,c,h,d)=>{const u=t(r,n,o,e,i),p=Vl(u,s,a,i);return p.fold(b(p),((e,t,r,n)=>(d===n?r>h||t>c:!d&&n)?p:Ll.nofit(l,c,h,d)))};return U(t,((e,t)=>{const r=_(l,t);return e.fold(b(e),r)}),Ll.nofit({rect:r,maxHeight:n.height,maxWidth:n.width,direction:Ma(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:r.y},-1,-1,!1)).fold(w,w)})(t,n.preference,e,o,r,n.bounds)})(e,t,r,n);return((e,t,r)=>{const n=Ml(r.origin,t);r.transition.each((o=>{Kl(e,r.origin,n,o,t,r.lastPlacement)})),Al(e,n)})(t,o,n),((e,t)=>{((e,t)=>{yt(e,Bl,t)})(e,t.placement)})(t,o),((e,t)=>{const r=t.classes;Fs(e,r.off),Rs(e,r.on)})(t,o),((e,t,r)=>{(0,r.maxHeightFunction)(e,t.maxHeight)})(t,o,n),((e,t,r)=>{(0,r.maxWidthFunction)(e,t.maxWidth)})(t,o,n),{layout:o.layout,placement:o.placement}},tc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],rc=(e,t,r,n=1)=>{const o=e*n,i=t*n,s=e=>ve(r,e).getOr([]),a=(e,t,r)=>{const n=X(tc,r);return{offset:Ht(e,t),classesOn:Z(r,s),classesOff:Z(n,s)}};return{southeast:()=>a(-e,t,["top","alignLeft"]),southwest:()=>a(e,t,["top","alignRight"]),south:()=>a(-e/2,t,["top","alignCentre"]),northeast:()=>a(-e,-t,["bottom","alignLeft"]),northwest:()=>a(e,-t,["bottom","alignRight"]),north:()=>a(-e/2,-t,["bottom","alignCentre"]),east:()=>a(e,-t/2,["valignCentre","left"]),west:()=>a(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>a(o,i,["top","alignLeft","inset"]),insetNorthwest:()=>a(-o,i,["top","alignRight","inset"]),insetNorth:()=>a(-o/2,i,["top","alignCentre","inset"]),insetSoutheast:()=>a(o,-i,["bottom","alignLeft","inset"]),insetSouthwest:()=>a(-o,-i,["bottom","alignRight","inset"]),insetSouth:()=>a(-o/2,-i,["bottom","alignCentre","inset"]),insetEast:()=>a(-o,-i/2,["valignCentre","right","inset"]),insetWest:()=>a(o,-i/2,["valignCentre","left","inset"])}},nc=()=>rc(0,0,{}),oc=w,ic=(e,t)=>r=>"rtl"===sc(r)?t:e,sc=e=>"rtl"===Tt(e,"direction")?"rtl":"ltr";var ac;!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(ac||(ac={}));const lc="data-alloy-vertical-dir",cc=e=>ta(e,(e=>He(e)&&wt(e,"data-alloy-vertical-dir")===ac.BottomToTop)),hc=()=>co("layouts",[$n("onLtr"),$n("onRtl"),ro("onBottomLtr"),ro("onBottomRtl")]),dc=(e,t,r,n,o,i,s)=>{const a=s.map(cc).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),c=t.layouts.map((t=>t.onRtl(e))),h=a?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(o):l.getOr(r),d=a?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(c).getOr(i):c.getOr(n);return ic(h,d)(e)};var uc=[$n("hotspot"),ro("bubble"),ho("overrides",{}),hc(),Sa("placement",((e,t,r)=>{const n=t.hotspot,o=Ol(r,n.element),i=dc(e.element,t,sl(),al(),ol(),il(),T.some(t.hotspot.element));return T.some(oc({anchorBox:o,bubble:t.bubble.getOr(nc()),overrides:t.overrides,layouts:i,placer:T.none()}))}))],pc=[$n("x"),$n("y"),ho("height",0),ho("width",0),ho("bubble",nc()),ho("overrides",{}),hc(),Sa("placement",((e,t,r)=>{const n=Il(r,t.x,t.y),o=Ur(n.left,n.top,t.width,t.height),i=dc(e.element,t,rl(),nl(),rl(),nl(),T.none());return T.some(oc({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:T.none()}))}))];const fc=xo([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),mc=e=>e.fold(w,((e,t,r)=>e.translate(-t,-r))),gc=e=>e.fold(w,w),vc=e=>U(e,((e,t)=>e.translate(t.left,t.top)),Ht(0,0)),yc=e=>{const t=V(e,gc);return vc(t)},bc=fc.screen,wc=fc.absolute,xc=(e,t,r)=>{const n=Ye(e.element),o=Br(n),i=((e,t,r)=>{const n=Qe(r.root).dom;return T.from(n.frameElement).map(Re).filter((t=>{const r=Ye(t),n=Ye(e.element);return Ze(r,n)})).map(Gt)})(e,0,r).getOr(o);return wc(i,o.left,o.top)},_c=(e,t,r,n)=>{const o=bc(Ht(e,t));return T.some(((e,t,r)=>({point:e,width:t,height:r}))(o,r,n))},Ec=(e,t,r,n,o)=>e.map((e=>{const i=[t,e.point],s=(a=()=>yc(i),l=()=>yc(i),c=()=>(e=>{const t=V(e,mc);return vc(t)})(i),n.fold(a,l,c));var a,l,c;const h=(f=s.left,m=s.top,g=e.width,v=e.height,{x:f,y:m,width:g,height:v}),d=r.showAbove?ol():sl(),u=r.showAbove?il():al(),p=dc(o,r,d,u,d,u,T.none());var f,m,g,v;return oc({anchorBox:h,bubble:r.bubble.getOr(nc()),overrides:r.overrides,layouts:p,placer:T.none()})}));var Cc=[$n("node"),$n("root"),ro("bubble"),hc(),ho("overrides",{}),ho("showAbove",!1),Sa("placement",((e,t,r)=>{const n=xc(e,0,t);return t.node.filter(ft).bind((o=>{const i=o.dom.getBoundingClientRect(),s=_c(i.left,i.top,i.width,i.height),a=t.node.getOr(e.element);return Ec(s,n,t,r,a)}))}))];const Sc=(e,t,r,n)=>({start:e,soffset:t,finish:r,foffset:n}),kc=xo([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ac=(kc.before,kc.on,kc.after,e=>e.fold(w,w,w)),Pc=xo([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Tc={domRange:Pc.domRange,relative:Pc.relative,exact:Pc.exact,exactFromRange:e=>Pc.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Re(e.startContainer),relative:(e,t)=>Ac(e),exact:(e,t,r,n)=>e}))(e);return Qe(t)},range:Sc},Mc=(e,t,r)=>{const n=e.document.createRange();var o;return o=n,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,r)=>{e.setEnd(t.dom,r)}),(t=>{e.setEndAfter(t.dom)}))})(n,r),n},Oc=(e,t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},Dc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Ic=xo([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Rc=(e,t,r)=>t(Re(r.startContainer),r.startOffset,Re(r.endContainer),r.endOffset),Fc=(e,t)=>((e,t)=>{const r=((e,t)=>t.match({domRange:e=>({ltr:b(e),rtl:T.none}),relative:(t,r)=>({ltr:Zt((()=>Mc(e,t,r))),rtl:Zt((()=>T.some(Mc(e,r,t))))}),exact:(t,r,n,o)=>({ltr:Zt((()=>Oc(e,t,r,n,o))),rtl:Zt((()=>T.some(Oc(e,n,o,t,r))))})}))(e,t);return((e,t)=>{const r=t.ltr();return r.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Ic.rtl(Re(e.endContainer),e.endOffset,Re(e.startContainer),e.startOffset))).getOrThunk((()=>Rc(0,Ic.ltr,r))):Rc(0,Ic.ltr,r)})(0,r)})(e,t).match({ltr:(t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},rtl:(t,r,n,o)=>{const i=e.document.createRange();return i.setStart(n.dom,o),i.setEnd(t.dom,r),i}});Ic.ltr,Ic.rtl;const Bc=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return $e(r)?[]:V(r.querySelectorAll(e),Re)})(t,e),Nc=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),r=e.getRangeAt(e.rangeCount-1);return T.some(Sc(Re(t.startContainer),t.startOffset,Re(r.endContainer),r.endOffset))}return T.none()},Lc=e=>{if(null===e.anchorNode||null===e.focusNode)return Nc(e);{const t=Re(e.anchorNode),r=Re(e.focusNode);return((e,t,r,n)=>{const o=((e,t,r,n)=>{const o=Ye(e).dom.createRange();return o.setStart(e.dom,t),o.setEnd(r.dom,n),o})(e,t,r,n),i=Ze(e,r)&&t===n;return o.collapsed&&!i})(t,e.anchorOffset,r,e.focusOffset)?T.some(Sc(t,e.anchorOffset,r,e.focusOffset)):Nc(e)}},Vc=(e,t)=>(e=>{const t=e.getClientRects(),r=t.length>0?t[0]:e.getBoundingClientRect();return r.width>0||r.height>0?T.some(r).map(Dc):T.none()})(Fc(e,t)),zc=((e,t)=>{const r=t=>e(t)?T.from(t.dom.nodeValue):T.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return r(t).getOr("")},getOption:r,set:(t,r)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=r}}})(je),Hc=(e,t)=>({element:e,offset:t}),jc=(e,t)=>je(e)?Hc(e,t):((e,t)=>{const r=nt(e);if(0===r.length)return Hc(e,t);if(t<r.length)return Hc(r[t],0);{const e=r[r.length-1],t=je(e)?(e=>zc.get(e))(e).length:nt(e).length;return Hc(e,t)}})(e,t),Gc=(e,t)=>t.getSelection.getOrThunk((()=>()=>(e=>(e=>T.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(Lc))(e)))().map((e=>{const t=jc(e.start,e.soffset),r=jc(e.finish,e.foffset);return Tc.range(t.element,t.offset,r.element,r.offset)}));var Uc=[ro("getSelection"),$n("root"),ro("bubble"),hc(),ho("overrides",{}),ho("showAbove",!1),Sa("placement",((e,t,r)=>{const n=Qe(t.root).dom,o=xc(e,0,t),i=Gc(n,t).bind((e=>{const t=((e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?T.some(t).map(Dc):T.none()})(Fc(e,t)))(n,Tc.exactFromRange(e)).orThunk((()=>{const t=Ie("\ufeff");Tr(e.start,t);const r=Vc(n,Tc.exact(t,0,t,1));return Fr(t),r}));return t.bind((e=>_c(e.left,e.top,e.width,e.height)))})),s=Gc(n,t).bind((e=>He(e.start)?T.some(e.start):tt(e.start))).getOr(e.element);return Ec(i,o,t,r,s)}))];const qc="link-layout",Wc=e=>e.x+e.width,$c=(e,t)=>e.x-t.width,Zc=(e,t)=>e.y-t.height+e.height,Kc=e=>e.y,Yc=(e,t,r)=>Pa(Wc(e),Kc(e),r.southeast(),Ma(),"southeast",za(e,{left:0,top:2}),qc),Xc=(e,t,r)=>Pa($c(e,t),Kc(e),r.southwest(),Oa(),"southwest",za(e,{right:1,top:2}),qc),Jc=(e,t,r)=>Pa(Wc(e),Zc(e,t),r.northeast(),Da(),"northeast",za(e,{left:0,bottom:3}),qc),Qc=(e,t,r)=>Pa($c(e,t),Zc(e,t),r.northwest(),Ia(),"northwest",za(e,{right:1,bottom:3}),qc),eh=()=>[Yc,Xc,Jc,Qc],th=()=>[Xc,Yc,Qc,Jc];var rh=[$n("item"),hc(),ho("overrides",{}),Sa("placement",((e,t,r)=>{const n=Ol(r,t.item.element),o=dc(e.element,t,eh(),th(),eh(),th(),T.none());return T.some(oc({anchorBox:n,bubble:nc(),overrides:t.overrides,layouts:o,placer:T.none()}))}))],nh=Gn("type",{selection:Uc,node:Cc,hotspot:uc,submenu:rh,makeshift:pc});const oh=[to("classes",On),mo("mode","all",["all","layout","placement"])],ih=[ho("useFixed",k),ro("getBounds")],sh=[Zn("anchor",nh),co("transition",oh)],ah=(e,t,r,n,o,i,s)=>((e,t,r,n,o,i,s,a)=>{const l=Ql(s,"maxHeightFunction",Xl()),c=Ql(s,"maxWidthFunction",v),h=e.anchorBox,d=e.origin,u={bounds:Dl(d,i),origin:d,preference:n,maxHeightFunction:l,maxWidthFunction:c,lastPlacement:o,transition:a};return ec(h,t,r,u)})(((e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t))(r.anchorBox,t),o.element,r.bubble,r.layouts,i,n,r.overrides,s),lh=(e,t,r,n,o,i)=>{const s=i.map(qr);return ch(e,t,r,n,o,s)},ch=(e,t,r,n,o,i)=>{const s=Hn("placement.info",En(sh),o),a=s.anchor,l=n.element,c=r.get(n.uid);Sl((()=>{kt(l,"position","fixed");const o=Ot(l,"visibility");kt(l,"visibility","hidden");const h=t.useFixed()?(()=>{const e=document.documentElement;return Fl(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=Gt(e.element),r=e.element.dom.getBoundingClientRect();return Rl(t.left,t.top,r.width,r.height)})(e),d=a.placement,u=i.map(b).or(t.getBounds);d(e,a,h).each((t=>{const o=t.placer.getOr(ah)(e,h,t,u,n,c,s.transition);r.set(n.uid,o)})),o.fold((()=>{Rt(l,"visibility")}),(e=>{kt(l,"visibility",e)})),Ot(l,"left").isNone()&&Ot(l,"top").isNone()&&Ot(l,"right").isNone()&&Ot(l,"bottom").isNone()&&we(Ot(l,"position"),"fixed")&&Rt(l,"position")}),l)};var hh=Object.freeze({__proto__:null,position:(e,t,r,n,o)=>{lh(e,t,r,n,o,T.none())},positionWithin:lh,positionWithinBounds:ch,getMode:(e,t,r)=>t.useFixed()?"fixed":"absolute",reset:(e,t,r,n)=>{const o=n.element;z(["position","left","right","top","bottom"],(e=>Rt(o,e))),(e=>{Et(e,Bl)})(o),r.clear(n.uid)}});const dh=ml({fields:ih,name:"positioning",active:wl,apis:hh,state:Object.freeze({__proto__:null,init:()=>{let e={};return vs({readState:()=>e,clear:t=>{p(t)?delete e[t]:e={}},set:(t,r)=>{e[t]=r},get:t=>ve(e,t)})}})}),uh=e=>e.getSystem().isConnected(),ph=e=>{Ci(e,mi());const t=e.components();z(t,ph)},fh=e=>{const t=e.components();z(t,fh),Ci(e,fi())},mh=(e,t)=>{e.getSystem().addToWorld(t),ft(e.element)&&fh(t)},gh=e=>{ph(e),e.getSystem().removeFromWorld(e)},vh=(e,t)=>{Dr(e.element,t.element)},yh=(e,t)=>{bh(e,t,Dr)},bh=(e,t,r)=>{e.getSystem().addToWorld(t),r(e.element,t.element),ft(e.element)&&fh(t),e.syncComponents()},wh=e=>{ph(e),Fr(e.element),e.getSystem().removeFromWorld(e)},xh=e=>{const t=et(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));wh(e),t.each((e=>{e.syncComponents()}))},_h=e=>{const t=e.components();z(t,wh),Rr(e.element),e.syncComponents()},Eh=(e,t)=>{Ch(e,t,Dr)},Ch=(e,t,r)=>{r(e,t.element);const n=nt(t.element);z(n,(e=>{t.getByDom(e).each(fh)}))},Sh=e=>{const t=nt(e.element);z(t,(t=>{e.getByDom(t).each(ph)})),Fr(e.element)},kh=(e,t,r,n)=>{r.get().each((t=>{_h(e)}));const o=t.getAttachPoint(e);yh(o,e);const i=e.getSystem().build(n);return yh(e,i),r.set(i),i},Ah=(e,t,r,n)=>{const o=kh(e,t,r,n);return t.onOpen(e,o),o},Ph=(e,t,r)=>{r.get().each((n=>{_h(e),xh(e),t.onClose(e,n),r.clear()}))},Th=(e,t,r)=>r.isOpen(),Mh=(e,t,r)=>{const n=t.getAttachPoint(e);kt(e.element,"position",dh.getMode(n)),((e,t,r,n)=>{Ot(e.element,t).fold((()=>{Et(e.element,r)}),(t=>{yt(e.element,r,t)})),kt(e.element,t,"hidden")})(e,"visibility",t.cloakVisibilityAttr)},Oh=(e,t,r)=>{(e=>B(["top","left","right","bottom"],(t=>Ot(e,t).isSome())))(e.element)||Rt(e.element,"position"),((e,t,r)=>{xt(e.element,r).fold((()=>Rt(e.element,t)),(r=>kt(e.element,t,r)))})(e,"visibility",t.cloakVisibilityAttr)};var Dh=Object.freeze({__proto__:null,cloak:Mh,decloak:Oh,open:Ah,openWhileCloaked:(e,t,r,n,o)=>{Mh(e,t),Ah(e,t,r,n),o(),Oh(e,t)},close:Ph,isOpen:Th,isPartOf:(e,t,r,n)=>Th(0,0,r)&&r.get().exists((r=>t.isPartOf(e,r,n))),getState:(e,t,r)=>r.get(),setContent:(e,t,r,n)=>r.get().map((()=>kh(e,t,r,n)))}),Ih=Object.freeze({__proto__:null,events:(e,t)=>Mi([Ii(ai(),((r,n)=>{Ph(r,e,t)}))])}),Rh=[xa("onOpen"),xa("onClose"),$n("isPartOf"),$n("getAttachPoint"),ho("cloakVisibilityAttr","data-precloak-visibility")],Fh=Object.freeze({__proto__:null,init:()=>{const e=jl(),t=b("not-implemented");return vs({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Bh=ml({fields:Rh,name:"sandboxing",active:Ih,apis:Dh,state:Fh}),Nh=b("dismiss.popups"),Lh=b("reposition.popups"),Vh=b("mouse.released"),zh=_n([ho("isExtraPart",k),co("fireEventInstead",[ho("event",gi())])]),Hh=e=>{const t=Hn("Dismissal",zh,e);return{[Nh()]:{schema:_n([$n("target")]),onReceive:(e,r)=>{Bh.isOpen(e)&&(Bh.isPartOf(e,r.target)||t.isExtraPart(e,r.target)||t.fireEventInstead.fold((()=>Bh.close(e)),(t=>Ci(e,t.event))))}}}},jh=_n([co("fireEventInstead",[ho("event",vi())]),Jn("doReposition")]),Gh=e=>{const t=Hn("Reposition",jh,e);return{[Lh()]:{onReceive:e=>{Bh.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Ci(e,t.event)))}}}},Uh=(e,t,r)=>{t.store.manager.onLoad(e,t,r)},qh=(e,t,r)=>{t.store.manager.onUnload(e,t,r)};var Wh=Object.freeze({__proto__:null,onLoad:Uh,onUnload:qh,setValue:(e,t,r,n)=>{t.store.manager.setValue(e,t,r,n)},getValue:(e,t,r)=>t.store.manager.getValue(e,t,r),getState:(e,t,r)=>r}),$h=Object.freeze({__proto__:null,events:(e,t)=>{const r=e.resetOnDom?[Hi(((r,n)=>{Uh(r,e,t)})),ji(((r,n)=>{qh(r,e,t)}))]:[hl(e,t,Uh)];return Mi(r)}});const Zh=()=>{const e=wo(null);return vs({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},Kh=()=>{const e=wo({}),t=wo({});return vs({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:r=>ve(e.get(),r).orThunk((()=>ve(t.get(),r))),update:r=>{const n=e.get(),o=t.get(),i={},s={};z(r,(e=>{i[e.value]=e,ve(e,"meta").each((t=>{ve(t,"text").each((t=>{s[t]=e}))}))})),e.set({...n,...i}),t.set({...o,...s})},clear:()=>{e.set({}),t.set({})}})};var Yh=Object.freeze({__proto__:null,memory:Zh,dataset:Kh,manual:()=>vs({readState:v}),init:e=>e.store.manager.state(e)});const Xh=(e,t,r,n)=>{const o=t.store;r.update([n]),o.setValue(e,n),t.onSetValue(e,n)};var Jh=[ro("initialValue"),$n("getFallbackEntry"),$n("getDataKey"),$n("setValue"),Sa("manager",{setValue:Xh,getValue:(e,t,r)=>{const n=t.store,o=n.getDataKey(e);return r.lookup(o).getOrThunk((()=>n.getFallbackEntry(o)))},onLoad:(e,t,r)=>{t.store.initialValue.each((n=>{Xh(e,t,r,n)}))},onUnload:(e,t,r)=>{r.clear()},state:Kh})],Qh=[$n("getValue"),ho("setValue",v),ro("initialValue"),Sa("manager",{setValue:(e,t,r,n)=>{t.store.setValue(e,n),t.onSetValue(e,n)},getValue:(e,t,r)=>t.store.getValue(e),onLoad:(e,t,r)=>{t.store.initialValue.each((r=>{t.store.setValue(e,r)}))},onUnload:v,state:gs.init})],ed=[ro("initialValue"),Sa("manager",{setValue:(e,t,r,n)=>{r.set(n),t.onSetValue(e,n)},getValue:(e,t,r)=>r.get(),onLoad:(e,t,r)=>{t.store.initialValue.each((e=>{r.isNotSet()&&r.set(e)}))},onUnload:(e,t,r)=>{r.clear()},state:Zh})],td=[uo("store",{mode:"memory"},Gn("mode",{memory:ed,manual:Qh,dataset:Jh})),xa("onSetValue"),ho("resetOnDom",!1)];const rd=ml({fields:td,name:"representing",active:$h,apis:Wh,extra:{setValueFrom:(e,t)=>{const r=rd.getValue(t);rd.setValue(e,r)}},state:Yh}),nd=(e,t)=>bo(e,{},V(t,(t=>{return r=t.name(),n="Cannot configure "+t.name()+" for "+e,Un(r,r,{tag:"option",process:{}},gn((e=>rn("The field: "+r+" is forbidden. "+n))));var r,n})).concat([qn("dump",w)])),od=e=>e.dump,id=(e,t)=>({...pl(t),...e.dump}),sd=nd,ad=id,ld="placeholder",cd=xo([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),hd=e=>ye(e,"uiType"),dd=(e,t,r,n)=>((e,t,r,n)=>hd(r)&&r.uiType===ld?((e,t,r,n)=>e.exists((e=>e!==r.owner))?cd.single(!0,b(r)):ve(n,r.name).fold((()=>{throw new Error("Unknown placeholder component: "+r.name+"\nKnown: ["+se(n)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(r,null,2))}),(e=>e.replace())))(e,0,r,n):cd.single(!1,b(r)))(e,0,r,n).fold(((o,i)=>{const s=hd(r)?i(t,r.config,r.validated):i(t),a=ve(s,"components").getOr([]),l=Z(a,(r=>dd(e,t,r,n)));return[{...s,components:l}]}),((e,n)=>{if(hd(r)){const e=n(t,r.config,r.validated);return r.validated.preprocess.getOr(w)(e)}return n(t)})),ud=cd.single,pd=cd.multiple,fd=b(ld),md=xo([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),gd=ho("factory",{sketch:w}),vd=ho("schema",[]),yd=$n("name"),bd=Un("pname","pname",hn((e=>"<alloy."+Qi(e.name)+">")),Pn()),wd=qn("schema",(()=>[ro("preprocess")])),xd=ho("defaults",b({})),_d=ho("overrides",b({})),Ed=En([gd,vd,yd,bd,xd,_d]),Cd=En([gd,vd,yd,xd,_d]),Sd=En([gd,vd,yd,bd,xd,_d]),kd=En([gd,wd,yd,$n("unit"),bd,xd,_d]),Ad=e=>e.fold(T.some,T.none,T.some,T.some),Pd=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},Td=(e,t)=>r=>{const n=Hn("Converting part type",t,r);return e(n)},Md=Td(md.required,Ed),Od=Td(md.external,Cd),Dd=Td(md.optional,Sd),Id=Td(md.group,kd),Rd=b("entirety");var Fd=Object.freeze({__proto__:null,required:Md,external:Od,optional:Dd,group:Id,asNamedPart:Ad,name:Pd,asCommon:e=>e.fold(w,w,w,w),original:Rd});const Bd=(e,t,r,n)=>ln(t.defaults(e,r,n),r,{uid:e.partUids[t.name]},t.overrides(e,r,n)),Nd=(e,t)=>{const r={};return z(t,(t=>{Ad(t).each((t=>{const n=Ld(e,t.pname);r[t.name]=r=>{const o=Hn("Part: "+t.name+" in "+e,En(t.schema),r);return{...n,config:r,validated:o}}}))})),r},Ld=(e,t)=>({uiType:fd(),owner:e,name:t}),Vd=(e,t,r)=>({uiType:fd(),owner:e,name:t,config:r,validated:{}}),zd=e=>Z(e,(e=>e.fold(T.none,T.some,T.none,T.none).map((e=>Qn(e.name,e.schema.concat([ka(Rd())])))).toArray())),Hd=e=>V(e,Pd),jd=(e,t,r)=>((e,t,r)=>{const n={},o={};return z(r,(e=>{e.fold((e=>{n[e.pname]=ud(!0,((t,r,n)=>e.factory.sketch(Bd(t,e,r,n))))}),(e=>{const r=t.parts[e.name];o[e.name]=b(e.factory.sketch(Bd(t,e,r[Rd()]),r))}),(e=>{n[e.pname]=ud(!1,((t,r,n)=>e.factory.sketch(Bd(t,e,r,n))))}),(e=>{n[e.pname]=pd(!0,((t,r,n)=>{const o=t[e.name];return V(o,(r=>e.factory.sketch(ln(e.defaults(t,r,n),r,e.overrides(t,r)))))}))}))})),{internals:b(n),externals:b(o)}})(0,t,r),Gd=(e,t,r)=>((e,t,r,n)=>{const o=ce(n,((e,t)=>((e,t)=>{let r=!1;return{name:b(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>r,replace:()=>{if(r)throw new Error("Trying to use the same placeholder more than once: "+e);return r=!0,t}}})(t,e))),i=((e,t,r,n)=>Z(r,(r=>dd(e,t,r,n))))(e,t,r,o);return le(o,(r=>{if(!1===r.used()&&r.required())throw new Error("Placeholder: "+r.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i})(T.some(e),t,t.components,r),Ud=(e,t,r)=>{const n=t.partUids[r];return e.getSystem().getByUid(n).toOptional()},qd=(e,t,r)=>Ud(e,t,r).getOrDie("Could not find part: "+r),Wd=(e,t,r)=>{const n={},o=t.partUids,i=e.getSystem();return z(r,(e=>{n[e]=b(i.getByUid(o[e]))})),n},$d=(e,t)=>{const r=e.getSystem();return ce(t.partUids,((e,t)=>b(r.getByUid(e))))},Zd=e=>se(e.partUids),Kd=(e,t,r)=>{const n={},o=t.partUids,i=e.getSystem();return z(r,(e=>{n[e]=b(i.getByUid(o[e]).getOrDie())})),n},Yd=(e,t)=>{const r=Hd(t);return Eo(V(r,(t=>({key:t,value:e+"-"+t}))))},Xd=e=>Un("partUids","partUids",un((t=>Yd(t.uid,e))),Pn());var Jd=Object.freeze({__proto__:null,generate:Nd,generateOne:Vd,schemas:zd,names:Hd,substitutes:jd,components:Gd,defaultUids:Yd,defaultUidsSchema:Xd,getAllParts:$d,getAllPartNames:Zd,getPart:Ud,getPartOrDie:qd,getParts:Wd,getPartsOrDie:Kd});const Qd=(e,t,r,n,o)=>{const i=((e,t)=>(e.length>0?[Qn("parts",e)]:[]).concat([$n("uid"),ho("dom",{}),ho("components",[]),ka("originalSpec"),ho("debug.sketcher",{})]).concat(t))(n,o);return Hn(e+" [SpecSchema]",_n(i.concat(t)),r)},eu=(e,t,r,n,o)=>{const i=tu(o),s=zd(r),a=Xd(r),l=Qd(e,t,i,s,[a]),c=jd(0,l,r);return n(l,Gd(e,l,c.internals()),i,c.externals())},tu=e=>(e=>ye(e,"uid"))(e)?e:{...e,uid:ss("uid")},ru=_n([$n("name"),$n("factory"),$n("configFields"),ho("apis",{}),ho("extraApis",{})]),nu=_n([$n("name"),$n("factory"),$n("configFields"),$n("partFields"),ho("apis",{}),ho("extraApis",{})]),ou=e=>{const t=Hn("Sketcher for "+e.name,ru,e),r=ce(t.apis,ms),n=ce(t.extraApis,((e,t)=>ds(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,r,n)=>{const o=tu(n);return r(Qd(e,t,o,[],[]),o)})(t.name,t.configFields,t.factory,e),...r,...n}},iu=e=>{const t=Hn("Sketcher for "+e.name,nu,e),r=Nd(t.name,t.partFields),n=ce(t.apis,ms),o=ce(t.extraApis,((e,t)=>ds(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>eu(t.name,t.configFields,t.partFields,t.factory,e),parts:r,...n,...o}},su=e=>qe("input")(e)&&"radio"!==wt(e,"type")||qe("textarea")(e);var au=Object.freeze({__proto__:null,getCurrent:(e,t,r)=>t.find(e)});const lu=[$n("find")],cu=ml({fields:lu,name:"composing",apis:au}),hu=["input","button","textarea","select"],du=(e,t,r)=>{(t.disabled()?vu:yu)(e,t)},uu=(e,t)=>!0===t.useNative&&F(hu,Ve(e.element)),pu=e=>{yt(e.element,"disabled","disabled")},fu=e=>{Et(e.element,"disabled")},mu=e=>{yt(e.element,"aria-disabled","true")},gu=e=>{yt(e.element,"aria-disabled","false")},vu=(e,t,r)=>{t.disableClass.each((t=>{Os(e.element,t)})),(uu(e,t)?pu:mu)(e),t.onDisabled(e)},yu=(e,t,r)=>{t.disableClass.each((t=>{Ds(e.element,t)})),(uu(e,t)?fu:gu)(e),t.onEnabled(e)},bu=(e,t)=>uu(e,t)?(e=>_t(e.element,"disabled"))(e):(e=>"true"===wt(e.element,"aria-disabled"))(e);var wu=Object.freeze({__proto__:null,enable:yu,disable:vu,isDisabled:bu,onLoad:du,set:(e,t,r,n)=>{(n?vu:yu)(e,t)}}),xu=Object.freeze({__proto__:null,exhibit:(e,t)=>bs({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Mi([Oi(ni(),((t,r)=>bu(t,e))),hl(e,t,du)])}),_u=[vo("disabled",k),ho("useNative",!0),ro("disableClass"),xa("onDisabled"),xa("onEnabled")];const Eu=ml({fields:_u,name:"disabling",active:xu,apis:wu}),Cu=(e,t,r,n)=>{const o=Bc(e.element,"."+t.highlightClass);z(o,(r=>{B(n,(e=>Ze(e.element,r)))||(Ds(r,t.highlightClass),e.getSystem().getByDom(r).each((r=>{t.onDehighlight(e,r),Ci(r,Ei())})))}))},Su=(e,t,r,n)=>{Cu(e,t,0,[n]),ku(e,t,r,n)||(Os(n.element,t.highlightClass),t.onHighlight(e,n),Ci(n,_i()))},ku=(e,t,r,n)=>Is(n.element,t.highlightClass),Au=(e,t,r)=>oa(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),Pu=(e,t,r)=>{const n=Bc(e.element,"."+t.itemClass);return(n.length>0?T.some(n[n.length-1]):T.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},Tu=(e,t,r,n)=>{const o=Bc(e.element,"."+t.itemClass);return W(o,(e=>Is(e,t.highlightClass))).bind((t=>{const r=La(t,n,0,o.length-1);return e.getSystem().getByDom(o[r]).toOptional()}))},Mu=(e,t,r)=>{const n=Bc(e.element,"."+t.itemClass);return xe(V(n,(t=>e.getSystem().getByDom(t).toOptional())))};var Ou=Object.freeze({__proto__:null,dehighlightAll:(e,t,r)=>Cu(e,t,0,[]),dehighlight:(e,t,r,n)=>{ku(e,t,r,n)&&(Ds(n.element,t.highlightClass),t.onDehighlight(e,n),Ci(n,Ei()))},highlight:Su,highlightFirst:(e,t,r)=>{Au(e,t).each((n=>{Su(e,t,r,n)}))},highlightLast:(e,t,r)=>{Pu(e,t).each((n=>{Su(e,t,r,n)}))},highlightAt:(e,t,r,n)=>{((e,t,r,n)=>{const o=Bc(e.element,"."+t.itemClass);return T.from(o[n]).fold((()=>Yr.error(new Error("No element found with index "+n))),e.getSystem().getByDom)})(e,t,0,n).fold((e=>{throw e}),(n=>{Su(e,t,r,n)}))},highlightBy:(e,t,r,n)=>{const o=Mu(e,t);q(o,n).each((n=>{Su(e,t,r,n)}))},isHighlighted:ku,getHighlighted:(e,t,r)=>oa(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:Au,getLast:Pu,getPrevious:(e,t,r)=>Tu(e,t,0,-1),getNext:(e,t,r)=>Tu(e,t,0,1),getCandidates:Mu}),Du=[$n("highlightClass"),$n("itemClass"),xa("onHighlight"),xa("onDehighlight")];const Iu=ml({fields:Du,name:"highlighting",apis:Ou}),Ru=[8],Fu=[9],Bu=[13],Nu=[27],Lu=[32],Vu=[37],zu=[38],Hu=[39],ju=[40],Gu=(e,t,r)=>{const n=Y(e.slice(0,t)),o=Y(e.slice(t+1));return q(n.concat(o),r)},Uu=(e,t,r)=>{const n=Y(e.slice(0,t));return q(n,r)},qu=(e,t,r)=>{const n=e.slice(0,t),o=e.slice(t+1);return q(o.concat(n),r)},Wu=(e,t,r)=>{const n=e.slice(t+1);return q(n,r)},$u=e=>t=>{const r=t.raw;return F(e,r.which)},Zu=e=>t=>K(e,(e=>e(t))),Ku=e=>!0===e.raw.shiftKey,Yu=e=>!0===e.raw.ctrlKey,Xu=E(Ku),Ju=(e,t)=>({matches:e,classification:t}),Qu=(e,t,r)=>{t.exists((e=>r.exists((t=>Ze(t,e)))))||Si(e,yi(),{prevFocus:t,newFocus:r})},ep=()=>{const e=e=>Cl(e.element);return{get:e,set:(t,r)=>{const n=e(t);t.getSystem().triggerFocus(r,t.element);const o=e(t);Qu(t,n,o)}}},tp=()=>{const e=e=>Iu.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,r)=>{const n=e(t);t.getSystem().getByDom(r).fold(v,(e=>{Iu.highlight(t,e)}));const o=e(t);Qu(t,n,o)}}};var rp;!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(rp||(rp={}));const np=(e,t,r,n,o)=>{const i=(e,t,r,n,o)=>{return(i=r(e,t,n,o),s=t.event,q(i,(e=>e.matches(s))).map((e=>e.classification))).bind((r=>r(e,t,n,o)));var i,s},s={schema:()=>e.concat([ho("focusManager",ep()),uo("focusInside","onFocus",Nn((e=>F(["onFocus","onEnterOrSpace","onApi"],e)?Yr.value(e):Yr.error("Invalid value for focusInside")))),Sa("handler",s),Sa("state",t),Sa("sendFocusIn",o)]),processKey:i,toEvents:(e,t)=>{const s=e.focusInside!==rp.OnFocusMode?T.none():o(e).map((r=>Ii(Qo(),((n,o)=>{r(n,e,t),o.stop()})))),a=[Ii(jo(),((n,s)=>{i(n,s,r,e,t).fold((()=>{((r,n)=>{const i=$u(Lu.concat(Bu))(n.event);e.focusInside===rp.OnEnterOrSpaceMode&&i&&Ao(r,n)&&o(e).each((o=>{o(r,e,t),n.stop()}))})(n,s)}),(e=>{s.stop()}))})),Ii(Go(),((r,o)=>{i(r,o,n,e,t).each((e=>{o.stop()}))}))];return Mi(s.toArray().concat(a))}};return s},op=e=>{const t=[ro("onEscape"),ro("onEnter"),ho("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ho("firstTabstop",0),ho("useTabstopAt",A),ro("visibilitySelector")].concat([e]),r=(e,t)=>{const r=e.visibilitySelector.bind((e=>ia(t,e))).getOr(t);return Lt(r)>0},n=(e,t,n)=>{((e,t)=>{const n=Bc(e.element,t.selector),o=j(n,(e=>r(t,e)));return T.from(o[t.firstTabstop])})(e,t).each((r=>{t.focusManager.set(e,r)}))},o=(e,t,n,o)=>{const i=Bc(e.element,n.selector);return((e,t)=>t.focusManager.get(e).bind((e=>ia(e,t.selector))))(e,n).bind((t=>W(i,_(Ze,t)).bind((t=>((e,t,n,o,i)=>i(t,n,(e=>((e,t)=>r(e,t)&&e.useTabstopAt(t))(o,e))).fold((()=>o.cyclic?T.some(!0):T.none()),(t=>(o.focusManager.set(e,t),T.some(!0)))))(e,i,t,n,o)))))},i=b([Ju(Zu([Ku,$u(Fu)]),((e,t,r)=>{const n=r.cyclic?Gu:Uu;return o(e,0,r,n)})),Ju($u(Fu),((e,t,r)=>{const n=r.cyclic?qu:Wu;return o(e,0,r,n)})),Ju(Zu([Xu,$u(Bu)]),((e,t,r)=>r.onEnter.bind((r=>r(e,t)))))]),s=b([Ju($u(Nu),((e,t,r)=>r.onEscape.bind((r=>r(e,t)))))]);return np(t,gs.init,i,s,(()=>T.some(n)))};var ip=op(qn("cyclic",k)),sp=op(qn("cyclic",A));const ap=(e,t,r)=>su(r)&&$u(Lu)(t.event)?T.none():((e,t,r)=>(Ai(e,r,ni()),T.some(!0)))(e,0,r),lp=(e,t)=>T.some(!0),cp=[ho("execute",ap),ho("useSpace",!1),ho("useEnter",!0),ho("useControlEnter",!1),ho("useDown",!1)],hp=(e,t,r)=>r.execute(e,t,e.element);var dp=np(cp,gs.init,((e,t,r,n)=>{const o=r.useSpace&&!su(e.element)?Lu:[],i=r.useEnter?Bu:[],s=r.useDown?ju:[],a=o.concat(i).concat(s);return[Ju($u(a),hp)].concat(r.useControlEnter?[Ju(Zu([Yu,$u(Bu)]),hp)]:[])}),((e,t,r,n)=>r.useSpace&&!su(e.element)?[Ju($u(Lu),lp)]:[]),(()=>T.none()));const up=()=>{const e=jl();return vs({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,r)=>{e.set({numRows:t,numColumns:r})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var pp=Object.freeze({__proto__:null,flatgrid:up,init:e=>e.state(e)});const fp=e=>(t,r,n,o)=>{const i=e(t.element);return yp(i,t,r,n,o)},mp=(e,t)=>{const r=ic(e,t);return fp(r)},gp=(e,t)=>{const r=ic(t,e);return fp(r)},vp=e=>(t,r,n,o)=>yp(e,t,r,n,o),yp=(e,t,r,n,o)=>n.focusManager.get(t).bind((r=>e(t.element,r,n,o))).map((e=>(n.focusManager.set(t,e),!0))),bp=vp,wp=vp,xp=vp,_p=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),Ep=(e,t,r)=>{const n=Bc(e,r);return((e,r)=>W(e,(e=>Ze(e,t))).map((t=>({index:t,candidates:e}))))(j(n,_p))},Cp=(e,t)=>W(e,(e=>Ze(t,e))),Sp=(e,t,r,n)=>n(Math.floor(t/r),t%r).bind((t=>{const n=t.row*r+t.column;return n>=0&&n<e.length?T.some(e[n]):T.none()})),kp=(e,t,r,n,o)=>Sp(e,t,n,((t,i)=>{const s=t===r-1?e.length-t*n:n,a=La(i,o,0,s-1);return T.some({row:t,column:a})})),Ap=(e,t,r,n,o)=>Sp(e,t,n,((t,i)=>{const s=La(t,o,0,r-1),a=s===r-1?e.length-s*n:n,l=Va(i,0,a-1);return T.some({row:s,column:l})})),Pp=[$n("selector"),ho("execute",ap),_a("onEscape"),ho("captureTab",!1),Aa()],Tp=(e,t,r)=>{oa(e.element,t.selector).each((r=>{t.focusManager.set(e,r)}))},Mp=e=>(t,r,n,o)=>Ep(t,r,n.selector).bind((t=>e(t.candidates,t.index,o.getNumRows().getOr(n.initSize.numRows),o.getNumColumns().getOr(n.initSize.numColumns)))),Op=(e,t,r)=>r.captureTab?T.some(!0):T.none(),Dp=Mp(((e,t,r,n)=>kp(e,t,r,n,-1))),Ip=Mp(((e,t,r,n)=>kp(e,t,r,n,1))),Rp=Mp(((e,t,r,n)=>Ap(e,t,r,n,-1))),Fp=Mp(((e,t,r,n)=>Ap(e,t,r,n,1))),Bp=b([Ju($u(Vu),mp(Dp,Ip)),Ju($u(Hu),gp(Dp,Ip)),Ju($u(zu),bp(Rp)),Ju($u(ju),wp(Fp)),Ju(Zu([Ku,$u(Fu)]),Op),Ju(Zu([Xu,$u(Fu)]),Op),Ju($u(Lu.concat(Bu)),((e,t,r,n)=>((e,t)=>t.focusManager.get(e).bind((e=>ia(e,t.selector))))(e,r).bind((n=>r.execute(e,t,n)))))]),Np=b([Ju($u(Nu),((e,t,r)=>r.onEscape(e,t))),Ju($u(Lu),lp)]);var Lp=np(Pp,up,Bp,Np,(()=>T.some(Tp)));const Vp=(e,t,r,n)=>{const o=(e,t,r)=>{const i=La(t,n,0,r.length-1);return i===e?T.none():(s=r[i],"button"===Ve(s)&&"disabled"===wt(s,"disabled")?o(e,i,r):T.from(r[i]));var s};return Ep(e,r,t).bind((e=>{const t=e.index,r=e.candidates;return o(t,t,r)}))},zp=[$n("selector"),ho("getInitial",T.none),ho("execute",ap),_a("onEscape"),ho("executeOnMove",!1),ho("allowVertical",!0)],Hp=(e,t,r)=>((e,t)=>t.focusManager.get(e).bind((e=>ia(e,t.selector))))(e,r).bind((n=>r.execute(e,t,n))),jp=(e,t,r)=>{t.getInitial(e).orThunk((()=>oa(e.element,t.selector))).each((r=>{t.focusManager.set(e,r)}))},Gp=(e,t,r)=>Vp(e,r.selector,t,-1),Up=(e,t,r)=>Vp(e,r.selector,t,1),qp=e=>(t,r,n,o)=>e(t,r,n,o).bind((()=>n.executeOnMove?Hp(t,r,n):T.some(!0))),Wp=b([Ju($u(Lu),lp),Ju($u(Nu),((e,t,r)=>r.onEscape(e,t)))]);var $p=np(zp,gs.init,((e,t,r,n)=>{const o=Vu.concat(r.allowVertical?zu:[]),i=Hu.concat(r.allowVertical?ju:[]);return[Ju($u(o),qp(mp(Gp,Up))),Ju($u(i),qp(gp(Gp,Up))),Ju($u(Bu),Hp),Ju($u(Lu),Hp)]}),Wp,(()=>T.some(jp)));const Zp=(e,t,r)=>T.from(e[t]).bind((e=>T.from(e[r]).map((e=>({rowIndex:t,columnIndex:r,cell:e}))))),Kp=(e,t,r,n)=>{const o=e[t].length,i=La(r,n,0,o-1);return Zp(e,t,i)},Yp=(e,t,r,n)=>{const o=La(r,n,0,e.length-1),i=e[o].length,s=Va(t,0,i-1);return Zp(e,o,s)},Xp=(e,t,r,n)=>{const o=e[t].length,i=Va(r+n,0,o-1);return Zp(e,t,i)},Jp=(e,t,r,n)=>{const o=Va(r+n,0,e.length-1),i=e[o].length,s=Va(t,0,i-1);return Zp(e,o,s)},Qp=[Qn("selectors",[$n("row"),$n("cell")]),ho("cycles",!0),ho("previousSelector",T.none),ho("execute",ap)],ef=(e,t,r)=>{t.previousSelector(e).orThunk((()=>{const r=t.selectors;return oa(e.element,r.cell)})).each((r=>{t.focusManager.set(e,r)}))},tf=(e,t)=>(r,n,o)=>{const i=o.cycles?e:t;return ia(n,o.selectors.row).bind((e=>{const t=Bc(e,o.selectors.cell);return Cp(t,n).bind((t=>{const n=Bc(r,o.selectors.row);return Cp(n,e).bind((e=>{const r=((e,t)=>V(e,(e=>Bc(e,t.selectors.cell))))(n,o);return i(r,e,t).map((e=>e.cell))}))}))}))},rf=tf(((e,t,r)=>Kp(e,t,r,-1)),((e,t,r)=>Xp(e,t,r,-1))),nf=tf(((e,t,r)=>Kp(e,t,r,1)),((e,t,r)=>Xp(e,t,r,1))),of=tf(((e,t,r)=>Yp(e,r,t,-1)),((e,t,r)=>Jp(e,r,t,-1))),sf=tf(((e,t,r)=>Yp(e,r,t,1)),((e,t,r)=>Jp(e,r,t,1))),af=b([Ju($u(Vu),mp(rf,nf)),Ju($u(Hu),gp(rf,nf)),Ju($u(zu),bp(of)),Ju($u(ju),wp(sf)),Ju($u(Lu.concat(Bu)),((e,t,r)=>Cl(e.element).bind((n=>r.execute(e,t,n)))))]),lf=b([Ju($u(Lu),lp)]);var cf=np(Qp,gs.init,af,lf,(()=>T.some(ef)));const hf=[$n("selector"),ho("execute",ap),ho("moveOnTab",!1)],df=(e,t,r)=>r.focusManager.get(e).bind((n=>r.execute(e,t,n))),uf=(e,t,r)=>{oa(e.element,t.selector).each((r=>{t.focusManager.set(e,r)}))},pf=(e,t,r)=>Vp(e,r.selector,t,-1),ff=(e,t,r)=>Vp(e,r.selector,t,1),mf=b([Ju($u(zu),xp(pf)),Ju($u(ju),xp(ff)),Ju(Zu([Ku,$u(Fu)]),((e,t,r,n)=>r.moveOnTab?xp(pf)(e,t,r,n):T.none())),Ju(Zu([Xu,$u(Fu)]),((e,t,r,n)=>r.moveOnTab?xp(ff)(e,t,r,n):T.none())),Ju($u(Bu),df),Ju($u(Lu),df)]),gf=b([Ju($u(Lu),lp)]);var vf=np(hf,gs.init,mf,gf,(()=>T.some(uf)));const yf=[_a("onSpace"),_a("onEnter"),_a("onShiftEnter"),_a("onLeft"),_a("onRight"),_a("onTab"),_a("onShiftTab"),_a("onUp"),_a("onDown"),_a("onEscape"),ho("stopSpaceKeyup",!1),ro("focusIn")];var bf=np(yf,gs.init,((e,t,r)=>[Ju($u(Lu),r.onSpace),Ju(Zu([Xu,$u(Bu)]),r.onEnter),Ju(Zu([Ku,$u(Bu)]),r.onShiftEnter),Ju(Zu([Ku,$u(Fu)]),r.onShiftTab),Ju(Zu([Xu,$u(Fu)]),r.onTab),Ju($u(zu),r.onUp),Ju($u(ju),r.onDown),Ju($u(Vu),r.onLeft),Ju($u(Hu),r.onRight),Ju($u(Lu),r.onSpace)]),((e,t,r)=>[...r.stopSpaceKeyup?[Ju($u(Lu),lp)]:[],Ju($u(Nu),r.onEscape)]),(e=>e.focusIn));const wf=ip.schema(),xf=sp.schema(),_f=$p.schema(),Ef=Lp.schema(),Cf=cf.schema(),Sf=dp.schema(),kf=vf.schema(),Af=bf.schema(),Pf=vl({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:wf,cyclic:xf,flow:_f,flatgrid:Ef,matrix:Cf,execution:Sf,menu:kf,special:Af}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,r)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(n=>{n(e,t,r)}))},setGridSize:(e,t,r,n,o)=>{(e=>be(e,"setGridSize"))(r)?r.setGridSize(n,o):console.error("Layout does not support setGridSize")}},state:pp}),Tf=(e,t)=>{Sl((()=>{((e,t,r)=>{const n=e.components();(e=>{z(e.components(),(e=>Fr(e.element))),Rr(e.element),e.syncComponents()})(e);const o=r(t),i=X(n,o);z(i,(t=>{ph(t),e.getSystem().removeFromWorld(t)})),z(o,(t=>{uh(t)?vh(e,t):(e.getSystem().addToWorld(t),vh(e,t),ft(e.element)&&fh(t))})),e.syncComponents()})(e,t,(()=>V(t,e.getSystem().build)))}),e.element)},Mf=(e,t)=>{Sl((()=>{((r,n,o)=>{const i=r.components(),s=Z(n,(e=>fs(e).toArray()));z(i,(e=>{F(s,e)||gh(e)}));const a=((e,t,r)=>Vs(e,t,((t,n)=>zs(e,n,t,r))))(e.element,t,e.getSystem().buildOrPatch),l=X(i,a);z(l,(e=>{uh(e)&&gh(e)})),z(a,(e=>{uh(e)||mh(r,e)})),r.syncComponents()})(e,t)}),e.element)},Of=(e,t,r,n)=>{gh(t);const o=zs(e.element,r,n,e.getSystem().buildOrPatch);mh(e,o),e.syncComponents()},Df=(e,t,r)=>{const n=e.getSystem().build(r);bh(e,n,t)},If=(e,t,r,n)=>{xh(t),Df(e,((e,t)=>((e,t,r)=>{ot(e,r).fold((()=>{Dr(e,t)}),(e=>{Tr(e,t)}))})(e,t,r)),n)},Rf=(e,t)=>e.components(),Ff=(e,t,r,n,o)=>{const i=Rf(e);return T.from(i[n]).map((r=>(o.fold((()=>xh(r)),(o=>{(t.reuseDom?Of:If)(e,r,n,o)})),r)))};var Bf=Object.freeze({__proto__:null,append:(e,t,r,n)=>{Df(e,Dr,n)},prepend:(e,t,r,n)=>{Df(e,Or,n)},remove:(e,t,r,n)=>{const o=Rf(e),i=q(o,(e=>Ze(n.element,e.element)));i.each(xh)},replaceAt:Ff,replaceBy:(e,t,r,n,o)=>{const i=Rf(e);return W(i,n).bind((r=>Ff(e,t,0,r,o)))},set:(e,t,r,n)=>(t.reuseDom?Mf:Tf)(e,n),contents:Rf});const Nf=ml({fields:[go("reuseDom",!0)],name:"replacing",apis:Bf}),Lf=(e,t)=>{const r=((e,t)=>{const r=Mi(t);return ml({fields:[$n("enabled")],name:e,active:{events:b(r)}})})(e,t);return{key:e,value:{config:{},me:r,configAsRaw:b({}),initialConfig:{},state:gs}}},Vf=(e,t)=>{t.ignore||(xl(e.element),t.onFocus(e))};var zf=Object.freeze({__proto__:null,focus:Vf,blur:(e,t)=>{t.ignore||(e=>{e.dom.blur()})(e.element)},isFocused:e=>_l(e.element)}),Hf=Object.freeze({__proto__:null,exhibit:(e,t)=>{const r=t.ignore?{}:{attributes:{tabindex:"-1"}};return bs(r)},events:e=>Mi([Ii(Qo(),((t,r)=>{Vf(t,e),r.stop()}))].concat(e.stopMousedown?[Ii(Fo(),((e,t)=>{t.event.prevent()}))]:[]))}),jf=[xa("onFocus"),ho("stopMousedown",!1),ho("ignore",!1)];const Gf=ml({fields:jf,name:"focusing",active:Hf,apis:zf}),Uf=(e,t,r,n)=>{const o=r.get();r.set(n),((e,t,r)=>{t.toggleClass.each((t=>{r.get()?Os(e.element,t):Ds(e.element,t)}))})(e,t,r),((e,t,r)=>{const n=t.aria;n.update(e,n,r.get())})(e,t,r),o!==n&&t.onToggled(e,n)},qf=(e,t,r)=>{Uf(e,t,r,!r.get())},Wf=(e,t,r)=>{Uf(e,t,r,t.selected)};var $f=Object.freeze({__proto__:null,onLoad:Wf,toggle:qf,isOn:(e,t,r)=>r.get(),on:(e,t,r)=>{Uf(e,t,r,!0)},off:(e,t,r)=>{Uf(e,t,r,!1)},set:Uf}),Zf=Object.freeze({__proto__:null,exhibit:()=>bs({}),events:(e,t)=>{const r=(n=e,o=t,i=qf,Ui((e=>{i(e,n,o)})));var n,o,i;const s=hl(e,t,Wf);return Mi($([e.toggleOnExecute?[r]:[],[s]]))}});const Kf=(e,t,r)=>{yt(e.element,"aria-expanded",r)};var Yf=[ho("selected",!1),ro("toggleClass"),ho("toggleOnExecute",!0),xa("onToggled"),uo("aria",{mode:"none"},Gn("mode",{pressed:[ho("syncWithExpanded",!1),Sa("update",((e,t,r)=>{yt(e.element,"aria-pressed",r),t.syncWithExpanded&&Kf(e,0,r)}))],checked:[Sa("update",((e,t,r)=>{yt(e.element,"aria-checked",r)}))],expanded:[Sa("update",Kf)],selected:[Sa("update",((e,t,r)=>{yt(e.element,"aria-selected",r)}))],none:[Sa("update",v)]}))];const Xf=ml({fields:Yf,name:"toggling",active:Zf,apis:$f,state:(!1,{init:()=>{const e=wo(false);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(false),readState:()=>e.get()}}})});const Jf=()=>{const e=(e,t)=>{t.stop(),ki(e)};return[Ii(Wo(),e),Ii(ii(),e),Li(Oo()),Li(Fo())]},Qf=e=>Mi($([e.map((e=>Ui(((t,r)=>{e(t),r.stop()})))).toArray(),Jf()])),em="alloy.item-hover",tm="alloy.item-focus",rm="alloy.item-toggled",nm=e=>{(Cl(e.element).isNone()||Gf.isFocused(e))&&(Gf.isFocused(e)||Gf.focus(e),Si(e,em,{item:e}))},om=e=>{Si(e,tm,{item:e})},im=b(em),sm=b(tm),am=b(rm),lm=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),cm=[$n("data"),$n("components"),$n("dom"),ho("hasSubmenu",!1),ro("toggling"),sd("itemBehaviours",[Xf,Gf,Pf,rd]),ho("ignoreFocus",!1),ho("domModification",{}),Sa("builder",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:lm(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:ad(e.itemBehaviours,[e.toggling.fold(Xf.revoke,(e=>Xf.config((e=>({aria:{mode:"checked"},...pe(e,((e,t)=>"exclusive"!==t)),onToggled:(t,r)=>{f(e.onToggled)&&e.onToggled(t,r),((e,t)=>{Si(e,rm,{item:e,state:t})})(t,r)}}))(e)))),Gf.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{om(e)}}),Pf.config({mode:"execution"}),rd.config({store:{mode:"memory",initialValue:e.data}}),Lf("item-type-events",[...Jf(),Ii(Vo(),nm),Ii(oi(),Gf.focus)])]),components:e.components,eventOrder:e.eventOrder}))),ho("eventOrder",{})],hm=[$n("dom"),$n("components"),Sa("builder",(e=>({dom:e.dom,components:e.components,events:Mi([Vi(oi())])})))],dm=b("item-widget"),um=b([Md({name:"widget",overrides:e=>({behaviours:pl([rd.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]),pm=[$n("uid"),$n("data"),$n("components"),$n("dom"),ho("autofocus",!1),ho("ignoreFocus",!1),sd("widgetBehaviours",[rd,Gf,Pf]),ho("domModification",{}),Xd(um()),Sa("builder",(e=>{const t=jd(dm(),e,um()),r=Gd(dm(),e,t.internals()),n=t=>Ud(t,e,"widget").map((e=>(Pf.focusIn(e),e))),o=(t,r)=>su(r.event.target)?T.none():e.autofocus?(r.setSource(t.element),T.none()):T.none();return{dom:e.dom,components:r,domModification:e.domModification,events:Mi([Ui(((e,t)=>{n(e).each((e=>{t.stop()}))})),Ii(Vo(),nm),Ii(oi(),((t,r)=>{e.autofocus?n(t):Gf.focus(t)}))]),behaviours:ad(e.widgetBehaviours,[rd.config({store:{mode:"memory",initialValue:e.data}}),Gf.config({ignore:e.ignoreFocus,onFocus:e=>{om(e)}}),Pf.config({mode:"special",focusIn:e.autofocus?e=>{n(e)}:yl(),onLeft:o,onRight:o,onEscape:(t,r)=>Gf.isFocused(t)||e.autofocus?e.autofocus?(r.setSource(t.element),T.none()):T.none():(Gf.focus(t),T.some(!0))})])}}))],fm=Gn("type",{widget:pm,item:cm,separator:hm}),mm=b([Id({factory:{sketch:e=>{const t=Hn("menu.spec item",fm,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>ye(t,"uid")?t:{...t,uid:ss("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),gm=b([$n("value"),$n("items"),$n("dom"),$n("components"),ho("eventOrder",{}),nd("menuBehaviours",[Iu,rd,cu,Pf]),uo("movement",{mode:"menu",moveOnTab:!0},Gn("mode",{grid:[Aa(),Sa("config",((e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[Sa("config",((e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),$n("rowSelector"),ho("previousSelector",T.none)],menu:[ho("moveOnTab",!0),Sa("config",((e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),Zn("markers",ga()),ho("fakeFocus",!1),ho("focusManager",ep()),xa("onHighlight"),xa("onDehighlight")]),vm=b("alloy.menu-focus"),ym=iu({name:"Menu",configFields:gm(),partFields:mm(),factory:(e,t,r,n)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:id(e.menuBehaviours,[Iu.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),rd.config({store:{mode:"memory",initialValue:e.value}}),cu.config({find:T.some}),Pf.config(e.movement.config(e,e.movement))]),events:Mi([Ii(sm(),((e,t)=>{const r=t.event;e.getSystem().getByDom(r.target).each((r=>{Iu.highlight(e,r),t.stop(),Si(e,vm(),{menu:e,item:r})}))})),Ii(im(),((e,t)=>{const r=t.event.item;Iu.highlight(e,r)})),Ii(am(),((e,t)=>{const{item:r,state:n}=t.event;n&&"menuitemradio"===wt(r.element,"role")&&((e,t)=>{const r=Bc(e.element,'[role="menuitemradio"][aria-checked="true"]');z(r,(r=>{Ze(r,t.element)||e.getSystem().getByDom(r).each((e=>{Xf.off(e)}))}))})(e,r)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),bm=(e,t,r,n)=>ve(r,n).bind((n=>ve(e,n).bind((n=>{const o=bm(e,t,r,n);return T.some([n].concat(o))})))).getOr([]),wm=e=>"prepared"===e.type?T.some(e.menu):T.none(),xm=()=>{const e=wo({}),t=wo({}),r=wo({}),n=jl(),o=wo({}),i=e=>s(e).bind(wm),s=e=>ve(t.get(),e),a=t=>ve(e.get(),t);return{setMenuBuilt:(e,r)=>{t.set({...t.get(),[e]:{type:"prepared",menu:r}})},setContents:(i,s,a,l)=>{n.set(i),e.set(a),t.set(s),o.set(l);const c=((e,t)=>{const r={};le(e,((e,t)=>{z(e,(e=>{r[e]=t}))}));const n=t,o=he(t,((e,t)=>({k:e,v:t}))),i=ce(o,((e,t)=>[t].concat(bm(r,n,o,t))));return ce(r,(e=>ve(i,e).getOr([e])))})(l,a);r.set(c)},expand:t=>ve(e.get(),t).map((e=>{const n=ve(r.get(),t).getOr([]);return[e].concat(n)})),refresh:e=>ve(r.get(),e),collapse:e=>ve(r.get(),e).bind((e=>e.length>1?T.some(e.slice(1)):T.none())),lookupMenu:s,lookupItem:a,otherMenus:e=>{const t=o.get();return X(se(t),e)},getPrimary:()=>n.get().bind(i),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),r.set({}),n.clear()},isClear:()=>n.get().isNone(),getTriggeringPath:(t,o)=>{const s=j(a(t).toArray(),(e=>i(e).isSome()));return ve(r.get(),t).bind((t=>{const r=Y(s.concat(t));return(e=>{const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!n.isSome())return T.none();t.push(n.getOrDie())}return T.some(t)})(Z(r,((t,s)=>((t,r,n)=>i(t).bind((o=>(t=>me(e.get(),((e,r)=>e===t)))(t).bind((e=>r(e).map((e=>({triggeredMenu:o,triggeringItem:e,triggeringPath:n}))))))))(t,o,r.slice(0,s+1)).fold((()=>we(n.get(),t)?[]:[T.none()]),(e=>[T.some(e)])))))}))}}},_m=wm,Em=Qi("tiered-menu-item-highlight"),Cm=Qi("tiered-menu-item-dehighlight");var Sm;!function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"}(Sm||(Sm={}));const km=b("collapse-item"),Am=ou({name:"TieredMenu",configFields:[Ca("onExecute"),Ca("onEscape"),Ea("onOpenMenu"),Ea("onOpenSubmenu"),xa("onRepositionMenu"),xa("onCollapseMenu"),ho("highlightOnOpen",Sm.HighlightMenuAndItem),Qn("data",[$n("primary"),$n("menus"),$n("expansions")]),ho("fakeFocus",!1),xa("onHighlightItem"),xa("onDehighlightItem"),xa("onHover"),ya(),$n("dom"),ho("navigateOnHover",!0),ho("stayInDom",!1),nd("tmenuBehaviours",[Pf,Iu,cu,Nf]),ho("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const r=jl(),n=xm(),o=e=>rd.getValue(e).value,i=t=>ce(e.data.menus,((e,t)=>Z(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),s=Iu.highlight,a=(t,r)=>{s(t,r),Iu.getHighlighted(r).orThunk((()=>Iu.getFirst(r))).each((n=>{e.fakeFocus?Iu.highlight(r,n):Ai(t,n.element,oi())}))},l=(e,t)=>xe(V(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?T.some(e.menu):T.none()))))),c=(t,r,n)=>{const o=l(r,r.otherMenus(n));z(o,(r=>{Fs(r.element,[e.markers.backgroundMenu]),e.stayInDom||Nf.remove(t,r)}))},h=(t,n)=>{const i=(t=>r.get().getOrThunk((()=>{const n={},i=Bc(t.element,`.${e.markers.item}`),s=j(i,(e=>"true"===wt(e,"aria-haspopup")));return z(s,(e=>{t.getSystem().getByDom(e).each((e=>{const t=o(e);n[t]=e}))})),r.set(n),n})))(t);le(i,((e,t)=>{const r=F(n,t);yt(e.element,"aria-expanded",r)}))},d=(t,r,n)=>T.from(n[0]).bind((o=>r.lookupMenu(o).bind((o=>{if("notbuilt"===o.type)return T.none();{const i=o.menu,s=l(r,n.slice(1));return z(s,(t=>{Os(t.element,e.markers.backgroundMenu)})),ft(i.element)||Nf.append(t,Ys(i)),Fs(i.element,[e.markers.backgroundMenu]),a(t,i),c(t,r,n),T.some(i)}}))));let u;!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(u||(u={}));const p=(t,r,i=u.HighlightSubmenu)=>{if(r.hasConfigured(Eu)&&Eu.isDisabled(r))return T.some(r);{const s=o(r);return n.expand(s).bind((o=>(h(t,o),T.from(o[0]).bind((s=>n.lookupMenu(s).bind((a=>{const l=((e,t,r)=>{if("notbuilt"===r.type){const o=e.getSystem().build(r.nbMenu());return n.setMenuBuilt(t,o),o}return r.menu})(t,s,a);return ft(l.element)||Nf.append(t,Ys(l)),e.onOpenSubmenu(t,r,l,Y(o)),i===u.HighlightSubmenu?(Iu.highlightFirst(l),d(t,n,o)):(Iu.dehighlightAll(l),T.some(r))})))))))}},f=(t,r)=>{const i=o(r);return n.collapse(i).bind((o=>(h(t,o),d(t,n,o).map((n=>(e.onCollapseMenu(t,r,n),n))))))},m=t=>(r,n)=>ia(n.getSource(),`.${e.markers.item}`).bind((e=>r.getSystem().getByDom(e).toOptional().bind((e=>t(r,e).map(A))))),g=Mi([Ii(vm(),((e,t)=>{const r=t.event.item;n.lookupItem(o(r)).each((()=>{const r=t.event.menu;Iu.highlight(e,r);const i=o(t.event.item);n.refresh(i).each((t=>c(e,n,t)))}))})),Ui(((t,r)=>{const n=r.event.target;t.getSystem().getByDom(n).each((r=>{0===o(r).indexOf("collapse-item")&&f(t,r),p(t,r,u.HighlightSubmenu).fold((()=>{e.onExecute(t,r)}),v)}))})),Hi(((t,r)=>{(t=>{const r=((t,r,n)=>ce(n,((n,o)=>{const i=()=>ym.sketch({...n,value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{Si(e,Em,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{Si(e,Cm,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?tp():ep()});return o===r?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})))(t,e.data.primary,e.data.menus),o=i();return n.setContents(e.data.primary,r,e.data.expansions,o),n.getPrimary()})(t).each((r=>{Nf.append(t,Ys(r)),e.onOpenMenu(t,r),e.highlightOnOpen===Sm.HighlightMenuAndItem?a(t,r):e.highlightOnOpen===Sm.HighlightJustMenu&&s(t,r)}))})),Ii(Em,((t,r)=>{e.onHighlightItem(t,r.event.menuComp,r.event.itemComp)})),Ii(Cm,((t,r)=>{e.onDehighlightItem(t,r.event.menuComp,r.event.itemComp)})),...e.navigateOnHover?[Ii(im(),((t,r)=>{const i=r.event.item;((e,t)=>{const r=o(t);n.refresh(r).bind((t=>(h(e,t),d(e,n,t))))})(t,i),p(t,i,u.HighlightParent),e.onHover(t,i)}))]:[]]),y=e=>Iu.getHighlighted(e).bind(Iu.getHighlighted),b={collapseMenu:e=>{y(e).each((t=>{f(e,t)}))},highlightPrimary:e=>{n.getPrimary().each((t=>{a(e,t)}))},repositionMenus:t=>{const r=n.getPrimary().bind((e=>y(t).bind((e=>{const t=o(e),r=ge(n.getMenus()),i=xe(V(r,_m));return n.getTriggeringPath(t,(e=>((e,t,r)=>ie(t,(e=>{if(!e.getSystem().isConnected())return T.none();const t=Iu.getCandidates(e);return q(t,(e=>o(e)===r))})))(0,i,e)))})).map((t=>({primary:e,triggeringPath:t})))));r.fold((()=>{(e=>T.from(e.components()[0]).filter((e=>"menu"===wt(e.element,"role"))))(t).each((r=>{e.onRepositionMenu(t,r,[])}))}),(({primary:r,triggeringPath:n})=>{e.onRepositionMenu(t,r,n)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:id(e.tmenuBehaviours,[Pf.config({mode:"special",onRight:m(((e,t)=>su(t.element)?T.none():p(e,t,u.HighlightSubmenu))),onLeft:m(((e,t)=>su(t.element)?T.none():f(e,t))),onEscape:m(((t,r)=>f(t,r).orThunk((()=>e.onEscape(t,r).map((()=>t)))))),focusIn:(e,t)=>{n.getPrimary().each((t=>{Ai(e,t.element,oi())}))}}),Iu.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),cu.config({find:e=>Iu.getHighlighted(e)}),Nf.config({})]),eventOrder:e.eventOrder,apis:b,events:g}},extraApis:{tieredData:(e,t,r)=>({primary:e,menus:t,expansions:r}),singleData:(e,t)=>({primary:e,menus:_o(e,t),expansions:{}}),collapseItem:e=>({value:Qi(km()),meta:{text:e}})}}),Pm=ou({name:"InlineView",configFields:[$n("lazySink"),xa("onShow"),xa("onHide"),ao("onEscape"),nd("inlineBehaviours",[Bh,rd,bl]),co("fireDismissalEventInstead",[ho("event",gi())]),co("fireRepositionEventInstead",[ho("event",vi())]),ho("getRelated",T.none),ho("isExtraPart",k),ho("eventOrder",T.none)],factory:(e,t)=>{const r=(e,t,r,o)=>{n(e,t,r,(()=>o.map((e=>qr(e)))))},n=(t,r,n,o)=>{const i=e.lazySink(t).getOrDie();Bh.openWhileCloaked(t,r,(()=>dh.positionWithinBounds(i,t,n,o()))),rd.setValue(t,T.some({mode:"position",config:n,getBounds:o}))},o=(t,r,n,o)=>{const i=((e,t,r,n,o)=>{const i=()=>e.lazySink(t),s="horizontal"===n.type?{layouts:{onLtr:()=>sl(),onRtl:()=>al()}}:{},a=e=>(e=>2===e.length)(e)?s:{};return Am.sketch({dom:{tag:"div"},data:n.data,markers:n.menu.markers,highlightOnOpen:n.menu.highlightOnOpen,fakeFocus:n.menu.fakeFocus,onEscape:()=>(Bh.close(t),e.onEscape.map((e=>e(t))),T.some(!0)),onExecute:()=>T.some(!0),onOpenMenu:(e,t)=>{dh.positionWithinBounds(i().getOrDie(),t,r,o())},onOpenSubmenu:(e,t,r,n)=>{const o=i().getOrDie();dh.position(o,r,{anchor:{type:"submenu",item:t,...a(n)}})},onRepositionMenu:(e,t,n)=>{const s=i().getOrDie();dh.positionWithinBounds(s,t,r,o()),z(n,(e=>{const t=a(e.triggeringPath);dh.position(s,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})})(e,t,r,n,o);Bh.open(t,i),rd.setValue(t,T.some({mode:"menu",menu:i}))},i=t=>{Bh.isOpen(t)&&rd.getValue(t).each((r=>{switch(r.mode){case"menu":Bh.getState(t).each(Am.repositionMenus);break;case"position":const n=e.lazySink(t).getOrDie();dh.positionWithinBounds(n,t,r.config,r.getBounds())}}))},s={setContent:(e,t)=>{Bh.setContent(e,t)},showAt:(e,t,n)=>{r(e,t,n,T.none())},showWithin:r,showWithinBounds:n,showMenuAt:(e,t,r)=>{o(e,t,r,T.none)},showMenuWithinBounds:o,hide:e=>{Bh.isOpen(e)&&(rd.setValue(e,T.none()),Bh.close(e))},getContent:e=>Bh.getState(e),reposition:i,isOpen:Bh.isOpen};return{uid:e.uid,dom:e.dom,behaviours:id(e.inlineBehaviours,[Bh.config({isPartOf:(t,r,n)=>la(r,n)||((t,r)=>e.getRelated(t).exists((e=>la(e,r))))(t,n),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),rd.config({store:{mode:"memory",initialValue:T.none()}}),bl.config({channels:{...Hh({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Gh({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:i})}})]),eventOrder:e.eventOrder,apis:s}},apis:{showAt:(e,t,r,n)=>{e.showAt(t,r,n)},showWithin:(e,t,r,n,o)=>{e.showWithin(t,r,n,o)},showWithinBounds:(e,t,r,n,o)=>{e.showWithinBounds(t,r,n,o)},showMenuAt:(e,t,r,n)=>{e.showMenuAt(t,r,n)},showMenuWithinBounds:(e,t,r,n,o)=>{e.showMenuWithinBounds(t,r,n,o)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,r)=>{e.setContent(t,r)},reposition:(e,t)=>{e.reposition(t)}}});var Tm=tinymce.util.Tools.resolve("tinymce.util.Delay");const Mm=ou({name:"Button",factory:e=>{const t=Qf(e.action),r=e.dom.tag,n=t=>ve(e.dom,"attributes").bind((e=>ve(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:ad(e.buttonBehaviours,[Gf.config({}),Pf.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===r?{type:n("type").getOr("button"),...n("role").map((e=>({role:e}))).getOr({})}:{role:n("role").getOr("button")}},eventOrder:e.eventOrder}},configFields:[ho("uid",void 0),$n("dom"),ho("components",[]),sd("buttonBehaviours",[Gf,Pf]),ro("action"),ro("role"),ho("eventOrder",{})]}),Om=e=>{const t=(e=>void 0!==e.uid)(e)&&be(e,"uid")?e.uid:ss("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var Dm=tinymce.util.Tools.resolve("tinymce.util.I18n");const Im={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Rm="temporary-placeholder",Fm=e=>()=>ve(e,Rm).getOr("!not found!"),Bm=(e,t)=>{const r=e.toLowerCase();if(Dm.isRtl()){const e=((e,t)=>ke(e,t)?e:((e,t)=>e+"-rtl")(e))(r,"-rtl");return ye(t,e)?e:r}return r},Nm=(e,t)=>ve(t,Bm(e,t)),Lm=(e,t)=>{const r=t();return Nm(e,r).getOrThunk(Fm(r))},Vm=()=>Lf("add-focusable",[Hi((e=>{na(e.element,"svg").each((e=>yt(e,"focusable","false")))}))]),zm=(e,t,r,n)=>{var o,i;const s=(e=>!!Dm.isRtl()&&ye(Im,e))(t)?["tox-icon--flip"]:[],a=ve(r,Bm(t,r)).or(n).getOrThunk(Fm(r));return{dom:{tag:e.tag,attributes:null!==(o=e.attributes)&&void 0!==o?o:{},classes:e.classes.concat(s),innerHtml:a},behaviours:pl([...null!==(i=e.behaviours)&&void 0!==i?i:[],Vm()])}},Hm=(e,t,r,n=T.none())=>zm(t,e,r(),n),jm={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Gm=ou({name:"Notification",factory:e=>{const t=Om({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:pl([Nf.config({})])}),r=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),n=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),o=Om({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[r(0)]},n(0)],behaviours:pl([Nf.config({})])}),i={updateProgress:(e,t)=>{e.getSystem().isConnected()&&o.getOpt(e).each((e=>{Nf.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[r(t)]},n(t)])}))},updateText:(e,r)=>{if(e.getSystem().isConnected()){const n=t.get(e);Nf.set(n,[qs(r)])}}},s=$([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>T.from(jm[e]))).toArray()]),a=Om(Mm.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Hm("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),l=((e,t,r)=>{const n=r(),o=q(e,(e=>ye(n,Bm(e,n))));return zm({tag:"div",classes:["tox-notification__icon"]},o.getOr(Rm),n,T.none())})(s,0,e.iconProvider),c=[l,{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:pl([Nf.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:pl([Gf.config({}),Lf("notification-events",[Ii(zo(),(e=>{a.getOpt(e).each(Gf.focus)}))])]),components:c.concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[a.asSpec()]:[]),apis:i}},configFields:[ro("level"),$n("progress"),ro("icon"),$n("onAction"),$n("text"),$n("iconProvider"),$n("translationProvider"),go("closeButton",!0)],apis:{updateProgress:(e,t,r)=>{e.updateProgress(t,r)},updateText:(e,t,r)=>{e.updateText(t,r)}}});var Um,qm,Wm=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$m=tinymce.util.Tools.resolve("tinymce.EditorManager"),Zm=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(Um||(Um={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(qm||(qm={}));const Km=e=>t=>t.options.get(e),Ym=e=>t=>T.from(e(t)),Xm=e=>{const t=Zm.deviceType.isPhone(),r=Zm.deviceType.isTablet()||t,n=e.options.register,o=e=>i(e)||!1===e,s=e=>i(e)||m(e);n("skin",{processor:e=>i(e)||!1===e,default:"oxide"}),n("skin_url",{processor:"string"}),n("height",{processor:s,default:Math.max(e.getElement().offsetHeight,400)}),n("width",{processor:s,default:Wm.DOM.getStyle(e.getElement(),"width")}),n("min_height",{processor:"number",default:100}),n("min_width",{processor:"number"}),n("max_height",{processor:"number"}),n("max_width",{processor:"number"}),n("style_formats",{processor:"object[]"}),n("style_formats_merge",{processor:"boolean",default:!1}),n("style_formats_autohide",{processor:"boolean",default:!1}),n("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),n("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),n("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),n("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),n("content_langs",{processor:"object[]"}),n("removed_menuitems",{processor:"string",default:""}),n("menubar",{processor:e=>i(e)||h(e),default:!t}),n("menu",{processor:"object",default:{}}),n("toolbar",{processor:e=>h(e)||i(e)||l(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),N(9,(e=>{n("toolbar"+(e+1),{processor:"string"})})),n("toolbar_mode",{processor:"string",default:r?"scrolling":"floating"}),n("toolbar_groups",{processor:"object",default:{}}),n("toolbar_location",{processor:"string",default:qm.auto}),n("toolbar_persist",{processor:"boolean",default:!1}),n("toolbar_sticky",{processor:"boolean",default:e.inline}),n("toolbar_sticky_offset",{processor:"number",default:0}),n("fixed_toolbar_container",{processor:"string",default:""}),n("fixed_toolbar_container_target",{processor:"object"}),n("file_picker_callback",{processor:"function"}),n("file_picker_validator_handler",{processor:"function"}),n("file_picker_types",{processor:"string"}),n("typeahead_urls",{processor:"boolean",default:!0}),n("anchor_top",{processor:o,default:"#top"}),n("anchor_bottom",{processor:o,default:"#bottom"}),n("draggable_modal",{processor:"boolean",default:!1}),n("statusbar",{processor:"boolean",default:!0}),n("elementpath",{processor:"boolean",default:!0}),n("branding",{processor:"boolean",default:!0}),n("promotion",{processor:"boolean",default:!0}),n("resize",{processor:e=>"both"===e||h(e),default:!Zm.deviceType.isTouch()}),n("sidebar_show",{processor:"string"})},Jm=Km("readonly"),Qm=Km("height"),eg=Km("width"),tg=Ym(Km("min_width")),rg=Ym(Km("min_height")),ng=Ym(Km("max_width")),og=Ym(Km("max_height")),ig=Ym(Km("style_formats")),sg=Km("style_formats_merge"),ag=Km("style_formats_autohide"),lg=Km("content_langs"),cg=Km("removed_menuitems"),hg=Km("toolbar_mode"),dg=Km("toolbar_groups"),ug=Km("toolbar_location"),pg=Km("fixed_toolbar_container"),fg=Km("fixed_toolbar_container_target"),mg=Km("toolbar_persist"),gg=Km("toolbar_sticky_offset"),vg=Km("menubar"),yg=Km("toolbar"),bg=Km("file_picker_callback"),wg=Km("file_picker_validator_handler"),xg=Km("file_picker_types"),_g=Km("typeahead_urls"),Eg=Km("anchor_top"),Cg=Km("anchor_bottom"),Sg=Km("draggable_modal"),kg=Km("statusbar"),Ag=Km("elementpath"),Pg=Km("branding"),Tg=Km("resize"),Mg=Km("paste_as_text"),Og=Km("sidebar_show"),Dg=Km("promotion"),Ig=e=>!1===e.options.get("skin"),Rg=e=>!1!==e.options.get("menubar"),Fg=e=>{const t=e.options.get("skin_url");if(Ig(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return $m.baseURL+"/skins/ui/"+t}},Bg=e=>e.options.get("line_height_formats").split(" "),Ng=e=>{const t=yg(e),r=i(t),n=l(t)&&t.length>0;return!Vg(e)&&(n||r||!0===t)},Lg=e=>{const t=N(9,(t=>e.options.get("toolbar"+(t+1)))),r=j(t,i);return Ee(r.length>0,r)},Vg=e=>Lg(e).fold((()=>{const t=yg(e);return g(t,i)&&t.length>0}),A),zg=e=>ug(e)===qm.bottom,Hg=e=>{var t;if(!e.inline)return T.none();const r=null!==(t=pg(e))&&void 0!==t?t:"";if(r.length>0)return oa(mt(),r);const n=fg(e);return p(n)?T.some(Re(n)):T.none()},jg=e=>e.inline&&Hg(e).isSome(),Gg=e=>Hg(e).getOrThunk((()=>dt(ht(Re(e.getElement()))))),Ug=e=>e.inline&&!Rg(e)&&!Ng(e)&&!Vg(e),qg=e=>(e.options.get("toolbar_sticky")||e.inline)&&!jg(e)&&!Ug(e),Wg=e=>{const t=e.options.get("menu");return ce(t,(e=>({...e,items:e.items})))};var $g=Object.freeze({__proto__:null,get ToolbarMode(){return Um},get ToolbarLocation(){return qm},register:Xm,getSkinUrl:Fg,isReadOnly:Jm,isSkinDisabled:Ig,getHeightOption:Qm,getWidthOption:eg,getMinWidthOption:tg,getMinHeightOption:rg,getMaxWidthOption:ng,getMaxHeightOption:og,getUserStyleFormats:ig,shouldMergeStyleFormats:sg,shouldAutoHideStyleFormats:ag,getLineHeightFormats:Bg,getContentLanguages:lg,getRemovedMenuItems:cg,isMenubarEnabled:Rg,isMultipleToolbars:Vg,isToolbarEnabled:Ng,isToolbarPersist:mg,getMultipleToolbarsOption:Lg,getUiContainer:Gg,useFixedContainer:jg,getToolbarMode:hg,isDraggableModal:Sg,isDistractionFree:Ug,isStickyToolbar:qg,getStickyToolbarOffset:gg,getToolbarLocation:ug,isToolbarLocationBottom:zg,getToolbarGroups:dg,getMenus:Wg,getMenubar:vg,getToolbar:yg,getFilePickerCallback:bg,getFilePickerTypes:xg,useTypeaheadUrls:_g,getAnchorTop:Eg,getAnchorBottom:Cg,getFilePickerValidatorHandler:wg,useStatusBar:kg,useElementPath:Ag,promotionEnabled:Dg,useBranding:Pg,getResize:Tg,getPasteAsText:Mg,getSidebarShow:Og});const Zg="[data-mce-autocompleter]",Kg=e=>ia(e,Zg);var Yg;!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(Yg||(Yg={}));var Xg=Yg;const Jg="tox-menu-nav__js",Qg="tox-collection__item",ev={normal:Jg,color:"tox-swatch"},tv="tox-collection__item--enabled",rv="tox-collection__item-icon",nv="tox-collection__item-label",ov="tox-collection__item-caret",iv="tox-collection__item--active",sv="tox-collection__item-container",av="tox-collection__item-container--row",lv=e=>ve(ev,e).getOr(Jg),cv=e=>"color"===e?"tox-swatches":"tox-menu",hv=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:cv(e),tieredMenu:"tox-tiered-menu"}),dv=e=>{const t=hv(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:lv(e)}},uv=(e,t,r)=>{const n=hv(r);return{tag:"div",classes:$([[n.menu,`tox-menu-${t}-column`],e?[n.hasIcons]:[]])}},pv=[ym.parts.items({})],fv=(e,t,r)=>{const n=hv(r);return{dom:{tag:"div",classes:$([[n.tieredMenu]])},markers:dv(r)}},mv=b([ro("data"),ho("inputAttributes",{}),ho("inputStyles",{}),ho("tag","input"),ho("inputClasses",[]),xa("onSetValue"),ho("styles",{}),ho("eventOrder",{}),nd("inputBehaviours",[rd,Gf]),ho("selectOnFocus",!0)]),gv=e=>pl([Gf.config({onFocus:e.selectOnFocus?e=>{const t=e.element,r=Bs(t);t.dom.setSelectionRange(0,r.length)}:v})]),vv=e=>({...gv(e),...id(e.inputBehaviours,[rd.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>Bs(e.element),setValue:(e,t)=>{Bs(e.element)!==t&&Ns(e.element,t)}},onSetValue:e.onSetValue})])}),yv=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),bv=ou({name:"Input",configFields:mv(),factory:(e,t)=>({uid:e.uid,dom:yv(e),components:[],behaviours:vv(e),eventOrder:e.eventOrder})}),wv=Qi("refetch-trigger-event"),xv=Qi("redirect-menu-item-interaction"),_v=e=>oa(e.element,".tox-menu__searcher").bind((t=>e.getSystem().getByDom(t).toOptional())),Ev=_v,Cv=e=>({fetchPattern:rd.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),Sv=e=>{const t=(e,t)=>(t.cut(),T.none()),r=(e,t)=>{const r={interactionEvent:t.event,eventType:t.event.raw.type};return Si(e,xv,r),T.some(!0)},n="searcher-events";return{dom:{tag:"div",classes:[Qg]},components:[bv.sketch({inputClasses:["tox-menu__searcher","tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:pl([Lf(n,[Ii(Uo(),(e=>{Ci(e,wv)})),Ii(jo(),((e,t)=>{"Escape"===t.event.raw.key&&t.stop()}))]),Pf.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:r,onEscape:r,onUp:r,onDown:r})]),eventOrder:{keydown:[n,Pf.name()]}})]}},kv="tox-collection--results__js",Av=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:Qi("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Pv=(e,t)=>r=>{const n=L(r,t);return V(n,(t=>({dom:e,components:t})))},Tv=(e,t)=>{const r=[];let n=[];return z(e,((e,o)=>{t(e,o)?(n.length>0&&r.push(n),n=[],(ye(e.dom,"innerHtml")||e.components&&e.components.length>0)&&n.push(e)):n.push(e)})),n.length>0&&r.push(n),V(r,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},Mv=(e,t,r)=>ym.parts.items({preprocess:n=>{const o=V(n,r);return"auto"!==e&&e>1?Pv({tag:"div",classes:["tox-collection__group"]},e)(o):Tv(o,((e,r)=>"separator"===t[r].type))}}),Ov=(e,t,r=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Mv(e,t,w)]}),Dv=e=>B(e,(e=>"icon"in e&&void 0!==e.icon)),Iv=e=>(console.error(jn(e)),console.log(e),T.none()),Rv=(e,t,r,n,o)=>{const i=(s=r,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[ym.parts.items({preprocess:e=>Tv(e,((e,t)=>"separator"===s[t].type))})]});var s;return{value:e,dom:i.dom,components:i.components,items:r}},Fv=(e,t,r,n,o)=>{if("color"===o.menuType){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[ym.parts.items({preprocess:"auto"!==e?Pv({tag:"div",classes:["tox-swatches__row"]},e):w})]}]}))(n);return{value:e,dom:t.dom,components:t.components,items:r}}if("normal"===o.menuType&&"auto"===n){const t=Ov(n,r);return{value:e,dom:t.dom,components:t.components,items:r}}if("normal"===o.menuType||"searchable"===o.menuType){const t="searchable"!==o.menuType?Ov(n,r):"search-with-field"===o.searchMode.searchMode?((e,t,r)=>{const n=Qi("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Sv({i18n:Dm.translate,placeholder:r.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],kv],attributes:{id:n}},components:[Mv(e,t,Av)]}]}})(n,r,o.searchMode):((e,t,r=!0)=>{const n=Qi("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",kv].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[Mv(e,t,Av)]}})(n,r);return{value:e,dom:t.dom,components:t.components,items:r}}if("listpreview"===o.menuType&&"auto"!==n){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[ym.parts.items({preprocess:Pv({tag:"div",classes:["tox-collection__group"]},e)})]}))(n);return{value:e,dom:t.dom,components:t.components,items:r}}return{value:e,dom:uv(t,n,o.menuType),components:pv,items:r}},Bv=Yn("type"),Nv=Yn("name"),Lv=Yn("label"),Vv=Yn("text"),zv=Yn("title"),Hv=Yn("icon"),jv=Yn("value"),Gv=Jn("fetch"),Uv=Jn("getSubmenuItems"),qv=Jn("onAction"),Wv=Jn("onItemAction"),$v=vo("onSetup",(()=>v)),Zv=io("name"),Kv=io("text"),Yv=io("icon"),Xv=io("tooltip"),Jv=io("label"),Qv=io("shortcut"),ey=ao("select"),ty=go("active",!1),ry=go("borderless",!1),ny=go("enabled",!0),oy=go("primary",!1),iy=e=>ho("columns",e),sy=ho("meta",{}),ay=vo("onAction",v),ly=e=>fo("type",e),cy=e=>Un("name","name",hn((()=>Qi(`${e}-name`))),On),hy=En([Bv,Kv]),dy=En([ly("autocompleteitem"),ty,ny,sy,jv,Kv,Yv]),uy=[ny,Xv,Yv,Kv,$v],py=En([Bv,qv].concat(uy)),fy=e=>Vn("toolbarbutton",py,e),my=[ty].concat(uy),gy=En(my.concat([Bv,qv])),vy=e=>Vn("ToggleButton",gy,e),yy=[vo("predicate",k),mo("scope","node",["node","editor"]),mo("position","selection",["node","selection","line"])],by=uy.concat([ly("contextformbutton"),oy,qv,qn("original",w)]),wy=my.concat([ly("contextformbutton"),oy,qv,qn("original",w)]),xy=uy.concat([ly("contextformbutton")]),_y=my.concat([ly("contextformtogglebutton")]),Ey=Gn("type",{contextformbutton:by,contextformtogglebutton:wy}),Cy=En([ly("contextform"),vo("initValue",b("")),Jv,to("commands",Ey),no("launch",Gn("type",{contextformbutton:xy,contextformtogglebutton:_y}))].concat(yy)),Sy=En([ly("contexttoolbar"),Yn("items")].concat(yy)),ky=[Bv,Yn("src"),io("alt"),yo("classes",[],On)],Ay=En(ky),Py=[Bv,Vv,Zv,yo("classes",["tox-collection__item-label"],On)],Ty=En(Py),My=wn((()=>Bn("type",{cardimage:Ay,cardtext:Ty,cardcontainer:Oy}))),Oy=En([Bv,fo("direction","horizontal"),fo("align","left"),fo("valign","middle"),to("items",My)]),Dy=[ny,Kv,Qv,("menuitem",Un("value","value",hn((()=>Qi("menuitem-value"))),Pn())),sy];const Iy=En([Bv,Jv,to("items",My),$v,ay].concat(Dy)),Ry=En([Bv,ty,Yv].concat(Dy)),Fy=[Bv,Yn("fancytype"),ay],By=[ho("initData",{})].concat(Fy),Ny=[bo("initData",{},[go("allowCustomColors",!0),fo("storageKey","default"),lo("colors",Pn())])].concat(Fy),Ly=Gn("fancytype",{inserttable:By,colorswatch:Ny}),Vy=En([Bv,$v,ay,Yv].concat(Dy)),zy=En([Bv,Uv,$v,Yv].concat(Dy)),Hy=En([Bv,Yv,ty,$v,qv].concat(Dy)),jy=(e,t,r)=>{const n=Bc(e.element,"."+r);if(n.length>0){const e=W(n,(e=>{const r=e.dom.getBoundingClientRect().top,o=n[0].dom.getBoundingClientRect().top;return Math.abs(r-o)>t})).getOr(n.length);return T.some({numColumns:e,numRows:Math.ceil(n.length/e)})}return T.none()},Gy=e=>((e,t)=>pl([Lf(e,t)]))(Qi("unnamed-events"),e),Uy=Qi("tooltip.exclusive"),qy=Qi("tooltip.show"),Wy=Qi("tooltip.hide"),$y=(e,t,r)=>{e.getSystem().broadcastOn([Uy],{})};var Zy=Object.freeze({__proto__:null,hideAllExclusive:$y,setComponents:(e,t,r,n)=>{r.getTooltip().each((e=>{e.getSystem().isConnected()&&Nf.set(e,n)}))}}),Ky=Object.freeze({__proto__:null,events:(e,t)=>{const r=r=>{t.getTooltip().each((n=>{xh(n),e.onHide(r,n),t.clearTooltip()})),t.clearTimer()};return Mi($([[Ii(qy,(r=>{t.resetTimer((()=>{(r=>{if(!t.isShowing()){$y(r);const n=e.lazySink(r).getOrDie(),o=r.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Mi("normal"===e.mode?[Ii(Vo(),(e=>{Ci(r,qy)})),Ii(No(),(e=>{Ci(r,Wy)}))]:[]),behaviours:pl([Nf.config({})])});t.setTooltip(o),yh(n,o),e.onShow(r,o),dh.position(n,o,{anchor:e.anchor(r)})}})(r)}),e.delay)})),Ii(Wy,(n=>{t.resetTimer((()=>{r(n)}),e.delay)})),Ii(ri(),((e,t)=>{const n=t;n.universal||F(n.channels,Uy)&&r(e)})),ji((e=>{r(e)}))],"normal"===e.mode?[Ii(zo(),(e=>{Ci(e,qy)})),Ii(ei(),(e=>{Ci(e,Wy)})),Ii(Vo(),(e=>{Ci(e,qy)})),Ii(No(),(e=>{Ci(e,Wy)}))]:[Ii(_i(),((e,t)=>{Ci(e,qy)})),Ii(Ei(),(e=>{Ci(e,Wy)}))]]))}}),Yy=[$n("lazySink"),$n("tooltipDom"),ho("exclusive",!0),ho("tooltipComponents",[]),ho("delay",300),mo("mode","normal",["normal","follow-highlight"]),ho("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:b([Qa,Ja,Za,Ya,Ka,Xa]),onRtl:b([Qa,Ja,Za,Ya,Ka,Xa])}}))),xa("onHide"),xa("onShow")];const Xy=ml({fields:Yy,name:"tooltipping",active:Ky,state:Object.freeze({__proto__:null,init:()=>{const e=jl(),t=jl(),r=()=>{e.on(clearTimeout)},n=b("not-implemented");return vs({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:r,resetTimer:(t,n)=>{r(),e.set(setTimeout(t,n))},readState:n})}}),apis:Zy}),Jy="silver.readonly",Qy=En([("readonly",Zn("readonly",Dn))]);const eb=(e,t)=>{const r=e.mainUi.outerContainer.element,n=[e.mainUi.mothership,...e.uiMotherships];t&&z(n,(e=>{e.broadcastOn([Nh()],{target:r})})),z(n,(e=>{e.broadcastOn([Jy],{readonly:t})}))},tb=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&eb(t,!0)})),e.on("SwitchMode",(()=>eb(t,e.mode.isReadOnly()))),Jm(e)&&e.mode.set("readonly")},rb=()=>bl.config({channels:{[Jy]:{schema:Qy,onReceive:(e,t)=>{Eu.set(e,t.readonly)}}}}),nb=e=>Eu.config({disabled:e}),ob=e=>Eu.config({disabled:e,disableClass:"tox-tbtn--disabled"}),ib=e=>Eu.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),sb=(e,t)=>{const r=e.getApi(t);return e=>{e(r)}},ab=(e,t)=>Hi((r=>{sb(e,r)((r=>{const n=e.onSetup(r);f(n)&&t.set(n)}))})),lb=(e,t)=>ji((r=>sb(e,r)(t.get()))),cb=(e,t)=>Ui(((r,n)=>{sb(e,r)(e.onAction),e.triggersSubmenu||t!==Xg.CLOSE_ON_EXECUTE||(r.getSystem().isConnected()&&Ci(r,ai()),n.stop())})),hb={[ni()]:["disabling","alloy.base.behaviour","toggling","item-events"]},db=xe,ub=(e,t,r,n)=>{const o=wo(v);return{type:"item",dom:t.dom,components:db(t.optComponents),data:e.data,eventOrder:hb,hasSubmenu:e.triggersSubmenu,itemBehaviours:pl([Lf("item-events",[cb(e,r),ab(e,o),lb(e,o)]),(i=()=>!e.enabled||n.isDisabled(),Eu.config({disabled:i,disableClass:"tox-collection__item--state-disabled"})),rb(),Nf.config({})].concat(e.itemBehaviours))};var i},pb=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),fb=e=>{const t=Zm.os.isMacOS()||Zm.os.isiOS(),r=t?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},n=e.split("+"),o=V(n,(e=>{const t=e.toLowerCase().trim();return ye(r,t)?r[t]:e}));return t?o.join(""):o.join("+")},mb=(e,t,r=[rv])=>Hm(e,{tag:"div",classes:r},t),gb=e=>({dom:{tag:"div",classes:[nv]},components:[qs(Dm.translate(e))]}),vb=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),yb=(e,t)=>({dom:{tag:"div",classes:[nv]},components:[{dom:{tag:e.tag,styles:e.styles},components:[qs(Dm.translate(t))]}]}),bb=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[qs(fb(e))]}),wb=e=>mb("checkmark",e,["tox-collection__item-checkmark"]),xb=e=>{const t=e.map((e=>({attributes:{title:Dm.translate(e)}}))).getOr({});return{tag:"div",classes:[Jg,Qg],...t}},_b=(e,t,r,n=T.none())=>"color"===e.presets?((e,t,r)=>{const n=e.ariaLabel,o=e.value,i=e.iconContent.map((e=>((e,t,r)=>{const n=t();return Nm(e,n).or(r).getOrThunk(Fm(n))})(e,t.icons,r)));return{dom:(()=>{const e=i.getOr(""),r=n.map((e=>({title:t.translate(e)}))).getOr({}),s={tag:"div",attributes:r,classes:["tox-swatch"]};return"custom"===o?{...s,tag:"button",classes:[...s.classes,"tox-swatches__picker-btn"],innerHtml:e}:"remove"===o?{...s,classes:[...s.classes,"tox-swatch--remove"],innerHtml:e}:p(o)?{...s,attributes:{...s.attributes,"data-mce-color":o},styles:{"background-color":o},innerHtml:e}:s})(),optComponents:[]}})(e,t,n):((e,t,r,n)=>{const o={tag:"div",classes:[rv]},i=r?e.iconContent.map((e=>Hm(e,o,t.icons,n))).orThunk((()=>T.some({dom:o}))):T.none(),s=e.checkMark,a=T.from(e.meta).fold((()=>gb),(e=>ye(e,"style")?_(yb,e.style):gb)),l=e.htmlContent.fold((()=>e.textContent.map(a)),(e=>T.some(vb(e,[nv]))));return{dom:xb(e.ariaLabel),optComponents:[i,l,e.shortcutContent.map(bb),s,e.caret]}})(e,t,r,n),Eb=(e,t)=>ve(e,"tooltipWorker").map((e=>[Xy.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:Jl}}),mode:"follow-highlight",onShow:(t,r)=>{e((e=>{Xy.setComponents(t,[Ws({element:Re(e)})])}))}})])).getOr([]),Cb=(e,t)=>{const r=(e=>Wm.DOM.encode(e))(Dm.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"gi");return r.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return r},Sb=(e,t)=>V(e,(e=>{switch(e.type){case"cardcontainer":return((e,t)=>{const r="vertical"===e.direction?"tox-collection__item-container--column":av,n="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[sv,r,n,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}})(e,Sb(e.items,t));case"cardimage":return((e,t,r)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:r.getOr("")}}}))(e.src,e.classes,e.alt);case"cardtext":const r=e.name.exists((e=>F(t.cardText.highlightOn,e))),n=r?T.from(t.cardText.matchText).getOr(""):"";return vb(Cb(e.text,n),e.classes)}})),kb=Nd(dm(),um()),Ab=e=>({value:e}),Pb=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Tb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Mb=e=>Pb.test(e)||Tb.test(e),Ob=e=>{return(t=e,((e,t)=>Ce(e,t,0))(t,"#")?((e,t)=>e.substring(t))(t,"#".length):t).toUpperCase();var t},Db=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Ib=e=>{const t=Db(e.red)+Db(e.green)+Db(e.blue);return Ab(t)},Rb=Math.min,Fb=Math.max,Bb=Math.round,Nb=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Lb=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Vb=(e,t,r,n)=>({red:e,green:t,blue:r,alpha:n}),zb=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},Hb=e=>{let t,r,n;const o=(e.hue||0)%360;let i=e.saturation/100,s=e.value/100;if(i=Fb(0,Rb(i,1)),s=Fb(0,Rb(s,1)),0===i)return t=r=n=Bb(255*s),Vb(t,r,n,1);const a=o/60,l=s*i,c=l*(1-Math.abs(a%2-1)),h=s-l;switch(Math.floor(a)){case 0:t=l,r=c,n=0;break;case 1:t=c,r=l,n=0;break;case 2:t=0,r=l,n=c;break;case 3:t=0,r=c,n=l;break;case 4:t=c,r=0,n=l;break;case 5:t=l,r=0,n=c;break;default:t=r=n=0}return t=Bb(255*(t+h)),r=Bb(255*(r+h)),n=Bb(255*(n+h)),Vb(t,r,n,1)},jb=e=>{const t=(e=>{const t=(e=>{const t=e.value.replace(Pb,((e,t,r,n)=>t+t+r+r+n+n));return{value:t}})(e),r=Tb.exec(t.value);return null===r?["FFFFFF","FF","FF","FF"]:r})(e),r=parseInt(t[1],16),n=parseInt(t[2],16),o=parseInt(t[3],16);return Vb(r,n,o,1)},Gb=(e,t,r,n)=>{const o=parseInt(e,10),i=parseInt(t,10),s=parseInt(r,10),a=parseFloat(n);return Vb(o,i,s,a)},Ub=e=>{if("transparent"===e)return T.some(Vb(0,0,0,0));const t=Nb.exec(e);if(null!==t)return T.some(Gb(t[1],t[2],t[3],"1"));const r=Lb.exec(e);return null!==r?T.some(Gb(r[1],r[2],r[3],r[4])):T.none()},qb=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Wb=Vb(255,0,0,1),$b=(e,t)=>{e.dispatch("ResizeContent",t)},Zb=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t});var Kb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const Yb={},Xb=e=>ve(Yb,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,r=Kb.getItem(t);if(u(r)){const e=Kb.getItem("tinymce-custom-colors");Kb.setItem(t,p(e)?e:"[]")}const n=((e,t=10)=>{const r=Kb.getItem(e),n=i(r)?JSON.parse(r):[],o=t-(s=n).length<0?s.slice(0,t):s;var s;const a=e=>{o.splice(e,1)};return{add:r=>{R(o,r).each(a),o.unshift(r),o.length>t&&o.pop(),Kb.setItem(e,JSON.stringify(o))},state:()=>o.slice(0)}})(t,10);return Yb[e]=n,n})),Jb=(e,t)=>{Xb(e).add(t)},Qb=(e,t,r)=>({hue:e,saturation:t,value:r}),ew=e=>{let t=0,r=0,n=0;const o=e.red/255,i=e.green/255,s=e.blue/255,a=Math.min(o,Math.min(i,s)),l=Math.max(o,Math.max(i,s));return a===l?(n=a,Qb(0,0,100*n)):(t=o===a?3:s===a?1:5,t=60*(t-(o===a?i-s:s===a?o-i:s-o)/(l-a)),r=(l-a)/l,n=l,Qb(Math.round(t),Math.round(100*r),Math.round(100*n)))},tw=e=>Ib(Hb(e)),rw=e=>{return(t=e,Mb(t)?T.some({value:Ob(t)}):T.none()).orThunk((()=>Ub(e).map(Ib))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const r=t.getContext("2d");r.clearRect(0,0,t.width,t.height),r.fillStyle="#FFFFFF",r.fillStyle=e,r.fillRect(0,0,1,1);const n=r.getImageData(0,0,1,1).data,o=n[0],i=n[1],s=n[2],a=n[3];return Ib(Vb(o,i,s,a))}));var t},nw="forecolor",ow="hilitecolor",iw=e=>Math.max(5,Math.ceil(Math.sqrt(e))),sw=e=>{const t=[];for(let r=0;r<e.length;r+=2)t.push({text:e[r+1],value:"#"+rw(e[r]).value,icon:"checkmark",type:"choiceitem"});return t},aw=e=>t=>t.options.get(e),lw="#000000",cw=(e,t)=>t===nw?aw("color_cols_foreground")(e):t===ow?aw("color_cols_background")(e):aw("color_cols")(e),hw=aw("custom_colors"),dw=(e,t)=>t===nw&&e.options.isSet("color_map_foreground")?aw("color_map_foreground")(e):t===ow&&e.options.isSet("color_map_background")?aw("color_map_background")(e):aw("color_map")(e),uw=aw("color_default_foreground"),pw=aw("color_default_background"),fw=(e,t)=>{const r=Tt(Re(e.selection.getStart()),"hilitecolor"===t?"background-color":"color");return Ub(r).map((e=>"#"+Ib(e).value))},mw=e=>{const t="choiceitem",r={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[r,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[r]},gw=(e,t,r,n)=>{"custom"===r?_w(e)((r=>{r.each((r=>{Jb(t,r),e.execCommand("mceApplyTextcolor",t,r),n(r)}))}),fw(e,t).getOr(lw)):"remove"===r?(n(""),e.execCommand("mceRemoveTextcolor",t)):(n(r),e.execCommand("mceApplyTextcolor",t,r))},vw=(e,t,r)=>e.concat((e=>V(Xb(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}))))(t).concat(mw(r))),yw=(e,t,r)=>n=>{n(vw(e,t,r))},bw=(e,t,r)=>{const n="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(n,r)},ww=(e,t,r,n,o)=>{e.ui.registry.addSplitButton(t,{tooltip:n,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:t=>{const n=fw(e,r);return we(n,t.toUpperCase())},columns:cw(e,r),fetch:yw(dw(e,r),r,hw(e)),onAction:t=>{gw(e,r,o.get(),v)},onItemAction:(n,i)=>{gw(e,r,i,(r=>{o.set(r),((e,t)=>{e.dispatch("TextColorChange",t)})(e,{name:t,color:r})}))},onSetup:r=>{bw(r,t,o.get());const n=e=>{e.name===t&&bw(r,e.name,e.color)};return e.on("TextColorChange",n),()=>{e.off("TextColorChange",n)}}})},xw=(e,t,r,n)=>{e.ui.registry.addNestedMenuItem(t,{text:n,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",initData:{storageKey:r},onAction:t=>{gw(e,r,t.value,v)}}]})},_w=e=>(t,r)=>{let n=!1;const o={colorpicker:r};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:(e,t)=>{"hex-valid"===t.name&&(n=t.value)},onSubmit:r=>{const o=r.getData().colorpicker;n?(t(T.from(o)),r.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",o]))},onClose:v,onCancel:()=>{t(T.none())}})},Ew=(e,t,r,n,o,i,s,a)=>{const l=Dv(t),c=Cw(t,r,n,"color"!==o?"normal":"color",i,s,a);return Fv(e,l,c,n,{menuType:o})},Cw=(e,t,r,n,o,i,s)=>xe(V(e,(a=>{return"choiceitem"===a.type?(l=a,Vn("choicemenuitem",Ry,l)).fold(Iv,(a=>T.some(((e,t,r,n,o,i,s,a=!0)=>{const l=_b({presets:r,textContent:t?e.text:T.none(),htmlContent:T.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:T.none(),checkMark:t?T.some(wb(s.icons)):T.none(),caret:T.none(),value:e.value},s,a);return ln(ub({data:pb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Xf.set(e,t)},isActive:()=>Xf.isOn(e),isEnabled:()=>!Eu.isDisabled(e),setEnabled:t=>Eu.set(e,!t)}),onAction:t=>n(e.value),onSetup:e=>(e.setActive(o),v),triggersSubmenu:!1,itemBehaviours:[]},l,i,s),{toggling:{toggleClass:tv,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(a,1===r,n,t,i(a.value),o,s,Dv(e))))):T.none();var l}))),Sw=(e,t)=>{const r=dv(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+r.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?oa(e.element,"[aria-checked=true]"):T.none()}},kw=Qi("cell-over"),Aw=Qi("cell-execute"),Pw=(e,t,r)=>{const n=r=>Si(r,Aw,{row:e,col:t}),o=(e,t)=>{t.stop(),n(e)};return Ks({dom:{tag:"div",attributes:{role:"button","aria-labelledby":r}},behaviours:pl([Lf("insert-table-picker-cell",[Ii(Vo(),Gf.focus),Ii(ni(),n),Ii(Wo(),o),Ii(ii(),o)]),Xf.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Gf.config({onFocus:r=>Si(r,kw,{row:e,col:t})})])})},Tw=e=>Z(e,(e=>V(e,Ys))),Mw=(e,t)=>qs(`${t}x${e}`),Ow={inserttable:e=>{const t=Qi("size-label"),r=((e,t,r)=>{const n=[];for(let t=0;t<10;t++){const r=[];for(let n=0;n<10;n++)r.push(Pw(t,n,e));n.push(r)}return n})(t),n=Mw(0,0),o=Om({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[n],behaviours:pl([Nf.config({})])});return{type:"widget",data:{value:Qi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[kb.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Tw(r).concat(o.asSpec()),behaviours:pl([Lf("insert-table-picker",[Hi((e=>{Nf.set(o.get(e),[n])})),Ni(kw,((e,t,n)=>{const{row:i,col:s}=n.event;((e,t,r,n,o)=>{for(let n=0;n<10;n++)for(let o=0;o<10;o++)Xf.set(e[n][o],n<=t&&o<=r)})(r,i,s),Nf.set(o.get(e),[Mw(i+1,s+1)])})),Ni(Aw,((t,r,n)=>{const{row:o,col:i}=n.event;e.onAction({numRows:o+1,numColumns:i+1}),Ci(t,ai())}))]),Pf.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{const r=((e,t)=>{const r=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>vw(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,r)),(e=>e.concat(mw(r))))})(e,t),n=t.colorinput.getColorCols(e.initData.storageKey),o="color",i={...Ew(Qi("menu-value"),r,(t=>{e.onAction({value:t})}),n,o,Xg.CLOSE_ON_EXECUTE,k,t.shared.providers),markers:dv(o),movement:Sw(n,o)};return{type:"widget",data:{value:Qi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[kb.widget(ym.sketch(i))]}}},Dw=e=>({type:"separator",dom:{tag:"div",classes:[Qg,"tox-collection__group-heading"]},components:e.text.map(qs).toArray()});var Iw=Object.freeze({__proto__:null,getCoupled:(e,t,r,n)=>r.getOrCreate(e,t,n),getExistingCoupled:(e,t,r,n)=>r.getExisting(e,t,n)}),Rw=[Zn("others",Ln(Yr.value,Pn()))],Fw=Object.freeze({__proto__:null,init:()=>{const e={},t=(t,r)=>{if(0===se(t.others).length)throw new Error("Cannot find any known coupled components");return ve(e,r)},r=b({});return vs({readState:r,getExisting:(e,r,n)=>t(r,n).orThunk((()=>(ve(r.others,n).getOrDie("No information found for coupled component: "+n),T.none()))),getOrCreate:(r,n,o)=>t(n,o).getOrThunk((()=>{const t=ve(n.others,o).getOrDie("No information found for coupled component: "+o)(r),i=r.getSystem().build(t);return e[o]=i,i}))})}});const Bw=ml({fields:Rw,name:"coupling",apis:Iw,state:Fw}),Nw=e=>{let t=T.none(),r=[];const n=e=>{o()?i(e):r.push(e)},o=()=>t.isSome(),i=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{o()||(t=T.some(e),z(r,i),r=[])})),{get:n,map:e=>Nw((t=>{n((r=>{t(e(r))}))})),isReady:o}},Lw={nu:Nw,pure:e=>Nw((t=>{t(e)}))},Vw=e=>{setTimeout((()=>{throw e}),0)},zw=e=>{const t=t=>{e().then(t,Vw)};return{map:t=>zw((()=>e().then(t))),bind:t=>zw((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>zw((()=>e().then((()=>t.toPromise())))),toLazy:()=>Lw.nu(t),toCached:()=>{let t=null;return zw((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},Hw=e=>zw((()=>new Promise(e))),jw=e=>zw((()=>Promise.resolve(e))),Gw=b("sink"),Uw=b(Dd({name:Gw(),overrides:b({dom:{tag:"div"},behaviours:pl([dh.config({useFixed:A})]),events:Mi([Li(jo()),Li(Fo()),Li(Wo())])})})),qw=(e,t)=>{const r=e.getHotspot(t).getOr(t),n="hotspot",o=e.getAnchorOverrides();return e.layouts.fold((()=>({type:n,hotspot:r,overrides:o})),(e=>({type:n,hotspot:r,overrides:o,layouts:e})))},Ww=(e,t,r,n,o,i,s)=>{const a=((e,t,r,n,o,i,s)=>{const a=((e,t,r)=>(0,e.fetch)(r).map(t))(e,t,n),l=Kw(n,e);return a.map((e=>e.bind((e=>T.from(Am.sketch({...i.menu(),uid:ss(""),data:e,highlightOnOpen:s,onOpenMenu:(e,t)=>{const n=l().getOrDie();dh.position(n,t,{anchor:r}),Bh.decloak(o)},onOpenSubmenu:(e,t,r)=>{const n=l().getOrDie();dh.position(n,r,{anchor:{type:"submenu",item:t}}),Bh.decloak(o)},onRepositionMenu:(e,t,n)=>{const o=l().getOrDie();dh.position(o,t,{anchor:r}),z(n,(e=>{dh.position(o,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(Gf.focus(n),Bh.close(o),T.some(!0))}))))))})(e,t,qw(e,r),r,n,o,s);return a.map((e=>(e.fold((()=>{Bh.isOpen(n)&&Bh.close(n)}),(e=>{Bh.cloak(n),Bh.open(n,e),i(n)})),n)))},$w=(e,t,r,n,o,i,s)=>(Bh.close(n),jw(n)),Zw=(e,t,r,n,o,i)=>{const s=Bw.getCoupled(r,"sandbox");return(Bh.isOpen(s)?$w:Ww)(e,t,r,s,n,o,i)},Kw=(e,t)=>e.getSystem().getByUid(t.uid+"-"+Gw()).map((e=>()=>Yr.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>Yr.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),Yw=e=>{Bh.getState(e).each((e=>{Am.repositionMenus(e)}))},Xw=(e,t,r)=>{const n=aa(),o=Kw(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:n.id,role:"listbox"}},behaviours:ad(e.sandboxBehaviours,[rd.config({store:{mode:"memory",initialValue:t}}),Bh.config({onOpen:(o,i)=>{const s=qw(e,t);n.link(t.element),e.matchWidth&&((e,t,r)=>{const n=cu.getCurrent(t).getOr(t),o=Wt(e.element);r?kt(n.element,"min-width",o+"px"):((e,t)=>{qt.set(e,t)})(n.element,o)})(s.hotspot,i,e.useMinWidth),e.onOpen(s,o,i),void 0!==r&&void 0!==r.onOpen&&r.onOpen(o,i)},onClose:(e,o)=>{n.unlink(t.element),void 0!==r&&void 0!==r.onClose&&r.onClose(e,o)},isPartOf:(e,r,n)=>la(r,n)||la(t,n),getAttachPoint:()=>o().getOrDie()}),cu.config({find:e=>Bh.getState(e).bind((e=>cu.getCurrent(e)))}),bl.config({channels:{...Hh({isExtraPart:k}),...Gh({doReposition:Yw})}})])}},Jw=e=>{const t=Bw.getCoupled(e,"sandbox");Yw(t)},Qw=()=>[ho("sandboxClasses",[]),sd("sandboxBehaviours",[cu,bl,Bh,rd])],ex=b([$n("dom"),$n("fetch"),xa("onOpen"),_a("onExecute"),ho("getHotspot",T.some),ho("getAnchorOverrides",b({})),hc(),nd("dropdownBehaviours",[Xf,Bw,Pf,Gf]),$n("toggleClass"),ho("eventOrder",{}),ro("lazySink"),ho("matchWidth",!1),ho("useMinWidth",!1),ro("role")].concat(Qw())),tx=b([Od({schema:[ya(),ho("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),Uw()]),rx=iu({name:"Dropdown",configFields:ex(),partFields:tx(),factory:(e,t,r,n)=>{const o=e=>{Bh.getState(e).each((e=>{Am.highlightPrimary(e)}))},i=(t,r,o)=>Zw(e,w,t,n,r,o),s={expand:e=>{Xf.isOn(e)||i(e,v,Sm.HighlightNone).get(v)},open:e=>{Xf.isOn(e)||i(e,v,Sm.HighlightMenuAndItem).get(v)},refetch:t=>Bw.getExistingCoupled(t,"sandbox").fold((()=>i(t,v,Sm.HighlightMenuAndItem).map(v)),(r=>Ww(e,w,t,r,n,v,Sm.HighlightMenuAndItem).map(v))),isOpen:Xf.isOn,close:e=>{Xf.isOn(e)&&i(e,v,Sm.HighlightMenuAndItem).get(v)},repositionMenus:e=>{Xf.isOn(e)&&Jw(e)}},a=(e,t)=>(ki(e),T.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:id(e.dropdownBehaviours,[Xf.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Bw.config({others:{sandbox:t=>Xw(e,t,{onOpen:()=>Xf.on(t),onClose:()=>Xf.off(t)})}}),Pf.config({mode:"special",onSpace:a,onEnter:a,onDown:(e,t)=>{if(rx.isOpen(e)){const t=Bw.getCoupled(e,"sandbox");o(t)}else rx.open(e);return T.some(!0)},onEscape:(e,t)=>rx.isOpen(e)?(rx.close(e),T.some(!0)):T.none()}),Gf.config({})]),events:Qf(T.some((e=>{i(e,o,Sm.HighlightMenuAndItem).get(v)}))),eventOrder:{...e.eventOrder,[ni()]:["disabling","toggling","alloy.base.behaviour"]},apis:s,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:("type",ve(e.dom,"attributes").bind((e=>ve(e,"type")))).getOr("button")}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),nx=(e,t,r)=>{Ev(e).each((e=>{var n;((e,t)=>{xt(t.element,"id").each((t=>yt(e.element,"aria-activedescendant",t)))})(e,r),(Is((n=t).element,kv)?T.some(n.element):oa(n.element,"."+kv)).each((t=>{xt(t,"id").each((t=>yt(e.element,"aria-controls",t)))}))})),yt(r.element,"aria-selected","true")},ox=(e,t,r)=>{yt(r.element,"aria-selected","false")},ix=e=>Bw.getExistingCoupled(e,"sandbox").bind(_v).map(Cv).map((e=>e.fetchPattern)).getOr("");var sx;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(sx||(sx={}));const ax=(e,t,r,n,o)=>{const i=r.shared.providers,s=e=>o?{...e,shortcut:T.none(),icon:e.text.isSome()?T.none():e.icon}:e;switch(e.type){case"menuitem":return(a=e,Vn("menuitem",Vy,a)).fold(Iv,(e=>T.some(((e,t,r,n=!0)=>{const o=_b({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,caret:T.none(),checkMark:T.none(),shortcutContent:e.shortcut},r,n);return ub({data:pb(e),getApi:e=>({isEnabled:()=>!Eu.isDisabled(e),setEnabled:t=>Eu.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,r)})(s(e),t,i,n))));case"nestedmenuitem":return(e=>Vn("nestedmenuitem",zy,e))(e).fold(Iv,(e=>T.some(((e,t,r,n=!0,o=!1)=>{const i=o?(s=r.icons,mb("chevron-down",s,[ov])):(e=>mb("chevron-right",e,[ov]))(r.icons);var s;const a=_b({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,caret:T.some(i),checkMark:T.none(),shortcutContent:e.shortcut},r,n);return ub({data:pb(e),getApi:e=>({isEnabled:()=>!Eu.isDisabled(e),setEnabled:t=>Eu.set(e,!t)}),enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,t,r)})(s(e),t,i,n,o))));case"togglemenuitem":return(e=>Vn("togglemenuitem",Hy,e))(e).fold(Iv,(e=>T.some(((e,t,r,n=!0)=>{const o=_b({iconContent:e.icon,textContent:e.text,htmlContent:T.none(),ariaLabel:e.text,checkMark:T.some(wb(r.icons)),caret:T.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},r,n);return ln(ub({data:pb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Xf.set(e,t)},isActive:()=>Xf.isOn(e),isEnabled:()=>!Eu.isDisabled(e),setEnabled:t=>Eu.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,r),{toggling:{toggleClass:tv,toggleOnExecute:!1,selected:e.active}})})(s(e),t,i,n))));case"separator":return(e=>Vn("separatormenuitem",hy,e))(e).fold(Iv,(e=>T.some(Dw(e))));case"fancymenuitem":return(e=>Vn("fancymenuitem",Ly,e))(e).fold(Iv,(e=>((e,t)=>ve(Ow,e.fancytype).map((r=>r(e,t))))(e,r)));default:return console.error("Unknown item in general menu",e),T.none()}var a},lx=(e,t,r,n,o,i,s)=>{const a=1===n,l=!a||Dv(e);return xe(V(e,(e=>{switch(e.type){case"separator":return(n=e,Vn("Autocompleter.Separator",hy,n)).fold(Iv,(e=>T.some(Dw(e))));case"cardmenuitem":return(e=>Vn("cardmenuitem",Iy,e))(e).fold(Iv,(e=>T.some(((e,t,r,n)=>{const o={dom:xb(e.label),optComponents:[T.some({dom:{tag:"div",classes:[sv,av]},components:Sb(e.items,n)})]};return ub({data:pb({text:T.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!Eu.isDisabled(e),setEnabled:t=>{Eu.set(e,!t),z(Bc(e.element,"*"),(r=>{e.getSystem().getByDom(r).each((e=>{e.hasConfigured(Eu)&&Eu.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:T.from(n.itemBehaviours).getOr([])},o,t,r.providers)})({...e,onAction:t=>{e.onAction(t),r(e.value,e.meta)}},o,i,{itemBehaviours:Eb(e.meta,i),cardText:{matchText:t,highlightOn:s}}))));default:return(e=>Vn("Autocompleter.Item",dy,e))(e).fold(Iv,(e=>T.some(((e,t,r,n,o,i,s,a=!0)=>{const l=_b({presets:n,textContent:T.none(),htmlContent:r?e.text.map((e=>Cb(e,t))):T.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:T.none(),checkMark:T.none(),caret:T.none(),value:e.value},s.providers,a,e.icon);return ub({data:pb(e),enabled:e.enabled,getApi:b({}),onAction:t=>o(e.value,e.meta),onSetup:b(v),triggersSubmenu:!1,itemBehaviours:Eb(e.meta,s)},l,i,s.providers)})(e,t,a,"normal",r,o,i,l))))}var n})))},cx=(e,t,r,n,o,i)=>{const s=Dv(t),a=xe(V(t,(e=>{const t=e=>ax(e,r,n,(e=>o?!ye(e,"text"):s)(e),o);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),l=(e=>"no-search"===e.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:e})(i);return(o?Rv:Fv)(e,s,a,1,l)},hx=e=>Am.singleData(e.value,e),dx=(e,t)=>{const r=wo(!1),n=wo(!1),o=Ks(Pm.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:pl([Lf("dismissAutocompleter",[Ii(gi(),(()=>c()))])]),lazySink:t.getSink})),i=()=>Pm.isOpen(o),s=n.get,a=()=>{i()&&Pm.hide(o)},l=()=>Pm.getContent(o).bind((e=>te(e.components(),0))),c=()=>e.execCommand("mceAutocompleterClose"),h=n=>{const i=(n=>{const o=ie(n,(e=>T.from(e.columns))).getOr(1);return Z(n,(n=>{const i=n.items;return lx(i,n.matchText,((t,o)=>{const i=e.selection.getRng();((e,t)=>Kg(Re(t.startContainer)).map((t=>{const r=e.createRng();return r.selectNode(t.dom),r})))(e.dom,i).each((i=>{const s={hide:()=>c(),reload:t=>{a(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};r.set(!0),n.onAction(s,i,t,o),r.set(!1)}))}),o,Xg.BUBBLE_TO_SANDBOX,t,n.highlightOn)}))})(n);i.length>0?((t,r)=>{var n;(n=Re(e.getBody()),oa(n,Zg)).each((n=>{const i=ie(t,(e=>T.from(e.columns))).getOr(1);Pm.showMenuAt(o,{anchor:{type:"node",root:Re(e.getBody()),node:T.from(n)}},((e,t,r,n)=>{const o=Sw(t,n),i=dv(n);return{data:hx({...e,movement:o,menuBehaviours:Gy("auto"!==t?[]:[Hi(((e,t)=>{jy(e,4,i.item).each((({numColumns:t,numRows:r})=>{Pf.setGridSize(e,r,t)}))}))])}),menu:{markers:dv(n),fakeFocus:r===sx.ContentFocus}}})(Fv("autocompleter-value",!0,r,i,{menuType:"normal"}),i,sx.ContentFocus,"normal"))})),l().each(Iu.highlightFirst)})(n,i):a()};e.on("AutocompleterStart",(({lookupData:e})=>{n.set(!0),r.set(!1),h(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>h(e))),e.on("AutocompleterEnd",(()=>{a(),n.set(!1),r.set(!1)}));((e,t)=>{const r=(e,t)=>{Si(e,jo(),{raw:t})},n=()=>e.getMenu().bind(Iu.getHighlighted);t.on("keydown",(t=>{const o=t.which;e.isActive()&&(e.isMenuOpen()?13===o?(n().each(ki),t.preventDefault()):40===o?(n().fold((()=>{e.getMenu().each(Iu.highlightFirst)}),(e=>{r(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==o&&38!==o&&39!==o||n().each((e=>{r(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==o&&38!==o&&40!==o||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&Kg(Re(t.element)).isNone()&&e.cancelIfNecessary()}))})({cancelIfNecessary:c,isMenuOpen:i,isActive:s,isProcessingAction:r.get,getMenu:l},e)},ux=(e,t,r)=>ia(e,t,r).isSome(),px=(e,t)=>{let r=null;return{cancel:()=>{null!==r&&(clearTimeout(r),r=null)},schedule:(...n)=>{r=setTimeout((()=>{e.apply(null,n),r=null}),t)}}},fx=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?T.none():T.some(t.touches[0])},mx=(e,t)=>{const r={stopBackspace:!0,...t},n=(e=>{const t=jl(),r=wo(!1),n=px((t=>{e.triggerEvent(si(),t),r.set(!0)}),400),o=Eo([{key:Oo(),value:e=>(fx(e).each((o=>{n.cancel();const i={x:o.clientX,y:o.clientY,target:e.target};n.schedule(e),r.set(!1),t.set(i)})),T.none())},{key:Do(),value:e=>(n.cancel(),fx(e).each((e=>{t.on((r=>{((e,t)=>{const r=Math.abs(e.clientX-t.x),n=Math.abs(e.clientY-t.y);return r>5||n>5})(e,r)&&t.clear()}))})),T.none())},{key:Io(),value:o=>(n.cancel(),t.get().filter((e=>Ze(e.target,o.target))).map((t=>r.get()?(o.prevent(),!1):e.triggerEvent(ii(),o))))}]);return{fireIfReady:(e,t)=>ve(o,t).bind((t=>t(e)))}})(r),o=V(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>Ul(e,t,(e=>{n.fireIfReady(e,t).each((t=>{t&&e.kill()})),r.triggerEvent(t,e)&&e.kill()})))),i=jl(),s=Ul(e,"paste",(e=>{n.fireIfReady(e,"paste").each((t=>{t&&e.kill()})),r.triggerEvent("paste",e)&&e.kill(),i.set(setTimeout((()=>{r.triggerEvent(ti(),e)}),0))})),a=Ul(e,"keydown",(e=>{r.triggerEvent("keydown",e)?e.kill():r.stopBackspace&&(e=>e.raw.which===Ru[0]&&!F(["input","textarea"],Ve(e.target))&&!ux(e.target,'[contenteditable="true"]'))(e)&&e.prevent()})),l=Ul(e,"focusin",(e=>{r.triggerEvent("focusin",e)&&e.kill()})),c=jl(),h=Ul(e,"focusout",(e=>{r.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout((()=>{r.triggerEvent(ei(),e)}),0))}));return{unbind:()=>{z(o,(e=>{e.unbind()})),a.unbind(),l.unbind(),h.unbind(),s.unbind(),i.on(clearTimeout),c.on(clearTimeout)}}},gx=(e,t)=>{const r=ve(e,"target").getOr(t);return wo(r)},vx=xo([{stopped:[]},{resume:["element"]},{complete:[]}]),yx=(e,t,r,n,o,i)=>{const s=e(t,n),a=((e,t)=>{const r=wo(!1),n=wo(!1);return{stop:()=>{r.set(!0)},cut:()=>{n.set(!0)},isStopped:r.get,isCut:n.get,event:e,setSource:t.set,getSource:t.get}})(r,o);return s.fold((()=>(i.logEventNoHandlers(t,n),vx.complete())),(e=>{const r=e.descHandler;return ws(r)(a),a.isStopped()?(i.logEventStopped(t,e.element,r.purpose),vx.stopped()):a.isCut()?(i.logEventCut(t,e.element,r.purpose),vx.complete()):et(e.element).fold((()=>(i.logNoParent(t,e.element,r.purpose),vx.complete())),(n=>(i.logEventResponse(t,e.element,r.purpose),vx.resume(n))))}))},bx=(e,t,r,n,o,i)=>yx(e,t,r,n,o,i).fold(A,(n=>bx(e,t,r,n,o,i)),k),wx=(e,t,r,n,o)=>{const i=gx(r,n);return bx(e,t,r,n,i,o)},xx=()=>{const e=(()=>{const e={};return{registerId:(t,r,n)=>{le(n,((n,o)=>{const i=void 0!==e[o]?e[o]:{};i[r]=((e,t)=>({cHandler:_.apply(void 0,[e.handler].concat(t)),purpose:e.purpose}))(n,t),e[o]=i}))},unregisterId:t=>{le(e,((e,r)=>{ye(e,t)&&delete e[t]}))},filterByType:t=>ve(e,t).map((e=>fe(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,r,n)=>ve(e,r).bind((e=>ko(n,(t=>((e,t)=>is(t).bind((t=>ve(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}})(),t={},r=r=>{is(r.element).each((r=>{delete t[r],e.unregisterId(r)}))};return{find:(t,r,n)=>e.find(t,r,n),filter:t=>e.filterByType(t),register:n=>{const o=(e=>{const t=e.element;return is(t).getOrThunk((()=>((e,t)=>{const r=Qi(rs+"uid-");return os(t,r),r})(0,e.element)))})(n);be(t,o)&&((e,n)=>{const o=t[n];if(o!==e)throw new Error('The tagId "'+n+'" is already used by: '+Zi(o.element)+"\nCannot use it for: "+Zi(e.element)+"\nThe conflicting element is"+(ft(o.element)?" ":" not ")+"already in the DOM");r(e)})(n,o);const i=[n];e.registerId(i,o,n.events),t[o]=n},unregister:r,getById:e=>ve(t,e)}},_x=ou({name:"Container",factory:e=>{const{attributes:t,...r}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...r},components:e.components,behaviours:od(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[ho("components",[]),nd("containerBehaviours",[]),ho("events",{}),ho("domModification",{}),ho("eventOrder",{})]}),Ex=e=>{const t=t=>et(e.element).fold(A,(e=>Ze(t,e))),r=xx(),n=(e,n)=>r.find(t,e,n),o=mx(e.element,{triggerEvent:(e,t)=>ua(e,t.target,(r=>((e,t,r,n)=>wx(e,t,r,r.target,n))(n,e,t,r)))}),i={debugInfo:b("real"),triggerEvent:(e,t,r)=>{ua(e,t,(o=>wx(n,e,r,t,o)))},triggerFocus:(e,t)=>{is(e).fold((()=>{xl(e)}),(r=>{ua(Qo(),e,(r=>(((e,t,r,n,o)=>{const i=gx(r,n);yx(e,t,r,n,i,o)})(n,Qo(),{originator:t,kill:v,prevent:v,target:e},e,r),!1)))}))},triggerEscape:(e,t)=>{i.triggerEvent("keydown",e.element,t.event)},getByUid:e=>f(e),getByDom:e=>m(e),build:Ks,buildOrPatch:Zs,addToGui:e=>{l(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{s(e)},removeFromWorld:e=>{a(e)},broadcast:e=>{d(e)},broadcastOn:(e,t)=>{u(e,t)},broadcastEvent:(e,t)=>{p(e,t)},isConnected:A},s=e=>{e.connect(i),je(e.element)||(r.register(e),z(e.components(),s),i.triggerEvent(ci(),e.element,{target:e.element}))},a=e=>{je(e.element)||(z(e.components(),a),r.unregister(e)),e.disconnect()},l=t=>{yh(e,t)},c=e=>{xh(e)},h=e=>{const t=r.filter(ri());z(t,(t=>{const r=t.descHandler;ws(r)(e)}))},d=e=>{h({universal:!0,data:e})},u=(e,t)=>{h({universal:!1,channels:e,data:t})},p=(e,t)=>((e,t,r)=>{const n=(e=>{const t=wo(!1);return{stop:()=>{t.set(!0)},cut:v,isStopped:t.get,isCut:k,event:e,setSource:C("Cannot set source of a broadcasted event"),getSource:C("Cannot get source of a broadcasted event")}})(t);return z(e,(e=>{const t=e.descHandler;ws(t)(n)})),n.isStopped()})(r.filter(e),t),f=e=>r.getById(e).fold((()=>Yr.error(new Error('Could not find component with uid: "'+e+'" in system.'))),Yr.value),m=e=>{const t=is(e).getOr("not found");return f(t)};return s(e),{root:e,element:e.element,destroy:()=>{o.unbind(),Fr(e.element)},add:l,remove:c,getByUid:f,getByDom:m,addToWorld:s,removeFromWorld:a,broadcast:d,broadcastOn:u,broadcastEvent:p}},Cx=b([ho("prefix","form-field"),nd("fieldBehaviours",[cu,rd])]),Sx=b([Dd({schema:[$n("dom")],name:"label"}),Dd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[$n("text")],name:"aria-descriptor"}),Md({factory:{sketch:e=>{const t=((e,t)=>{const r={};return le(e,((e,n)=>{F(t,n)||(r[n]=e)})),r})(e,["factory"]);return e.factory.sketch(t)}},schema:[$n("factory")],name:"field"})]),kx=iu({name:"FormField",configFields:Cx(),partFields:Sx(),factory:(e,t,r,n)=>{const o=id(e.fieldBehaviours,[cu.config({find:t=>Ud(t,e,"field")}),rd.config({store:{mode:"manual",getValue:e=>cu.getCurrent(e).bind(rd.getValue),setValue:(e,t)=>{cu.getCurrent(e).each((e=>{rd.setValue(e,t)}))}}})]),i=Mi([Hi(((t,r)=>{const n=Wd(t,e,["label","field","aria-descriptor"]);n.field().each((t=>{const r=Qi(e.prefix);n.label().each((e=>{yt(e.element,"for",r),yt(t.element,"id",r)})),n["aria-descriptor"]().each((r=>{const n=Qi(e.prefix);yt(r.element,"id",n),yt(t.element,"aria-describedby",n)}))}))}))]),s={getField:t=>Ud(t,e,"field"),getLabel:t=>Ud(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:s}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var Ax=Object.freeze({__proto__:null,exhibit:(e,t)=>bs({attributes:Eo([{key:t.tabAttr,value:"true"}])})}),Px=[ho("tabAttr","data-alloy-tabstop")];const Tx=ml({fields:Px,name:"tabstopping",active:Ax});var Mx=tinymce.util.Tools.resolve("tinymce.html.Entities");const Ox=(e,t,r,n)=>{const o=Dx(e,t,r,n);return kx.sketch(o)},Dx=(e,t,r,n)=>({dom:Ix(r),components:e.toArray().concat([t]),fieldBehaviours:pl(n)}),Ix=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Rx=(e,t)=>kx.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[qs(t.translate(e))]}),Fx=Qi("form-component-change"),Bx=Qi("form-close"),Nx=Qi("form-cancel"),Lx=Qi("form-action"),Vx=Qi("form-submit"),zx=Qi("form-block"),Hx=Qi("form-unblock"),jx=Qi("form-tabchange"),Gx=Qi("form-resize"),Ux=["input","textarea"],qx=e=>{const t=Ve(e);return F(Ux,t)},Wx=(e,t)=>{const r=t.getRoot(e).getOr(e.element);Ds(r,t.invalidClass),t.notify.each((t=>{qx(e.element)&&yt(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{Wi(e,t.validHtml)})),t.onValid(e)}))},$x=(e,t,r,n)=>{const o=t.getRoot(e).getOr(e.element);Os(o,t.invalidClass),t.notify.each((t=>{qx(e.element)&&yt(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{Wi(e,n)})),t.onInvalid(e,n)}))},Zx=(e,t,r)=>t.validator.fold((()=>jw(Yr.value(!0))),(t=>t.validate(e))),Kx=(e,t,r)=>(t.notify.each((t=>{t.onValidate(e)})),Zx(e,t).map((r=>e.getSystem().isConnected()?r.fold((r=>($x(e,t,0,r),Yr.error(r))),(r=>(Wx(e,t),Yr.value(r)))):Yr.error("No longer in system"))));var Yx=Object.freeze({__proto__:null,markValid:Wx,markInvalid:$x,query:Zx,run:Kx,isInvalid:(e,t)=>{const r=t.getRoot(e).getOr(e.element);return Is(r,t.invalidClass)}}),Xx=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Mi([Ii(t.onEvent,(t=>{Kx(t,e).get(w)}))].concat(t.validateOnLoad?[Hi((t=>{Kx(t,e).get(v)}))]:[])))).getOr({})}),Jx=[$n("invalidClass"),ho("getRoot",T.none),co("notify",[ho("aria","alert"),ho("getContainer",T.none),ho("validHtml",""),xa("onValid"),xa("onInvalid"),xa("onValidate")]),co("validator",[$n("validate"),ho("onEvent","input"),ho("validateOnLoad",!0)])];const Qx=ml({fields:Jx,name:"invalidating",active:Xx,apis:Yx,extra:{validation:e=>t=>{const r=rd.getValue(t);return jw(e(r))}}}),e_=ml({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Mi([Oi(Yo(),A)]),exhibit:()=>bs({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),t_=Qi("color-input-change"),r_=Qi("color-swatch-change"),n_=Qi("color-picker-cancel"),o_=Dd({schema:[$n("dom")],name:"label"}),i_=e=>Dd({name:e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Mi([Ri(Oo(),((t,r,n)=>e(t,n)),[t]),Ri(Fo(),((t,r,n)=>e(t,n)),[t]),Ri(Bo(),((t,r,n)=>{n.mouseIsDown.get()&&e(t,n)}),[t])])})))}),s_=i_("top-left"),a_=i_("top"),l_=i_("top-right"),c_=i_("right"),h_=i_("bottom-right"),d_=i_("bottom"),u_=i_("bottom-left");var p_=[o_,i_("left"),c_,a_,d_,s_,l_,u_,h_,Md({name:"thumb",defaults:b({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Mi([Bi(Oo(),e,"spectrum"),Bi(Do(),e,"spectrum"),Bi(Io(),e,"spectrum"),Bi(Fo(),e,"spectrum"),Bi(Bo(),e,"spectrum"),Bi(Lo(),e,"spectrum")])})}),Md({schema:[qn("mouseIsDown",(()=>wo(!1)))],name:"spectrum",overrides:e=>{const t=e.model.manager,r=(r,n)=>t.getValueFromEvent(n).map((n=>t.setValueFrom(r,e,n)));return{behaviours:pl([Pf.config({mode:"special",onLeft:r=>t.onLeft(r,e),onRight:r=>t.onRight(r,e),onUp:r=>t.onUp(r,e),onDown:r=>t.onDown(r,e)}),Gf.config({})]),events:Mi([Ii(Oo(),r),Ii(Do(),r),Ii(Fo(),r),Ii(Bo(),((t,n)=>{e.mouseIsDown.get()&&r(t,n)}))])}}})];const f_=b("slider.change.value"),m_=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf("touch"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?T.some(e.touches[0]).map((e=>Ht(e.clientX,e.clientY))):T.none()}{const e=t;return void 0!==e.clientX?T.some(e).map((e=>Ht(e.clientX,e.clientY))):T.none()}},g_=e=>e.model.minX,v_=e=>e.model.minY,y_=e=>e.model.minX-1,b_=e=>e.model.minY-1,w_=e=>e.model.maxX,x_=e=>e.model.maxY,__=e=>e.model.maxX+1,E_=e=>e.model.maxY+1,C_=(e,t,r)=>t(e)-r(e),S_=e=>C_(e,w_,g_),k_=e=>C_(e,x_,v_),A_=e=>S_(e)/2,P_=e=>k_(e)/2,T_=e=>e.stepSize,M_=e=>e.snapToGrid,O_=e=>e.snapStart,D_=e=>e.rounded,I_=(e,t)=>void 0!==e[t+"-edge"],R_=e=>I_(e,"left"),F_=e=>I_(e,"right"),B_=e=>I_(e,"top"),N_=e=>I_(e,"bottom"),L_=e=>e.model.value.get(),V_=(e,t)=>({x:e,y:t}),z_=(e,t)=>{Si(e,f_(),{value:t})},H_=(e,t,r,n)=>e<t?e:e>r?r:e===t?t-1:Math.max(t,e-n),j_=(e,t,r,n)=>e>r?e:e<t?t:e===r?r+1:Math.min(r,e+n),G_=(e,t,r)=>Math.max(t,Math.min(r,e)),U_=e=>{const{min:t,max:r,range:n,value:o,step:i,snap:s,snapStart:a,rounded:l,hasMinEdge:c,hasMaxEdge:h,minBound:d,maxBound:u,screenRange:p}=e,f=c?t-1:t,m=h?r+1:r;if(o<d)return f;if(o>u)return m;{const e=((e,t,r)=>Math.min(r,Math.max(e,t))-t)(o,d,u),c=G_(e/p*n+t,f,m);return s&&c>=t&&c<=r?((e,t,r,n,o)=>o.fold((()=>{const o=e-t,i=Math.round(o/n)*n;return G_(t+i,t-1,r+1)}),(t=>{const o=(e-t)%n,i=Math.round(o/n),s=Math.floor((e-t)/n),a=Math.floor((r-t)/n),l=t+Math.min(a,s+i)*n;return Math.max(t,l)})))(c,t,r,i,a):l?Math.round(c):c}},q_=e=>{const{min:t,max:r,range:n,value:o,hasMinEdge:i,hasMaxEdge:s,maxBound:a,maxOffset:l,centerMinEdge:c,centerMaxEdge:h}=e;return o<t?i?0:c:o>r?s?a:h:(o-t)/n*l},W_="top",$_="right",Z_="bottom",K_="left",Y_=e=>e.element.dom.getBoundingClientRect(),X_=(e,t)=>e[t],J_=e=>{const t=Y_(e);return X_(t,K_)},Q_=e=>{const t=Y_(e);return X_(t,$_)},eE=e=>{const t=Y_(e);return X_(t,W_)},tE=e=>{const t=Y_(e);return X_(t,Z_)},rE=e=>{const t=Y_(e);return X_(t,"width")},nE=e=>{const t=Y_(e);return X_(t,"height")},oE=(e,t,r)=>(e+t)/2-r,iE=(e,t)=>{const r=Y_(e),n=Y_(t),o=X_(r,K_),i=X_(r,$_),s=X_(n,K_);return oE(o,i,s)},sE=(e,t)=>{const r=Y_(e),n=Y_(t),o=X_(r,W_),i=X_(r,Z_),s=X_(n,W_);return oE(o,i,s)},aE=(e,t)=>{Si(e,f_(),{value:t})},lE=(e,t,r)=>{const n={min:g_(t),max:w_(t),range:S_(t),value:r,step:T_(t),snap:M_(t),snapStart:O_(t),rounded:D_(t),hasMinEdge:R_(t),hasMaxEdge:F_(t),minBound:J_(e),maxBound:Q_(e),screenRange:rE(e)};return U_(n)},cE=e=>(t,r)=>((e,t,r)=>{const n=(e>0?j_:H_)(L_(r),g_(r),w_(r),T_(r));return aE(t,n),T.some(n)})(e,t,r).map(A),hE=(e,t,r,n,o,i)=>{const s=((e,t,r,n,o)=>{const i=rE(e),s=n.bind((t=>T.some(iE(t,e)))).getOr(0),a=o.bind((t=>T.some(iE(t,e)))).getOr(i),l={min:g_(t),max:w_(t),range:S_(t),value:r,hasMinEdge:R_(t),hasMaxEdge:F_(t),minBound:J_(e),minOffset:0,maxBound:Q_(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:a};return q_(l)})(t,i,r,n,o);return J_(t)-J_(e)+s},dE=cE(-1),uE=cE(1),pE=T.none,fE=T.none,mE={"top-left":T.none(),top:T.none(),"top-right":T.none(),right:T.some(((e,t)=>{z_(e,__(t))})),"bottom-right":T.none(),bottom:T.none(),"bottom-left":T.none(),left:T.some(((e,t)=>{z_(e,y_(t))}))};var gE=Object.freeze({__proto__:null,setValueFrom:(e,t,r)=>{const n=lE(e,t,r);return aE(e,n),n},setToMin:(e,t)=>{const r=g_(t);aE(e,r)},setToMax:(e,t)=>{const r=w_(t);aE(e,r)},findValueOfOffset:lE,getValueFromEvent:e=>m_(e).map((e=>e.left)),findPositionOfValue:hE,setPositionFromValue:(e,t,r,n)=>{const o=L_(r),i=hE(e,n.getSpectrum(e),o,n.getLeftEdge(e),n.getRightEdge(e),r),s=Wt(t.element)/2;kt(t.element,"left",i-s+"px")},onLeft:dE,onRight:uE,onUp:pE,onDown:fE,edgeActions:mE});const vE=(e,t)=>{Si(e,f_(),{value:t})},yE=(e,t,r)=>{const n={min:v_(t),max:x_(t),range:k_(t),value:r,step:T_(t),snap:M_(t),snapStart:O_(t),rounded:D_(t),hasMinEdge:B_(t),hasMaxEdge:N_(t),minBound:eE(e),maxBound:tE(e),screenRange:nE(e)};return U_(n)},bE=e=>(t,r)=>((e,t,r)=>{const n=(e>0?j_:H_)(L_(r),v_(r),x_(r),T_(r));return vE(t,n),T.some(n)})(e,t,r).map(A),wE=(e,t,r,n,o,i)=>{const s=((e,t,r,n,o)=>{const i=nE(e),s=n.bind((t=>T.some(sE(t,e)))).getOr(0),a=o.bind((t=>T.some(sE(t,e)))).getOr(i),l={min:v_(t),max:x_(t),range:k_(t),value:r,hasMinEdge:B_(t),hasMaxEdge:N_(t),minBound:eE(e),minOffset:0,maxBound:tE(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:a};return q_(l)})(t,i,r,n,o);return eE(t)-eE(e)+s},xE=T.none,_E=T.none,EE=bE(-1),CE=bE(1),SE={"top-left":T.none(),top:T.some(((e,t)=>{z_(e,b_(t))})),"top-right":T.none(),right:T.none(),"bottom-right":T.none(),bottom:T.some(((e,t)=>{z_(e,E_(t))})),"bottom-left":T.none(),left:T.none()};var kE=Object.freeze({__proto__:null,setValueFrom:(e,t,r)=>{const n=yE(e,t,r);return vE(e,n),n},setToMin:(e,t)=>{const r=v_(t);vE(e,r)},setToMax:(e,t)=>{const r=x_(t);vE(e,r)},findValueOfOffset:yE,getValueFromEvent:e=>m_(e).map((e=>e.top)),findPositionOfValue:wE,setPositionFromValue:(e,t,r,n)=>{const o=L_(r),i=wE(e,n.getSpectrum(e),o,n.getTopEdge(e),n.getBottomEdge(e),r),s=Lt(t.element)/2;kt(t.element,"top",i-s+"px")},onLeft:xE,onRight:_E,onUp:EE,onDown:CE,edgeActions:SE});const AE=(e,t)=>{Si(e,f_(),{value:t})},PE=(e,t)=>({x:e,y:t}),TE=(e,t)=>(r,n)=>((e,t,r,n)=>{const o=e>0?j_:H_,i=t?L_(n).x:o(L_(n).x,g_(n),w_(n),T_(n)),s=t?o(L_(n).y,v_(n),x_(n),T_(n)):L_(n).y;return AE(r,PE(i,s)),T.some(i)})(e,t,r,n).map(A),ME=TE(-1,!1),OE=TE(1,!1),DE=TE(-1,!0),IE=TE(1,!0),RE={"top-left":T.some(((e,t)=>{z_(e,V_(y_(t),b_(t)))})),top:T.some(((e,t)=>{z_(e,V_(A_(t),b_(t)))})),"top-right":T.some(((e,t)=>{z_(e,V_(__(t),b_(t)))})),right:T.some(((e,t)=>{z_(e,V_(__(t),P_(t)))})),"bottom-right":T.some(((e,t)=>{z_(e,V_(__(t),E_(t)))})),bottom:T.some(((e,t)=>{z_(e,V_(A_(t),E_(t)))})),"bottom-left":T.some(((e,t)=>{z_(e,V_(y_(t),E_(t)))})),left:T.some(((e,t)=>{z_(e,V_(y_(t),P_(t)))}))};var FE=Object.freeze({__proto__:null,setValueFrom:(e,t,r)=>{const n=lE(e,t,r.left),o=yE(e,t,r.top),i=PE(n,o);return AE(e,i),i},setToMin:(e,t)=>{const r=g_(t),n=v_(t);AE(e,PE(r,n))},setToMax:(e,t)=>{const r=w_(t),n=x_(t);AE(e,PE(r,n))},getValueFromEvent:e=>m_(e),setPositionFromValue:(e,t,r,n)=>{const o=L_(r),i=hE(e,n.getSpectrum(e),o.x,n.getLeftEdge(e),n.getRightEdge(e),r),s=wE(e,n.getSpectrum(e),o.y,n.getTopEdge(e),n.getBottomEdge(e),r),a=Wt(t.element)/2,l=Lt(t.element)/2;kt(t.element,"left",i-a+"px"),kt(t.element,"top",s-l+"px")},onLeft:ME,onRight:OE,onUp:DE,onDown:IE,edgeActions:RE});const BE=iu({name:"Slider",configFields:[ho("stepSize",1),ho("onChange",v),ho("onChoose",v),ho("onInit",v),ho("onDragStart",v),ho("onDragEnd",v),ho("snapToGrid",!1),ho("rounded",!0),ro("snapStart"),Zn("model",Gn("mode",{x:[ho("minX",0),ho("maxX",100),qn("value",(e=>wo(e.mode.minX))),$n("getInitialValue"),Sa("manager",gE)],y:[ho("minY",0),ho("maxY",100),qn("value",(e=>wo(e.mode.minY))),$n("getInitialValue"),Sa("manager",kE)],xy:[ho("minX",0),ho("maxX",100),ho("minY",0),ho("maxY",100),qn("value",(e=>wo({x:e.mode.minX,y:e.mode.minY}))),$n("getInitialValue"),Sa("manager",FE)]})),nd("sliderBehaviours",[Pf,rd]),qn("mouseIsDown",(()=>wo(!1)))],partFields:p_,factory:(e,t,r,n)=>{const o=t=>qd(t,e,"thumb"),i=t=>qd(t,e,"spectrum"),s=t=>Ud(t,e,"left-edge"),a=t=>Ud(t,e,"right-edge"),l=t=>Ud(t,e,"top-edge"),c=t=>Ud(t,e,"bottom-edge"),h=e.model,d=h.manager,u=(t,r)=>{d.setPositionFromValue(t,r,e,{getLeftEdge:s,getRightEdge:a,getTopEdge:l,getBottomEdge:c,getSpectrum:i})},p=(e,t)=>{h.value.set(t);const r=o(e);u(e,r)},f=t=>{const r=e.mouseIsDown.get();e.mouseIsDown.set(!1),r&&Ud(t,e,"thumb").each((r=>{const n=h.value.get();e.onChoose(t,r,n)}))},m=(t,r)=>{r.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,o(t))},g=(t,r)=>{r.stop(),e.onDragEnd(t,o(t)),f(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:id(e.sliderBehaviours,[Pf.config({mode:"special",focusIn:t=>Ud(t,e,"spectrum").map(Pf.focusIn).map(A)}),rd.config({store:{mode:"manual",getValue:e=>h.value.get(),setValue:p}}),bl.config({channels:{[Vh()]:{onReceive:f}}})]),events:Mi([Ii(f_(),((t,r)=>{((t,r)=>{p(t,r);const n=o(t);e.onChange(t,n,r),T.some(!0)})(t,r.event.value)})),Hi(((t,r)=>{const n=h.getInitialValue();h.value.set(n);const s=o(t);u(t,s);const a=i(t);e.onInit(t,s,a,h.value.get())})),Ii(Oo(),m),Ii(Io(),g),Ii(Fo(),m),Ii(Lo(),g)]),apis:{resetToMin:t=>{d.setToMin(t,e)},resetToMax:t=>{d.setToMax(t,e)},setValue:p,refresh:u},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,r)=>{e.setValue(t,r)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),NE=Qi("rgb-hex-update"),LE=Qi("slider-update"),VE=Qi("palette-update"),zE="form",HE=[nd("formBehaviours",[rd])],jE=e=>"<alloy.field."+e+">",GE=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:id(e.formBehaviours,[rd.config({store:{mode:"manual",getValue:t=>{const r=$d(t,e);return ce(r,((e,t)=>e().bind((e=>{return r=cu.getCurrent(e),n=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+Zi(e.element)),r.fold((()=>Yr.error(n)),Yr.value);var r,n})).map(rd.getValue)))},setValue:(t,r)=>{le(r,((r,n)=>{Ud(t,e,n).each((e=>{cu.getCurrent(e).each((e=>{rd.setValue(e,r)}))}))}))}}})]),apis:{getField:(t,r)=>Ud(t,e,r).bind(cu.getCurrent)}}),UE={getField:ms(((e,t,r)=>e.getField(t,r))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,r)=>(e.push(t),Vd(zE,jE(t),r)),record:b(e)}})(),r=e(t),n=t.record(),o=V(n,(e=>Md({name:e,pname:jE(e)})));return eu(zE,HE,o,GE,r)}},qE=Qi("valid-input"),WE=Qi("invalid-input"),$E=Qi("validating-input"),ZE="colorcustom.rgb.",KE=(e,t,r,n)=>{const o=(r,n)=>Qx.config({invalidClass:t("invalid"),notify:{onValidate:e=>{Si(e,$E,{type:r})},onValid:e=>{Si(e,qE,{type:r,value:rd.getValue(e)})},onInvalid:e=>{Si(e,WE,{type:r,value:rd.getValue(e)})}},validator:{validate:t=>{const r=rd.getValue(t),o=n(r)?Yr.value(!0):Yr.error(e("aria.input.invalid"));return jw(o)},validateOnLoad:!1}}),i=(r,n,i,s,a)=>{const l=e("colorcustom.rgb.range"),c=kx.parts.label({dom:{tag:"label",attributes:{"aria-label":s}},components:[qs(i)]}),h=kx.parts.field({data:a,factory:bv,inputAttributes:{type:"text",..."hex"===n?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:pl([o(n,r),Tx.config({})]),onSetValue:e=>{Qx.isInvalid(e)&&Qx.run(e).get(v)}}),d=[c,h],u="hex"!==n?[kx.parts["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:d.concat(u)}},s=(e,t)=>{const r=t.red,n=t.green,o=t.blue;rd.setValue(e,{red:r,green:n,blue:o})},a=Om({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=(e,t)=>{a.getOpt(e).each((e=>{kt(e.element,"background-color","#"+t.value)}))},c=ou({factory:()=>{const o={red:wo(T.some(255)),green:wo(T.some(255)),blue:wo(T.some(255)),hex:wo(T.some("ffffff"))},c=e=>o[e].get(),h=(e,t)=>{o[e].set(t)},d=e=>{const t=e.red,r=e.green,n=e.blue;h("red",T.some(t)),h("green",T.some(r)),h("blue",T.some(n))},u=(e,t)=>{const r=t.event;"hex"!==r.type?h(r.type,T.none()):n(e)},p=(e,t)=>{const n=t.event;(e=>"hex"===e.type)(n)?((e,t)=>{r(e);const n=Ab(t);h("hex",T.some(t));const o=jb(n);s(e,o),d(o),Si(e,NE,{hex:n}),l(e,n)})(e,n.value):((e,t,r)=>{const n=parseInt(r,10);h(t,T.some(n)),c("red").bind((e=>c("green").bind((t=>c("blue").map((r=>Vb(e,t,r,1))))))).each((t=>{const r=((e,t)=>{const r=Ib(t);return UE.getField(e,"hex").each((t=>{Gf.isFocused(t)||rd.setValue(e,{hex:r.value})})),r})(e,t);Si(e,NE,{hex:r}),l(e,r)}))})(e,n.type,n.value)},f=t=>({label:e(ZE+t+".label"),description:e(ZE+t+".description")}),m=f("red"),g=f("green"),v=f("blue"),y=f("hex");return ln(UE.sketch((r=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[r.field("red",kx.sketch(i(zb,"red",m.label,m.description,255))),r.field("green",kx.sketch(i(zb,"green",g.label,g.description,255))),r.field("blue",kx.sketch(i(zb,"blue",v.label,v.description,255))),r.field("hex",kx.sketch(i(Mb,"hex",y.label,y.description,"ffffff"))),a.asSpec()],formBehaviours:pl([Qx.config({invalidClass:t("form-invalid")}),Lf("rgb-form-events",[Ii(qE,p),Ii(WE,u),Ii($E,u)])])}))),{apis:{updateHex:(e,t)=>{rd.setValue(e,{hex:t.value}),((e,t)=>{const r=jb(t);s(e,r),d(r)})(e,t),l(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,r)=>{e.updateHex(t,r)}},extraApis:{}});return c},YE=(e,t)=>{const r=ou({name:"ColourPicker",configFields:[$n("dom"),ho("onValidHex",v),ho("onInvalidHex",v)],factory:r=>{const n=KE(e,t,r.onValidHex,r.onInvalidHex),o=((e,t)=>{const r=BE.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),n=BE.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),o=(e,t)=>{const{width:r,height:n}=e,o=e.getContext("2d");if(null===o)return;o.fillStyle=t,o.fillRect(0,0,r,n);const i=o.createLinearGradient(0,0,r,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,r,n);const s=o.createLinearGradient(0,0,0,n);s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=s,o.fillRect(0,0,r,n)};return ou({factory:e=>{const i=b({x:0,y:0}),s=pl([cu.config({find:T.some}),Gf.config({})]);return BE.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[r,n],onChange:(e,t,r)=>{Si(e,VE,{value:r})},onInit:(e,t,r,n)=>{o(r.element.dom,qb(Wb))},sliderBehaviours:s})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,r)=>{((e,t)=>{const r=e.components()[0].element.dom,n=Qb(t,100,100),i=Hb(n);o(r,qb(i))})(t,r)},setThumb:(e,t,r)=>{((e,t)=>{const r=ew(jb(t));BE.setValue(e,{x:r.saturation,y:100-r.value})})(t,r)}},extraApis:{}})})(0,t),i={paletteRgba:wo(Wb),paletteHue:wo(0)},s=Om(((e,t)=>{const r=BE.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),n=BE.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return BE.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:b(0)},components:[r,n],sliderBehaviours:pl([Gf.config({})]),onChange:(e,t,r)=>{Si(e,LE,{value:r})}})})(0,t)),a=Om(o.sketch({})),l=Om(n.sketch({})),c=(e,t,r)=>{a.getOpt(e).each((e=>{o.setHue(e,r)}))},h=(e,t)=>{l.getOpt(e).each((e=>{n.updateHex(e,t)}))},d=(e,t,r)=>{s.getOpt(e).each((e=>{BE.setValue(e,(e=>100-e/360*100)(r))}))},u=(e,t)=>{a.getOpt(e).each((e=>{o.setThumb(e,t)}))},p=(e,t,r,n)=>{((e,t)=>{const r=jb(e);i.paletteRgba.set(r),i.paletteHue.set(t)})(t,r),z(n,(n=>{n(e,t,r)}))};return{uid:r.uid,dom:r.dom,components:[a.asSpec(),s.asSpec(),l.asSpec()],behaviours:pl([Lf("colour-picker-events",[Ii(NE,(()=>{const e=[c,d,u];return(t,r)=>{const n=r.event.hex,o=(e=>ew(jb(e)))(n);p(t,n,o.hue,e)}})()),Ii(VE,(()=>{const e=[h];return(t,r)=>{const n=r.event.value,o=i.paletteHue.get(),s=Qb(o,n.x,100-n.y),a=tw(s);p(t,a,o,e)}})()),Ii(LE,(()=>{const e=[c,h];return(t,r)=>{const n=(e=>(100-e)/100*360)(r.event.value),o=i.paletteRgba.get(),s=ew(o),a=Qb(n,s.saturation,s.value),l=tw(a);p(t,l,n,e)}})())]),cu.config({find:e=>l.getOpt(e)}),Pf.config({mode:"acyclic"})])}}});return r},XE=()=>cu.config({find:T.some}),JE=e=>cu.config({find:t=>ot(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),QE=En([ho("preprocess",w),ho("postprocess",w)]),eC=(e,t,r)=>rd.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:r}}),tC=(e,t,r)=>eC(e,(e=>t(e.element)),((e,t)=>r(e.element,t))),rC=(e,t)=>{const r=Hn("RepresentingConfigs.memento processors",QE,t);return rd.config({store:{mode:"manual",getValue:t=>{const n=e.get(t),o=rd.getValue(n);return r.postprocess(o)},setValue:(t,n)=>{const o=r.preprocess(n),i=e.get(t);rd.setValue(i,o)}}})},nC=tC,oC=eC,iC=e=>rd.config({store:{mode:"memory",initialValue:e}}),sC={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var aC=tinymce.util.Tools.resolve("tinymce.Resource"),lC=tinymce.util.Tools.resolve("tinymce.util.Tools");const cC=Qi("alloy-fake-before-tabstop"),hC=Qi("alloy-fake-after-tabstop"),dC=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:pl([Gf.config({ignore:!0}),Tx.config({})])}),uC=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[dC([cC]),e,dC([hC])],behaviours:pl([JE(1)])}),pC=(e,t)=>{Si(e,jo(),{raw:{which:9,shiftKey:t}})},fC=(e,t)=>{const r=t.element;Is(r,cC)?pC(e,!0):Is(r,hC)&&pC(e,!1)},mC=e=>ux(e,["."+cC,"."+hC].join(","),k),gC=Qi("toolbar.button.execute"),vC={[ni()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},yC=(e,t,r)=>Hm(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:r},t),bC=(e,t)=>yC(e,t,[]),wC=(e,t)=>yC(e,t,[Nf.config({})]),xC=(e,t,r)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[qs(r.translate(e))],behaviours:pl([Nf.config({})])}),_C=Qi("update-menu-text"),EC=Qi("update-menu-icon"),CC=(e,t,r)=>{const n=wo(v),o=e.text.map((e=>Om(xC(e,t,r.providers)))),i=e.icon.map((e=>Om(wC(e,r.providers.icons)))),s=(e,t)=>{const r=rd.getValue(e);return Gf.focus(r),Si(r,"keydown",{raw:t.event.raw}),rx.close(r),T.some(!0)},a=e.role.fold((()=>({})),(e=>({role:e}))),l=e.tooltip.fold((()=>({})),(e=>{const t=r.providers.translate(e);return{title:t,"aria-label":t}})),c=Hm("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},r.providers.icons),h=Om(rx.sketch({...e.uid?{uid:e.uid}:{},...a,dom:{tag:"button",classes:[t,`${t}--select`].concat(V(e.classes,(e=>`${t}--${e}`))),attributes:{...l}},components:db([i.map((e=>e.asSpec())),o.map((e=>e.asSpec())),T.some(c)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,r,n)=>{e.searchable&&(e=>{Ev(e).each((e=>Gf.focus(e)))})(n)},dropdownBehaviours:pl([...e.dropdownBehaviours,nb((()=>e.disabled||r.providers.isDisabled())),rb(),e_.config({}),Nf.config({}),Lf("dropdown-events",[ab(e,n),lb(e,n)]),Lf("menubutton-update-display-text",[Ii(_C,((e,t)=>{o.bind((t=>t.getOpt(e))).each((e=>{Nf.set(e,[qs(r.providers.translate(t.event.text))])}))})),Ii(EC,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{Nf.set(e,[wC(t.event.icon,r.providers.icons)])}))}))])]),eventOrder:ln(vC,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:pl([Pf.config({mode:"special",onLeft:s,onRight:s}),Lf("dropdown-sandbox-events",[Ii(wv,((e,t)=>{(e=>{const t=rd.getValue(e),r=_v(e).map(Cv);rx.refetch(t).get((()=>{const e=Bw.getCoupled(t,"sandbox");r.each((t=>_v(e).each((e=>((e,t)=>{rd.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))})(e),t.stop()})),Ii(xv,((e,t)=>{((e,t)=>{(e=>Bh.getState(e).bind(Iu.getHighlighted).bind(Iu.getHighlighted))(e).each((r=>{((e,t,r,n)=>{const o={...n,target:t};e.getSystem().triggerEvent(r,t,o)})(e,r.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:r.getSink,toggleClass:`${t}--active`,parts:{menu:{...fv(0,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:nx,onCollapseMenu:(e,t,r)=>{Iu.getHighlighted(r).each((t=>{nx(e,r,t)}))},onDehighlightItem:ox}},fetch:t=>Hw(_(e.fetch,t))}));return h.asSpec()},SC=e=>"separator"===e.type,kC={type:"separator"},AC=(e,t)=>{const r=((e,t)=>{const r=U(e,((e,r)=>(e=>i(e))(r)?""===r?e:"|"===r?e.length>0&&!SC(e[e.length-1])?e.concat([kC]):e:ye(t,r.toLowerCase())?e.concat([t[r.toLowerCase()]]):e:e.concat([r])),[]);return r.length>0&&SC(r[r.length-1])&&r.pop(),r})(i(e)?e.split(" "):e,t);return G(r,((e,r)=>{if((e=>ye(e,"getSubmenuItems"))(r)){const n=(e=>{const t=ve(e,"value").getOrThunk((()=>Qi("generated-menu-item")));return ln({value:t},e)})(r),o=((e,t)=>{const r=e.getSubmenuItems(),n=AC(r,t);return{item:e,menus:ln(n.menus,{[e.value]:n.items}),expansions:ln(n.expansions,{[e.value]:e.value})}})(n,t);return{menus:ln(e.menus,o.menus),items:[o.item,...e.items],expansions:ln(e.expansions,o.expansions)}}return{...e,items:[r,...e.items]}}),{menus:{},expansions:{},items:[]})},PC=(e,t,r,n)=>{const o=Qi("primary-menu"),i=AC(e,r.shared.providers.menuItems());if(0===i.items.length)return T.none();const s=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder}))))(n),a=cx(o,i.items,t,r,n.isHorizontalMenu,s),l=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"}))))(n),c=ce(i.menus,((e,n)=>cx(n,e,t,r,!1,l))),h=ln(c,_o(o,a));return T.from(Am.tieredData(o,h,i.expansions))},TC=e=>!ye(e,"items"),MC="data-value",OC=(e,t,r,n)=>V(r,(r=>TC(r)?{type:"togglemenuitem",text:r.text,value:r.value,active:r.value===n,onAction:()=>{rd.setValue(e,r.value),Si(e,Fx,{name:t}),Gf.focus(e)}}:{type:"nestedmenuitem",text:r.text,getSubmenuItems:()=>OC(e,t,r.items,n)})),DC=(e,t)=>ie(e,(e=>TC(e)?Ee(e.value===t,e):DC(e.items,t))),IC=ou({name:"HtmlSelect",configFields:[$n("options"),nd("selectBehaviours",[Gf,rd]),ho("selectClasses",[]),ho("selectAttributes",{}),ro("data")],factory:(e,t)=>{const r=V(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),n=e.data.map((e=>_o("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:r,behaviours:id(e.selectBehaviours,[Gf.config({}),rd.config({store:{mode:"manual",getValue:e=>Bs(e.element),setValue:(t,r)=>{q(e.options,(e=>e.value===r)).isSome()&&Ns(t.element,r)},...n}})])}}}),RC=b([ho("field1Name","field1"),ho("field2Name","field2"),Ea("onLockedChange"),ba(["lockClass"]),ho("locked",!1),sd("coupledFieldBehaviours",[cu,rd])]),FC=(e,t)=>Md({factory:kx,name:e,overrides:e=>({fieldBehaviours:pl([Lf("coupled-input-behaviour",[Ii(Uo(),(r=>{((e,t,r)=>Ud(e,t,r).bind(cu.getCurrent))(r,e,t).each((t=>{Ud(r,e,"lock").each((n=>{Xf.isOn(n)&&e.onLockedChange(r,t,n)}))}))}))])])})}),BC=b([FC("field1","field2"),FC("field2","field1"),Md({factory:Mm,schema:[$n("dom")],name:"lock",overrides:e=>({buttonBehaviours:pl([Xf.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),NC=iu({name:"FormCoupledInputs",configFields:RC(),partFields:BC(),factory:(e,t,r,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:ad(e.coupledFieldBehaviours,[cu.config({find:T.some}),rd.config({store:{mode:"manual",getValue:t=>{const r=Kd(t,e,["field1","field2"]);return{[e.field1Name]:rd.getValue(r.field1()),[e.field2Name]:rd.getValue(r.field2())}},setValue:(t,r)=>{const n=Kd(t,e,["field1","field2"]);be(r,e.field1Name)&&rd.setValue(n.field1(),r[e.field1Name]),be(r,e.field2Name)&&rd.setValue(n.field2(),r[e.field2Name])}}})]),apis:{getField1:t=>Ud(t,e,"field1"),getField2:t=>Ud(t,e,"field2"),getLock:t=>Ud(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),LC=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),r=t[2];return Yr.value({value:e,unit:r})}return Yr.error(e)},VC=(e,t)=>{const r={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},n=e=>ye(r,e);return e.unit===t?T.some(e.value):n(e.unit)&&n(t)?r[e.unit]===r[t]?T.some(e.value):T.some(e.value/r[e.unit]*r[t]):T.none()},zC=e=>T.none(),HC=(e,t)=>{const r=e.label.map((e=>Rx(e,t))),n=[Eu.config({disabled:()=>e.disabled||t.isDisabled()}),rb(),Pf.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Ci(e,Vx),T.some(!0))}),Lf("textfield-change",[Ii(Uo(),((t,r)=>{Si(t,Fx,{name:e.name})})),Ii(ti(),((t,r)=>{Si(t,Fx,{name:e.name})}))]),Tx.config({})],o=e.validation.map((e=>Qx.config({getRoot:e=>tt(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const r=rd.getValue(t),n=e.validator(r);return jw(!0===n?Yr.value(r):Yr.error(n))},validateOnLoad:e.validateOnLoad}}))).toArray(),i={...e.placeholder.fold(b({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(b({}),(e=>({inputmode:e})))},s=kx.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:i,inputClasses:[e.classname],inputBehaviours:pl($([n,o])),selectOnFocus:!1,factory:bv}),a=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),l=[Eu.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{kx.getField(e).each(Eu.disable)},onEnabled:e=>{kx.getField(e).each(Eu.enable)}}),rb()];return Ox(r,s,a,l)};var jC=Object.freeze({__proto__:null,events:(e,t)=>{const r=e.stream.streams.setup(e,t);return Mi([Ii(e.event,r),ji((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[Ii(e,(()=>t.cancel()))])).getOr([])))}});const GC=(e,t)=>{let r=null;const n=()=>{c(r)||(clearTimeout(r),r=null)};return{cancel:n,throttle:(...o)=>{n(),r=setTimeout((()=>{r=null,e.apply(null,o)}),t)}}},UC=e=>{const t=wo(null);return vs({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var qC=Object.freeze({__proto__:null,throttle:UC,init:e=>e.stream.streams.state(e)}),WC=[Zn("stream",Gn("mode",{throttle:[$n("delay"),ho("stopEvent",!0),Sa("streams",{setup:(e,t)=>{const r=e.stream,n=GC(e.onStream,r.delay);return t.setTimer(n),(e,t)=>{n.throttle(e,t),r.stopEvent&&t.stop()}},state:UC})]})),ho("event","input"),ro("cancelEvent"),Ea("onStream")];const $C=ml({fields:WC,name:"streaming",active:jC,state:qC}),ZC=(e,t,r)=>{const n=rd.getValue(r);rd.setValue(t,n),YC(t)},KC=(e,t)=>{const r=e.element,n=Bs(r),o=r.dom;"number"!==wt(r,"type")&&t(o,n)},YC=e=>{KC(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},XC=b("alloy.typeahead.itemexecute"),JC=b([ro("lazySink"),$n("fetch"),ho("minChars",5),ho("responseTime",1e3),xa("onOpen"),ho("getHotspot",T.some),ho("getAnchorOverrides",b({})),ho("layouts",T.none()),ho("eventOrder",{}),bo("model",{},[ho("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),ho("selectsOver",!0),ho("populateFromBrowse",!0)]),xa("onSetValue"),_a("onExecute"),xa("onItemExecute"),ho("inputClasses",[]),ho("inputAttributes",{}),ho("inputStyles",{}),ho("matchWidth",!0),ho("useMinWidth",!1),ho("dismissOnBlur",!0),ba(["openClass"]),ro("initialData"),nd("typeaheadBehaviours",[Gf,rd,$C,Pf,Xf,Bw]),qn("lazyTypeaheadComp",(()=>wo(T.none))),qn("previewing",(()=>wo(!0)))].concat(mv()).concat(Qw())),QC=b([Od({schema:[ya()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,r,n)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{((e,t,r)=>{if(e.selectsOver){const n=rd.getValue(t),o=e.getDisplayText(n),i=rd.getValue(r);return 0===e.getDisplayText(i).indexOf(o)?T.some((()=>{ZC(0,t,r),((e,t)=>{KC(e,((e,r)=>e.setSelectionRange(t,r.length)))})(t,o.length)})):T.none()}return T.none()})(e.model,t,n).fold((()=>{e.model.selectsOver?(Iu.dehighlight(r,n),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&ZC(e.model,t,n)}))},onExecute:(t,r)=>e.lazyTypeaheadComp.get().map((e=>(Si(e,XC(),{item:r}),!0))),onHover:(t,r)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&ZC(e.model,t,r)}))}})})]),eS=iu({name:"Typeahead",configFields:JC(),partFields:QC(),factory:(e,t,r,n)=>{const o=(t,r,o)=>{e.previewing.set(!1);const i=Bw.getCoupled(t,"sandbox");if(Bh.isOpen(i))cu.getCurrent(i).each((e=>{Iu.getHighlighted(e).fold((()=>{o(e)}),(()=>{Ti(i,e.element,"keydown",r)}))}));else{const r=e=>{cu.getCurrent(e).each(o)};Ww(e,s(t),t,i,n,r,Sm.HighlightMenuAndItem).get(v)}},i=gv(e),s=e=>t=>t.map((t=>{const r=ge(t.menus),n=Z(r,(e=>j(e.items,(e=>"item"===e.type))));return rd.getState(e).update(V(n,(e=>e.data))),t})),a=e=>cu.getCurrent(e),l="typeaheadevents",c=[Gf.config({}),rd.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>Bs(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,r)=>{Ns(t.element,e.model.getDisplayText(r))},...e.initialData.map((e=>_o("initialValue",e))).getOr({})}}),$C.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,r)=>{const o=Bw.getCoupled(t,"sandbox");if(Gf.isFocused(t)&&Bs(t.element).length>=e.minChars){const r=a(o).bind((e=>Iu.getHighlighted(e).map(rd.getValue)));e.previewing.set(!0);const i=t=>{a(o).each((t=>{r.fold((()=>{e.model.selectsOver&&Iu.highlightFirst(t)}),(e=>{Iu.highlightBy(t,(t=>rd.getValue(t).value===e.value)),Iu.getHighlighted(t).orThunk((()=>(Iu.highlightFirst(t),T.none())))}))}))};Ww(e,s(t),t,o,n,i,Sm.HighlightJustMenu).get(v)}},cancelEvent:li()}),Pf.config({mode:"special",onDown:(e,t)=>(o(e,t,Iu.highlightFirst),T.some(!0)),onEscape:e=>{const t=Bw.getCoupled(e,"sandbox");return Bh.isOpen(t)?(Bh.close(t),T.some(!0)):T.none()},onUp:(e,t)=>(o(e,t,Iu.highlightLast),T.some(!0)),onEnter:t=>{const r=Bw.getCoupled(t,"sandbox"),n=Bh.isOpen(r);if(n&&!e.previewing.get())return a(r).bind((e=>Iu.getHighlighted(e))).map((e=>(Si(t,XC(),{item:e}),!0)));{const o=rd.getValue(t);return Ci(t,li()),e.onExecute(r,t,o),n&&Bh.close(r),T.some(!0)}}}),Xf.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Bw.config({others:{sandbox:t=>Xw(e,t,{onOpen:()=>Xf.on(t),onClose:()=>Xf.off(t)})}}),Lf(l,[Hi((t=>{e.lazyTypeaheadComp.set(T.some(t))})),ji((t=>{e.lazyTypeaheadComp.set(T.none())})),Ui((t=>{const r=v;Zw(e,s(t),t,n,r,Sm.HighlightMenuAndItem).get(v)})),Ii(XC(),((t,r)=>{const n=Bw.getCoupled(t,"sandbox");ZC(e.model,t,r.event.item),Ci(t,li()),e.onItemExecute(t,n,r.event.item,rd.getValue(t)),Bh.close(n),YC(t)}))].concat(e.dismissOnBlur?[Ii(ei(),(e=>{const t=Bw.getCoupled(e,"sandbox");Cl(t.element).isNone()&&Bh.close(t)}))]:[]))],h={[mi()]:[rd.name(),$C.name(),l],...e.eventOrder};return{uid:e.uid,dom:yv(ln(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...i,...id(e.typeaheadBehaviours,c)},eventOrder:h}}}),tS=e=>({...e,toCached:()=>tS(e.toCached()),bindFuture:t=>tS(e.bind((e=>e.fold((e=>jw(Yr.error(e))),(e=>t(e)))))),bindResult:t=>tS(e.map((e=>e.bind(t)))),mapResult:t=>tS(e.map((e=>e.map(t)))),mapError:t=>tS(e.map((e=>e.mapError(t)))),foldResult:(t,r)=>e.map((e=>e.fold(t,r))),withTimeout:(t,r)=>tS(Hw((n=>{let o=!1;const i=setTimeout((()=>{o=!0,n(Yr.error(r()))}),t);e.get((e=>{o||(clearTimeout(i),n(e))}))})))}),rS=e=>tS(Hw(e)),nS=e=>({isEnabled:()=>!Eu.isDisabled(e),setEnabled:t=>Eu.set(e,!t),setActive:t=>{const r=e.element;t?(Os(r,"tox-tbtn--enabled"),yt(r,"aria-pressed",!0)):(Ds(r,"tox-tbtn--enabled"),Et(r,"aria-pressed"))},isActive:()=>Is(e.element,"tox-tbtn--enabled")}),oS=(e,t,r,n)=>CC({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:n,fetch:(t,n)=>{const o={pattern:e.search.isSome()?ix(t):""};e.fetch((t=>{n(PC(t,Xg.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:e.search}))}),o)},onSetup:e.onSetup,getApi:nS,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Tx.config({})]},t,r.shared),iS=(e,t,r)=>{const n=e=>n=>{const o=!n.isActive();n.setActive(o),e.storage.set(o),r.shared.getSink().each((r=>{t().getOpt(r).each((t=>{xl(t.element),Si(t,Lx,{name:e.name,value:e.storage.get()})}))}))},o=e=>t=>{t.setActive(e.storage.get())};return t=>{t(V(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:n(e),onSetup:o(e)}})))}},sS=(e,t,r=[],n,o,i)=>{const s=t.fold((()=>({})),(e=>({action:e}))),a={buttonBehaviours:pl([nb((()=>!e.enabled||i.isDisabled())),rb(),Tx.config({}),Lf("button press",[Di("click"),Di("mousedown")])].concat(r)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...s},l=ln(a,{dom:n});return ln(l,{components:o})},aS=(e,t,r,n=[])=>{const o={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((e=>({"aria-label":r.translate(e),title:r.translate(e)}))).getOr({})},i=e.icon.map((e=>bC(e,r.icons))),s=db([i]);return sS(e,t,n,o,s,r)},lS=(e,t,r,n=[],o=[])=>{const i=r.translate(e.text),s=e.icon.map((e=>bC(e,r.icons))),a=[s.getOrThunk((()=>qs(i)))],l=[...(e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}})(e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary")),...s.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...o];return sS(e,t,n,{tag:"button",classes:l,attributes:{title:i}},a,r)},cS=(e,t,r,n=[],o=[])=>{const i=lS(e,T.some(t),r,n,o);return Mm.sketch(i)},hS=(e,t)=>r=>{"custom"===t?Si(r,Lx,{name:e,value:{}}):"submit"===t?Ci(r,Vx):"cancel"===t?Ci(r,Nx):console.error("Unknown button type: ",t)},dS=(e,t,r)=>{if(((e,t)=>"menu"===t)(0,t)){const t=()=>i,n=e,o={...e,type:"menubutton",search:T.none(),onSetup:t=>(t.setEnabled(e.enabled),v),fetch:iS(n.items,t,r)},i=Om(oS(o,"tox-tbtn",r,T.none()));return i.asSpec()}if(((e,t)=>"custom"===t||"cancel"===t||"submit"===t)(0,t)){const n=hS(e.name,t),o={...e,borderless:!1};return cS(o,n,r.shared.providers,[])}throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")},uS={type:"separator"},pS=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v}),fS=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:v}),mS=(e,t)=>(e=>V(e,pS))(((e,t)=>j(t,(t=>t.type===e)))(e,t)),gS=e=>mS("header",e.targets),vS=e=>mS("anchor",e.targets),yS=e=>T.from(e.anchorTop).map((e=>fS("<top>",e))).toArray(),bS=e=>T.from(e.anchorBottom).map((e=>fS("<bottom>",e))).toArray(),wS=(e,t)=>{const r=e.toLowerCase();return j(t,(e=>{var t;const n=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,o=null!==(t=e.value)&&void 0!==t?t:"";return Se(n.toLowerCase(),r)||Se(o.toLowerCase(),r)}))},xS=Qi("aria-invalid"),_S=(e,t)=>{e.dom.checked=t},ES=e=>e.dom.checked,CS=e=>(t,r,n,o)=>ve(r,"name").fold((()=>e(r,o,T.none())),(i=>t.field(i,e(r,o,ve(n,i))))),SS={bar:CS(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:V(e.items,t.interpreter)}))(e,t.shared))),collection:CS(((e,t,r)=>((e,t,r)=>{const n=e.label.map((e=>Rx(e,t))),o=e=>(t,r)=>{ia(r.event.target,"[data-collection-item-value]").each((n=>{e(t,r,n,wt(n,"data-collection-item-value"))}))},i=o(((r,n,o,i)=>{n.stop(),t.isDisabled()||Si(r,Lx,{name:e.name,value:i})})),s=[Ii(Vo(),o(((e,t,r)=>{xl(r)}))),Ii(Wo(),i),Ii(ii(),i),Ii(zo(),o(((e,t,r)=>{oa(e.element,"."+iv).each((e=>{Ds(e,iv)})),Os(r,iv)}))),Ii(Ho(),o((e=>{oa(e.element,"."+iv).each((e=>{Ds(e,iv)}))}))),Ui(o(((t,r,n,o)=>{Si(t,Lx,{name:e.name,value:o})})))],a=(e,t)=>V(Bc(e.element,".tox-collection__item"),t),l=kx.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:w},behaviours:pl([Eu.config({disabled:t.isDisabled,onDisabled:e=>{a(e,(e=>{Os(e,"tox-collection__item--state-disabled"),yt(e,"aria-disabled",!0)}))},onEnabled:e=>{a(e,(e=>{Ds(e,"tox-collection__item--state-disabled"),Et(e,"aria-disabled")}))}}),rb(),Nf.config({}),rd.config({store:{mode:"memory",initialValue:r.getOr([])},onSetValue:(r,n)=>{((r,n)=>{const o=V(n,(r=>{const n=Dm.translate(r.text),o=1===e.columns?`<div class="tox-collection__item-label">${n}</div>`:"",i=`<div class="tox-collection__item-icon">${r.icon}</div>`,s={_:" "," - ":" ","-":" "},a=n.replace(/\_| \- |\-/g,(e=>s[e]));return`<div class="tox-collection__item${t.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${Mx.encodeAllRaw(r.value)}" title="${a}" aria-label="${a}">${i}${o}</div>`})),i="auto"!==e.columns&&e.columns>1?L(o,e.columns):[o],s=V(i,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));Wi(r.element,s.join(""))})(r,n),"auto"===e.columns&&jy(r,5,"tox-collection__item").each((({numRows:e,numColumns:t})=>{Pf.setGridSize(r,e,t)})),Ci(r,Gx)}}),Tx.config({}),Pf.config((c=e.columns,1===c?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===c?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Qg}`}})),Lf("collection-events",s)]),eventOrder:{[ni()]:["disabling","alloy.base.behaviour","collection-events"]}});var c;return Ox(n,l,["tox-form__group--collection"],[])})(e,t.shared.providers,r))),alertbanner:CS(((e,t)=>((e,t)=>_x.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Mm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Lm(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{Si(t,Lx,{name:"alert-banner",value:e.url})},buttonBehaviours:pl([Vm()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]}))(e,t.shared.providers))),input:CS(((e,t,r)=>((e,t,r)=>HC({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:T.none(),maximized:e.maximized,data:r},t))(e,t.shared.providers,r))),textarea:CS(((e,t,r)=>((e,t,r)=>HC({name:e.name,multiline:!0,label:e.label,inputMode:T.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:T.none(),maximized:e.maximized,data:r},t))(e,t.shared.providers,r))),label:CS(((e,t)=>((e,t)=>{return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:["tox-label"]},components:[qs(t.providers.translate(e.label))]},...V(e.items,t.interpreter)],behaviours:pl([XE(),Nf.config({}),(r=T.none(),tC(r,qi,Wi)),Pf.config({mode:"acyclic"})])};var r})(e,t.shared))),iframe:(Yk=(e,t,r)=>((e,t,r)=>{const n=e.sandboxed,o=e.transparent,i="tox-dialog__iframe",s={...e.label.map((e=>({title:e}))).getOr({}),...r.map((e=>({srcdoc:e}))).getOr({}),...n?{sandbox:"allow-scripts allow-same-origin"}:{}},a=(e=>{const t=wo(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,r)=>{t.get()!==r&&yt(e.element,"srcdoc",r),t.set(r)}}})(r),l=e.label.map((e=>Rx(e,t))),c=kx.parts.field({factory:{sketch:e=>uC({uid:e.uid,dom:{tag:"iframe",attributes:s,classes:o?[i]:[i,`${i}--opaque`]},behaviours:pl([Tx.config({}),Gf.config({}),oC(r,a.getValue,a.setValue)])})}});return Ox(l,c,["tox-form__group--stretched"],[])})(e,t.shared.providers,r),(e,t,r,n)=>{const o=ln(t,{source:"dynamic"});return CS(Yk)(e,o,r,n)}),button:CS(((e,t)=>((e,t)=>{const r=hS(e.name,"custom");return n=T.none(),o=kx.parts.field({factory:Mm,...lS(e,T.some(r),t,[iC(""),XE()])}),Ox(n,o,[],[]);var n,o})(e,t.shared.providers))),checkbox:CS(((e,t,r)=>((e,t,r)=>{const n=e=>(e.element.dom.click(),T.some(!0)),o=kx.parts.field({factory:{sketch:w},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:pl([XE(),Eu.config({disabled:()=>!e.enabled||t.isDisabled()}),Tx.config({}),Gf.config({}),nC(r,ES,_S),Pf.config({mode:"special",onEnter:n,onSpace:n,stopSpaceKeyup:!0}),Lf("checkbox-events",[Ii(qo(),((t,r)=>{Si(t,Fx,{name:e.name})}))])])}),i=kx.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[qs(t.translate(e.label))],behaviours:pl([e_.config({})])}),s=e=>Hm("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),a=Om({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return kx.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,a.asSpec(),i],fieldBehaviours:pl([Eu.config({disabled:()=>!e.enabled||t.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:e=>{kx.getField(e).each(Eu.disable)},onEnabled:e=>{kx.getField(e).each(Eu.enable)}}),rb()])})})(e,t.shared.providers,r))),colorinput:CS(((e,t,r)=>((e,t,r,n)=>{const o=kx.parts.field({factory:bv,inputClasses:["tox-textfield"],data:n,onSetValue:e=>Qx.run(e).get(v),inputBehaviours:pl([Eu.config({disabled:t.providers.isDisabled}),rb(),Tx.config({}),Qx.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>tt(e.element),notify:{onValid:e=>{const t=rd.getValue(e);Si(e,t_,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=rd.getValue(e);if(0===t.length)return jw(Yr.value(!0));{const e=De("span");kt(e,"background-color",t);const r=Ot(e,"background-color").fold((()=>Yr.error("blah")),(e=>Yr.value(t)));return jw(r)}}}})]),selectOnFocus:!1}),i=e.label.map((e=>Rx(e,t.providers))),s=(e,t)=>{Si(e,r_,{value:t})},a=Om(((e,t)=>rx.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:pl([nb(t.providers.isDisabled),rb(),e_.config({}),Tx.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:r=>Hw((t=>e.fetch(t))).map((n=>T.from(hx(ln(Ew(Qi("menu-value"),n,(t=>{e.onItemAction(r,t)}),e.columns,e.presets,Xg.CLOSE_ON_EXECUTE,k,t.providers),{movement:Sw(e.columns,e.presets)}))))),parts:{menu:fv(0,0,e.presets)}}))({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ka,Za,Qa],onLtr:()=>[Za,Ka,Qa]},components:[],fetch:yw(r.getColors(e.storageKey),e.storageKey,r.hasCustomColors()),columns:r.getColorCols(e.storageKey),presets:"color",onItemAction:(t,n)=>{a.getOpt(t).each((t=>{"custom"===n?r.colorPicker((r=>{r.fold((()=>Ci(t,n_)),(r=>{s(t,r),Jb(e.storageKey,r)}))}),"#ffffff"):s(t,"remove"===n?"":n)}))}},t));return kx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,a.asSpec()]}]),fieldBehaviours:pl([Lf("form-field-events",[Ii(t_,((t,r)=>{a.getOpt(t).each((e=>{kt(e.element,"background-color",r.event.color)})),Si(t,Fx,{name:e.name})})),Ii(r_,((e,t)=>{kx.getField(e).each((r=>{rd.setValue(r,t.event.value),cu.getCurrent(e).each(Gf.focus)}))})),Ii(n_,((e,t)=>{kx.getField(e).each((t=>{cu.getCurrent(e).each(Gf.focus)}))}))])])})})(e,t.shared,t.colorinput,r))),colorpicker:CS(((e,t,r)=>((e,t,r)=>{const n=e=>"tox-"+e,o=YE((e=>t=>e.translate(sC[t]))(t),n),i=Om(o.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{Si(e,Lx,{name:"hex-valid",value:!0})},onInvalidHex:e=>{Si(e,Lx,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:pl([oC(r,(e=>{const t=i.get(e);return cu.getCurrent(t).bind((e=>rd.getValue(e).hex)).map((e=>"#"+e)).getOr("")}),((e,t)=>{const r=T.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>te(e,1))),n=i.get(e);cu.getCurrent(n).fold((()=>{console.log("Can not find form")}),(e=>{rd.setValue(e,{hex:r.getOr("")}),UE.getField(e,"hex").each((e=>{Ci(e,Uo())}))}))})),XE()])}})(0,t.shared.providers,r))),dropzone:CS(((e,t,r)=>((e,t,r)=>{const n=(e,t)=>{t.stop()},o=e=>(t,r)=>{z(e,(e=>{e(t,r)}))},i=(e,t)=>{var r;if(!Eu.isDisabled(e)){const n=t.event.raw;a(e,null===(r=n.dataTransfer)||void 0===r?void 0:r.files)}},s=(e,t)=>{const r=t.event.raw.target;a(e,r.files)},a=(r,n)=>{n&&(rd.setValue(r,((e,t)=>{const r=lC.explode(t.getOption("images_file_types"));return j(oe(e),(e=>B(r,(t=>ke(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(n,t)),Si(r,Fx,{name:e.name}))},l=Om({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:pl([Lf("input-file-events",[Li(Wo()),Li(ii())])])}),c=e.label.map((e=>Rx(e,t))),h=kx.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:pl([iC(r.getOr([])),XE(),Eu.config({}),Xf.config({toggleClass:"dragenter",toggleOnExecute:!1}),Lf("dropzone-events",[Ii("dragenter",o([n,Xf.toggle])),Ii("dragleave",o([n,Xf.toggle])),Ii("dragover",n),Ii("drop",o([n,i])),Ii(qo(),s)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[qs(t.translate("Drop an image here"))]},Mm.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[qs(t.translate("Browse for an image")),l.asSpec()],action:e=>{l.get(e).element.dom.click()},buttonBehaviours:pl([Tx.config({}),nb(t.isDisabled),rb()])})]}]})}});return Ox(c,h,["tox-form__group--stretched"],[])})(e,t.shared.providers,r))),grid:CS(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:V(e.items,t.interpreter)}))(e,t.shared))),listbox:CS(((e,t,r)=>((e,t,r)=>{const n=t.shared.providers,o=r.bind((t=>DC(e.items,t))).orThunk((()=>re(e.items).filter(TC))),i=e.label.map((e=>Rx(e,n))),s=kx.parts.field({dom:{},factory:{sketch:r=>CC({uid:r.uid,text:o.map((e=>e.text)),icon:T.none(),tooltip:e.label,role:T.none(),fetch:(r,n)=>{const o=OC(r,e.name,e.items,rd.getValue(r));n(PC(o,Xg.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:T.none()}))},onSetup:b(v),getApi:b({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Tx.config({}),oC(o.map((e=>e.value)),(e=>wt(e.element,MC)),((t,r)=>{DC(e.items,r).each((e=>{yt(t.element,MC,e.value),Si(t,_C,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),a={dom:{tag:"div",classes:["tox-listboxfield"]},components:[s]};return kx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$([i.toArray(),[a]]),fieldBehaviours:pl([Eu.config({disabled:b(!e.enabled),onDisabled:e=>{kx.getField(e).each(Eu.disable)},onEnabled:e=>{kx.getField(e).each(Eu.enable)}})])})})(e,t,r))),selectbox:CS(((e,t,r)=>((e,t,r)=>{const n=V(e.items,(e=>({text:t.translate(e.text),value:e.value}))),o=e.label.map((e=>Rx(e,t))),i=kx.parts.field({dom:{},...r.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:n,factory:IC,selectBehaviours:pl([Eu.config({disabled:()=>!e.enabled||t.isDisabled()}),Tx.config({}),Lf("selectbox-change",[Ii(qo(),((t,r)=>{Si(t,Fx,{name:e.name})}))])])}),s=e.size>1?T.none():T.some(Hm("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:$([[i],s.toArray()])};return kx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$([o.toArray(),[a]]),fieldBehaviours:pl([Eu.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{kx.getField(e).each(Eu.disable)},onEnabled:e=>{kx.getField(e).each(Eu.enable)}}),rb()])})})(e,t.shared.providers,r))),sizeinput:CS(((e,t)=>((e,t)=>{let r=zC;const n=Qi("ratio-event"),o=e=>Hm(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),i=NC.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:pl([Eu.config({disabled:()=>!e.enabled||t.isDisabled()}),rb(),Tx.config({})])}),s=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),a=r=>kx.parts.field({factory:bv,inputClasses:["tox-textfield"],inputBehaviours:pl([Eu.config({disabled:()=>!e.enabled||t.isDisabled()}),rb(),Tx.config({}),Lf("size-input-events",[Ii(zo(),((e,t)=>{Si(e,n,{isField1:r})})),Ii(qo(),((t,r)=>{Si(t,Fx,{name:e.name})}))])]),selectOnFocus:!1}),l=e=>({dom:{tag:"label",classes:["tox-label"]},components:[qs(t.translate(e))]}),c=NC.parts.field1(s([kx.parts.label(l("Width")),a(!0)])),h=NC.parts.field2(s([kx.parts.label(l("Height")),a(!1)]));return NC.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,h,s([l(""),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,n)=>{LC(rd.getValue(e)).each((e=>{r(e).each((e=>{rd.setValue(t,(e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let r=e.value.toFixed((n=e.unit)in t?t[n]:1);var n;return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+e.unit})(e))}))}))},coupledFieldBehaviours:pl([Eu.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{NC.getField1(e).bind(kx.getField).each(Eu.disable),NC.getField2(e).bind(kx.getField).each(Eu.disable),NC.getLock(e).each(Eu.disable)},onEnabled:e=>{NC.getField1(e).bind(kx.getField).each(Eu.enable),NC.getField2(e).bind(kx.getField).each(Eu.enable),NC.getLock(e).each(Eu.enable)}}),rb(),Lf("size-input-events2",[Ii(n,((e,t)=>{const n=t.event.isField1,o=n?NC.getField1(e):NC.getField2(e),i=n?NC.getField2(e):NC.getField1(e),s=o.map(rd.getValue).getOr(""),a=i.map(rd.getValue).getOr("");r=((e,t)=>{const r=LC(e).toOptional(),n=LC(t).toOptional();return _e(r,n,((e,t)=>VC(e,t.unit).map((e=>t.value/e)).map((e=>{return r=e,n=t.unit,e=>VC(e,n).map((e=>({value:e*r,unit:n})));var r,n})).getOr(zC))).getOr(zC)})(s,a)}))])])})})(e,t.shared.providers))),slider:CS(((e,t,r)=>((e,t,r)=>{const n=BE.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[qs(t.translate(e.label))]}),o=BE.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),i=BE.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return BE.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:b(r.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[n,o,i],sliderBehaviours:pl([XE(),Gf.config({})]),onChoose:(t,r,n)=>{Si(t,Fx,{name:e.name,value:n})}})})(e,t.shared.providers,r))),urlinput:CS(((e,t,r)=>((e,t,r,n)=>{const o=t.shared.providers,i=t=>{const n=rd.getValue(t);r.addToHistory(n.value,e.filetype)},s={...n.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":xS,type:"url"},minChars:0,responseTime:0,fetch:n=>{const o=((e,t,r)=>{const n=rd.getValue(t),o=void 0!==n.meta.text?n.meta.text:n.value;return r.getLinkInformation().fold((()=>[]),(t=>{const n=wS(o,(e=>V(e,(e=>fS(e,e))))(r.getHistory(e)));return"file"===e?(i=[n,wS(o,gS(t)),wS(o,$([yS(t),vS(t),bS(t)]))],U(i,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(uS,t)),[])):n;var i}))})(e.filetype,n,r),i=PC(o,Xg.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:T.none()});return jw(i)},getHotspot:e=>p.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(Qx)&&Qx.run(e).get(v)},typeaheadBehaviours:pl([...r.getValidationHandler().map((t=>Qx.config({getRoot:e=>tt(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{c.getOpt(e).each((e=>{yt(e.element,"title",o.translate(t))}))}},validator:{validate:r=>{const n=rd.getValue(r);return rS((r=>{t({type:e.filetype,url:n.value},(e=>{if("invalid"===e.status){const t=Yr.error(e.message);r(t)}else{const t=Yr.value(e.message);r(t)}}))}))},validateOnLoad:!1}}))).toArray(),Eu.config({disabled:()=>!e.enabled||o.isDisabled()}),Tx.config({}),Lf("urlinput-events",[Ii(Uo(),(t=>{const r=Bs(t.element),n=r.trim();n!==r&&Ns(t.element,n),"file"===e.filetype&&Si(t,Fx,{name:e.name})})),Ii(qo(),(t=>{Si(t,Fx,{name:e.name}),i(t)})),Ii(ti(),(t=>{Si(t,Fx,{name:e.name}),i(t)}))])]),eventOrder:{[Uo()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:fv(0,0,"normal")},onExecute:(e,t,r)=>{Si(t,Vx,{})},onItemExecute:(t,r,n,o)=>{i(t),Si(t,Fx,{name:e.name})}},a=kx.parts.field({...s,factory:eS}),l=e.label.map((e=>Rx(e,o))),c=Om(((e,t,r=e,n=e)=>Hm(r,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:o.translate(n),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},o.icons))("invalid",T.some(xS),"warning")),h=Om({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),d=r.getUrlPicker(e.filetype),u=Qi("browser.url.event"),p=Om({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,h.asSpec()],behaviours:pl([Eu.config({disabled:()=>!e.enabled||o.isDisabled()})])}),f=Om(cS({name:e.name,icon:T.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:T.none(),borderless:!0},(e=>Ci(e,u)),o,[],["tox-browse-url"]));return kx.sketch({dom:Ix([]),components:l.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:$([[p.asSpec()],d.map((()=>f.asSpec())).toArray()])}]),fieldBehaviours:pl([Eu.config({disabled:()=>!e.enabled||o.isDisabled(),onDisabled:e=>{kx.getField(e).each(Eu.disable),f.getOpt(e).each(Eu.disable)},onEnabled:e=>{kx.getField(e).each(Eu.enable),f.getOpt(e).each(Eu.enable)}}),rb(),Lf("url-input-events",[Ii(u,(t=>{cu.getCurrent(t).each((r=>{const n=rd.getValue(r),o={fieldname:e.name,...n};d.each((n=>{n(o).get((n=>{rd.setValue(r,n),Si(t,Fx,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,r))),customeditor:CS((e=>{const t=jl(),r=Om({dom:{tag:e.tag}}),n=jl();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:pl([Lf("custom-editor-events",[Hi((o=>{r.getOpt(o).each((r=>{((e=>ye(e,"init"))(e)?e.init(r.element.dom):aC.load(e.scriptId,e.scriptUrl).then((t=>t(r.element.dom,e.settings)))).then((e=>{n.on((t=>{e.setValue(t)})),n.clear(),t.set(e)}))}))}))]),oC(T.none(),(()=>t.get().fold((()=>n.get().getOr("")),(e=>e.getValue()))),((e,r)=>{t.get().fold((()=>n.set(r)),(e=>e.setValue(r)))})),XE()]),components:[r.asSpec()]}})),htmlpanel:CS((e=>"presentation"===e.presets?_x.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):_x.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:pl([Tx.config({}),Gf.config({})])}))),imagepreview:CS(((e,t,r)=>((e,t)=>{const r=wo(t.getOr({url:""})),n=Om({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),o=Om({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[n.asSpec()]}),i={};e.height.each((e=>i.height=e));const s=t.map((e=>({url:e.url,zoom:T.from(e.zoom),cachedWidth:T.from(e.cachedWidth),cachedHeight:T.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:i,attributes:{role:"presentation"}},components:[o.asSpec()],behaviours:pl([XE(),oC(s,(()=>r.get()),((e,t)=>{const i={url:t.url};t.zoom.each((e=>i.zoom=e)),t.cachedWidth.each((e=>i.cachedWidth=e)),t.cachedHeight.each((e=>i.cachedHeight=e)),r.set(i);const s=()=>{const{cachedWidth:t,cachedHeight:r,zoom:n}=i;if(!d(t)&&!d(r)){if(d(n)){const n=((e,t,r)=>{const n=Wt(e),o=Lt(e);return Math.min(n/t,o/r,1)})(e.element,t,r);i.zoom=n}const s=((e,t,r,n,o)=>{const i=r*o,s=n*o,a=Math.max(0,e/2-i/2),l=Math.max(0,t/2-s/2);return{left:a.toString()+"px",top:l.toString()+"px",width:i.toString()+"px",height:s.toString()+"px"}})(Wt(e.element),Lt(e.element),t,r,i.zoom);o.getOpt(e).each((e=>{At(e.element,s)}))}};n.getOpt(e).each((r=>{const n=r.element;var o;t.url!==wt(n,"src")&&(yt(n,"src",t.url),Ds(e.element,"tox-imagepreview__loaded")),s(),(o=n,new Promise(((e,t)=>{const r=()=>{i(),e(o)},n=[Ul(o,"load",r),Ul(o,"error",(()=>{i(),t("Unable to load data from image: "+o.dom.src)}))],i=()=>z(n,(e=>e.unbind()));o.dom.complete&&r()}))).then((t=>{e.getSystem().isConnected()&&(Os(e.element,"tox-imagepreview__loaded"),i.cachedWidth=t.dom.naturalWidth,i.cachedHeight=t.dom.naturalHeight,s())}))}))}))])}})(e,r))),table:CS(((e,t)=>((e,t)=>{const r=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:V(o,(e=>({dom:{tag:"th",innerHtml:t.translate(e)}})))}]}),(n=e.cells,{dom:{tag:"tbody"},components:V(n,(e=>({dom:{tag:"tr"},components:V(e,r)})))})],behaviours:pl([Tx.config({}),Gf.config({})])};var n,o})(e,t.shared.providers))),panel:CS(((e,t)=>((e,t)=>({dom:{tag:"div",classes:e.classes},components:V(e.items,t.shared.interpreter)}))(e,t)))},kS={field:(e,t)=>t,record:b([])},AS=(e,t,r,n)=>{const o=ln(n,{shared:{interpreter:t=>PS(e,t,r,o)}});return PS(e,t,r,o)},PS=(e,t,r,n)=>ve(SS,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(o=>o(e,t,r,n))),TS=(e,t,r)=>PS(kS,e,t,r),MS="layout-inset",OS=e=>e.x,DS=(e,t)=>e.x+e.width/2-t.width/2,IS=(e,t)=>e.x+e.width-t.width,RS=e=>e.y,FS=(e,t)=>e.y+e.height-t.height,BS=(e,t)=>e.y+e.height/2-t.height/2,NS=(e,t,r)=>Pa(IS(e,t),FS(e,t),r.insetSouthwest(),Ia(),"southwest",za(e,{right:0,bottom:3}),MS),LS=(e,t,r)=>Pa(OS(e),FS(e,t),r.insetSoutheast(),Da(),"southeast",za(e,{left:1,bottom:3}),MS),VS=(e,t,r)=>Pa(IS(e,t),RS(e),r.insetNorthwest(),Oa(),"northwest",za(e,{right:0,top:2}),MS),zS=(e,t,r)=>Pa(OS(e),RS(e),r.insetNortheast(),Ma(),"northeast",za(e,{left:1,top:2}),MS),HS=(e,t,r)=>Pa(DS(e,t),RS(e),r.insetNorth(),Ra(),"north",za(e,{top:2}),MS),jS=(e,t,r)=>Pa(DS(e,t),FS(e,t),r.insetSouth(),Fa(),"south",za(e,{bottom:3}),MS),GS=(e,t,r)=>Pa(IS(e,t),BS(e,t),r.insetEast(),Na(),"east",za(e,{right:0}),MS),US=(e,t,r)=>Pa(OS(e),BS(e,t),r.insetWest(),Ba(),"west",za(e,{left:1}),MS),qS=e=>{switch(e){case"north":return HS;case"northeast":return zS;case"northwest":return VS;case"south":return jS;case"southeast":return LS;case"southwest":return NS;case"east":return GS;case"west":return US}},WS=(e,t,r,n,o)=>Nl(n).map(qS).getOr(HS)(e,t,r,n,o),$S=e=>{switch(e){case"north":return jS;case"northeast":return LS;case"northwest":return NS;case"south":return HS;case"southeast":return zS;case"southwest":return VS;case"east":return US;case"west":return GS}},ZS=(e,t,r,n,o)=>Nl(n).map($S).getOr(HS)(e,t,r,n,o),KS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},YS=(e,t,r)=>{const n={maxHeightFunction:Jl()};return()=>r()?{type:"node",root:dt(ht(e())),node:T.from(e()),bubble:rc(12,12,KS),layouts:{onRtl:()=>[zS],onLtr:()=>[VS]},overrides:n}:{type:"hotspot",hotspot:t(),bubble:rc(-12,12,KS),layouts:{onRtl:()=>[Za],onLtr:()=>[Ka]},overrides:n}},XS=(e,t,r)=>()=>r()?{type:"node",root:dt(ht(e())),node:T.from(e()),layouts:{onRtl:()=>[HS],onLtr:()=>[HS]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[Qa],onLtr:()=>[Qa]}},JS=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();return T.some(Tc.range(Re(t.startContainer),t.startOffset,Re(t.endContainer),t.endOffset))}}),QS=e=>t=>({type:"node",root:e(),node:t}),ek=(e,t,r)=>{const n=jg(e),o=()=>Re(e.getBody()),i=()=>Re(e.getContentAreaContainer()),s=()=>n||!r();return{inlineDialog:YS(i,t,s),banner:XS(i,t,s),cursor:JS(e,o),node:QS(o)}},tk=e=>(t,r)=>{_w(e)(t,r)},rk=e=>()=>hw(e),nk=e=>t=>dw(e,t),ok=e=>t=>cw(e,t),ik=e=>()=>Sg(e),sk=e=>be(e,"items"),ak=e=>be(e,"format"),lk=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],ck=e=>U(e,((e,t)=>{if(ye(t,"items")){const r=ck(t.items);return{customFormats:e.customFormats.concat(r.customFormats),formats:e.formats.concat([{title:t.title,items:r.formats}])}}if(ye(t,"inline")||(e=>ye(e,"block"))(t)||(e=>ye(e,"selector"))(t)){const r=`custom-${i(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:r,format:t}]),formats:e.formats.concat([{title:t.title,format:r,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),hk=e=>ig(e).map((t=>{const r=((e,t)=>{const r=ck(t),n=t=>{z(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?n(r.customFormats):e.on("init",(()=>{n(r.customFormats)})),r.formats})(e,t);return sg(e)?lk.concat(r):r})).getOr(lk),dk=(e,t,r)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:r(e.format)}),uk=(e,t,r,n)=>{const o=t=>V(t,(t=>sk(t)?(e=>{const t=o(e.items);return{...e,type:"submenu",getStyleItems:b(t)}})(t):ak(t)?(e=>dk(e,r,n))(t):(e=>{const t=se(e);return 1===t.length&&F(t,"title")})(t)?{...t,type:"separator"}:(t=>{const o=i(t.name)?t.name:Qi(t.title),s=`custom-${o}`,a={...t,type:"formatter",format:s,isSelected:r(s),getStylePreview:n(s)};return e.formatter.register(o,a),a})(t)));return o(t)},pk=lC.trim,fk=e=>t=>{if((e=>p(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},mk=fk("true"),gk=fk("false"),vk=(e,t,r,n,o)=>({type:e,title:t,url:r,level:n,attach:o}),yk=e=>e.innerText||e.textContent,bk=e=>(e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name))(e)&&xk(e),wk=e=>e&&/^(H[1-6])$/.test(e.nodeName),xk=e=>(e=>{let t=e;for(;t=t.parentNode;){const e=t.contentEditable;if(e&&"inherit"!==e)return mk(t)}return!1})(e)&&!gk(e),_k=e=>wk(e)&&xk(e),Ek=e=>{var t;const r=(e=>e.id?e.id:Qi("h"))(e);return vk("header",null!==(t=yk(e))&&void 0!==t?t:"","#"+r,(e=>wk(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=r}))},Ck=e=>{const t=e.id||e.name,r=yk(e);return vk("anchor",r||"#"+t,"#"+t,0,v)},Sk=e=>pk(e.title).length>0,kk=e=>{const t=(e=>{const t=V(Bc(Re(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),(e=>e.dom));return t})(e);return j((e=>V(j(e,_k),Ek))(t).concat((e=>V(j(e,bk),Ck))(t)),Sk)},Ak="tinymce-url-history",Pk=e=>i(e)&&/^https?/.test(e),Tk=e=>s(e)&&me(e,(e=>{return!(l(t=e)&&t.length<=5&&K(t,Pk));var t})).isNone(),Mk=()=>{const e=Kb.getItem(Ak);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+Ak+" was not valid JSON",e),{};throw e}return Tk(t)?t:(console.log("Local storage "+Ak+" was not valid format",t),{})},Ok=e=>{const t=Mk();return ve(t,e).getOr([])},Dk=(e,t)=>{if(!Pk(e))return;const r=Mk(),n=ve(r,t).getOr([]),o=j(n,(t=>t!==e));r[t]=[e].concat(o).slice(0,5),(e=>{if(!Tk(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));Kb.setItem(Ak,JSON.stringify(e))})(r)},Ik=e=>!!e,Rk=e=>ce(lC.makeMap(e,/[, ]/),Ik),Fk=e=>T.from(bg(e)),Bk=e=>T.from(e).filter(i).getOrUndefined(),Nk=e=>({getHistory:Ok,addToHistory:Dk,getLinkInformation:()=>(e=>_g(e)?T.some({targets:kk(e.getBody()),anchorTop:Bk(Eg(e)),anchorBottom:Bk(Cg(e))}):T.none())(e),getValidationHandler:()=>(e=>T.from(wg(e)))(e),getUrlPicker:t=>((e,t)=>((e,t)=>{const r=(e=>{const t=T.from(xg(e)).filter(Ik).map(Rk);return Fk(e).fold(k,(e=>t.fold(A,(e=>se(e).length>0&&e))))})(e);return h(r)?r?Fk(e):T.none():r[t]?Fk(e):T.none()})(e,t).map((r=>n=>Hw((o=>{const a={filetype:t,fieldname:n.fieldname,...T.from(n.meta).getOr({})};r.call(e,((e,t)=>{if(!i(e))throw new Error("Expected value to be string");if(void 0!==t&&!s(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})}),n.value,a)})))))(e,t)}),Lk=Jd,Vk=Fd,zk=b([ho("shell",!1),$n("makeItem"),ho("setupItem",v),sd("listBehaviours",[Nf])]),Hk=Dd({name:"items",overrides:()=>({behaviours:pl([Nf.config({})])})}),jk=b([Hk]),Gk=iu({name:b("CustomList")(),configFields:zk(),partFields:jk(),factory:(e,t,r,n)=>{const o=e.shell?{behaviours:[Nf.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:id(e.listBehaviours,o.behaviours),apis:{setItems:(t,r)=>{var n;(n=t,e.shell?T.some(n):Ud(n,e,"items")).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(n=>{const o=Nf.contents(n),i=r.length,s=i-o.length,a=s>0?N(s,(()=>e.makeItem())):[],l=o.slice(i);z(l,(e=>Nf.remove(n,e))),z(a,(e=>Nf.append(n,e)));const c=Nf.contents(n);z(c,((n,o)=>{e.setupItem(t,n,r[o],o)}))}))}}}},apis:{setItems:(e,t,r)=>{e.setItems(t,r)}}}),Uk=b([$n("dom"),ho("shell",!0),nd("toolbarBehaviours",[Nf])]),qk=b([Dd({name:"groups",overrides:()=>({behaviours:pl([Nf.config({})])})})]),Wk=iu({name:"Toolbar",configFields:Uk(),partFields:qk(),factory:(e,t,r,n)=>{const o=e.shell?{behaviours:[Nf.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:id(e.toolbarBehaviours,o.behaviours),apis:{setGroups:(t,r)=>{var n;(n=t,e.shell?T.some(n):Ud(n,e,"groups")).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{Nf.set(e,r)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)}}}),$k=v,Zk=k,Kk=b([]);var Yk,Xk=Object.freeze({__proto__:null,setup:$k,isDocked:Zk,getBehaviours:Kk});const Jk=e=>(we(Ot(e,"position"),"fixed")?T.none():rt(e)).orThunk((()=>{const t=De("span");return et(e).bind((e=>{Dr(e,t);const r=rt(t);return Fr(t),r}))})),Qk=e=>Jk(e).map(Gt).getOrThunk((()=>Ht(0,0))),eA=xo([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),tA=(e,t)=>{const r=e.element;Os(r,t.transitionClass),Ds(r,t.fadeOutClass),Os(r,t.fadeInClass),t.onShow(e)},rA=(e,t)=>{const r=e.element;Os(r,t.transitionClass),Ds(r,t.fadeInClass),Os(r,t.fadeOutClass),t.onHide(e)},nA=(e,t,r)=>K(e,(e=>{switch(e){case"bottom":return((e,t)=>e.bottom<=t.bottom)(t,r);case"top":return((e,t)=>e.y>=t.y)(t,r)}})),oA=(e,t)=>t.getInitialPos().map((t=>Ur(t.bounds.x,t.bounds.y,Wt(e),Lt(e)))),iA=(e,t,r)=>r.getInitialPos().bind((n=>{switch(r.clearInitialPos(),n.position){case"static":return T.some(eA.static());case"absolute":const r=Jk(e).map(qr).getOrThunk((()=>qr(mt())));return T.some(eA.absolute(kl("absolute",ve(n.style,"left").map((e=>t.x-r.x)),ve(n.style,"top").map((e=>t.y-r.y)),ve(n.style,"right").map((e=>r.right-t.right)),ve(n.style,"bottom").map((e=>r.bottom-t.bottom)))));default:return T.none()}})),sA=(e,t,r)=>{const n=e.element;return we(Ot(n,"position"),"fixed")?((e,t,r)=>oA(e,r).filter((e=>nA(r.getModes(),e,t))).bind((t=>iA(e,t,r))))(n,t,r):((e,t,r)=>{const n=qr(e);if(nA(r.getModes(),n,t))return T.none();{((e,t,r)=>{r.setInitialPos({style:Dt(e),position:Tt(e,"position")||"static",bounds:t})})(e,n,r);const o=$r(),i=n.x-o.x,s=t.y-o.y,a=o.bottom-t.bottom,l=n.y<=t.y;return T.some(eA.fixed(kl("fixed",T.some(i),l?T.some(s):T.none(),T.none(),l?T.none():T.some(a))))}})(n,t,r)},aA=(e,t,r)=>{r.setDocked(!1),z(["left","right","top","bottom","position"],(t=>Rt(e.element,t))),t.onUndocked(e)},lA=(e,t,r,n)=>{const o="fixed"===n.position;r.setDocked(o),Al(e.element,n),(o?t.onDocked:t.onUndocked)(e)},cA=(e,t,r,n,o=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((i=>{const s=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(i,n);s!==r.isVisible()&&(r.setVisible(s),o&&!s?(Rs(e.element,[t.fadeOutClass]),t.onHide(e)):(s?tA:rA)(e,t))}))}))},hA=(e,t,r)=>{e.getSystem().isConnected()&&((e,t,r)=>{const n=t.lazyViewport(e);r.isDocked()&&cA(e,t,r,n),sA(e,n,r).each((o=>{o.fold((()=>aA(e,t,r)),(n=>lA(e,t,r,n)),(o=>{cA(e,t,r,n,!0),lA(e,t,r,o)}))}))})(e,t,r)},dA=(e,t,r)=>{r.isDocked()&&((e,t,r)=>{const n=e.element;r.setDocked(!1),((e,t)=>{const r=e.element;return oA(r,t).bind((e=>iA(r,e,t)))})(e,r).each((n=>{n.fold((()=>aA(e,t,r)),(n=>lA(e,t,r,n)),v)})),r.setVisible(!0),t.contextual.each((t=>{Fs(n,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),hA(e,t,r)})(e,t,r)};var uA=Object.freeze({__proto__:null,refresh:hA,reset:dA,isDocked:(e,t,r)=>r.isDocked(),getModes:(e,t,r)=>r.getModes(),setModes:(e,t,r,n)=>r.setModes(n)}),pA=Object.freeze({__proto__:null,events:(e,t)=>Mi([zi(Zo(),((r,n)=>{e.contextual.each((e=>{Is(r.element,e.transitionClass)&&(Fs(r.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(r)),n.stop()}))})),Ii(ui(),((r,n)=>{hA(r,e,t)})),Ii(pi(),((r,n)=>{dA(r,e,t)}))])}),fA=[co("contextual",[Yn("fadeInClass"),Yn("fadeOutClass"),Yn("transitionClass"),Jn("lazyContext"),xa("onShow"),xa("onShown"),xa("onHide"),xa("onHidden")]),vo("lazyViewport",$r),yo("modes",["top","bottom"],On),xa("onDocked"),xa("onUndocked")];const mA=ml({fields:fA,name:"docking",active:pA,apis:uA,state:Object.freeze({__proto__:null,init:e=>{const t=wo(!1),r=wo(!0),n=jl(),o=wo(e.modes);return vs({isDocked:t.get,setDocked:t.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:r.get,setVisible:r.set,getModes:o.get,setModes:o.set,readState:()=>`docked:  ${t.get()}, visible: ${r.get()}, modes: ${o.get().join(",")}`})}})}),gA=b(Qi("toolbar-height-change")),vA={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},yA="tox-tinymce--toolbar-sticky-on",bA="tox-tinymce--toolbar-sticky-off",wA=(e,t)=>F(mA.getModes(e),t),xA=e=>{const t=e.element;tt(t).each((r=>{const n="padding-"+mA.getModes(e)[0];if(mA.isDocked(e)){const e=Wt(r);kt(t,"width",e+"px"),kt(r,n,(e=>Vt(e)+(parseInt(Tt(e,"margin-top"),10)||0)+(parseInt(Tt(e,"margin-bottom"),10)||0))(t)+"px")}else Rt(t,"width"),Rt(r,n)}))},_A=(e,t)=>{t?(Ds(e,vA.fadeOutClass),Rs(e,[vA.transitionClass,vA.fadeInClass])):(Ds(e,vA.fadeInClass),Rs(e,[vA.fadeOutClass,vA.transitionClass]))},EA=(e,t)=>{const r=Re(e.getContainer());t?(Os(r,yA),Ds(r,bA)):(Os(r,bA),Ds(r,yA))},CA=(e,t)=>{const r=jl(),n=t.getSink,o=e=>{n().each((t=>e(t.element)))},i=t=>{e.inline||xA(t),EA(e,mA.isDocked(t)),t.getSystem().broadcastOn([Lh()],{}),n().each((e=>e.getSystem().broadcastOn([Lh()],{})))},s=e.inline?[]:[bl.config({channels:{[gA()]:{onReceive:xA}}})];return[Gf.config({}),mA.config({contextual:{lazyContext:t=>{const r=Vt(t.element),n=e.inline?e.getContentAreaContainer():e.getContainer(),o=qr(Re(n)),i=o.height-r,s=o.y+(wA(t,"top")?0:r);return T.some(Ur(o.x,s,o.width,i))},onShow:()=>{o((e=>_A(e,!0)))},onShown:e=>{o((e=>Fs(e,[vA.transitionClass,vA.fadeInClass]))),r.get().each((t=>{((e,t)=>{const r=Ye(t);El(r).filter((e=>!Ze(t,e))).filter((t=>Ze(t,Re(r.dom.body))||Ke(e,t))).each((()=>xl(t)))})(e.element,t),r.clear()}))},onHide:e=>{((e,t)=>Cl(e).orThunk((()=>t().toOptional().bind((e=>Cl(e.element))))))(e.element,n).fold(r.clear,r.set),o((e=>_A(e,!1)))},onHidden:()=>{o((e=>Fs(e,[vA.transitionClass])))},...vA},lazyViewport:t=>{const r=$r(),n=gg(e),o=r.y+(wA(t,"top")?n:0),i=r.height-(wA(t,"bottom")?n:0);return Ur(r.x,o,r.width,i)},modes:[t.header.getDockingMode()],onDocked:i,onUndocked:i}),...s]};var SA=Object.freeze({__proto__:null,setup:(e,t,r)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{r().each(mA.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{r().each(xA)})),e.on("SkinLoaded",(()=>{r().each((e=>{mA.isDocked(e)?mA.reset(e):mA.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{r().each(mA.reset)}))),e.on("AfterScrollIntoView",(e=>{r().each((t=>{mA.refresh(t);const r=t.element;_p(r)&&((e,t)=>{const r=Ye(t),n=Qe(t).dom.innerHeight,o=Br(r),i=Re(e.elm),s=Wr(i),a=Lt(i),l=s.y,c=l+a,h=Gt(t),d=Lt(t),u=h.top,p=u+d,f=Math.abs(u-o.top)<2,m=Math.abs(p-(o.top+n))<2;if(f&&l<p)Nr(o.left,l-d,r);else if(m&&c>u){const e=l-n+a+d;Nr(o.left,e,r)}})(e,r)}))})),e.on("PostRender",(()=>{EA(e,!1)}))},isDocked:e=>e().map(mA.isDocked).getOr(!1),getBehaviours:CA});const kA=En([Bv,Zn("items",Sn([An([Nv,to("items",On)]),On]))].concat(uy)),AA=[io("text"),io("tooltip"),io("icon"),uo("search",!1,Sn([Dn,En([io("placeholder")])],(e=>h(e)?e?T.some({placeholder:T.none()}):T.none():T.some(e)))),Jn("fetch"),vo("onSetup",(()=>v))],PA=En([Bv,...AA]),TA=e=>Vn("menubutton",PA,e),MA=En([Bv,Xv,Yv,Kv,ey,Gv,$v,mo("presets","normal",["normal","color","listpreview"]),iy(1),qv,Wv]);var OA=ou({factory:(e,t)=>{const r={focus:Pf.focusIn,setMenus:(e,r)=>{const n=V(r,(e=>{const r={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},n=TA(r).mapError((e=>jn(e))).getOrDie();return oS(n,"tox-mbtn",t.backstage,T.some("menuitem"))}));Nf.set(e,n)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:pl([Nf.config({}),Lf("menubar-events",[Hi((t=>{e.onSetup(t)})),Ii(Vo(),((e,t)=>{oa(e.element,".tox-mbtn--active").each((r=>{ia(t.event.target,".tox-mbtn").each((t=>{Ze(r,t)||e.getSystem().getByDom(r).each((r=>{e.getSystem().getByDom(t).each((e=>{rx.expand(e),rx.close(r),Gf.focus(e)}))}))}))}))})),Ii(yi(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((r=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{rx.isOpen(r)&&(rx.expand(e),rx.close(r))}))}))}))]),Pf.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),T.some(!0))}),Tx.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[$n("dom"),$n("uid"),$n("onEscape"),$n("backstage"),ho("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,r)=>{e.setMenus(t,r)}}});const DA=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),IA=e=>e.dimension.property,RA=(e,t)=>e.dimension.getDimension(t),FA=(e,t)=>{const r=DA(e,t);Fs(r,[t.shrinkingClass,t.growingClass])},BA=(e,t)=>{Ds(e.element,t.openClass),Os(e.element,t.closedClass),kt(e.element,IA(t),"0px"),Ft(e.element)},NA=(e,t)=>{Ds(e.element,t.closedClass),Os(e.element,t.openClass),Rt(e.element,IA(t))},LA=(e,t,r,n)=>{r.setCollapsed(),kt(e.element,IA(t),RA(t,e.element)),FA(e,t),BA(e,t),t.onStartShrink(e),t.onShrunk(e)},VA=(e,t,r,n)=>{const o=n.getOrThunk((()=>RA(t,e.element)));r.setCollapsed(),kt(e.element,IA(t),o),Ft(e.element);const i=DA(e,t);Ds(i,t.growingClass),Os(i,t.shrinkingClass),BA(e,t),t.onStartShrink(e)},zA=(e,t,r)=>{const n=RA(t,e.element);("0px"===n?LA:VA)(e,t,r,T.some(n))},HA=(e,t,r)=>{const n=DA(e,t),o=Is(n,t.shrinkingClass),i=RA(t,e.element);NA(e,t);const s=RA(t,e.element);(o?()=>{kt(e.element,IA(t),i),Ft(e.element)}:()=>{BA(e,t)})(),Ds(n,t.shrinkingClass),Os(n,t.growingClass),NA(e,t),kt(e.element,IA(t),s),r.setExpanded(),t.onStartGrow(e)},jA=(e,t,r)=>{const n=DA(e,t);return!0===Is(n,t.growingClass)},GA=(e,t,r)=>{const n=DA(e,t);return!0===Is(n,t.shrinkingClass)};var UA=Object.freeze({__proto__:null,refresh:(e,t,r)=>{if(r.isExpanded()){Rt(e.element,IA(t));const r=RA(t,e.element);kt(e.element,IA(t),r)}},grow:(e,t,r)=>{r.isExpanded()||HA(e,t,r)},shrink:(e,t,r)=>{r.isExpanded()&&zA(e,t,r)},immediateShrink:(e,t,r)=>{r.isExpanded()&&LA(e,t,r)},hasGrown:(e,t,r)=>r.isExpanded(),hasShrunk:(e,t,r)=>r.isCollapsed(),isGrowing:jA,isShrinking:GA,isTransitioning:(e,t,r)=>jA(e,t)||GA(e,t),toggleGrow:(e,t,r)=>{(r.isExpanded()?zA:HA)(e,t,r)},disableTransitions:FA,immediateGrow:(e,t,r)=>{r.isExpanded()||(NA(e,t),kt(e.element,IA(t),RA(t,e.element)),FA(e,t),r.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),qA=Object.freeze({__proto__:null,exhibit:(e,t,r)=>{const n=t.expanded;return bs(n?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:_o(t.dimension.property,"0px")})},events:(e,t)=>Mi([zi(Zo(),((r,n)=>{n.event.raw.propertyName===e.dimension.property&&(FA(r,e),t.isExpanded()&&Rt(r.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(r))}))])}),WA=[$n("closedClass"),$n("openClass"),$n("shrinkingClass"),$n("growingClass"),ro("getAnimationRoot"),xa("onShrunk"),xa("onStartShrink"),xa("onGrown"),xa("onStartGrow"),ho("expanded",!1),Zn("dimension",Gn("property",{width:[Sa("property","width"),Sa("getDimension",(e=>Wt(e)+"px"))],height:[Sa("property","height"),Sa("getDimension",(e=>Lt(e)+"px"))]}))];const $A=ml({fields:WA,name:"sliding",active:qA,apis:UA,state:Object.freeze({__proto__:null,init:e=>{const t=wo(e.expanded);return vs({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:_(t.set,!1),setExpanded:_(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),ZA="container",KA=[nd("slotBehaviours",[])],YA=e=>"<alloy.field."+e+">",XA=(e,t)=>{const r=t=>Zd(e),n=(t,r)=>(n,o)=>Ud(n,e,o).map((e=>t(e,o))).getOr(r),o=(e,t)=>"true"!==wt(e.element,"aria-hidden"),i=n(o,!1),s=n(((e,t)=>{if(o(e)){const r=e.element;kt(r,"display","none"),yt(r,"aria-hidden","true"),Si(e,bi(),{name:t,visible:!1})}})),a=(l=s,(e,t)=>{z(t,(t=>l(e,t)))});var l;const c=n(((e,t)=>{if(!o(e)){const r=e.element;Rt(r,"display"),Et(r,"aria-hidden"),Si(e,bi(),{name:t,visible:!0})}})),h={getSlotNames:r,getSlot:(t,r)=>Ud(t,e,r),isShowing:i,hideSlot:s,hideAllSlots:e=>a(e,r()),showSlot:c};return{uid:e.uid,dom:e.dom,components:t,behaviours:od(e.slotBehaviours),apis:h}},JA=ce({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,r)=>e.getSlot(t,r),isShowing:(e,t,r)=>e.isShowing(t,r),hideSlot:(e,t,r)=>e.hideSlot(t,r),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,r)=>e.showSlot(t,r)},(e=>ms(e))),QA={...JA,sketch:e=>{const t=(()=>{const e=[];return{slot:(t,r)=>(e.push(t),Vd(ZA,YA(t),r)),record:b(e)}})(),r=e(t),n=t.record(),o=V(n,(e=>Md({name:e,pname:YA(e)})));return eu(ZA,KA,o,XA,r)}},eP=En([Yv,Xv,vo("onShow",v),vo("onHide",v),$v]),tP=e=>({element:()=>e.element.dom}),rP=(e,t)=>{const r=V(se(t),(e=>{const r=t[e],n=zn((e=>Vn("sidebar",eP,e))(r));return{name:e,getApi:tP,onSetup:n.onSetup,onShow:n.onShow,onHide:n.onHide}}));return V(r,(t=>{const n=wo(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Gy([ab(t,n),lb(t,n),Ii(bi(),((e,t)=>{const n=t.event,o=q(r,(e=>e.name===n.name));o.each((t=>{(n.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},nP=e=>QA.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:rP(t,e),slotBehaviours:Gy([Hi((e=>QA.hideAllSlots(e)))])}))),oP=e=>cu.getCurrent(e).bind((e=>$A.isGrowing(e)||$A.hasGrown(e)?cu.getCurrent(e).bind((e=>q(QA.getSlotNames(e),(t=>QA.isShowing(e,t))))):T.none())),iP=Qi("FixSizeEvent"),sP=Qi("AutoSizeEvent");var aP=Object.freeze({__proto__:null,block:(e,t,r,n)=>{yt(e.element,"aria-busy",!0);const o=t.getRoot(e).getOr(e),i=pl([Pf.config({mode:"special",onTab:()=>T.some(!0),onShiftTab:()=>T.some(!0)}),Gf.config({})]),s=n(o,i),a=o.getSystem().build(s);Nf.append(o,Ys(a)),a.hasConfigured(Pf)&&t.focus&&Pf.focusIn(a),r.isBlocked()||t.onBlock(e),r.blockWith((()=>Nf.remove(o,a)))},unblock:(e,t,r)=>{Et(e.element,"aria-busy"),r.isBlocked()&&t.onUnblock(e),r.clear()}}),lP=[vo("getRoot",T.none),go("focus",!0),xa("onBlock"),xa("onUnblock")];const cP=ml({fields:lP,name:"blocking",apis:aP,state:Object.freeze({__proto__:null,init:()=>{const e=zl((e=>e.destroy()));return vs({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),hP=e=>{const t=Oe(e),r=nt(t),n=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return U(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})})(t),o=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),i=0===r.length?{}:{innerHtml:qi(t)};return{tag:Ve(t),classes:o,attributes:n,...i}},dP=e=>cu.getCurrent(e).each((e=>xl(e.element))),uP=(e,t,r)=>{const n=wo(!1),o=jl(),i=r=>{var o;n.get()&&(!(e=>"focusin"===e.type)(o=r)||!(o.composed?re(o.composedPath()):T.from(o.target)).map(Re).filter(He).exists((e=>Is(e,"mce-pastebin"))))&&(r.preventDefault(),dP(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));const s=o=>{o!==n.get()&&(n.set(o),((e,t,r,n)=>{const o=t.element;if(((e,t)=>{const r="tabindex",n="data-mce-tabindex";T.from(e.iframeElement).map(Re).each((e=>{t?(xt(e,r).each((t=>yt(e,n,t))),yt(e,r,-1)):(Et(e,r),xt(e,n).each((t=>{yt(e,r,t),Et(e,n)})))}))})(e,r),r)cP.block(t,(e=>(t,r)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:hP('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(n)),Rt(o,"display"),Et(o,"aria-hidden"),e.hasFocus()&&dP(t);else{const r=cu.getCurrent(t).exists((e=>_l(e.element)));cP.unblock(t),kt(o,"display","none"),yt(o,"aria-hidden","true"),r&&e.focus()}})(e,t(),o,r.providers),((e,t)=>{e.dispatch("AfterProgressState",{state:t})})(e,o))};e.on("ProgressState",(t=>{if(o.on(clearTimeout),m(t.time)){const r=Tm.setEditorTimeout(e,(()=>s(t.state)),t.time);o.set(r)}else s(t.state),o.clear()}))},pP=(e,t,r)=>({within:e,extra:t,withinWidth:r}),fP=(e,t,r)=>{const n=U(e,((e,t)=>((e,t)=>{const n=r(e);return T.some({element:e,start:t,finish:t+n,width:n})})(t,e.len).fold(b(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]}).list,o=j(n,(e=>e.finish<=t)),i=G(o,((e,t)=>e+t.width),0);return{within:o,extra:n.slice(o.length),withinWidth:i}},mP=e=>V(e,(e=>e.element)),gP=(e,t)=>{const r=V(t,(e=>Ys(e)));Wk.setGroups(e,r)},vP=(e,t,r)=>{const n=t.builtGroups.get();if(0===n.length)return;const o=qd(e,t,"primary"),i=Bw.getCoupled(e,"overflowGroup");kt(o.element,"visibility","hidden");const s=n.concat([i]),a=ie(s,(e=>Cl(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));r([]),gP(o,s);const l=((e,t,r,n)=>{const o=((e,t,r)=>{const n=fP(t,e,r);return 0===n.extra.length?T.some(n):T.none()})(e,t,r).getOrThunk((()=>fP(t,e-r(n),r))),i=o.within,s=o.extra,a=o.withinWidth;return 1===s.length&&s[0].width<=r(n)?((e,t,r)=>{const n=mP(e.concat(t));return pP(n,[],r)})(i,s,a):s.length>=1?((e,t,r,n)=>{const o=mP(e).concat([r]);return pP(o,mP(t),n)})(i,s,n,a):((e,t,r)=>pP(mP(e),[],r))(i,0,a)})(Wt(o.element),t.builtGroups.get(),(e=>Wt(e.element)),i);0===l.extra.length?(Nf.remove(o,i),r([])):(gP(o,l.within),r(l.extra)),Rt(o.element,"visibility"),Ft(o.element),a.each(Gf.focus)},yP=b([nd("splitToolbarBehaviours",[Bw]),qn("builtGroups",(()=>wo([])))]),bP=b([ba(["overflowToggledClass"]),ao("getOverflowBounds"),$n("lazySink"),qn("overflowGroups",(()=>wo([]))),xa("onOpened"),xa("onClosed")].concat(yP())),wP=b([Md({factory:Wk,schema:Uk(),name:"primary"}),Od({schema:Uk(),name:"overflow"}),Od({name:"overflow-button"}),Od({name:"overflow-group"})]),xP=b(((e,t)=>{((e,t)=>{const r=qt.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);kt(e,"max-width",r+"px")})(e,Math.floor(t))})),_P=b([ba(["toggledClass"]),$n("lazySink"),Jn("fetch"),ao("getBounds"),co("fireDismissalEventInstead",[ho("event",gi())]),hc(),xa("onToggled")]),EP=b([Od({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:pl([Xf.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Od({factory:Wk,schema:Uk(),name:"toolbar",overrides:e=>({toolbarBehaviours:pl([Pf.config({mode:"cyclic",onEscape:t=>(Ud(t,e,"button").each(Gf.focus),T.none())})])})})]),CP=(e,t)=>{const r=Bw.getCoupled(e,"toolbarSandbox");Bh.isOpen(r)?Bh.close(r):Bh.open(r,t.toolbar())},SP=(e,t,r,n)=>{const o=r.getBounds.map((e=>e())),i=r.lazySink(e).getOrDie();dh.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:n,overrides:{maxWidthFunction:xP()}}},o)},kP=(e,t,r,n,o)=>{Wk.setGroups(t,o),SP(e,t,r,n),Xf.on(e)},AP=iu({name:"FloatingToolbarButton",factory:(e,t,r,n)=>({...Mm.sketch({...n.button(),action:e=>{CP(e,n)},buttonBehaviours:ad({dump:n.button().buttonBehaviours},[Bw.config({others:{toolbarSandbox:t=>((e,t,r)=>{const n=aa();return{dom:{tag:"div",attributes:{id:n.id}},behaviours:pl([Pf.config({mode:"special",onEscape:e=>(Bh.close(e),T.some(!0))}),Bh.config({onOpen:(o,i)=>{r.fetch().get((o=>{kP(e,i,r,t.layouts,o),n.link(e.element),Pf.focusIn(i)}))},onClose:()=>{Xf.off(e),Gf.focus(e),n.unlink(e.element)},isPartOf:(t,r,n)=>la(r,n)||la(e,n),getAttachPoint:()=>r.lazySink(e).getOrDie()}),bl.config({channels:{...Hh({isExtraPart:k,...r.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Gh({doReposition:()=>{Bh.getState(Bw.getCoupled(e,"toolbarSandbox")).each((n=>{SP(e,n,r,t.layouts)}))}})}})])}})(t,r,e)}})])}),apis:{setGroups:(t,n)=>{Bh.getState(Bw.getCoupled(t,"toolbarSandbox")).each((o=>{kP(t,o,e,r.layouts,n)}))},reposition:t=>{Bh.getState(Bw.getCoupled(t,"toolbarSandbox")).each((n=>{SP(t,n,e,r.layouts)}))},toggle:e=>{CP(e,n)},getToolbar:e=>Bh.getState(Bw.getCoupled(e,"toolbarSandbox")),isOpen:e=>Bh.isOpen(Bw.getCoupled(e,"toolbarSandbox"))}}),configFields:_P(),partFields:EP(),apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),PP=b([$n("items"),ba(["itemSelector"]),nd("tgroupBehaviours",[Pf])]),TP=b([Id({name:"items",unit:"item"})]),MP=iu({name:"ToolbarGroup",configFields:PP(),partFields:TP(),factory:(e,t,r,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:id(e.tgroupBehaviours,[Pf.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),OP=e=>V(e,(e=>Ys(e))),DP=(e,t,r)=>{vP(e,r,(n=>{r.overflowGroups.set(n),t.getOpt(e).each((e=>{AP.setGroups(e,OP(n))}))}))},IP=iu({name:"SplitFloatingToolbar",configFields:bP(),partFields:wP(),factory:(e,t,r,n)=>{const o=Om(AP.sketch({fetch:()=>Hw((t=>{t(OP(e.overflowGroups.get()))})),layouts:{onLtr:()=>[Ka,Za],onRtl:()=>[Za,Ka],onBottomLtr:()=>[Xa,Ya],onBottomRtl:()=>[Ya,Xa]},getBounds:r.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:n["overflow-button"](),toolbar:n.overflow()},onToggled:(t,r)=>e[r?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:id(e.splitToolbarBehaviours,[Bw.config({others:{overflowGroup:()=>MP.sketch({...n["overflow-group"](),items:[o.asSpec()]})}})]),apis:{setGroups:(t,r)=>{e.builtGroups.set(V(r,t.getSystem().build)),DP(t,o,e)},refresh:t=>DP(t,o,e),toggle:e=>{o.getOpt(e).each((e=>{AP.toggle(e)}))},isOpen:e=>o.getOpt(e).map(AP.isOpen).getOr(!1),reposition:e=>{o.getOpt(e).each((e=>{AP.reposition(e)}))},getOverflow:e=>o.getOpt(e).bind(AP.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),RP=b([ba(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),xa("onOpened"),xa("onClosed")].concat(yP())),FP=b([Md({factory:Wk,schema:Uk(),name:"primary"}),Md({factory:Wk,schema:Uk(),name:"overflow",overrides:e=>({toolbarBehaviours:pl([$A.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{Ud(t,e,"overflow-button").each((e=>{Xf.off(e),Gf.focus(e)})),e.onClosed(t)},onGrown:t=>{Pf.focusIn(t),e.onOpened(t)},onStartGrow:t=>{Ud(t,e,"overflow-button").each(Xf.on)}}),Pf.config({mode:"acyclic",onEscape:t=>(Ud(t,e,"overflow-button").each(Gf.focus),T.some(!0))})])})}),Od({name:"overflow-button",overrides:e=>({buttonBehaviours:pl([Xf.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Od({name:"overflow-group"})]),BP=(e,t)=>{Ud(e,t,"overflow-button").bind((()=>Ud(e,t,"overflow"))).each((r=>{NP(e,t),$A.toggleGrow(r)}))},NP=(e,t)=>{Ud(e,t,"overflow").each((r=>{vP(e,t,(e=>{const t=V(e,(e=>Ys(e)));Wk.setGroups(r,t)})),Ud(e,t,"overflow-button").each((e=>{$A.hasGrown(r)&&Xf.on(e)})),$A.refresh(r)}))},LP=iu({name:"SplitSlidingToolbar",configFields:RP(),partFields:FP(),factory:(e,t,r,n)=>{const o="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:id(e.splitToolbarBehaviours,[Bw.config({others:{overflowGroup:e=>MP.sketch({...n["overflow-group"](),items:[Mm.sketch({...n["overflow-button"](),action:t=>{Ci(e,o)}})]})}}),Lf("toolbar-toggle-events",[Ii(o,(t=>{BP(t,e)}))])]),apis:{setGroups:(t,r)=>{((t,r)=>{const n=V(r,t.getSystem().build);e.builtGroups.set(n)})(t,r),NP(t,e)},refresh:t=>NP(t,e),toggle:t=>BP(t,e),isOpen:t=>((e,t)=>Ud(e,t,"overflow").map($A.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),VP=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[MP.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:pl([Tx.config({}),Gf.config({})])}},zP=e=>MP.sketch(VP(e)),HP=(e,t)=>{const r=Hi((t=>{const r=V(e.initGroups,zP);Wk.setGroups(t,r)}));return pl([ib(e.providers.isDisabled),rb(),Pf.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Lf("toolbar-events",[r])])},jP=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":VP({title:T.none(),items:[]}),"overflow-button":aS({name:"more",icon:T.some("more-drawer"),enabled:!0,tooltip:T.some("More..."),primary:!1,buttonType:T.none(),borderless:!1},T.none(),e.providers)},splitToolbarBehaviours:HP(e,t)}},GP=e=>{const t=jP(e),r=IP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return IP.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,r=Wr(t),n=Je(t),o=Wr(n),i=Math.max(n.dom.scrollHeight,o.height);return Ur(r.x+4,o.y,r.width-8,i)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},UP=e=>{const t=LP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),r=LP.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),n=jP(e);return LP.sketch({...n,components:[t,r],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([gA()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([gA()],{type:"closed"}),e.onToggled(t,!1)}})},qP=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return Wk.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Um.scrolling?["tox-toolbar--scrolling"]:[])},components:[Wk.parts.groups({})],toolbarBehaviours:HP(e,t)})},WP=[Xn("type",["button"]),Vv,mo("buttonType","secondary",["primary","secondary"]),Jn("onAction")],$P=Gn("type",{button:WP}),ZP=En([yo("buttons",[],$P),Jn("onShow"),Jn("onHide")]);var KP=iu({name:"silver.View",configFields:[$n("viewConfig")],partFields:[Dd({factory:{sketch:e=>{const t=V(e.buttons,(t=>((e,t)=>cS({text:e.text,enabled:!0,primary:!1,name:"name",icon:T.none(),borderless:!1,buttonType:T.some(e.buttonType)},(t=>{e.onAction()}),t))(t,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:["tox-view__header"]},components:[_x.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),_x.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:t})]}}},schema:[$n("buttons"),$n("providers")],name:"header"}),Dd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,t,r,n)=>{const o={getPane:t=>Lk.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:o}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const YP=(e,t,r)=>fe(t,((t,n)=>{const o=zn(Vn("view",ZP,t));return e.slot(n,KP.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:o,components:[...o.buttons.length>0?[KP.parts.header({buttons:o.buttons,providers:r})]:[],KP.parts.pane({})]}))})),XP=(e,t)=>QA.sketch((r=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:YP(r,e,t),slotBehaviours:Gy([Hi((e=>QA.hideAllSlots(e)))])}))),JP=e=>q(QA.getSlotNames(e),(t=>QA.isShowing(e,t))),QP=(e,t,r)=>{QA.getSlot(e,t).each((e=>{KP.getPane(e).each((t=>{var n;r(e)((n=t.element.dom,{getContainer:b(n)}))}))}))};var eT=ou({factory:(e,t)=>{const r={setViews:(e,r)=>{Nf.set(e,[XP(r,t.backstage.shared.providers)])},whichView:e=>cu.getCurrent(e).bind(JP),toggleView:(e,t,r,n)=>cu.getCurrent(e).exists((o=>{const i=JP(o),s=i.exists((e=>n===e)),a=QA.getSlot(o,n).isSome();return a&&(QA.hideAllSlots(o),s?((e=>{const t=e.element;kt(t,"display","none"),yt(t,"aria-hidden","true")})(e),t()):(r(),(e=>{const t=e.element;Rt(t,"display"),Et(t,"aria-hidden")})(e),QA.showSlot(o,n),((e,t)=>{QP(e,t,KP.getOnShow)})(o,n)),i.each((e=>((e,t)=>QP(e,t,KP.getOnHide))(o,e)))),a}))};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:pl([Nf.config({}),cu.config({find:e=>{const t=Nf.contents(e);return re(t)}})]),apis:r}},name:"silver.ViewWrapper",configFields:[$n("backstage")],apis:{setViews:(e,t,r)=>e.setViews(t,r),toggleView:(e,t,r,n,o)=>e.toggleView(t,r,n,o),whichView:(e,t)=>e.whichView(t)}});const tT=Vk.optional({factory:OA,name:"menubar",schema:[$n("backstage")]}),rT=Vk.optional({factory:{sketch:e=>Gk.sketch({uid:e.uid,dom:e.dom,listBehaviours:pl([Pf.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>qP({type:e.type,uid:Qi("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),T.some(!0))}),setupItem:(e,t,r,n)=>{Wk.setGroups(t,r)},shell:!0})},name:"multiple-toolbar",schema:[$n("dom"),$n("onEscape")]}),nT=Vk.optional({factory:{sketch:e=>{const t=(e=>e.type===Um.sliding?UP:e.type===Um.floating?GP:qP)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),T.some(!0)),onToggled:(t,r)=>e.onToolbarToggled(r),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[$n("dom"),$n("onEscape"),$n("getSink")]}),oT=Vk.optional({factory:{sketch:e=>{const t=e.editor,r=e.sticky?CA:Kk;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:pl(r(t,e.sharedBackstage))}}},name:"header",schema:[$n("dom")]}),iT=Vk.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[$n("dom")]}),sT=Vk.optional({name:"socket",schema:[$n("dom")]}),aT=Vk.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:pl([Tx.config({}),Gf.config({}),$A.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{cu.getCurrent(e).each(QA.hideAllSlots),Ci(e,sP)},onGrown:e=>{Ci(e,sP)},onStartGrow:e=>{Si(e,iP,{width:Ot(e.element,"width").getOr("")})},onStartShrink:e=>{Si(e,iP,{width:Wt(e.element)+"px"})}}),Nf.config({}),cu.config({find:e=>{const t=Nf.contents(e);return re(t)}})])}],behaviours:pl([JE(0),Lf("sidebar-sliding-events",[Ii(iP,((e,t)=>{kt(e.element,"width",t.event.width)})),Ii(sP,((e,t)=>{Rt(e.element,"width")}))])])})},name:"sidebar",schema:[$n("dom")]}),lT=Vk.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:pl([Nf.config({}),cP.config({focus:!1}),cu.config({find:e=>re(e.components())})]),components:[]})},name:"throbber",schema:[$n("dom")]}),cT=Vk.optional({factory:eT,name:"viewWrapper",schema:[$n("backstage")]}),hT=Vk.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var dT=iu({name:"OuterContainer",factory:(e,t,r)=>{let n=!1;const o={getSocket:t=>Lk.getPart(t,e,"socket"),setSidebar:(t,r,n)=>{Lk.getPart(t,e,"sidebar").each((e=>((e,t,r)=>{cu.getCurrent(e).each((e=>{Nf.set(e,[nP(t)]);const n=null==r?void 0:r.toLowerCase();i(n)&&ye(t,n)&&cu.getCurrent(e).each((t=>{QA.showSlot(t,n),$A.immediateGrow(e),Rt(e.element,"width")}))}))})(e,r,n)))},toggleSidebar:(t,r)=>{Lk.getPart(t,e,"sidebar").each((e=>((e,t)=>{cu.getCurrent(e).each((e=>{cu.getCurrent(e).each((r=>{$A.hasGrown(e)?QA.isShowing(r,t)?$A.shrink(e):(QA.hideAllSlots(r),QA.showSlot(r,t)):(QA.hideAllSlots(r),QA.showSlot(r,t),$A.grow(e))}))}))})(e,r)))},whichSidebar:t=>Lk.getPart(t,e,"sidebar").bind(oP).getOrNull(),getHeader:t=>Lk.getPart(t,e,"header"),getToolbar:t=>Lk.getPart(t,e,"toolbar"),setToolbar:(t,r)=>{Lk.getPart(t,e,"toolbar").each((e=>{const t=V(r,zP);e.getApis().setGroups(e,t)}))},setToolbars:(t,r)=>{Lk.getPart(t,e,"multiple-toolbar").each((e=>{const t=V(r,(e=>V(e,zP)));Gk.setItems(e,t)}))},refreshToolbar:t=>{Lk.getPart(t,e,"toolbar").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{Lk.getPart(t,e,"toolbar").each((e=>{var t,r;r=t=>t(e),null!=(t=e.getApis().toggle)?T.some(r(t)):T.none()}))},isToolbarDrawerToggled:t=>Lk.getPart(t,e,"toolbar").bind((e=>T.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>Lk.getPart(t,e,"throbber"),focusToolbar:t=>{Lk.getPart(t,e,"toolbar").orThunk((()=>Lk.getPart(t,e,"multiple-toolbar"))).each((e=>{Pf.focusIn(e)}))},setMenubar:(t,r)=>{Lk.getPart(t,e,"menubar").each((e=>{OA.setMenus(e,r)}))},focusMenubar:t=>{Lk.getPart(t,e,"menubar").each((e=>{OA.focus(e)}))},setViews:(t,r)=>{Lk.getPart(t,e,"viewWrapper").each((e=>{eT.setViews(e,r)}))},toggleView:(t,r)=>Lk.getPart(t,e,"viewWrapper").exists((e=>eT.toggleView(e,(()=>o.showMainView(t)),(()=>o.hideMainView(t)),r))),whichView:t=>Lk.getPart(t,e,"viewWrapper").bind(eT.whichView).getOrNull(),hideMainView:t=>{n=o.isToolbarDrawerToggled(t),n&&o.toggleToolbarDrawer(t),Lk.getPart(t,e,"editorContainer").each((e=>{const t=e.element;kt(t,"display","none"),yt(t,"aria-hidden","true")}))},showMainView:t=>{n&&o.toggleToolbarDrawer(t),Lk.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Rt(t,"display"),Et(t,"aria-hidden")}))}};return{uid:e.uid,dom:e.dom,components:t,apis:o,behaviours:e.behaviours}},configFields:[$n("dom"),$n("behaviours")],partFields:[oT,tT,nT,rT,sT,aT,iT,lT,cT,hT],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,r,n)=>{e.setSidebar(t,r,n)},toggleSidebar:(e,t,r)=>{e.toggleSidebar(t,r)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,r)=>{e.setToolbar(t,r)},setToolbars:(e,t,r)=>{e.setToolbars(t,r)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,r)=>{e.setMenubar(t,r)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,r)=>{e.setViews(t,r)},toggleView:(e,t,r)=>e.toggleView(t,r),whichView:(e,t)=>e.whichView(t)}});const uT={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},pT=e=>e.split(" "),fT=(e,t)=>{const r={...uT,...t.menus},n=se(t.menus).length>0,o=void 0===t.menubar||!0===t.menubar?pT("file edit view insert format tools table help"):pT(!1===t.menubar?"":t.menubar),s=j(o,(e=>{const r=ye(uT,e);return n?r||ve(t.menus,e).exists((e=>ye(e,"items"))):r})),a=V(s,(n=>{const o=r[n];return((e,t,r)=>{const n=cg(r).split(/[ ,]/);return{text:e.title,getItems:()=>Z(e.items,(e=>{const r=e.toLowerCase();return 0===r.trim().length||B(n,(e=>e===r))?[]:"separator"===r||"|"===r?[{type:"separator"}]:t.menuItems[r]?[t.menuItems[r]]:[]}))}})({title:o.title,items:pT(o.items)},t,e)}));return j(a,(e=>e.getItems().length>0&&B(e.getItems(),(e=>i(e)||"separator"!==e.type))))},mT=e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?t():e.on("init",t)}},gT=(e,t,r)=>(e.on("remove",(()=>r.unload(t))),r.load(t)),vT=(e,t)=>gT(e,t+"/skin.min.css",e.ui.styleSheetLoader),yT=(e,t)=>{var r;return r=Re(e.getElement()),ut(r).isSome()?gT(e,t+"/skin.shadowdom.min.css",Wm.DOM.styleSheetLoader):Promise.resolve()},bT=(e,t)=>{const r=Fg(t);r&&t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css"),!Ig(t)&&i(r)?Promise.all([vT(t,r),yT(t,r)]).then(mT(t),((e,t)=>()=>((e,t)=>{e.dispatch("SkinLoadError",t)})(e,{message:"Skin could not be loaded"}))(t)):mT(t)()},wT=_(bT,!1),xT=_(bT,!0),_T=(e,t)=>r=>{const n=Hl(),o=()=>{r.setActive(e.formatter.match(t));const o=e.formatter.formatChanged(t,r.setActive);n.set(o)};return e.initialized?o():e.once("init",o),()=>{e.off("init",o),n.clear()}},ET=(e,t,r)=>n=>{const o=()=>r(n),i=()=>{r(n),e.on(t,o)};return e.initialized?i():e.once("init",i),()=>{e.off("init",i),e.off(t,o)}},CT=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},ST=(e,t)=>()=>e.execCommand(t),kT=(e,t,r)=>{const n=(e,n,i,s)=>{const a=t.shared.providers.translate(e.title);if("separator"===e.type)return T.some({type:"separator",text:a});if("submenu"===e.type){const t=Z(e.getStyleItems(),(e=>o(e,n,s)));return 0===n&&t.length<=0?T.none():T.some({type:"nestedmenuitem",text:a,enabled:t.length>0,getSubmenuItems:()=>Z(e.getStyleItems(),(e=>o(e,n,s)))})}return T.some({type:"togglemenuitem",text:a,icon:e.icon,active:e.isSelected(s),enabled:!i,onAction:r.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},o=(e,t,o)=>{const i="formatter"===e.type&&r.isInvalid(e);return 0===t?i?[]:n(e,t,!1,o).toArray():n(e,t,i,o).toArray()},i=e=>{const t=r.getCurrentValue(),n=r.shouldHide?0:1;return Z(e,(e=>o(e,n,t)))};return{validateItems:i,getFetch:(e,t)=>(r,n)=>{const o=t(),s=i(o);n(PC(s,Xg.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:T.none()}))}}},AT=(e,t,r)=>{const n=r.dataset,o="basic"===n.type?()=>V(n.data,(e=>dk(e,r.isSelectedFor,r.getPreviewFor))):n.getData;return{items:kT(0,t,r),getStyleItems:o}},PT=(e,t,r)=>{const{items:n,getStyleItems:o}=AT(0,t,r),i=ET(e,"NodeChange",(e=>{const t=e.getComponent();r.updateText(t)}));return CC({text:r.icon.isSome()?T.none():r.text,icon:r.icon,tooltip:T.from(r.tooltip),role:T.none(),fetch:n.getFetch(t,o),onSetup:i,getApi:e=>({getComponent:b(e)}),columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};var TT;!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(TT||(TT={}));const MT=(e,t,r)=>{const n=(o=((e,t)=>t===TT.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "))(e.options.get(t),r),V(o,(e=>{let t=e,r=e;const n=e.split("=");return n.length>1&&(t=n[0],r=n[1]),{title:t,format:r}})));var o;return{type:"basic",data:n}},OT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],DT=e=>{const t={type:"basic",data:OT};return{tooltip:"Align",text:T.none(),icon:T.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:e=>T.none,onAction:t=>()=>q(OT,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const r=q(OT,(t=>e.formatter.match(t.format))).fold(b("left"),(e=>e.title.toLowerCase()));Si(t,EC,{icon:`align-${r}`})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},IT=(e,t)=>{const r=t(),n=V(r,(e=>e.format));return T.from(e.formatter.closest(n)).bind((e=>q(r,(t=>t.format===e)))).orThunk((()=>Ee(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},RT=e=>{const t="Paragraph",r=MT(e,"block_formats",TT.SemiColon);return{tooltip:"Blocks",text:T.some(t),icon:T.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:t=>()=>{const r=e.formatter.get(t);return r?T.some({tag:r.length>0&&(r[0].inline||r[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},onAction:CT(e),updateText:n=>{const o=IT(e,(()=>r.data)).fold(b(t),(e=>e.title));Si(n,_C,{text:o})},dataset:r,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},FT=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],BT=e=>{const t=e.split(/\s*,\s*/);return V(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},NT=e=>{const t="System Font",r=()=>{const r=e=>e?BT(e)[0]:"",o=e.queryCommandValue("FontName"),i=n.data,s=o?o.toLowerCase():"",a=q(i,(e=>{const t=e.format;return t.toLowerCase()===s||r(t).toLowerCase()===r(s).toLowerCase()})).orThunk((()=>Ee((e=>0===e.indexOf("-apple-system")&&(()=>{const t=BT(e.toLowerCase());return K(FT,(e=>t.indexOf(e.toLowerCase())>-1))})())(s),{title:t,format:s})));return{matchOpt:a,font:o}},n=MT(e,"font_family_formats",TT.SemiColon);return{tooltip:"Fonts",text:T.some(t),icon:T.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=r();return e},getPreviewFor:e=>()=>T.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},updateText:e=>{const{matchOpt:t,font:n}=r(),o=t.fold(b(n),(e=>e.title));Si(e,_C,{text:o})},dataset:n,shouldHide:!1,isInvalid:k}},LT={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},VT={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},zT=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const r=Math.pow(10,t);return Math.round(e*r)/r})(72*parseInt(e,10)/96,t||0)+"pt":ve(VT,e).getOr(e),HT=e=>ve(LT,e).getOr(""),jT=e=>{const t=()=>{let t=T.none();const r=n.data,o=e.queryCommandValue("FontSize");if(o)for(let e=3;t.isNone()&&e>=0;e--){const n=zT(o,e),i=HT(n);t=q(r,(e=>e.format===o||e.format===n||e.format===i))}return{matchOpt:t,size:o}},r=b(T.none),n=MT(e,"font_size_formats",TT.Space);return{tooltip:"Font sizes",text:T.some("12pt"),icon:T.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:r,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},updateText:e=>{const{matchOpt:r,size:n}=t(),o=r.fold(b(n),(e=>e.title));Si(e,_C,{text:o})},dataset:n,shouldHide:!1,isInvalid:k}},GT=(e,t)=>{const r="Paragraph";return{tooltip:"Formats",text:T.some(r),icon:T.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:T.none,getPreviewFor:t=>()=>{const r=e.formatter.get(t);return void 0!==r?T.some({tag:r.length>0&&(r[0].inline||r[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},onAction:CT(e),updateText:t=>{const n=e=>sk(e)?Z(e.items,n):ak(e)?[{title:e.title,format:e.format}]:[],o=Z(hk(e),n),i=IT(e,b(o)).fold(b(r),(e=>e.title));Si(t,_C,{text:i})},shouldHide:ag(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}};var UT=Object.freeze({__proto__:null,events:(e,t)=>{const r=(r,n)=>{e.updateState.each((e=>{const o=e(r,n);t.set(o)})),e.renderComponents.each((o=>{const i=o(n,t.get());(e.reuseDom?Mf:Tf)(r,i)}))};return Mi([Ii(ri(),((t,n)=>{const o=n;if(!o.universal){const n=e.channel;F(o.channels,n)&&r(t,o.data)}})),Hi(((t,n)=>{e.initialData.each((e=>{r(t,e)}))}))])}}),qT=Object.freeze({__proto__:null,getState:(e,t,r)=>r}),WT=[$n("channel"),ro("renderComponents"),ro("updateState"),ro("initialData"),go("reuseDom",!0)];const $T=ml({fields:WT,name:"reflecting",active:UT,apis:qT,state:Object.freeze({__proto__:null,init:()=>{const e=wo(T.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(T.none())}}})}),ZT=b([$n("toggleClass"),$n("fetch"),Ea("onExecute"),ho("getHotspot",T.some),ho("getAnchorOverrides",b({})),hc(),Ea("onItemExecute"),ro("lazySink"),$n("dom"),xa("onOpen"),nd("splitDropdownBehaviours",[Bw,Pf,Gf]),ho("matchWidth",!1),ho("useMinWidth",!1),ho("eventOrder",{}),ro("role")].concat(Qw())),KT=Md({factory:Mm,schema:[$n("dom")],name:"arrow",defaults:()=>({buttonBehaviours:pl([Gf.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(ki)},buttonBehaviours:pl([Xf.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),YT=Md({factory:Mm,schema:[$n("dom")],name:"button",defaults:()=>({buttonBehaviours:pl([Gf.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((r=>{e.onExecute(r,t)}))}})}),XT=b([KT,YT,Dd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[$n("text")],name:"aria-descriptor"}),Od({schema:[ya()],name:"menu",defaults:e=>({onExecute:(t,r)=>{t.getSystem().getByUid(e.uid).each((n=>{e.onItemExecute(n,t,r)}))}})}),Uw()]),JT=iu({name:"SplitDropdown",configFields:ZT(),partFields:XT(),factory:(e,t,r,n)=>{const o=e=>{cu.getCurrent(e).each((e=>{Iu.highlightFirst(e),Pf.focusIn(e)}))},i=t=>{Zw(e,w,t,n,o,Sm.HighlightMenuAndItem).get(v)},s=t=>{const r=qd(t,e,"button");return ki(r),T.some(!0)},a={...Mi([Hi(((t,r)=>{Ud(t,e,"aria-descriptor").each((e=>{const r=Qi("aria");yt(e.element,"id",r),yt(t.element,"aria-describedby",r)}))}))]),...Qf(T.some(i))},l={repositionMenus:e=>{Xf.isOn(e)&&Jw(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[ni()]:["disabling","toggling","alloy.base.behaviour"]},events:a,behaviours:id(e.splitDropdownBehaviours,[Bw.config({others:{sandbox:t=>{const r=qd(t,e,"arrow");return Xw(e,t,{onOpen:()=>{Xf.on(r),Xf.on(t)},onClose:()=>{Xf.off(r),Xf.off(t)}})}}}),Pf.config({mode:"special",onSpace:s,onEnter:s,onDown:e=>(i(e),T.some(!0))}),Gf.config({}),Xf.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),QT=e=>({isEnabled:()=>!Eu.isDisabled(e),setEnabled:t=>Eu.set(e,!t)}),eM=e=>({setActive:t=>{Xf.set(e,t)},isActive:()=>Xf.isOn(e),isEnabled:()=>!Eu.isDisabled(e),setEnabled:t=>Eu.set(e,!t)}),tM=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),rM=Qi("focus-button"),nM=(e,t,r,n,o,i)=>({dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:tM(r,i)},components:db([e.map((e=>bC(e,i.icons))),t.map((e=>xC(e,"tox-tbtn",i)))]),eventOrder:{[Fo()]:["focusing","alloy.base.behaviour","common-button-display-events"]},buttonBehaviours:pl([ib(i.isDisabled),rb(),Lf("common-button-display-events",[Ii(Fo(),((e,t)=>{t.event.prevent(),Ci(e,rM)}))])].concat(n.map((r=>$T.config({channel:r,initialData:{icon:e,text:t},renderComponents:(e,t)=>db([e.icon.map((e=>bC(e,i.icons))),e.text.map((e=>xC(e,"tox-tbtn",i)))])}))).toArray()).concat(o.getOr([])))}),oM=(e,t,r)=>{const n=wo(v),o=nM(e.icon,e.text,e.tooltip,T.none(),T.none(),r);return Mm.sketch({dom:o.dom,components:o.components,eventOrder:vC,buttonBehaviours:pl([Lf("toolbar-button-events",[(i={onAction:e.onAction,getApi:t.getApi},Ui(((e,t)=>{sb(i,e)((t=>{Si(e,gC,{buttonApi:t}),i.onAction(t)}))}))),ab(t,n),lb(t,n)]),ib((()=>!e.enabled||r.isDisabled())),rb()].concat(t.toolbarButtonBehaviours))});var i},iM=(e,t,r)=>oM(e,{toolbarButtonBehaviours:r.length>0?[Lf("toolbarButtonWith",r)]:[],getApi:QT,onSetup:e.onSetup},t),sM=(e,t,r)=>oM(e,{toolbarButtonBehaviours:[Nf.config({}),Xf.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(r.length>0?[Lf("toolbarToggleButtonWith",r)]:[]),getApi:eM,onSetup:e.onSetup},t),aM=(e,t,r)=>n=>Hw((e=>t.fetch(e))).map((o=>T.from(hx(ln(Ew(Qi("menu-value"),o,(r=>{t.onItemAction(e(n),r)}),t.columns,t.presets,Xg.CLOSE_ON_EXECUTE,t.select.getOr(k),r),{movement:Sw(t.columns,t.presets),menuBehaviours:Gy("auto"!==t.columns?[]:[Hi(((e,r)=>{jy(e,4,lv(t.presets)).each((({numRows:t,numColumns:r})=>{Pf.setGridSize(e,t,r)}))}))])}))))),lM=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],cM=(e,t)=>(r,n,o)=>{const i=e(r).mapError((e=>jn(e))).getOrDie();return t(i,n,o)},hM={button:cM(fy,((e,t)=>{return r=e,n=t.shared.providers,iM(r,n,[]);var r,n})),togglebutton:cM(vy,((e,t)=>{return r=e,n=t.shared.providers,sM(r,n,[]);var r,n})),menubutton:cM(TA,((e,t)=>oS(e,"tox-tbtn",t,T.none()))),splitbutton:cM((e=>Vn("SplitButton",MA,e)),((e,t)=>((e,t)=>{const r=Qi("channel-update-split-dropdown-display"),n=e=>({isEnabled:()=>!Eu.isDisabled(e),setEnabled:t=>Eu.set(e,!t),setIconFill:(t,r)=>{oa(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((e=>{yt(e,"fill",r)}))},setActive:t=>{yt(e.element,"aria-pressed",t),oa(e.element,"span").each((r=>{e.getSystem().getByDom(r).each((e=>Xf.set(e,t)))}))},isActive:()=>oa(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(Xf.isOn)))}),o=wo(v),i={getApi:n,onSetup:e.onSetup};return JT.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...tM(e.tooltip,t.providers)}},onExecute:t=>{e.onAction(n(t))},onItemExecute:(e,t,r)=>{},splitDropdownBehaviours:pl([ob(t.providers.isDisabled),rb(),Lf("split-dropdown-events",[Ii(rM,Gf.focus),ab(i,o),lb(i,o)]),e_.config({})]),eventOrder:{[fi()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:aM(n,e,t.providers),parts:{menu:fv(0,e.columns,e.presets)},components:[JT.parts.button(nM(e.icon,e.text,T.none(),T.some(r),T.some([Xf.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),JT.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Lm("chevron-down",t.providers.icons)},buttonBehaviours:pl([ob(t.providers.isDisabled),rb(),Vm()])}),JT.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})})(e,t.shared))),grouptoolbarbutton:cM((e=>Vn("GroupToolbarButton",kA,e)),((e,t,r)=>{const n=r.ui.registry.getAll().buttons,o={[lc]:t.shared.header.isPositionedAtTop()?ac.TopToBottom:ac.BottomToTop};if(hg(r)===Um.floating)return((e,t,r,n)=>{const o=t.shared;return AP.sketch({lazySink:o.getSink,fetch:()=>Hw((t=>{t(V(r(e.items),zP))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:nM(e.icon,e.text,e.tooltip,T.none(),T.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n}}}})})(e,t,(e=>uM(r,{buttons:n,toolbar:e,allowToolbarGroups:!1},t,T.none())),o);throw new Error("Toolbar groups are only supported when using floating toolbar mode")}))},dM={styles:(e,t)=>{const r={type:"advanced",...t.styles};return PT(e,t,GT(e,r))},fontsize:(e,t)=>PT(e,t,jT(e)),fontfamily:(e,t)=>PT(e,t,NT(e)),blocks:(e,t)=>PT(e,t,RT(e)),align:(e,t)=>PT(e,t,DT(e))},uM=(e,t,r,n)=>{const o=(e=>{const t=e.toolbar,r=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=V(lM,(t=>{const r=j(t.items,(t=>ye(e,t)||ye(dM,t)));return{name:t.name,items:r}}));return j(t,(e=>e.items.length>0))})(r):i(t)?(e=>{const t=e.split("|");return V(t,(e=>({items:e.trim().split(" ")})))})(t):(e=>g(e,(e=>ye(e,"name")&&ye(e,"items"))))(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(t),s=V(o,(o=>{const i=Z(o.items,(o=>0===o.trim().length?[]:((e,t,r,n,o,i)=>ve(t,r.toLowerCase()).orThunk((()=>i.bind((e=>ie(e,(e=>ve(t,e+r.toLowerCase()))))))).fold((()=>ve(dM,r.toLowerCase()).map((t=>t(e,o)))),(t=>"grouptoolbarbutton"!==t.type||n?((e,t,r)=>ve(hM,e.type).fold((()=>(console.error("skipping button defined by",e),T.none())),(n=>T.some(n(e,t,r)))))(t,o,e):(console.warn(`Ignoring the '${r}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),T.none()))))(e,t.buttons,o,t.allowToolbarGroups,r,n).toArray()));return{title:T.from(e.translate(o.name)),items:i}}));return j(s,(e=>e.items.length>0))},pM=(e,t,r,n)=>{const o=t.mainUi.outerContainer,s=r.toolbar,a=r.buttons;if(g(s,i)){const t=s.map((t=>{const o={toolbar:t,buttons:a,allowToolbarGroups:r.allowToolbarGroups};return uM(e,o,n,T.none())}));dT.setToolbars(o,t)}else dT.setToolbar(o,uM(e,r,n,T.none()))},fM=Sr(),mM=fM.os.isiOS()&&fM.os.version.major<=12;var gM=Object.freeze({__proto__:null,render:(e,t,r,n,o)=>{const{mainUi:i,uiMotherships:s}=t,a=wo(0),l=i.outerContainer;wT(e);const h=Re(o.targetNode),d=dt(ht(h));((e,t)=>{Ch(e,t,Mr)})(h,i.mothership),((e,t)=>{Eh(e,t.dialogUi.mothership)})(d,t),e.on("PostRender",(()=>{dT.setSidebar(l,r.sidebar,Og(e)),pM(e,t,r,n),a.set(e.getWin().innerWidth),dT.setMenubar(l,fT(e,r)),dT.setViews(l,r.views),((e,t)=>{const{uiMotherships:r}=t,n=e.dom;let o=e.getWin();const i=e.getDoc().documentElement,s=wo(Ht(o.innerWidth,o.innerHeight)),a=wo(Ht(i.offsetWidth,i.offsetHeight)),l=()=>{const t=s.get();t.left===o.innerWidth&&t.top===o.innerHeight||(s.set(Ht(o.innerWidth,o.innerHeight)),$b(e))},c=()=>{const t=e.getDoc().documentElement,r=a.get();r.left===t.offsetWidth&&r.top===t.offsetHeight||(a.set(Ht(t.offsetWidth,t.offsetHeight)),$b(e))},h=t=>{((e,t)=>{e.dispatch("ScrollContent",t)})(e,t)};n.bind(o,"resize",l),n.bind(o,"scroll",h);const d=ql(Re(e.getBody()),"load",c);e.on("hide",(()=>{z(r,(e=>{kt(e.element,"display","none")}))})),e.on("show",(()=>{z(r,(e=>{Rt(e.element,"display")}))})),e.on("NodeChange",c),e.on("remove",(()=>{d.unbind(),n.unbind(o,"resize",l),n.unbind(o,"scroll",h),o=null}))})(e,t)}));const u=dT.getSocket(l).getOrDie("Could not find expected socket element");if(mM){At(u.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=((e,t)=>{let r=null;return{cancel:()=>{c(r)||(clearTimeout(r),r=null)},throttle:(...t)=>{c(r)&&(r=setTimeout((()=>{r=null,e.apply(null,t)}),20))}}})((()=>{e.dispatch("ScrollContent")})),r=Ul(u.element,"scroll",t.throttle);e.on("remove",r.unbind)}tb(e,t),e.addCommand("ToggleSidebar",((t,r)=>{dT.toggleSidebar(l,r),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return null!==(e=dT.whichSidebar(l))&&void 0!==e?e:""})),e.addCommand("ToggleView",((t,r)=>{if(dT.toggleView(l,r)){const t=l.element;i.mothership.broadcastOn([Nh()],{target:t}),z(s,(e=>{e.broadcastOn([Nh()],{target:t})})),c(dT.whichView(l))&&(e.focus(),e.nodeChanged())}})),e.addQueryValueHandler("ToggleView",(()=>{var e;return null!==(e=dT.whichView(l))&&void 0!==e?e:""}));const p=hg(e);p!==Um.sliding&&p!==Um.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const r=e.getWin().innerWidth;r!==a.get()&&(dT.refreshToolbar(t.mainUi.outerContainer),a.set(r))}));const f={setEnabled:e=>{eb(t,!e)},isEnabled:()=>!Eu.isDisabled(l)};return{iframeContainer:u.element.dom,editorContainer:l.element.dom,api:f}}});const vM=e=>/^[0-9\.]+(|px)$/i.test(""+e)?T.some(parseInt(""+e,10)):T.none(),yM=e=>m(e)?e+"px":e,bM=(e,t,r)=>{const n=t.filter((t=>e<t)),o=r.filter((t=>e>t));return n.or(o).getOr(e)},wM=e=>{const t=eg(e),r=tg(e),n=ng(e);return vM(t).map((e=>bM(e,r,n)))},{ToolbarLocation:xM,ToolbarMode:_M}=$g,EM=(e,t)=>{const r=qr(e);return{pos:t?r.y:r.bottom,bounds:r}};var CM=Object.freeze({__proto__:null,render:(e,t,r,n,o)=>{const{mainUi:i}=t,s=jl(),a=Re(o.targetNode),l=((e,t,r,n,o)=>{const{mainUi:i,uiMotherships:s}=r,a=Wm.DOM,l=jg(e),c=qg(e),h=ng(e).or(wM(e)),d=n.shared.header,u=d.isPositionedAtTop,p=hg(e),f=p===_M.sliding||p===_M.floating,m=wo(!1),g=()=>m.get()&&!e.removed,v=e=>f?e.fold(b(0),(e=>e.components().length>1?Lt(e.components()[1].element):0)):0,y=()=>{z(s,(e=>{e.broadcastOn([Lh()],{})}))},w=(e=!1)=>{if(g()){if(l||o.on((e=>{const r=h.getOrThunk((()=>{const e=vM(Tt(mt(),"margin-left")).getOr(0);return Wt(mt())-Gt(t).left+e}));kt(e.element,"max-width",r+"px")})),f&&dT.refreshToolbar(i.outerContainer),l||o.on((e=>{const r=dT.getToolbar(i.outerContainer),n=v(r),o=qr(t),s=u()?Math.max(o.y-Lt(e.element)+n,0):o.bottom;At(i.outerContainer.element,{position:"absolute",top:Math.round(s)+"px",left:Math.round(o.x)+"px"})})),c){const t=e?mA.reset:mA.refresh;o.on(t)}y()}},x=(r=!0)=>{!l&&c&&g()&&o.on((n=>{const s=d.getDockingMode(),a=(r=>{switch(ug(e)){case xM.auto:const e=dT.getToolbar(i.outerContainer),n=v(e),o=Lt(r.element)-n,s=qr(t);if(s.y>o)return"top";{const e=Je(t),r=Math.max(e.dom.scrollHeight,Lt(e));return s.bottom<r-o||$r().bottom<s.bottom-o?"bottom":"top"}case xM.bottom:return"bottom";case xM.top:default:return"top"}})(n);var l;a!==s&&(l=a,o.on((e=>{mA.setModes(e,[l]),d.setDockingMode(l);const t=u()?ac.TopToBottom:ac.BottomToTop;yt(e.element,lc,t)})),r&&w(!0))}))};return{isVisible:g,isPositionedAtTop:u,show:()=>{m.set(!0),kt(i.outerContainer.element,"display","flex"),a.addClass(e.getBody(),"mce-edit-focus"),z(s,(e=>{Rt(e.element,"display")})),x(!1),w()},hide:()=>{m.set(!1),kt(i.outerContainer.element,"display","none"),a.removeClass(e.getBody(),"mce-edit-focus"),z(s,(e=>{kt(e.element,"display","none")}))},update:w,updateMode:x,repositionPopups:y}})(e,a,t,n,s),c=mg(e);xT(e);const h=()=>{if(s.isSet())return void l.show();s.set(dT.getHeader(i.outerContainer).getOrDie());const o=Gg(e);Eh(o,i.mothership),((e,t)=>{Eh(e,t.dialogUi.mothership)})(o,t),pM(e,t,r,n),dT.setMenubar(i.outerContainer,fT(e,r)),l.show(),((e,t,r,n)=>{const o=wo(EM(t,r.isPositionedAtTop())),i=n=>{const{pos:i,bounds:s}=EM(t,r.isPositionedAtTop()),{pos:a,bounds:l}=o.get(),c=s.height!==l.height||s.width!==l.width;o.set({pos:i,bounds:s}),c&&$b(e,n),r.isVisible()&&(a!==i?r.update(!0):c&&(r.updateMode(),r.repositionPopups()))};n||(e.on("activate",r.show),e.on("deactivate",r.hide)),e.on("SkinLoaded ResizeWindow",(()=>r.update(!0))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>i(e)))})),e.on("ScrollWindow",(()=>r.updateMode()));const s=Hl();s.set(ql(Re(e.getBody()),"load",(e=>i(e.raw)))),e.on("remove",(()=>{s.clear()}))})(e,a,l,c),e.nodeChanged()};e.on("show",h),e.on("hide",l.hide),c||(e.on("focus",h),e.on("blur",l.hide)),e.on("init",(()=>{(e.hasFocus()||c)&&h()})),tb(e,t);const d={show:h,hide:l.hide,setEnabled:e=>{eb(t,!e)},isEnabled:()=>!Eu.isDisabled(i.outerContainer)};return{editorContainer:i.outerContainer.element.dom,api:d}}});const SM="contexttoolbar-hide",kM=(e,t)=>Ii(gC,((r,n)=>{const o=(e=>({hide:()=>Ci(e,ai()),getValue:()=>rd.getValue(e)}))(e.get(r));t.onAction(o,n.event.buttonApi)})),AM=(e,t)=>{const r=e.label.fold((()=>({})),(e=>({"aria-label":e}))),n=Om(bv.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:r,selectOnFocus:!0,inputBehaviours:pl([Pf.config({mode:"special",onEnter:e=>o.findPrimary(e).map((e=>(ki(e),!0))),onLeft:(e,t)=>(t.cut(),T.none()),onRight:(e,t)=>(t.cut(),T.none())})])})),o=((e,t,r)=>{const n=V(t,(t=>Om(((e,t,r)=>(e=>"contextformtogglebutton"===e.type)(t)?((e,t,r)=>{const{primary:n,...o}=t.original,i=zn(vy({...o,type:"togglebutton",onAction:v}));return sM(i,r,[kM(e,t)])})(e,t,r):((e,t,r)=>{const{primary:n,...o}=t.original,i=zn(fy({...o,type:"button",onAction:v}));return iM(i,r,[kM(e,t)])})(e,t,r))(e,t,r))));return{asSpecs:()=>V(n,(e=>e.asSpec())),findPrimary:e=>ie(t,((t,r)=>t.primary?T.from(n[r]).bind((t=>t.getOpt(e))).filter(E(Eu.isDisabled)):T.none()))}})(n,e.commands,t);return[{title:T.none(),items:[n.asSpec()]},{title:T.none(),items:o.asSpecs()}]},PM=(e,t,r)=>t.bottom-e.y>=r&&e.bottom-t.y>=r,TM=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const r=st(Re(e.startContainer),e.startOffset).element;return(je(r)?et(r):T.some(r)).filter(He).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=Br();return Ur(e.left+t.left,e.top+t.top,t.width,t.height)}{const r=Wr(Re(e.getBody()));return Ur(r.x+t.left,r.y+t.top,t.width,t.height)}},MM=(e,t,r,n=0)=>{const o=Vr(window),i=qr(Re(e.getContentAreaContainer())),s=Rg(e)||Ng(e)||Vg(e),{x:a,width:l}=((e,t,r)=>{const n=Math.max(e.x+r,t.x);return{x:n,width:Math.min(e.right-r,t.right)-n}})(i,o,n);if(e.inline&&!s)return Ur(a,o.y,l,o.height);{const s=t.header.isPositionedAtTop(),{y:c,bottom:h}=((e,t,r,n,o,i)=>{const s=Re(e.getContainer()),a=oa(s,".tox-editor-header").getOr(s),l=qr(a),c=l.y>=t.bottom,h=n&&!c;if(e.inline&&h)return{y:Math.max(l.bottom+i,r.y),bottom:r.bottom};if(e.inline&&!h)return{y:r.y,bottom:Math.min(l.y-i,r.bottom)};const d="line"===o?qr(s):t;return h?{y:Math.max(l.bottom+i,r.y),bottom:Math.min(d.bottom-i,r.bottom)}:{y:Math.max(d.y+i,r.y),bottom:Math.min(l.y-i,r.bottom)}})(e,i,o,s,r,n);return Ur(a,c,l,h-c)}},OM={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},DM={maxHeightFunction:Jl(),maxWidthFunction:xP()},IM=e=>"node"===e,RM=(e,t,r,n,o)=>{const i=TM(e),s=n.lastElement().exists((e=>Ze(r,e)));return((e,t)=>{const r=e.selection.getRng(),n=st(Re(r.startContainer),r.startOffset);return r.startContainer===r.endContainer&&r.startOffset===r.endOffset-1&&Ze(n.element,t)})(e,r)?s?WS:HS:s?((e,r,o)=>{const s=Ot(e,"position");kt(e,"position",r);const a=PM(i,qr(t),-20)&&!n.isReposition()?ZS:WS;return s.each((t=>kt(e,"position",t))),a})(t,n.getMode()):("fixed"===n.getMode()?o.y+Br().top:o.y)+(Lt(t)+12)<=i.y?HS:jS},FM=(e,t,r,n)=>{const o=t=>(n,o,i,s,a)=>({...RM(e,s,t,r,a)({...n,y:a.y,height:a.height},o,i,s,a),alwaysFit:!0}),i=e=>IM(n)?[o(e)]:[];return t?{onLtr:e=>[Qa,Za,Ka,Ya,Xa,Ja].concat(i(e)),onRtl:e=>[Qa,Ka,Za,Xa,Ya,Ja].concat(i(e))}:{onLtr:e=>[Ja,Qa,Ya,Za,Xa,Ka].concat(i(e)),onRtl:e=>[Ja,Qa,Xa,Ka,Ya,Za].concat(i(e))}},BM=(e,t)=>{const r=j(t,(t=>t.predicate(e.dom))),{pass:n,fail:o}=H(r,(e=>"contexttoolbar"===e.type));return{contextToolbars:n,contextForms:o}},NM=(e,t)=>{const r={},n=[],o=[],i={},s={},a=se(e);return z(a,(a=>{const l=e[a];"contextform"===l.type?((e,a)=>{const l=zn(Vn("ContextForm",Cy,a));r[e]=l,l.launch.map((r=>{i["form:"+e]={...a.launch,type:"contextformtogglebutton"===r.type?"togglebutton":"button",onAction:()=>{t(l)}}})),"editor"===l.scope?o.push(l):n.push(l),s[e]=l})(a,l):"contexttoolbar"===l.type&&((e,t)=>{var r;(r=t,Vn("ContextToolbar",Sy,r)).each((r=>{"editor"===t.scope?o.push(r):n.push(r),s[e]=r}))})(a,l)})),{forms:r,inNodeScope:n,inEditorScope:o,lookupTable:s,formNavigators:i}},LM=Qi("forward-slide"),VM=Qi("backward-slide"),zM=Qi("change-slide-event"),HM="tox-pop--resizing",jM="tox-pop--transition",GM=(e,t,r,n)=>{const o=n.backstage,i=o.shared,s=Sr().deviceType.isTouch,a=jl(),l=jl(),c=jl(),h=Ks((e=>{const t=wo([]);return Pm.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),Pm.getContent(e).each((e=>{Rt(e.element,"visibility")})),Ds(e.element,HM),Rt(e.element,"width")},inlineBehaviours:pl([Lf("context-toolbar-events",[zi(Zo(),((e,t)=>{"width"===t.event.raw.propertyName&&(Ds(e.element,HM),Rt(e.element,"width"))})),Ii(zM,((e,t)=>{const r=e.element;Rt(r,"width");const n=Wt(r);Pm.setContent(e,t.event.contents),Os(r,HM);const o=Wt(r);kt(r,"width",n+"px"),Pm.getContent(e).each((e=>{t.event.focus.bind((e=>(xl(e),Cl(r)))).orThunk((()=>(Pf.focusIn(e),El(ht(r)))))})),setTimeout((()=>{kt(e.element,"width",o+"px")}),0)})),Ii(LM,((e,r)=>{Pm.getContent(e).each((r=>{t.set(t.get().concat([{bar:r,focus:El(ht(e.element))}]))})),Si(e,zM,{contents:r.event.forwardContents,focus:T.none()})})),Ii(VM,((e,r)=>{ne(t.get()).each((r=>{t.set(t.get().slice(0,t.get().length-1)),Si(e,zM,{contents:Ys(r.bar),focus:r.focus})}))}))]),Pf.config({mode:"special",onEscape:r=>ne(t.get()).fold((()=>e.onEscape()),(e=>(Ci(r,VM),T.some(!0))))})]),lazySink:()=>Yr.value(e.sink)})})({sink:r,onEscape:()=>(e.focus(),T.some(!0))})),d=()=>{const t=c.get().getOr("node"),r=IM(t)?1:0;return MM(e,i,t,r)},u=()=>!(e.removed||s()&&o.isContextMenuOpen()),p=()=>{if(u()){const t=d(),r=we(c.get(),"node")?((e,t)=>t.filter((e=>ft(e)&&(e=>He(e)&&Le(e.dom))(e))).map(Wr).getOrThunk((()=>TM(e))))(e,a.get()):TM(e);return t.height<=0||!PM(r,t,.01)}return!0},f=()=>{a.clear(),l.clear(),c.clear(),Pm.hide(h)},m=()=>{if(Pm.isOpen(h)){const e=h.element;Rt(e,"display"),p()?kt(e,"display","none"):(l.set(0),Pm.reposition(h))}},g=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:pl([Pf.config({mode:"acyclic"}),Lf("pop-dialog-wrap-events",[Hi((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>Pf.focusIn(t)))})),ji((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),y=Zt((()=>NM(t,(e=>{const t=b([e]);Si(h,LM,{forwardContents:g(t)})})))),b=t=>{const{buttons:r}=e.ui.registry.getAll(),o={...r,...y().formNavigators},s=hg(e)===Um.scrolling?Um.scrolling:Um.default,a=$(V(t,(t=>"contexttoolbar"===t.type?((t,r)=>uM(e,{buttons:t,toolbar:r.items,allowToolbarGroups:!1},n.backstage,T.some(["form:"])))(o,t):((e,t)=>AM(e,t))(t,i.providers))));return qP({type:s,uid:Qi("context-toolbar"),initGroups:a,onEscape:T.none,cyclicKeying:!0,providers:i.providers})},w=(t,n)=>{if(x.cancel(),!u())return;const o=b(t),f=t[0].position,m=((t,n)=>{const o="node"===t?i.anchors.node(n):i.anchors.cursor(),c=((e,t,r,n)=>"line"===t?{bubble:rc(12,0,OM),layouts:{onLtr:()=>[el],onRtl:()=>[tl]},overrides:DM}:{bubble:rc(0,12,OM,1/12),layouts:FM(e,r,n,t),overrides:DM})(e,t,s(),{lastElement:a.get,isReposition:()=>we(l.get(),0),getMode:()=>dh.getMode(r)});return ln(o,c)})(f,n);c.set(f),l.set(1);const v=h.element;Rt(v,"display"),(e=>we(_e(e,a.get(),Ze),!0))(n)||(Ds(v,jM),dh.reset(r,h)),Pm.showWithinBounds(h,g(o),{anchor:m,transition:{classes:[jM],mode:"placement"}},(()=>T.some(d()))),n.fold(a.clear,a.set),p()&&kt(v,"display","none")},x=GC((()=>{e.hasFocus()&&!e.removed&&(Is(h.element,jM)?x.throttle():((e,t)=>{const r=Re(t.getBody()),n=e=>Ze(e,r),o=Re(t.selection.getNode());return(e=>!n(e)&&!Ke(r,e))(o)?T.none():((e,t,r)=>{const n=BM(e,t);if(n.contextForms.length>0)return T.some({elem:e,toolbars:[n.contextForms[0]]});{const t=BM(e,r);if(t.contextForms.length>0)return T.some({elem:e,toolbars:[t.contextForms[0]]});if(n.contextToolbars.length>0||t.contextToolbars.length>0){const r=(e=>{if(e.length<=1)return e;{const t=t=>B(e,(e=>e.position===t)),r=t=>j(e,(e=>e.position===t)),n=t("selection"),o=t("node");if(n||o){if(o&&n){const e=r("node"),t=V(r("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return r(n?"selection":"node")}return r("line")}})(n.contextToolbars.concat(t.contextToolbars));return T.some({elem:e,toolbars:r})}return T.none()}})(o,e.inNodeScope,e.inEditorScope).orThunk((()=>((e,t,r)=>e(t)?T.none():So(t,(e=>{if(He(e)){const{contextToolbars:t,contextForms:n}=BM(e,r.inNodeScope),o=n.length>0?n:(e=>{if(e.length<=1)return e;{const t=t=>q(e,(e=>e.position===t));return t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position)).fold((()=>[]),(t=>j(e,(e=>e.position===t))))}})(t);return o.length>0?T.some({elem:e,toolbars:o}):T.none()}return T.none()}),e))(n,o,e)))})(y(),e).fold(f,(e=>{w(e.toolbars,T.some(e.elem))})))}),17);e.on("init",(()=>{e.on("remove",f),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",m),e.on("click keyup focus SetContent",x.throttle),e.on(SM,f),e.on("contexttoolbar-show",(t=>{const r=y();ve(r.lookupTable,t.toolbarKey).each((r=>{w([r],Ee(t.target!==e,t.target)),Pm.getContent(h).each(Pf.focusIn)}))})),e.on("focusout",(t=>{Tm.setEditorTimeout(e,(()=>{Cl(r.element).isNone()&&Cl(h.element).isNone()&&f()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&f()})),e.on("AfterProgressState",(t=>{t.state?f():e.hasFocus()&&x.throttle()})),e.on("NodeChange",(e=>{Cl(h.element).fold(x.throttle,v)}))}))},UM={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},qM=(()=>{const e="[0-9]+",t="[eE][+-]?[0-9]+",r=e=>`(?:${e})?`,n=["Infinity","[0-9]+\\."+r(e)+r(t),"\\.[0-9]+"+r(t),e+r(t)].join("|");return new RegExp(`^([+-]?(?:${n}))(.*)$`)})(),WM=(e,t)=>{const r=()=>{const r=t.getOptions(e),n=t.getCurrent(e).map(t.hash),o=jl();return V(r,(r=>({type:"togglemenuitem",text:t.display(r),onSetup:i=>{const s=e=>{e&&(o.on((e=>e.setActive(!1))),o.set(i)),i.setActive(e)};s(we(n,t.hash(r)));const a=t.watcher(e,r,s);return()=>{o.clear(),a()}},onAction:()=>t.setCurrent(e,r)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(r()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:r,onSetup:t.onMenuSetup})},$M={name:"lineheight",text:"Line height",icon:"line-height",getOptions:Bg,hash:e=>((e,t)=>((e,t)=>T.from(qM.exec(e)).bind((e=>{const r=Number(e[1]),n=e[2];return((e,t)=>B(t,(t=>B(UM[t],(t=>e===t)))))(n,t)?T.some({value:r,unit:n}):T.none()})))(e,["fixed","relative","empty"]).map((({value:e,unit:t})=>e+t)))(e).getOr(e),display:w,watcher:(e,t,r)=>e.formatter.formatChanged("lineheight",r,!1,{value:t}).unbind,getCurrent:e=>T.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t)},ZM=e=>ET(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent"))})),KM=(e,t)=>r=>{r.setActive(t.get());const n=e=>{t.set(e.state),r.setActive(e.state)};return e.on("PastePlainTextToggle",n),()=>e.off("PastePlainTextToggle",n)},YM=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},XM=e=>{(e=>{(e=>{lC.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,r)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:_T(e,t.name),onAction:YM(e,t.name)})}));for(let t=1;t<=6;t++){const r="h"+t;e.ui.registry.addToggleButton(r,{text:r.toUpperCase(),tooltip:"Heading "+t,onSetup:_T(e,r),onAction:YM(e,r)})}})(e),(e=>{lC.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:ST(e,t.action)})}))})(e),(e=>{lC.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:ST(e,t.action),onSetup:_T(e,t.name)})}))})(e)})(e),(e=>{lC.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:ST(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:YM(e,"code")})})(e)},JM=(e,t)=>ET(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(r=>{r.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),QM=e=>ET(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),eO=(e,t)=>{(e=>{z([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:ST(e,t.cmd),onSetup:_T(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:ST(e,"JustifyNone")})})(e),XM(e),((e,t)=>{((e,t)=>{const r=AT(0,t,DT(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})})(e,t),((e,t)=>{const r=AT(0,t,NT(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})})(e,t),((e,t)=>{const r={type:"advanced",...t.styles},n=AT(0,t,GT(e,r));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const r=AT(0,t,RT(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})})(e,t),((e,t)=>{const r=AT(0,t,jT(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})})(e,t)})(e,t),(e=>{(e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:JM(e,"hasUndo"),onAction:ST(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:JM(e,"hasRedo"),onAction:ST(e,"redo")})})(e),(e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:JM(e,"hasUndo"),onAction:ST(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:JM(e,"hasRedo"),onAction:ST(e,"redo")})})(e)})(e),(e=>{(e=>{e.addCommand("mceApplyTextcolor",((t,r)=>{((e,t,r)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:r}),e.nodeChanged()}))})(e,t,r)})),e.addCommand("mceRemoveTextcolor",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=uw(e),r=pw(e),n=wo(t),o=wo(r);ww(e,"forecolor","forecolor","Text color",n),ww(e,"backcolor","hilitecolor","Background color",o),xw(e,"forecolor","forecolor","Text color"),xw(e,"backcolor","hilitecolor","Background color")})(e),(e=>{(e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ST(e,"mceToggleVisualAid")})})(e),(e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:QM(e),onAction:ST(e,"mceToggleVisualAid")})})(e)})(e),(e=>{(e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:ZM(e),onAction:ST(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:ST(e,"indent")})})(e)})(e),(e=>{WM(e,$M),(e=>T.from(lg(e)).map((t=>({name:"language",text:"Language",icon:"language",getOptions:b(t),hash:e=>d(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,r)=>{var n;return e.formatter.formatChanged("lang",r,!1,{value:t.code,customValue:null!==(n=t.customCode)&&void 0!==n?n:null}).unbind},getCurrent:e=>{const t=Re(e.selection.getNode());return ko(t,(e=>T.some(e).filter(He).bind((e=>xt(e,"lang").map((t=>({code:t,customCode:xt(e,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const r=Hl();return t.setActive(e.formatter.match("lang",{},void 0,!0)),r.set(e.formatter.formatChanged("lang",t.setActive,!0)),r.clear}}))))(e).each((t=>WM(e,t)))})(e),(e=>{const t=wo(Mg(e)),r=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:r,onSetup:KM(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:r,onSetup:KM(e,t)})})(e)},tO=e=>i(e)?e.split(/[ ,]/):e,rO=e=>t=>t.options.get(e),nO=rO("contextmenu_never_use_native"),oO=rO("contextmenu_avoid_overlap"),iO=e=>{const t=e.ui.registry.getAll().contextMenus,r=e.options.get("contextmenu");return e.options.isSet("contextmenu")?r:j(r,(e=>ye(t,e)))},sO=(e,t)=>({type:"makeshift",x:e,y:t}),aO=e=>"longpress"===e.type||0===e.type.indexOf("touch"),lO=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?(e=>{if(aO(e)){const t=e.touches[0];return sO(t.pageX,t.pageY)}return sO(e.pageX,e.pageY)})(t):((e,t)=>{const r=Wm.DOM.getPos(e);return((e,t,r)=>sO(e.x+t,e.y+r))(t,r.x,r.y)})(e.getContentAreaContainer(),(e=>{if(aO(e)){const t=e.touches[0];return sO(t.clientX,t.clientY)}return sO(e.clientX,e.clientY)})(t)):cO(e),cO=e=>({type:"selection",root:Re(e.selection.getNode())}),hO=(e,t,r)=>{switch(r){case"node":return(e=>({type:"node",node:T.some(Re(e.selection.getNode())),root:Re(e.getBody())}))(e);case"point":return lO(e,t);case"selection":return cO(e)}},dO=(e,t,r,n,o,i)=>{const s=r(),a=hO(e,t,i);PC(s,Xg.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:T.none()}).map((e=>{t.preventDefault(),Pm.showMenuAt(o,{anchor:a},{menu:{markers:dv("normal")},data:e})}))},uO={onLtr:()=>[Qa,Za,Ka,Ya,Xa,Ja,HS,jS,zS,LS,VS,NS],onRtl:()=>[Qa,Ka,Za,Xa,Ya,Ja,HS,jS,VS,NS,zS,LS]},pO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},fO=(e,t,r,n,o,i)=>{const s=Sr(),a=s.os.isiOS(),l=s.os.isMacOS(),c=s.os.isAndroid(),h=s.deviceType.isTouch(),d=()=>{const s=r();((e,t,r,n,o,i,s)=>{const a=((e,t,r)=>{const n=hO(e,t,r);return{bubble:rc(0,"point"===r?12:0,pO),layouts:uO,overrides:{maxWidthFunction:xP(),maxHeightFunction:Jl()},...n}})(e,t,i);PC(r,Xg.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!0,search:T.none()}).map((r=>{t.preventDefault();const l=s?Sm.HighlightMenuAndItem:Sm.HighlightNone;Pm.showMenuWithinBounds(o,{anchor:a},{menu:{markers:dv("normal"),highlightOnOpen:l},data:r,type:"horizontal"},(()=>T.some(MM(e,n.shared,"node"===i?"node":"selection")))),e.dispatch(SM)}))})(e,t,s,n,o,i,!(c||a||l&&h))};if((l||a)&&"node"!==i){const r=()=>{(e=>{const t=e.selection.getRng(),r=()=>{Tm.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),i()};e.once("touchend",r);const n=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",n,!0);const o=()=>i();e.once("longpresscancel",o);const i=()=>{e.off("touchend",r),e.off("longpresscancel",o),e.off("mousedown",n)}})(e),d()};((e,t)=>{const r=e.selection;if(r.isCollapsed()||t.touches.length<1)return!1;{const n=t.touches[0],o=r.getRng();return Vc(e.getWin(),Tc.domRange(o)).exists((e=>e.left<=n.clientX&&e.right>=n.clientX&&e.top<=n.clientY&&e.bottom>=n.clientY))}})(e,t)?r():(e.once("selectionchange",r),e.once("touchend",(()=>e.off("selectionchange",r))))}else d()},mO=e=>i(e)?"|"===e:"separator"===e.type,gO={type:"separator"},vO=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(i(e))return e;switch(e.type){case"separator":return gO;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return i(t)?t:V(t,vO)}};default:const n=e;return{type:"menuitem",...t(n),onAction:(r=n.onAction,()=>r())}}var r},yO=(e,t)=>{if(0===t.length)return e;const r=ne(e).filter((e=>!mO(e))).fold((()=>[]),(e=>[gO]));return e.concat(r).concat(t).concat([gO])},bO=(e,t)=>!(e=>"longpress"===e.type||ye(e,"touches"))(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),wO=(e,t)=>bO(e,t)?e.selection.getStart(!0):t.target,xO=(e,t,r)=>{const n=Sr().deviceType.isTouch,o=Ks(Pm.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>r.setContextMenuState(!0),onHide:()=>r.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:pl([Lf("dismissContextMenu",[Ii(gi(),((t,r)=>{Bh.close(t),e.focus()}))])])})),s=()=>Pm.hide(o),a=t=>{if(nO(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!nO(e))(e,t)||(e=>0===iO(e).length)(e))return;const s=((e,t)=>{const r=oO(e),n=bO(e,t)?"selection":"point";if(Pe(r)){const o=wO(e,t);return ux(Re(o),r)?"node":n}return n})(e,t);(n()?fO:dO)(e,t,(()=>{const r=wO(e,t),n=e.ui.registry.getAll(),o=iO(e);return((e,t,r)=>{const n=U(t,((t,n)=>ve(e,n.toLowerCase()).map((e=>{const n=e.update(r);if(i(n))return yO(t,n.split(" "));if(n.length>0){const e=V(n,vO);return yO(t,e)}return t})).getOrThunk((()=>t.concat([n])))),[]);return n.length>0&&mO(n[n.length-1])&&n.pop(),n})(n.contextMenus,o,r)}),r,o,s)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(n()?"":" ResizeWindow");e.on(t,s),e.on("longpress contextmenu",a)}))},_O=xo([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),EO=e=>t=>t.translate(-e.left,-e.top),CO=e=>t=>t.translate(e.left,e.top),SO=e=>(t,r)=>U(e,((e,t)=>t(e)),Ht(t,r)),kO=(e,t,r)=>e.fold(SO([CO(r),EO(t)]),SO([EO(t)]),SO([])),AO=(e,t,r)=>e.fold(SO([CO(r)]),SO([]),SO([CO(t)])),PO=(e,t,r)=>e.fold(SO([]),SO([EO(r)]),SO([CO(t),EO(r)])),TO=(e,t,r)=>{const n=e.fold(((e,t)=>({position:T.some("absolute"),left:T.some(e+"px"),top:T.some(t+"px")})),((e,t)=>({position:T.some("absolute"),left:T.some(e-r.left+"px"),top:T.some(t-r.top+"px")})),((e,t)=>({position:T.some("fixed"),left:T.some(e+"px"),top:T.some(t+"px")})));return{right:T.none(),bottom:T.none(),...n}},MO=(e,t,r,n)=>{const o=(e,o)=>(i,s)=>{const a=e(t,r,n);return o(i.getOr(a.left),s.getOr(a.top))};return e.fold(o(PO,OO),o(AO,DO),o(kO,IO))},OO=_O.offset,DO=_O.absolute,IO=_O.fixed,RO=(e,t)=>{const r=wt(e,t);return d(r)?NaN:parseInt(r,10)},FO=(e,t,r,n,o,i)=>{const s=((e,t,r,n)=>((e,t)=>{const r=e.element,n=RO(r,t.leftAttr),o=RO(r,t.topAttr);return isNaN(n)||isNaN(o)?T.none():T.some(Ht(n,o))})(e,t).fold((()=>r),(e=>IO(e.left+n.left,e.top+n.top))))(e,t,r,n),a=t.mustSnap?NO(e,t,s,o,i):LO(e,t,s,o,i),l=kO(s,o,i);return((e,t,r)=>{const n=e.element;yt(n,t.leftAttr,r.left+"px"),yt(n,t.topAttr,r.top+"px")})(e,t,l),a.fold((()=>({coord:IO(l.left,l.top),extra:T.none()})),(e=>({coord:e.output,extra:e.extra})))},BO=(e,t,r,n)=>ie(e,(e=>{const o=e.sensor,i=((e,t,r,n,o,i)=>{const s=AO(e,o,i),a=AO(t,o,i);return Math.abs(s.left-a.left)<=r&&Math.abs(s.top-a.top)<=n})(t,o,e.range.left,e.range.top,r,n);return i?T.some({output:MO(e.output,t,r,n),extra:e.extra}):T.none()})),NO=(e,t,r,n,o)=>{const i=t.getSnapPoints(e);return BO(i,r,n,o).orThunk((()=>{const e=U(i,((e,t)=>{const i=t.sensor,s=((e,t,r,n,o,i)=>{const s=AO(e,o,i),a=AO(t,o,i),l=Math.abs(s.left-a.left),c=Math.abs(s.top-a.top);return Ht(l,c)})(r,i,t.range.left,t.range.top,n,o);return e.deltas.fold((()=>({deltas:T.some(s),snap:T.some(t)})),(r=>(s.left+s.top)/2<=(r.left+r.top)/2?{deltas:T.some(s),snap:T.some(t)}:e))}),{deltas:T.none(),snap:T.none()});return e.snap.map((e=>({output:MO(e.output,r,n,o),extra:e.extra})))}))},LO=(e,t,r,n,o)=>{const i=t.getSnapPoints(e);return BO(i,r,n,o)};var VO=Object.freeze({__proto__:null,snapTo:(e,t,r,n)=>{const o=t.getTarget(e.element);if(t.repositionTarget){const t=Ye(e.element),r=Br(t),i=Qk(o),s=((e,t,r)=>({coord:MO(e.output,e.output,t,r),extra:e.extra}))(n,r,i),a=TO(s.coord,0,i);Pt(o,a)}}});const zO="data-initial-z-index",HO=(e,t)=>{e.getSystem().addToGui(t),(e=>{et(e.element).filter(He).each((t=>{Ot(t,"z-index").each((e=>{yt(t,zO,e)})),kt(t,"z-index",Tt(e.element,"z-index"))}))})(t)},jO=e=>{(e=>{et(e.element).filter(He).each((e=>{xt(e,zO).fold((()=>Rt(e,"z-index")),(t=>kt(e,"z-index",t))),Et(e,zO)}))})(e),e.getSystem().removeFromGui(e)},GO=(e,t,r)=>e.getSystem().build(_x.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:r}));var UO=co("snaps",[$n("getSnapPoints"),xa("onSensor"),$n("leftAttr"),$n("topAttr"),ho("lazyViewport",$r),ho("mustSnap",!1)]);const qO=[ho("useFixed",k),$n("blockerClass"),ho("getTarget",w),ho("onDrag",v),ho("repositionTarget",!0),ho("onDrop",v),vo("getBounds",$r),UO],WO=(e,t)=>({bounds:e.getBounds(),height:Vt(t.element),width:$t(t.element)}),$O=(e,t,r,n,o)=>{const i=r.update(n,o),s=r.getStartData().getOrThunk((()=>WO(t,e)));i.each((r=>{((e,t,r,n)=>{const o=t.getTarget(e.element);if(t.repositionTarget){const i=Ye(e.element),s=Br(i),a=Qk(o),l=(e=>{return(t=Ot(e,"left"),r=Ot(e,"top"),n=Ot(e,"position"),o=(e,t,r)=>("fixed"===r?IO:OO)(parseInt(e,10),parseInt(t,10)),t.isSome()&&r.isSome()&&n.isSome()?T.some(o(t.getOrDie(),r.getOrDie(),n.getOrDie())):T.none()).getOrThunk((()=>{const t=Gt(e);return DO(t.left,t.top)}));var t,r,n,o})(o),c=((e,t,r,n,o,i,s)=>((e,t,r,n,o)=>{const i=o.bounds,s=AO(t,r,n),a=Va(s.left,i.x,i.x+i.width-o.width),l=Va(s.top,i.y,i.y+i.height-o.height),c=DO(a,l);return t.fold((()=>{const e=PO(c,r,n);return OO(e.left,e.top)}),b(c),(()=>{const e=kO(c,r,n);return IO(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=r,s=i.left,a=i.top,t.fold(((e,t)=>OO(e+s,t+a)),((e,t)=>DO(e+s,t+a)),((e,t)=>IO(e+s,t+a))));var t,s,a;const l=kO(e,n,o);return IO(l.left,l.top)}),(t=>{const s=FO(e,t,r,i,n,o);return s.extra.each((r=>{t.onSensor(e,r)})),s.coord})),n,o,s))(e,t.snaps,l,s,a,n,r),h=TO(c,0,a);Pt(o,h)}t.onDrag(e,o,n)})(e,t,s,r)}))},ZO=(e,t,r,n)=>{t.each(jO),r.snaps.each((t=>{((e,t)=>{((e,t)=>{const r=e.element;Et(r,t.leftAttr),Et(r,t.topAttr)})(e,t)})(e,t)}));const o=r.getTarget(e.element);n.reset(),r.onDrop(e,o)},KO=e=>(t,r)=>{const n=e=>{r.setStartData(WO(t,e))};return Mi([Ii(ui(),(e=>{r.getStartData().each((()=>n(e)))})),...e(t,r,n)])};var YO=Object.freeze({__proto__:null,getData:e=>T.from(Ht(e.x,e.y)),getDelta:(e,t)=>Ht(t.left-e.left,t.top-e.top)});const XO=(e,t,r)=>[Ii(Fo(),((n,o)=>{if(0!==o.event.raw.button)return;o.stop();const i=()=>ZO(n,T.some(l),e,t),s=px(i,200),a={drop:i,delayDrop:s.schedule,forceDrop:i,move:r=>{s.cancel(),$O(n,e,t,YO,r)}},l=GO(n,e.blockerClass,(e=>Mi([Ii(Fo(),e.forceDrop),Ii(Lo(),e.drop),Ii(Bo(),((t,r)=>{e.move(r.event)})),Ii(No(),e.delayDrop)]))(a));r(n),HO(n,l)}))],JO=[...qO,Sa("dragger",{handlers:KO(XO)})];var QO=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return T.some(Ht(t.clientX,t.clientY))})(t):T.none()},getDelta:(e,t)=>Ht(t.left-e.left,t.top-e.top)});const eD=(e,t,r)=>{const n=jl(),o=r=>{ZO(r,n.get(),e,t),n.clear()};return[Ii(Oo(),((i,s)=>{s.stop();const a=()=>o(i),l={drop:a,delayDrop:v,forceDrop:a,move:r=>{$O(i,e,t,QO,r)}},c=GO(i,e.blockerClass,(e=>Mi([Ii(Oo(),e.forceDrop),Ii(Io(),e.drop),Ii(Ro(),e.drop),Ii(Do(),((t,r)=>{e.move(r.event)}))]))(l));n.set(c),r(i),HO(i,c)})),Ii(Do(),((r,n)=>{n.stop(),$O(r,e,t,QO,n.event)})),Ii(Io(),((e,t)=>{t.stop(),o(e)})),Ii(Ro(),o)]},tD=JO,rD=[...qO,Sa("dragger",{handlers:KO(eD)})],nD=[...qO,Sa("dragger",{handlers:KO(((e,t,r)=>[...XO(e,t,r),...eD(e,t,r)]))})];var oD=Object.freeze({__proto__:null,mouse:tD,touch:rD,mouseOrTouch:nD}),iD=Object.freeze({__proto__:null,init:()=>{let e=T.none(),t=T.none();const r=b({});return vs({readState:r,reset:()=>{e=T.none(),t=T.none()},update:(t,r)=>t.getData(r).bind((r=>((t,r)=>{const n=e.map((e=>t.getDelta(e,r)));return e=T.some(r),n})(t,r))),getStartData:()=>t,setStartData:e=>{t=T.some(e)}})}});const sD=vl({branchKey:"mode",branches:oD,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:T.from(e.extra)})},state:iD,apis:VO}),aD=(e,t,r,n,o,i)=>e.fold((()=>sD.snap({sensor:DO(r-20,n-20),range:Ht(o,i),output:DO(T.some(r),T.some(n)),extra:{td:t}})),(e=>{const o=r-20,i=n-20,s=e.element.dom.getBoundingClientRect();return sD.snap({sensor:DO(o,i),range:Ht(40,40),output:DO(T.some(r-s.width/2),T.some(n-s.height/2)),extra:{td:t}})})),lD=(e,t,r)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,n)=>{const o=n.td;((e,t)=>e.exists((e=>Ze(e,t))))(t.get(),o)||(t.set(o),r(o))},mustSnap:!0}),cD=e=>Om(Mm.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:pl([sD.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),e_.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),hD=(e,t)=>{const r=wo([]),n=wo([]),o=wo(!1),i=jl(),s=jl(),a=e=>{const r=Wr(e);return aD(d.getOpt(t),e,r.x,r.y,r.width,r.height)},l=e=>{const r=Wr(e);return aD(u.getOpt(t),e,r.right,r.bottom,r.width,r.height)},c=lD((()=>V(r.get(),(e=>a(e)))),i,(t=>{s.get().each((r=>{e.dispatch("TableSelectorChange",{start:t,finish:r})}))})),h=lD((()=>V(n.get(),(e=>l(e)))),s,(t=>{i.get().each((r=>{e.dispatch("TableSelectorChange",{start:r,finish:t})}))})),d=cD(c),u=cD(h),p=Ks(d.asSpec()),f=Ks(u.asSpec()),m=(t,r,n,o)=>{const i=n(r);sD.snapTo(t,i),((t,r,n,i)=>{const s=r.dom.getBoundingClientRect();Rt(t.element,"display");const a=Qe(Re(e.getBody())).dom.innerHeight,l=s[o]<0,c=((e,t)=>e[o]>t)(s,a);(l||c)&&kt(t.element,"display","none")})(t,r)},g=e=>m(p,e,a,"top"),v=e=>m(f,e,l,"bottom");Sr().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{o.get()||(yh(t,p),yh(t,f),o.set(!0)),i.set(e.start),s.set(e.finish),e.otherCells.each((t=>{r.set(t.upOrLeftCells),n.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{i.get().each(g),s.get().each(v)})),e.on("TableSelectionClear",(()=>{o.get()&&(xh(p),xh(f),o.set(!1)),i.clear(),s.clear()})))},dD=(e,t,r)=>{var n;const o=null!==(n=t.delimiter)&&void 0!==n?n:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:pl([Pf.config({mode:"flow",selector:"div[role=button]"}),Eu.config({disabled:r.isDisabled}),rb(),Tx.config({}),Nf.config({}),Lf("elementPathEvents",[Hi(((t,n)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>Pf.focusIn(t))),e.on("NodeChange",(n=>{const i=(t=>{const r=[];let n=t.length;for(;n-- >0;){const i=t[n];if(1===i.nodeType&&"BR"!==(o=i).nodeName&&!o.getAttribute("data-mce-bogus")&&"bookmark"!==o.getAttribute("data-mce-type")){const t=Zb(e,i);if(t.isDefaultPrevented()||r.push({name:t.name,element:i}),t.isPropagationStopped())break}}var o;return r})(n.parents),s=i.length>0?U(i,((t,n,i)=>{const s=((t,n,o)=>Mm.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":o,"aria-level":o+1}},components:[qs(t)],action:t=>{e.focus(),e.selection.select(n),e.nodeChanged()},buttonBehaviours:pl([nb(r.isDisabled),rb()])}))(n.name,n.element,i);return 0===i?t.concat([s]):t.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[qs(` ${o} `)]},s])}),[]):[];Nf.set(t,s)}))}))])]),components:[]}};var uD;!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(uD||(uD={}));const pD=(e,t,r)=>{const n=Re(e.getContainer()),o=((e,t,r,n,o)=>{const i={height:bM(n+t.top,rg(e),og(e))};return r===uD.Both&&(i.width=bM(o+t.left,tg(e),ng(e))),i})(e,t,r,Lt(n),Wt(n));le(o,((e,t)=>{m(e)&&kt(n,t,yM(e))})),(e=>{e.dispatch("ResizeEditor")})(e)},fD=(e,t,r,n)=>{const o=Ht(20*r,20*n);return pD(e,o,t),T.some(!0)},mD=(e,t)=>({dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const r=(()=>{const r=[];return Ag(e)&&r.push(dD(e,{},t)),e.hasPlugin("wordcount")&&r.push(((e,t)=>{const r=(e,r,n)=>Nf.set(e,[qs(t.translate(["{0} "+n,r[n]]))]);return Mm.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:pl([nb(t.isDisabled),rb(),Tx.config({}),Nf.config({}),rd.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Lf("wordcount-events",[Ui((e=>{const t=rd.getValue(e),n="words"===t.mode?"characters":"words";rd.setValue(e,{mode:n,count:t.count}),r(e,t.count,n)})),Hi((t=>{e.on("wordCountUpdate",(e=>{const{mode:n}=rd.getValue(t);rd.setValue(t,{mode:n,count:e.wordCount}),r(t,e.wordCount,n)}))}))])]),eventOrder:{[ni()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,t)),Pg(e)&&r.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Dm.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:pl([Gf.config({})])}]}),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]})(),n=((e,t)=>{const r=(e=>{const t=Tg(e);return!1===t?uD.None:"both"===t?uD.Both:uD.Vertical})(e);return r===uD.None?T.none():T.some(Hm("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[sD.config({mode:"mouse",repositionTarget:!1,onDrag:(t,n,o)=>pD(e,o,r),blockerClass:"tox-blocker"}),Pf.config({mode:"special",onLeft:()=>fD(e,r,-1,0),onRight:()=>fD(e,r,1,0),onUp:()=>fD(e,r,0,-1),onDown:()=>fD(e,r,0,1)}),Tx.config({}),Gf.config({})]},t.icons))})(e,t);return r.concat(n.toArray())})()}),gD=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),vD=e=>{const t=e.inline,r=t?CM:gM,n=qg(e)?SA:Xk,o=(()=>{const e=jl(),t=jl(),r=jl();return{dialogUi:e,popupUi:t,mainUi:r,getUiMotherships:()=>[...e.get().map((e=>e.mothership)).toArray()],setupDialogUi:t=>{e.set(t)},lazyGetInOuterOrDie:(e,t)=>()=>r.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),i=jl(),s=jl(),a=Sr().deviceType.isTouch()?["tox-platform-touch"]:[],l=zg(e),c=hg(e),h=Om({dom:{tag:"div",classes:["tox-anchorbar"]}}),d=()=>o.mainUi.get().map((e=>e.outerContainer)).bind(dT.getHeader),u=o.lazyGetInOuterOrDie("anchor bar",h.getOpt),p=o.lazyGetInOuterOrDie("toolbar",dT.getToolbar),f=o.lazyGetInOuterOrDie("throbber",dT.getThrobber),m=((e,t,r)=>{const n=wo(!1),o=(e=>{const t=wo(zg(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),i={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Dm.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},s=Nk(t),a=(e=>{const t=t=>()=>e.formatter.match(t),r=t=>()=>{const r=e.formatter.get(t);return void 0!==r?T.some({tag:r.length>0&&(r[0].inline||r[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):T.none()},n=wo([]),o=wo([]),i=wo(!1);return e.on("PreInit",(o=>{const i=hk(e),s=uk(e,i,t,r);n.set(s)})),e.on("addStyleModifications",(n=>{const s=uk(e,n.items,t,r);o.set(s),i.set(n.replace)})),{getData:()=>{const e=i.get()?[]:n.get(),t=o.get();return e.concat(t)}}})(t),l=(e=>({colorPicker:tk(e),hasCustomColors:rk(e),getColors:nk(e),getColorCols:ok(e)}))(t),c=(e=>({isDraggableModal:ik(e)}))(t),h={shared:{providers:i,anchors:ek(t,r,o.isPositionedAtTop),header:o},urlinput:s,styles:a,colorinput:l,dialog:c,isContextMenuOpen:()=>n.get(),setContextMenuState:e=>n.set(e)},d={...h,shared:{...h.shared,interpreter:e=>TS(e,{},d),getSink:e.popup}},u={...h,shared:{...h.shared,interpreter:e=>TS(e,{},u),getSink:e.dialog}};return{popup:d,dialog:u}})({popup:()=>Yr.fromOption(o.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered"),dialog:()=>Yr.fromOption(o.dialogUi.get().map((e=>e.sink)),"UI has not been rendered")},e,u),g=w,v=()=>{const r=(()=>{const t={attributes:{[lc]:l?ac.BottomToTop:ac.TopToBottom}},r=dT.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:m.popup,onEscape:()=>{e.focus()}}),n=dT.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:m.popup.shared.getSink,providers:m.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})})(e,t)},type:c,lazyToolbar:p,lazyHeader:()=>d().getOrDie("Could not find header element"),...t}),o=dT.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:m.popup.shared.providers,onEscape:()=>{e.focus()},type:c}),i=Vg(e),s=Ng(e),a=Rg(e),u=Dg(e),f=dT.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),g=i||s||a,v=u?[f,r]:[r];return dT.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(g?[]:["tox-editor-header--empty"]),...t},components:$([a?v:[],i?[o]:s?[n]:[],jg(e)?[]:[h.asSpec()]]),sticky:qg(e),editor:e,sharedBackstage:m.popup.shared})})(),n={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[dT.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),dT.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},o=dT.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:m.popup}),s=dT.parts.viewWrapper({backstage:m.popup}),u=kg(e)&&!t?T.some(mD(e,m.popup.shared.providers)):T.none(),f=$([l?[]:[r],t?[]:[n],l?[r]:[]]),g=dT.parts.editorContainer({components:$([f,t?[]:u.toArray()])}),v=Ug(e),y={role:"application",...Dm.isRtl()?{dir:"rtl"}:{},...v?{"aria-hidden":"true"}:{}},b=Ks(dT.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(t?["tox-tinymce-inline"]:[]).concat(l?["tox-tinymce--toolbar-bottom"]:[]).concat(a),styles:{visibility:"hidden",...v?{opacity:"0",border:"0"}:{}},attributes:y},components:[g,...t?[]:[s],o],behaviours:pl([rb(),Eu.config({disableClass:"tox-tinymce--disabled"}),Pf.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),w=Ex(b);return i.set(w),{mothership:w,outerContainer:b}},y=t=>{const r=yM((e=>{const t=(e=>{const t=Qm(e),r=rg(e),n=og(e);return vM(t).map((e=>bM(e,r,n)))})(e);return t.getOr(Qm(e))})(e)),n=yM((e=>wM(e).getOr(eg(e)))(e));return e.inline||(It("div","width",n)&&kt(t.element,"width",n),It("div","height",r)?kt(t.element,"height",r):kt(t.element,"height","400px")),r};return{popups:{backstage:m.popup,getMothership:()=>gD("popups",s)},dialogs:{backstage:m.dialog,getMothership:()=>gD("dialogs",s)},renderUI:()=>{const t=v(),i=(()=>{const t=Gg(e),r=Ze(mt(),t)&&"grid"===Tt(t,"display"),o={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(a),attributes:{...Dm.isRtl()?{dir:"rtl"}:{}}},behaviours:pl([dh.config({useFixed:()=>n.isDocked(d)})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:Mi([Ii(pi(),(e=>{kt(e.element,"width",document.body.clientWidth+"px")}))])},l=Ks(ln(o,r?i:{})),c=Ex(l);return s.set(c),{sink:l,mothership:c}})(),l=g(i);o.dialogUi.set(i),o.popupUi.set(l),o.mainUi.set(t);return(t=>{const{mainUi:o,popupUi:i,uiMotherships:s}=t;ce(dg(e),((t,r)=>{e.ui.registry.addGroupToolbarButton(r,t)}));const{buttons:a,menuItems:l,contextToolbars:h,sidebars:u,views:p}=e.ui.registry.getAll(),g=Lg(e),v={menuItems:l,menus:Wg(e),menubar:vg(e),toolbar:g.getOrThunk((()=>yg(e))),allowToolbarGroups:c===Um.floating,buttons:a,sidebar:u,views:p};var b;b=o.outerContainer,e.addShortcut("alt+F9","focus menubar",(()=>{dT.focusMenubar(b)})),e.addShortcut("alt+F10","focus toolbar",(()=>{dT.focusToolbar(b)})),e.addCommand("ToggleToolbarDrawer",(()=>{dT.toggleToolbarDrawer(b)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>dT.isToolbarDrawerToggled(b))),((e,t,r)=>{const n=(e,n)=>{z([t,...r],(t=>{t.broadcastEvent(e,n)}))},o=(e,n)=>{z([t,...r],(t=>{t.broadcastOn([e],n)}))},i=e=>o(Nh(),{target:e.target}),s=zr(),a=Ul(s,"touchstart",i),l=Ul(s,"touchmove",(e=>n(hi(),e))),c=Ul(s,"touchend",(e=>n(di(),e))),h=Ul(s,"mousedown",i),d=Ul(s,"mouseup",(e=>{0===e.raw.button&&o(Vh(),{target:e.target})})),u=e=>o(Nh(),{target:Re(e.target)}),p=e=>{0===e.button&&o(Vh(),{target:Re(e.target)})},f=()=>{z(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},m=e=>n(ui(),Wl(e)),g=e=>{o(Lh(),{}),n(pi(),Wl(e))},v=()=>o(Lh(),{}),y=t=>{t.state&&o(Nh(),{target:Re(e.getContainer())})},b=e=>{o(Nh(),{target:Re(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",u),e.on("tap",u),e.on("mouseup",p),e.on("mousedown",f),e.on("ScrollWindow",m),e.on("ResizeWindow",g),e.on("ResizeEditor",v),e.on("AfterProgressState",y),e.on("DismissPopups",b)})),e.on("remove",(()=>{e.off("click",u),e.off("tap",u),e.off("mouseup",p),e.off("mousedown",f),e.off("ScrollWindow",m),e.off("ResizeWindow",g),e.off("ResizeEditor",v),e.off("AfterProgressState",y),e.off("DismissPopups",b),h.unbind(),a.unbind(),l.unbind(),c.unbind(),d.unbind()})),e.on("detach",(()=>{z([t,...r],Sh),z([t,...r],(e=>e.destroy()))}))})(e,o.mothership,s),n.setup(e,m.popup.shared,d),eO(e,m.popup),xO(e,m.popup.shared.getSink,m.popup),(e=>{const{sidebars:t}=e.ui.registry.getAll();z(se(t),(r=>{const n=t[r],o=()=>we(T.from(e.queryCommandValue("ToggleSidebar")),r);e.ui.registry.addToggleButton(r,{icon:n.icon,tooltip:n.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,r),t.setActive(o())},onSetup:t=>{t.setActive(o());const r=()=>t.setActive(o());return e.on("ToggleSidebar",r),()=>{e.off("ToggleSidebar",r)}}})}))})(e),uP(e,f,m.popup.shared),GM(e,h,i.sink,{backstage:m.popup}),hD(e,i.sink);const w={targetNode:e.getElement(),height:y(o.outerContainer)};return r.render(e,t,v,m.popup,w)})({popupUi:l,dialogUi:i,mainUi:t,uiMotherships:o.getUiMotherships()})}}},yD=b([$n("lazySink"),ro("dragBlockClass"),vo("getBounds",$r),ho("useTabstopAt",A),ho("eventOrder",{}),nd("modalBehaviours",[Pf]),_a("onExecute"),Ca("onEscape")]),bD={sketch:w},wD=b([Dd({name:"draghandle",overrides:(e,t)=>({behaviours:pl([sD.config({mode:"mouse",getTarget:e=>ra(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Md({schema:[$n("dom")],name:"title"}),Md({factory:bD,schema:[$n("dom")],name:"close"}),Md({factory:bD,schema:[$n("dom")],name:"body"}),Dd({factory:bD,schema:[$n("dom")],name:"footer"}),Od({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[ho("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ho("components",[])],name:"blocker"})]),xD=iu({name:"ModalDialog",configFields:yD(),partFields:wD(),factory:(e,t,r,n)=>{const o=jl(),i=Qi("modal-events"),s={...e.eventOrder,[fi()]:[i].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{o.set(t);const r=e.lazySink(t).getOrDie(),i=n.blocker(),s=r.getSystem().build({...i,components:i.components.concat([Ys(t)]),behaviours:pl([Gf.config({}),Lf("dialog-blocker-events",[zi(zo(),(()=>{Pf.focusIn(t)}))])])});yh(r,s),Pf.focusIn(t)},hide:e=>{o.clear(),et(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{xh(e)}))}))},getBody:t=>qd(t,e,"body"),getFooter:t=>qd(t,e,"footer"),setIdle:e=>{cP.unblock(e)},setBusy:(e,t)=>{cP.block(e,t)}},eventOrder:s,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:id(e.modalBehaviours,[Nf.config({}),Pf.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),cP.config({getRoot:o.get}),Lf(i,[Hi((t=>{((e,t)=>{const r=xt(e,"id").fold((()=>{const e=Qi("dialog-label");return yt(t,"id",e),e}),w);yt(e,"aria-labelledby",r)})(t.element,qd(t,e,"title").element),((e,t)=>{const r=T.from(wt(e,"id")).fold((()=>{const e=Qi("dialog-describe");return yt(t,"id",e),e}),w);yt(e,"aria-describedby",r)})(t.element,qd(t,e,"body").element)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,r)=>{e.setBusy(t,r)},setIdle:(e,t)=>{e.setIdle(t)}}}),_D=En([Bv,Nv].concat(Dy)),ED=Dn,CD=[cy("button"),Yv,mo("align","end",["start","end"]),oy,ny,so("buttonType",["primary","secondary"])],SD=[...CD,Vv],kD=[Xn("type",["submit","cancel","custom"]),...SD],AD=[Xn("type",["menu"]),Kv,Xv,Yv,to("items",_D),...CD],PD=Gn("type",{submit:kD,cancel:kD,custom:kD,menu:AD}),TD=[Bv,Vv,Xn("level",["info","warn","error","success"]),Hv,ho("url","")],MD=En(TD),OD=[Bv,Vv,ny,cy("button"),Yv,ry,so("buttonType",["primary","secondary","toolbar"]),oy],DD=En(OD),ID=[Bv,Nv],RD=ID.concat([Jv]),FD=ID.concat([Lv,ny]),BD=En(FD),ND=Dn,LD=RD.concat([iy("auto")]),VD=En(LD),zD=An([jv,Vv,Hv]),HD=RD.concat([fo("storageKey","default")]),jD=En(HD),GD=On,UD=En(RD),qD=On,WD=ID.concat([fo("tag","textarea"),Yn("scriptId"),Yn("scriptUrl"),uo("settings",void 0,Fn)]),$D=ID.concat([fo("tag","textarea"),Jn("init")]),ZD=Nn((e=>Vn("customeditor.old",_n($D),e).orThunk((()=>Vn("customeditor.new",_n(WD),e))))),KD=On,YD=En(RD),XD=Cn(vn),JD=e=>[Bv,Kn("columns"),e],QD=[Bv,Yn("html"),mo("presets","presentation",["presentation","document"])],eI=En(QD),tI=RD.concat([go("sandboxed",!0),go("transparent",!0)]),rI=En(tI),nI=On,oI=En(ID.concat([io("height")])),iI=En([Yn("url"),oo("zoom"),oo("cachedWidth"),oo("cachedHeight")]),sI=RD.concat([io("inputMode"),io("placeholder"),go("maximized",!1),ny]),aI=En(sI),lI=On,cI=e=>[Bv,Lv,e],hI=[Vv,jv],dI=[Vv,to("items",((e,t)=>{const r=Zt(t);return{extract:(e,t)=>r().extract(e,t),toString:()=>r().toString()}})(0,(()=>uI)))],uI=Sn([En(hI),En(dI)]),pI=RD.concat([to("items",uI),ny]),fI=En(pI),mI=On,gI=RD.concat([eo("items",[Vv,jv]),po("size",1),ny]),vI=En(gI),yI=On,bI=RD.concat([go("constrain",!0),ny]),wI=En(bI),xI=En([Yn("width"),Yn("height")]),_I=ID.concat([Lv,po("min",0),po("max",0)]),EI=En(_I),CI=Mn,SI=[Bv,to("header",On),to("cells",Cn(On))],kI=En(SI),AI=RD.concat([io("placeholder"),go("maximized",!1),ny]),PI=En(AI),TI=On,MI=RD.concat([mo("filetype","file",["image","media","file"]),ny]),OI=En(MI),DI=En([jv,sy]),II=e=>Un("items","items",{tag:"required",process:{}},Cn(Nn((t=>Vn(`Checking item of ${e}`,RI,t).fold((e=>Yr.error(jn(e))),(e=>Yr.value(e))))))),RI=wn((()=>{return Bn("type",{alertbanner:MD,bar:En((e=II("bar"),[Bv,e])),button:DD,checkbox:BD,colorinput:jD,colorpicker:UD,dropzone:YD,grid:En(JD(II("grid"))),iframe:rI,input:aI,listbox:fI,selectbox:vI,sizeinput:wI,slider:EI,textarea:PI,urlinput:OI,customeditor:ZD,htmlpanel:eI,imagepreview:oI,collection:VD,label:En(cI(II("label"))),table:kI,panel:BI});var e})),FI=[Bv,ho("classes",[]),to("items",RI)],BI=En(FI),NI=[cy("tab"),zv,to("items",RI)],LI=[Bv,eo("tabs",NI)],VI=En(LI),zI=SD,HI=PD,jI=En([Yn("title"),Zn("body",Bn("type",{panel:BI,tabpanel:VI})),fo("size","normal"),to("buttons",HI),ho("initialData",{}),vo("onAction",v),vo("onChange",v),vo("onSubmit",v),vo("onClose",v),vo("onCancel",v),vo("onTabChange",v)]),GI=En([Xn("type",["cancel","custom"]),...zI]),UI=En([Yn("title"),Yn("url"),oo("height"),oo("width"),lo("buttons",GI),vo("onAction",v),vo("onCancel",v),vo("onClose",v),vo("onMessage",v)]),qI=e=>s(e)?[e].concat(Z(ge(e),qI)):l(e)?Z(e,qI):[],WI=e=>i(e.type)&&i(e.name),$I={checkbox:ND,colorinput:GD,colorpicker:qD,dropzone:XD,input:lI,iframe:nI,imagepreview:iI,selectbox:yI,sizeinput:xI,slider:CI,listbox:mI,size:xI,textarea:TI,urlinput:DI,customeditor:KD,collection:zD,togglemenuitem:ED},ZI=e=>{const t=(e=>j(qI(e),WI))(e),r=Z(t,(e=>(e=>T.from($I[e.type]))(e).fold((()=>[]),(t=>[Zn(e.name,t)]))));return En(r)},KI=e=>{var t;return{internalDialog:zn(Vn("dialog",jI,e)),dataValidator:ZI(e),initialData:null!==(t=e.initialData)&&void 0!==t?t:{}}},YI={open:(e,t)=>{const r=KI(t);return e(r.internalDialog,r.initialData,r.dataValidator)},openUrl:(e,t)=>e(zn(Vn("dialog",UI,t))),redial:e=>KI(e)},XI=e=>{const t=[],r={};return le(e,((e,n)=>{e.fold((()=>{t.push(n)}),(e=>{r[n]=e}))})),t.length>0?Yr.error(t):Yr.value(r)},JI=(e,t,r)=>{const n=Om(UE.sketch((n=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:V(e.items,(e=>AS(n,e,t,r)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:pl([Pf.config({mode:"acyclic",useTabstopAt:E(mC)}),(o=n,cu.config({find:o.getOpt})),rC(n,{postprocess:e=>XI(e).fold((e=>(console.error(e),{})),w)})])};var o},QI=ou({name:"TabButton",configFields:[ho("uid",void 0),$n("value"),Un("dom","dom",un((()=>({attributes:{role:"tab",id:Qi("aria"),"aria-selected":"false"}}))),Pn()),ro("action"),ho("domModification",{}),nd("tabButtonBehaviours",[Gf,Pf,rd]),$n("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:Qf(e.action),behaviours:id(e.tabButtonBehaviours,[Gf.config({}),Pf.config({mode:"execution",useSpace:!0,useEnter:!0}),rd.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),eR=b([$n("tabs"),$n("dom"),ho("clickToDismiss",!1),nd("tabbarBehaviours",[Iu,Pf]),ba(["tabClass","selectedClass"])]),tR=Id({factory:QI,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Iu.dehighlight(e,t),Si(e,xi(),{tabbar:e,button:t})},r=(e,t)=>{Iu.highlight(e,t),Si(e,wi(),{tabbar:e,button:t})};return{action:n=>{const o=n.getSystem().getByUid(e.uid).getOrDie(),i=Iu.isHighlighted(o,n);(i&&e.clickToDismiss?t:i?v:r)(o,n)},domModification:{classes:[e.markers.tabClass]}}}}),rR=b([tR]),nR=iu({name:"Tabbar",configFields:eR(),partFields:rR(),factory:(e,t,r,n)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:id(e.tabbarBehaviours,[Iu.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{yt(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{yt(t.element,"aria-selected","false")}}),Pf.config({mode:"flow",getInitial:e=>Iu.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),oR=ou({name:"Tabview",configFields:[nd("tabviewBehaviours",[Nf])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:id(e.tabviewBehaviours,[Nf.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),iR=b([ho("selectFirst",!0),xa("onChangeTab"),xa("onDismissTab"),ho("tabs",[]),nd("tabSectionBehaviours",[])]),sR=Md({factory:nR,schema:[$n("dom"),Qn("markers",[$n("tabClass"),$n("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),aR=Md({factory:oR,name:"tabview"}),lR=b([sR,aR]),cR=iu({name:"TabSection",configFields:iR(),partFields:lR(),factory:(e,t,r,n)=>{const o=(t,r)=>{Ud(t,e,"tabbar").each((e=>{r(e).each(ki)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:od(e.tabSectionBehaviours),events:Mi($([e.selectFirst?[Hi(((e,t)=>{o(e,Iu.getFirst)}))]:[],[Ii(wi(),((t,r)=>{(t=>{const r=rd.getValue(t);Ud(t,e,"tabview").each((n=>{q(e.tabs,(e=>e.value===r)).each((r=>{const o=r.view();xt(t.element,"id").each((e=>{yt(n.element,"aria-labelledby",e)})),Nf.set(n,o),e.onChangeTab(n,t,o)}))}))})(r.event.button)})),Ii(xi(),((t,r)=>{const n=r.event.button;e.onDismissTab(t,n)}))]])),apis:{getViewItems:t=>Ud(t,e,"tabview").map((e=>Nf.contents(e))).getOr([]),showTab:(e,t)=>{o(e,(e=>{const r=Iu.getCandidates(e);return q(r,(e=>rd.getValue(e)===t)).filter((t=>!Iu.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,r)=>{e.showTab(t,r)}}}),hR=(e,t)=>{kt(e,"height",t+"px"),kt(e,"flex-basis",t+"px")},dR=(e,t,r)=>{ra(e,'[role="dialog"]').each((e=>{oa(e,'[role="tablist"]').each((n=>{r.get().map((r=>(kt(t,"height","0"),kt(t,"flex-basis","0"),Math.min(r,((e,t,r)=>{const n=Je(e).dom,o=ra(e,".tox-dialog-wrap").getOr(e);let i;i="fixed"===Tt(o,"position")?Math.max(n.clientHeight,window.innerHeight):Math.max(n.offsetHeight,n.scrollHeight);const s=Lt(t),a=t.dom.offsetLeft>=r.dom.offsetLeft+Wt(r)?Math.max(Lt(r),s):s,l=parseInt(Tt(e,"margin-top"),10)||0,c=parseInt(Tt(e,"margin-bottom"),10)||0;return i-(Lt(e)+l+c-a)})(e,t,n))))).each((e=>{hR(t,e)}))}))}))},uR=e=>oa(e,'[role="tabpanel"]'),pR="send-data-to-section",fR="send-data-to-view",mR=(e,t,r)=>{const n=wo({}),o=e=>{const t=rd.getValue(e),r=XI(t).getOr({}),o=n.get(),i=ln(o,r);n.set(i)},i=e=>{const t=n.get();rd.setValue(e,t)},s=wo(null),a=V(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[qs(r.shared.providers.translate(e.title))],view:()=>[UE.sketch((n=>({dom:{tag:"div",classes:["tox-form"]},components:V(e.items,(e=>AS(n,e,t,r))),formBehaviours:pl([Pf.config({mode:"acyclic",useTabstopAt:E(mC)}),Lf("TabView.form.events",[Hi(i),ji(o)]),bl.config({channels:Eo([{key:pR,value:{onReceive:o}},{key:fR,value:{onReceive:i}}])})])})))]}))),l=(e=>{const t=jl(),r=[Hi((r=>{const n=r.element;uR(n).each((o=>{kt(o,"visibility","hidden"),r.getSystem().getByDom(o).toOptional().each((r=>{const n=((e,t,r)=>V(e,((n,o)=>{Nf.set(r,e[o].view());const i=t.dom.getBoundingClientRect();return Nf.set(r,[]),i.height})))(e,o,r),i=(e=>re(ee(e,((e,t)=>e>t?-1:e<t?1:0))))(n);i.fold(t.clear,t.set)})),dR(n,o,t),Rt(o,"visibility"),((e,t)=>{re(e).each((e=>cR.showTab(t,e.value)))})(e,r),requestAnimationFrame((()=>{dR(n,o,t)}))}))})),Ii(pi(),(e=>{const r=e.element;uR(r).each((e=>{dR(r,e,t)}))})),Ii(Gx,((e,r)=>{const n=e.element;uR(n).each((e=>{const r=El(ht(e));kt(e,"visibility","hidden");const o=Ot(e,"height").map((e=>parseInt(e,10)));Rt(e,"height"),Rt(e,"flex-basis");const i=e.dom.getBoundingClientRect().height;o.forall((e=>i>e))?(t.set(i),dR(n,e,t)):o.each((t=>{hR(e,t)})),Rt(e,"visibility"),r.each(xl)}))}))];return{extraEvents:r,selectFirst:!1}})(a);return cR.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,r)=>{const n=rd.getValue(t);Si(e,jx,{name:n,oldName:s.get()}),s.set(n)},tabs:a,components:[cR.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[nR.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:pl([Tx.config({})])}),cR.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:pl([Lf("tabpanel",l.extraEvents),Pf.config({mode:"acyclic"}),cu.config({find:e=>re(cR.getViewItems(e))}),oC(T.none(),(e=>(e.getSystem().broadcastOn([pR],{}),n.get())),((e,t)=>{n.set(t),e.getSystem().broadcastOn([fR],{})}))])})},gR=Qi("update-dialog"),vR=Qi("update-title"),yR=Qi("update-body"),bR=Qi("update-footer"),wR=Qi("body-send-message"),xR=(e,t,r,n,o)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...r.map((e=>({id:e}))).getOr({}),...o?{"aria-live":"polite"}:{}}},components:[],behaviours:pl([JE(0),$T.config({channel:`${yR}-${t}`,updateState:(e,t)=>T.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{const t=e.body;return"tabpanel"===t.type?[mR(t,e.initialData,n)]:[JI(t,e.initialData,n)]},initialData:e})])}),_R=Zm.deviceType.isTouch(),ER=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),CR=(e,t)=>xD.parts.close(Mm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:pl([Tx.config({})])})),SR=()=>xD.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),kR=(e,t)=>xD.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:hP(`<p>${t.translate(e)}</p>`)}]}]}),AR=e=>xD.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),PR=(e,t)=>[_x.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),_x.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],TR=e=>{const t="tox-dialog",r=t+"-wrap",n=r+"__backdrop",o=t+"__disable-scroll";return xD.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),T.some(!0)),useTabstopAt:e=>!mC(e),dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:hP(`<div class="${r}"></div>`),components:[{dom:{tag:"div",classes:_R?[n,n+"--opaque"]:[n]}}]}},dragBlockClass:r,modalBehaviours:pl([Gf.config({}),Lf("dialog-events",e.dialogEvents.concat([zi(zo(),((e,t)=>{Pf.focusIn(e)}))])),Lf("scroll-lock",[Hi((()=>{Os(mt(),o)})),ji((()=>{Ds(mt(),o)}))]),...e.extraBehaviours]),eventOrder:{[ni()]:["dialog-events"],[fi()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[mi()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},MR=e=>Mm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[Hm("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:e=>{Ci(e,Nx)}}),OR=(e,t,r,n)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...r.map((e=>({id:e}))).getOr({})}},components:[],behaviours:pl([$T.config({channel:`${vR}-${t}`,initialData:e,renderComponents:e=>[qs(n.translate(e.title))]})])}),DR=()=>({dom:hP('<div class="tox-dialog__draghandle"></div>')}),IR=(e,t,r)=>((e,t,r)=>{const n=xD.parts.title(OR(e,t,T.none(),r)),o=xD.parts.draghandle(DR()),i=xD.parts.close(MR(r)),s=[n].concat(e.draggable?[o]:[]).concat([i]);return _x.sketch({dom:hP('<div class="tox-dialog__header"></div>'),components:s})})({title:r.shared.providers.translate(e),draggable:r.dialog.isDraggableModal()},t,r.shared.providers),RR=(e,t,r)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":r.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:hP('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),FR=(e,t,r)=>({onClose:()=>r.closeWindow(),onBlock:r=>{xD.setBusy(e(),((e,n)=>RR(r.message,n,t)))},onUnblock:()=>{xD.setIdle(e())}}),BR=(e,t,r,n)=>Ks(TR({...e,lazySink:n.shared.getSink,extraBehaviours:[$T.config({channel:`${gR}-${e.id}`,updateState:(e,t)=>T.some(t),initialData:t}),iC({}),...e.extraBehaviours],onEscape:e=>{Ci(e,Nx)},dialogEvents:r,eventOrder:{[ri()]:[$T.name(),bl.name()],[fi()]:["scroll-lock",$T.name(),"messages","dialog-events","alloy.base.behaviour"],[mi()]:["alloy.base.behaviour","dialog-events","messages",$T.name(),"scroll-lock"]}})),NR=e=>V(e,(e=>"menu"===e.type?(e=>{const t=V(e.items,(e=>({...e,storage:wo(!1)})));return{...e,items:t}})(e):e)),LR=e=>U(e,((e,t)=>"menu"===t.type?U(t.items,((e,t)=>(e[t.name]=t.storage,e)),e):e),{}),VR=(e,t)=>[Ni(zo(),fC),e(Bx,((e,r)=>{t.onClose(),r.onClose()})),e(Nx,((e,t,r,n)=>{t.onCancel(e),Ci(n,Bx)})),Ii(Hx,((e,r)=>t.onUnblock())),Ii(zx,((e,r)=>t.onBlock(r.event)))],zR=(e,t,r)=>{const n=(t,r)=>Ii(t,((t,n)=>{o(t,((o,i)=>{r(e(),o,n.event,t)}))})),o=(e,t)=>{$T.getState(e).get().each((r=>{t(r.internalDialog,e)}))};return[...VR(n,t),n(Vx,((e,t)=>t.onSubmit(e))),n(Fx,((e,t,r)=>{t.onChange(e,{name:r.name})})),n(Lx,((e,t,n,o)=>{const i=()=>Pf.focusIn(o),s=e=>_t(e,"disabled")||xt(e,"aria-disabled").exists((e=>"true"===e)),a=ht(o.element),l=El(a);t.onAction(e,{name:n.name,value:n.value}),El(a).fold(i,(e=>{s(e)||l.exists((t=>Ke(e,t)&&s(t)))?i():r().toOptional().filter((t=>!Ke(t.element,e))).each(i)}))})),n(jx,((e,t,r)=>{t.onTabChange(e,{newTabName:r.name,oldTabName:r.oldName})})),ji((t=>{const r=e();rd.setValue(t,r.getData())}))]},HR=(e,t)=>{const r=t.map((e=>e.footerButtons)).getOr([]),n=H(r,(e=>"start"===e.align)),o=(e,t)=>_x.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:V(t,(e=>e.memento.asSpec()))});return[o("start",n.pass),o("end",n.fail)]},jR=(e,t,r)=>({dom:hP('<div class="tox-dialog__footer"></div>'),components:[],behaviours:pl([$T.config({channel:`${bR}-${t}`,initialData:e,updateState:(e,t)=>{const n=V(t.buttons,(e=>{const t=Om(((e,t)=>dS(e,e.type,t))(e,r));return{name:e.name,align:e.align,memento:t}}));return T.some({lookupByName:t=>((e,t,r)=>q(t,(e=>e.name===r)).bind((t=>t.memento.getOpt(e))))(e,n,t),footerButtons:n})},renderComponents:HR})])}),GR=(e,t,r)=>xD.parts.footer(jR(e,t,r)),UR=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const r=cu.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return UE.getField(r,t).orThunk((()=>{const r=e.getFooter();return $T.getState(r).get().bind((e=>e.lookupByName(t)))}))}return T.none()},qR=(e,t,r)=>{const n=t=>{const r=e.getRoot();r.getSystem().isConnected()&&t(r)},o={getData:()=>{const t=e.getRoot(),n=t.getSystem().isConnected()?e.getFormWrapper():t;return{...rd.getValue(n),...ce(r,(e=>e.get()))}},setData:t=>{n((n=>{const i=o.getData(),s=ln(i,t),a=((e,t)=>{const r=e.getRoot();return $T.getState(r).get().map((e=>zn(Vn("data",e.dataValidator,t)))).getOr(t)})(e,s),l=e.getFormWrapper();rd.setValue(l,a),le(r,((e,t)=>{ye(s,t)&&e.set(s[t])}))}))},setEnabled:(t,r)=>{UR(e,t).each(r?Eu.enable:Eu.disable)},focus:t=>{UR(e,t).each(Gf.focus)},block:e=>{if(!i(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n((t=>{Si(t,zx,{message:e})}))},unblock:()=>{n((e=>{Ci(e,Hx)}))},showTab:t=>{n((r=>{const n=e.getBody();$T.getState(n).get().exists((e=>e.isTabPanel()))&&cu.getCurrent(n).each((e=>{cR.showTab(e,t)}))}))},redial:r=>{n((n=>{const i=e.getId(),s=t(r);n.getSystem().broadcastOn([`${gR}-${i}`],s),n.getSystem().broadcastOn([`${vR}-${i}`],s.internalDialog),n.getSystem().broadcastOn([`${yR}-${i}`],s.internalDialog),n.getSystem().broadcastOn([`${bR}-${i}`],s.internalDialog),o.setData(s.initialData)}))},close:()=>{n((e=>{Ci(e,Bx)}))}};return o};var WR=tinymce.util.Tools.resolve("tinymce.util.URI");const $R=["insertContent","setContent","execCommand","close","block","unblock"],ZR=e=>s(e)&&-1!==$R.indexOf(e.mceAction),KR=(e,t,r,n)=>{const o=Qi("dialog"),a=IR(e.title,o,n),l=(e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[uC({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:pl([Tx.config({}),Gf.config({})])})]}],behaviours:pl([Pf.config({mode:"acyclic",useTabstopAt:E(mC)})])};return xD.parts.body(t)})(e),c=e.buttons.bind((e=>0===e.length?T.none():T.some(GR({buttons:e},o,n)))),d=((e,t)=>{const r=(t,r)=>Ii(t,((t,o)=>{n(t,((n,i)=>{r(e(),n,o.event,t)}))})),n=(e,t)=>{$T.getState(e).get().each((r=>{t(r,e)}))};return[...VR(r,t),r(Lx,((e,t,r)=>{t.onAction(e,{name:r.name})}))]})((()=>w),FR((()=>b),n.shared.providers,t)),u={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},f=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],m=new WR(e.url,{base_uri:new WR(window.location.href)}),g=`${m.protocol}://${m.host}${m.port?":"+m.port:""}`,v=Hl(),y=[Lf("messages",[Hi((()=>{const t=Ul(Re(window),"message",(t=>{if(m.isSameOrigin(new WR(t.raw.origin))){const n=t.raw.data;ZR(n)?((e,t,r)=>{switch(r.mceAction){case"insertContent":e.insertContent(r.content);break;case"setContent":e.setContent(r.content);break;case"execCommand":const n=!!h(r.ui)&&r.ui;e.execCommand(r.cmd,n,r.value);break;case"close":t.close();break;case"block":t.block(r.message);break;case"unblock":t.unblock()}})(r,w,n):(e=>!ZR(e)&&s(e)&&ye(e,"mceAction"))(n)&&e.onMessage(w,n)}}));v.set(t)})),ji(v.clear)]),bl.config({channels:{[wR]:{onReceive:(e,t)=>{oa(e.element,"iframe").each((e=>{const r=e.dom.contentWindow;p(r)&&r.postMessage(t,g)}))}}}})],b=BR({id:o,header:a,body:l,footer:c,extraClasses:f,extraBehaviours:y,extraStyles:u},e,d,n),w=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!i(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{Si(t,zx,{message:e})}))},unblock:()=>{t((e=>{Ci(e,Hx)}))},close:()=>{t((e=>{Ci(e,Bx)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([wR],e)}))}}})(b);return{dialog:b,instanceApi:w}},YR=(e,t,r)=>t&&r?[]:[mA.config({contextual:{lazyContext:()=>T.some(qr(Re(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})],XR=e=>{const t=e.editor,r=qg(t),n=(e=>{const t=e.shared;return{open:(r,n)=>{const o=()=>{xD.hide(l),n()},i=Om(dS({name:"close-alert",text:"OK",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"cancel",e)),s=SR(),a=CR(o,t.providers),l=Ks(TR({lazySink:()=>t.getSink(),header:ER(s,a),body:kR(r,t.providers),footer:T.some(AR(PR([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ii(Nx,o)],eventOrder:{}}));xD.show(l);const c=i.get(l);Gf.focus(c)}}})(e.backstages.dialog),o=(e=>{const t=e.shared;return{open:(r,n)=>{const o=e=>{xD.hide(c),n(e)},i=Om(dS({name:"yes",text:"Yes",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"submit",e)),s=dS({name:"no",text:"No",primary:!1,buttonType:T.some("secondary"),align:"end",enabled:!0,icon:T.none()},"cancel",e),a=SR(),l=CR((()=>o(!1)),t.providers),c=Ks(TR({lazySink:()=>t.getSink(),header:ER(a,l),body:kR(r,t.providers),footer:T.some(AR(PR([],[s,i.asSpec()]))),onEscape:()=>o(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ii(Nx,(()=>o(!1))),Ii(Vx,(()=>o(!0)))],eventOrder:{}}));xD.show(c);const h=i.get(c);Gf.focus(h)}}})(e.backstages.dialog),i=(t,r)=>YI.open(((t,n,o)=>{const i=n,s=((e,t,r)=>{const n=Qi("dialog"),o=e.internalDialog,i=IR(o.title,n,r),s=((e,t,r)=>{const n=xR(e,t,T.none(),r,!1);return xD.parts.body(n)})({body:o.body,initialData:o.initialData},n,r),a=NR(o.buttons),l=LR(a),c=GR({buttons:a},n,r),h=zR((()=>m),FR((()=>p),r.shared.providers,t),r.shared.getSink),d=(e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(o.size),u={id:n,header:i,body:s,footer:T.some(c),extraClasses:d,extraBehaviours:[],extraStyles:{}},p=BR(u,e,h,r),f={getId:b(n),getRoot:b(p),getBody:()=>xD.getBody(p),getFooter:()=>xD.getFooter(p),getFormWrapper:()=>{const e=xD.getBody(p);return cu.getCurrent(e).getOr(e)}},m=qR(f,t.redial,l);return{dialog:p,instanceApi:m}})({dataValidator:o,initialData:i,internalDialog:t},{redial:YI.redial,closeWindow:()=>{xD.hide(s.dialog),r(s.instanceApi)}},e.backstages.dialog);return xD.show(s.dialog),s.instanceApi.setData(i),s.instanceApi}),t),s=(n,o,i,s=!1)=>YI.open(((n,a,l)=>{const c=zn(Vn("data",l,a)),h=jl(),d=e.backstages.popup.shared.header.isPositionedAtTop(),u=()=>h.on((e=>{Pm.reposition(e),mA.refresh(e)})),p=((e,t,r,n)=>{const o=Qi("dialog"),i=Qi("dialog-label"),s=Qi("dialog-content"),a=e.internalDialog,l=Om(((e,t,r,n)=>_x.sketch({dom:hP('<div class="tox-dialog__header"></div>'),components:[OR(e,t,T.some(r),n),DR(),MR(n)],containerBehaviours:pl([sD.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>ia(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:a.title,draggable:!0},o,i,r.shared.providers)),c=Om(((e,t,r,n,o)=>xR(e,t,T.some(r),n,o))({body:a.body,initialData:a.initialData},o,s,r,n)),h=NR(a.buttons),d=LR(h),u=Om(((e,t,r)=>jR(e,t,r))({buttons:h},o,r)),p=zR((()=>m),{onBlock:e=>{cP.block(f,((t,n)=>RR(e.message,n,r.shared.providers)))},onUnblock:()=>{cP.unblock(f)},onClose:()=>t.closeWindow()},r.shared.getSink),f=Ks({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:{role:"dialog","aria-labelledby":i,"aria-describedby":s}},eventOrder:{[ri()]:[$T.name(),bl.name()],[ni()]:["execute-on-form"],[fi()]:["reflecting","execute-on-form"]},behaviours:pl([Pf.config({mode:"cyclic",onEscape:e=>(Ci(e,Bx),T.some(!0)),useTabstopAt:e=>!mC(e)&&("button"!==Ve(e)||"disabled"!==wt(e,"disabled"))}),$T.config({channel:`${gR}-${o}`,updateState:(e,t)=>T.some(t),initialData:e}),Gf.config({}),Lf("execute-on-form",p.concat([zi(zo(),((e,t)=>{Pf.focusIn(e)}))])),cP.config({getRoot:()=>T.some(f)}),Nf.config({}),iC({})]),components:[l.asSpec(),c.asSpec(),u.asSpec()]}),m=qR({getId:b(o),getRoot:b(f),getFooter:()=>u.get(f),getBody:()=>c.get(f),getFormWrapper:()=>{const e=c.get(f);return cu.getCurrent(e).getOr(e)}},t.redial,d);return{dialog:f,instanceApi:m}})({dataValidator:l,initialData:c,internalDialog:n},{redial:YI.redial,closeWindow:()=>{h.on(Pm.hide),t.off("ResizeEditor",u),h.clear(),i(p.instanceApi)}},e.backstages.popup,s),f=Ks(Pm.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pl([Lf("window-manager-inline-events",[Ii(gi(),((e,t)=>{Ci(p.dialog,Nx)}))]),...YR(t,r,d)]),isExtraPart:(e,t)=>(e=>ux(e,".tox-alert-dialog")||ux(e,".tox-confirm-dialog"))(t)}));return h.set(f),Pm.showWithin(f,Ys(p.dialog),{anchor:o},T.some(mt())),r&&d||(mA.refresh(f),t.on("ResizeEditor",u)),p.instanceApi.setData(c),Pf.focusIn(p.dialog),p.instanceApi}),n);return{open:(t,r,n)=>void 0!==r&&"toolbar"===r.inline?s(t,e.backstages.popup.shared.anchors.inlineDialog(),n,r.ariaAttrs):void 0!==r&&"cursor"===r.inline?s(t,e.backstages.popup.shared.anchors.cursor(),n,r.ariaAttrs):i(t,n),openUrl:(r,n)=>((r,n)=>YI.openUrl((r=>{const o=KR(r,{closeWindow:()=>{xD.hide(o.dialog),n(o.instanceApi)}},t,e.backstages.dialog);return xD.show(o.dialog),o.instanceApi}),r))(r,n),alert:(e,t)=>{n.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{o.open(e,t)}}};P.add("silver",(e=>{(e=>{Xm(e),(e=>{const t=e.options.register,r=e=>g(e,i)?{value:sw(e),valid:!0}:{valid:!1,message:"Must be an array of strings."};t("color_map",{processor:r,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:r}),t("color_map_foreground",{processor:r}),t("color_cols",{processor:"number",default:iw(dw(e,"default").length)}),t("color_cols_foreground",{processor:"number",default:iw(dw(e,nw).length)}),t("color_cols_background",{processor:"number",default:iw(dw(e,ow).length)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:lw}),t("color_default_background",{processor:"string",default:lw})})(e),(e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:i(e)||g(e,i)?{value:tO(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)})(e);const{dialogs:t,popups:r,renderUI:n}=vD(e);dx(e,r.backstage.shared);const o=XR({editor:e,backstages:{popup:r.backstage,dialog:t.backstage}});return{renderUI:n,getWindowManagerImpl:b(o),getNotificationManagerImpl:()=>((e,t,r)=>{const n=t.backstage.shared,o=()=>{const t=qr(Re(e.getContentAreaContainer())),r=$r(),n=Va(r.x,t.x,t.right),o=Va(r.y,t.y,t.bottom),i=Math.max(t.right,r.right),s=Math.max(t.bottom,r.bottom);return T.some(Ur(n,o,i-n,s-o))};return{open:(t,i)=>{const s=()=>{i(),Pm.hide(l)},a=Ks(Gm.sketch({text:t.text,level:F(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,closeButton:t.closeButton,onAction:s,iconProvider:n.providers.icons,translationProvider:n.providers.translate})),l=Ks(Pm.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:n.getSink,fireDismissalEventInstead:{},...n.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));r.add(l),m(t.timeout)&&t.timeout>0&&Tm.setEditorTimeout(e,(()=>{s()}),t.timeout);const c={close:s,reposition:()=>{const t=Ys(a),r={maxHeightFunction:Jl()},i=e.notificationManager.getNotifications();if(i[0]===c){const e={...n.anchors.banner(),overrides:r};Pm.showWithinBounds(l,t,{anchor:e},o)}else R(i,c).each((e=>{const n=i[e-1].getEl(),s={type:"node",root:mt(),node:T.some(Re(n)),overrides:r,layouts:{onRtl:()=>[Qa],onLtr:()=>[Qa]}};Pm.showWithinBounds(l,t,{anchor:s},o)}))},text:e=>{Gm.updateText(a,e)},settings:t,getEl:()=>a.element.dom,progressBar:{value:e=>{Gm.updateProgress(a,e)}}};return c},close:e=>{e.close()},getArgs:e=>e.settings}})(e,{backstage:r.backstage},r.getMothership())}}))}()},5594:function(e){!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return{eq:e}},n=r((function(e,t){return e===t})),o=function(e){return r((function(t,r){if(t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e.eq(t[o],r[o]))return!1;return!0}))},i=function(e){return r((function(t,i){var s=Object.keys(t),a=Object.keys(i);if(!function(e,t){return function(e,t){return r((function(r,n){return e.eq(t(r),t(n))}))}(o(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(void 0)}(e)}))}(n).eq(s,a))return!1;for(var l=s.length,c=0;c<l;c++){var h=s[c];if(!e.eq(t[h],i[h]))return!1}return!0}))},s=r((function(e,r){if(e===r)return!0;var n=t(e);return n===t(r)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(n)?e===r:"array"===n?o(s).eq(e,r):"object"===n&&i(s).eq(e,r))}));const a=Object.getPrototypeOf,l=(e,t,r)=>{var n;return!!r(e,t.prototype)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name},c=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&l(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,h=e=>t=>typeof t===e,d=e=>t=>e===t,u=(e,t)=>f(e)&&l(e,t,((e,t)=>a(e)===t)),p=c("string"),f=c("object"),m=e=>u(e,Object),g=c("array"),v=d(null),y=h("boolean"),b=d(void 0),w=e=>null==e,x=e=>!w(e),_=h("function"),E=h("number"),C=(e,t)=>{if(g(e)){for(let r=0,n=e.length;r<n;++r)if(!t(e[r]))return!1;return!0}return!1},S=()=>{},k=(e,t)=>(...r)=>e(t.apply(null,r)),A=(e,t)=>r=>e(t(r)),P=e=>()=>e,T=e=>e,M=(e,t)=>e===t;function O(e,...t){return(...r)=>{const n=t.concat(r);return e.apply(null,n)}}const D=e=>t=>!e(t),I=e=>e(),R=e=>{e()},F=P(!1),B=P(!0);class N{constructor(e,t){this.tag=e,this.value=t}static some(e){return new N(!0,e)}static none(){return N.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?N.some(e(this.value)):N.none()}bind(e){return this.tag?e(this.value):N.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:N.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return x(e)?N.some(e):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const L=Array.prototype.slice,V=Array.prototype.indexOf,z=Array.prototype.push,H=(e,t)=>V.call(e,t),j=(e,t)=>H(e,t)>-1,G=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return!0;return!1},U=(e,t)=>{const r=e.length,n=new Array(r);for(let o=0;o<r;o++){const r=e[o];n[o]=t(r,o)}return n},q=(e,t)=>{for(let r=0,n=e.length;r<n;r++)t(e[r],r)},W=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},$=(e,t)=>{const r=[],n=[];for(let o=0,i=e.length;o<i;o++){const i=e[o];(t(i,o)?r:n).push(i)}return{pass:r,fail:n}},Z=(e,t)=>{const r=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)&&r.push(o)}return r},K=(e,t,r)=>(W(e,((e,n)=>{r=t(r,e,n)})),r),Y=(e,t,r)=>(q(e,((e,n)=>{r=t(r,e,n)})),r),X=(e,t,r)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return N.some(o);if(r(o,n))break}return N.none()},J=(e,t)=>X(e,t,F),Q=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return N.some(r);return N.none()},ee=e=>{const t=[];for(let r=0,n=e.length;r<n;++r){if(!g(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);z.apply(t,e[r])}return t},te=(e,t)=>ee(U(e,t)),re=(e,t)=>{for(let r=0,n=e.length;r<n;++r)if(!0!==t(e[r],r))return!1;return!0},ne=e=>{const t=L.call(e,0);return t.reverse(),t},oe=(e,t)=>Z(e,(e=>!j(t,e))),ie=(e,t)=>{const r={};for(let n=0,o=e.length;n<o;n++){const o=e[n];r[String(o)]=t(o,n)}return r},se=(e,t)=>{const r=L.call(e,0);return r.sort(t),r},ae=(e,t)=>t>=0&&t<e.length?N.some(e[t]):N.none(),le=e=>ae(e,0),ce=e=>ae(e,e.length-1),he=_(Array.from)?Array.from:e=>L.call(e),de=(e,t)=>{for(let r=0;r<e.length;r++){const n=t(e[r],r);if(n.isSome())return n}return N.none()},ue=Object.keys,pe=Object.hasOwnProperty,fe=(e,t)=>{const r=ue(e);for(let n=0,o=r.length;n<o;n++){const o=r[n];t(e[o],o)}},me=(e,t)=>ge(e,((e,r)=>({k:r,v:t(e,r)}))),ge=(e,t)=>{const r={};return fe(e,((e,n)=>{const o=t(e,n);r[o.k]=o.v})),r},ve=e=>(t,r)=>{e[r]=t},ye=(e,t,r,n)=>{fe(e,((e,o)=>{(t(e,o)?r:n)(e,o)}))},be=(e,t)=>{const r={};return ye(e,t,ve(r),S),r},we=(e,t)=>{const r=[];return fe(e,((e,n)=>{r.push(t(e,n))})),r},xe=e=>we(e,T),_e=(e,t)=>Ee(e,t)?N.from(e[t]):N.none(),Ee=(e,t)=>pe.call(e,t),Ce=(e,t)=>Ee(e,t)&&void 0!==e[t]&&null!==e[t],Se=e=>{const t={};return q(e,(e=>{t[e]={}})),ue(t)},ke=e=>void 0!==e.length,Ae=Array.isArray,Pe=(e,t,r)=>{if(!e)return!1;if(r=r||e,ke(e)){for(let n=0,o=e.length;n<o;n++)if(!1===t.call(r,e[n],n,e))return!1}else for(const n in e)if(Ee(e,n)&&!1===t.call(r,e[n],n,e))return!1;return!0},Te=(e,t)=>{const r=[];return Pe(e,((n,o)=>{r.push(t(n,o,e))})),r},Me=(e,t)=>{const r=[];return Pe(e,((n,o)=>{t&&!t(n,o,e)||r.push(n)})),r},Oe=(e,t,r,n)=>{let o=b(r)?e[0]:r;for(let r=0;r<e.length;r++)o=t.call(n,o,e[r],r);return o},De=(e,t,r)=>{for(let n=0,o=e.length;n<o;n++)if(t.call(r,e[n],n,e))return n;return-1},Ie=e=>e[e.length-1],Re=e=>{let t,r=!1;return(...n)=>(r||(r=!0,t=e.apply(null,n)),t)},Fe=()=>Be(0,0),Be=(e,t)=>({major:e,minor:t}),Ne={nu:Be,detect:(e,t)=>{const r=String(t).toLowerCase();return 0===e.length?Fe():((e,t)=>{const r=((e,t)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.test(t))return n}})(e,t);if(!r)return{major:0,minor:0};const n=e=>Number(t.replace(r,"$"+e));return Be(n(1),n(2))})(e,r)},unknown:Fe},Le=(e,t)=>{const r=String(t).toLowerCase();return J(e,(e=>e.search(r)))},Ve=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,ze=(e,t,r=0,n)=>{const o=e.indexOf(t,r);return-1!==o&&(!!b(n)||o+t.length<=n)},He=(e,t)=>Ve(e,t,0),je=(e,t)=>Ve(e,t,e.length-t.length),Ge=e=>t=>t.replace(e,""),Ue=Ge(/^\s+|\s+$/g),qe=Ge(/^\s+/g),We=Ge(/\s+$/g),$e=e=>e.length>0,Ze=e=>!$e(e),Ke=(e,t=10)=>{const r=parseInt(e,t);return isNaN(r)?N.none():N.some(r)},Ye=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Xe=e=>t=>ze(t,e),Je=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ze(e,"edge/")&&ze(e,"chrome")&&ze(e,"safari")&&ze(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ye],search:e=>ze(e,"chrome")&&!ze(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ze(e,"msie")||ze(e,"trident")},{name:"Opera",versionRegexes:[Ye,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Xe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Xe("firefox")},{name:"Safari",versionRegexes:[Ye,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ze(e,"safari")||ze(e,"mobile/"))&&ze(e,"applewebkit")}],Qe=[{name:"Windows",search:Xe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ze(e,"iphone")||ze(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Xe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Xe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Xe("linux"),versionRegexes:[]},{name:"Solaris",search:Xe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Xe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Xe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],et={browsers:P(Je),oses:P(Qe)},tt="Edge",rt="Chromium",nt="Opera",ot="Firefox",it="Safari",st=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isEdge:n(tt),isChromium:n(rt),isIE:n("IE"),isOpera:n(nt),isFirefox:n(ot),isSafari:n(it)}},at=()=>st({current:void 0,version:Ne.unknown()}),lt=st,ct=(P(tt),P(rt),P("IE"),P(nt),P(ot),P(it),"Windows"),ht="Android",dt="Linux",ut="macOS",pt="Solaris",ft="FreeBSD",mt="ChromeOS",gt=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isWindows:n(ct),isiOS:n("iOS"),isAndroid:n(ht),isMacOS:n(ut),isLinux:n(dt),isSolaris:n(pt),isFreeBSD:n(ft),isChromeOS:n(mt)}},vt=()=>gt({current:void 0,version:Ne.unknown()}),yt=gt,bt=(P(ct),P("iOS"),P(ht),P(dt),P(ut),P(pt),P(ft),P(mt),e=>window.matchMedia(e).matches);let wt=Re((()=>((e,t,r)=>{const n=et.browsers(),o=et.oses(),i=t.bind((e=>((e,t)=>de(t.brands,(t=>{const r=t.brand.toLowerCase();return J(e,(e=>{var t;return r===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Ne.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>Le(e,t).map((e=>{const r=Ne.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(n,e))).fold(at,lt),s=((e,t)=>Le(e,t).map((e=>{const r=Ne.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(o,e).fold(vt,yt),a=((e,t,r,n)=>{const o=e.isiOS()&&!0===/ipad/i.test(r),i=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),a=s||n("(pointer:coarse)"),l=o||!i&&s&&n("(min-device-width:768px)"),c=i||s&&!l,h=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),d=!c&&!l&&!h;return{isiPad:P(o),isiPhone:P(i),isTablet:P(l),isPhone:P(c),isTouch:P(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:P(h),isDesktop:P(d)}})(s,i,e,r);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,N.from(navigator.userAgentData),bt)));const xt=()=>wt(),_t=navigator.userAgent,Et=xt(),Ct=Et.browser,St=Et.os,kt=Et.deviceType,At=-1!==_t.indexOf("Windows Phone"),Pt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ct.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ct.isIE(),windowsPhone:At,browser:{current:Ct.current,version:Ct.version,isChromium:Ct.isChromium,isEdge:Ct.isEdge,isFirefox:Ct.isFirefox,isIE:Ct.isIE,isOpera:Ct.isOpera,isSafari:Ct.isSafari},os:{current:St.current,version:St.version,isAndroid:St.isAndroid,isChromeOS:St.isChromeOS,isFreeBSD:St.isFreeBSD,isiOS:St.isiOS,isLinux:St.isLinux,isMacOS:St.isMacOS,isSolaris:St.isSolaris,isWindows:St.isWindows},deviceType:{isDesktop:kt.isDesktop,isiPad:kt.isiPad,isiPhone:kt.isiPhone,isPhone:kt.isPhone,isTablet:kt.isTablet,isTouch:kt.isTouch,isWebView:kt.isWebView}},Tt=/^\s*|\s*$/g,Mt=e=>w(e)?"":(""+e).replace(Tt,""),Ot=function(e,t,r,n){n=n||this,e&&(r&&(e=e[r]),Pe(e,((e,o)=>!1!==t.call(n,e,o,r)&&(Ot(e,t,r,n),!0))))},Dt={trim:Mt,isArray:Ae,is:(e,t)=>t?!("array"!==t||!Ae(e))||typeof e===t:void 0!==e,toArray:e=>{if(Ae(e))return e;{const t=[];for(let r=0,n=e.length;r<n;r++)t[r]=e[r];return t}},makeMap:(e,t,r={})=>{const n=p(e)?e.split(t||","):e||[];let o=n.length;for(;o--;)r[n[o]]={};return r},each:Pe,map:Te,grep:Me,inArray:(e,t)=>{if(e)for(let r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},hasOwn:Ee,extend:(e,...t)=>{for(let r=0;r<t.length;r++){const n=t[r];for(const t in n)if(Ee(n,t)){const r=n[t];void 0!==r&&(e[t]=r)}}return e},walk:Ot,resolve:(e,t=window)=>{const r=e.split(".");for(let e=0,n=r.length;e<n&&(t=t[r[e]]);e++);return t},explode:(e,t)=>g(e)?e:""===e?[]:Te(e.split(t||","),Mt),_addCacheSuffix:e=>{const t=Pt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},It=(e,t,r=M)=>e.exists((e=>r(e,t))),Rt=(e,t,r)=>e.isSome()&&t.isSome()?N.some(r(e.getOrDie(),t.getOrDie())):N.none(),Ft=(e,t)=>e?N.some(t):N.none();"undefined"!=typeof window?window:Function("return this;")();const Bt=e=>e.dom.nodeName.toLowerCase(),Nt=e=>e.dom.nodeType,Lt=e=>t=>Nt(t)===e,Vt=Lt(1),zt=Lt(3),Ht=Lt(9),jt=Lt(11),Gt=e=>t=>Vt(t)&&Bt(t)===e,Ut=(e,t,r)=>{if(!(p(r)||y(r)||E(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},qt=(e,t,r)=>{Ut(e.dom,t,r)},Wt=(e,t)=>{const r=e.dom;fe(t,((e,t)=>{Ut(r,t,e)}))},$t=(e,t)=>{const r=e.dom.getAttribute(t);return null===r?void 0:r},Zt=(e,t)=>N.from($t(e,t)),Kt=(e,t)=>{const r=e.dom;return!(!r||!r.hasAttribute)&&r.hasAttribute(t)},Yt=(e,t)=>{e.dom.removeAttribute(t)},Xt=e=>Y(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Jt=(e,t)=>{const r=$t(e,t);return void 0===r||""===r?[]:r.split(" ")},Qt=e=>void 0!==e.dom.classList,er=e=>Jt(e,"class"),tr=(e,t)=>((e,t,r)=>{const n=Jt(e,t).concat([r]);return qt(e,t,n.join(" ")),!0})(e,"class",t),rr=(e,t)=>((e,t,r)=>{const n=Z(Jt(e,t),(e=>e!==r));return n.length>0?qt(e,t,n.join(" ")):Yt(e,t),!1})(e,"class",t),nr=(e,t)=>{Qt(e)?e.dom.classList.add(t):tr(e,t)},or=e=>{0===(Qt(e)?e.dom.classList:er(e)).length&&Yt(e,"class")},ir=(e,t)=>{Qt(e)?e.dom.classList.remove(t):rr(e,t),or(e)},sr=(e,t)=>Qt(e)&&e.dom.classList.contains(t),ar=e=>void 0!==e.style&&_(e.style.getPropertyValue),lr=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},cr=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return lr(r.childNodes[0])},hr=(e,t)=>{const r=(t||document).createElement(e);return lr(r)},dr=(e,t)=>{const r=(t||document).createTextNode(e);return lr(r)},ur=lr,pr=(e,t)=>{const r=[],n=e=>(r.push(e),t(e));let o=t(e);do{o=o.bind(n)}while(o.isSome());return r},fr=(e,t)=>{const r=e.dom;if(1!==r.nodeType)return!1;{const e=r;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},mr=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,gr=(e,t)=>e.dom===t.dom,vr=(e,t)=>{const r=e.dom,n=t.dom;return r!==n&&r.contains(n)},yr=e=>ur(e.dom.ownerDocument),br=e=>Ht(e)?e:yr(e),wr=e=>ur(br(e).dom.defaultView),xr=e=>N.from(e.dom.parentNode).map(ur),_r=e=>N.from(e.dom.parentElement).map(ur),Er=(e,t)=>{const r=_(t)?t:F;let n=e.dom;const o=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=ur(e);if(o.push(t),!0===r(t))break;n=e}return o},Cr=e=>N.from(e.dom.previousSibling).map(ur),Sr=e=>N.from(e.dom.nextSibling).map(ur),kr=e=>ne(pr(e,Cr)),Ar=e=>pr(e,Sr),Pr=e=>U(e.dom.childNodes,ur),Tr=(e,t)=>{const r=e.dom.childNodes;return N.from(r[t]).map(ur)},Mr=e=>Tr(e,0),Or=e=>Tr(e,e.dom.childNodes.length-1),Dr=e=>e.dom.childNodes.length,Ir=e=>jt(e)&&x(e.dom.host),Rr=_(Element.prototype.attachShadow)&&_(Node.prototype.getRootNode),Fr=P(Rr),Br=Rr?e=>ur(e.dom.getRootNode()):br,Nr=e=>Ir(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return ur(t)})(br(e)),Lr=e=>ur(e.dom.host),Vr=e=>{if(Fr()&&x(e.target)){const t=ur(e.target);if(Vt(t)&&zr(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return le(t)}}return N.from(e.target)},zr=e=>x(e.dom.shadowRoot),Hr=e=>{const t=zt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const r=t.ownerDocument;return(e=>{const t=Br(e);return Ir(t)?N.some(t):N.none()})(ur(t)).fold((()=>r.body.contains(t)),A(Hr,Lr))},jr=(e,t,r)=>{if(!p(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);ar(e)&&e.style.setProperty(t,r)},Gr=(e,t,r)=>{const n=e.dom;jr(n,t,r)},Ur=(e,t)=>{const r=e.dom;fe(t,((e,t)=>{jr(r,t,e)}))},qr=(e,t)=>{const r=e.dom,n=window.getComputedStyle(r).getPropertyValue(t);return""!==n||Hr(e)?n:Wr(r,t)},Wr=(e,t)=>ar(e)?e.style.getPropertyValue(t):"",$r=(e,t)=>{const r=e.dom,n=Wr(r,t);return N.from(n).filter((e=>e.length>0))},Zr=e=>{const t={},r=e.dom;if(ar(r))for(let e=0;e<r.style.length;e++){const n=r.style.item(e);t[n]=r.style[n]}return t},Kr=(e,t)=>{((e,t)=>{ar(e)&&e.style.removeProperty(t)})(e.dom,t),It(Zt(e,"style").map(Ue),"")&&Yt(e,"style")},Yr=(e,t)=>{xr(e).each((r=>{r.dom.insertBefore(t.dom,e.dom)}))},Xr=(e,t)=>{Sr(e).fold((()=>{xr(e).each((e=>{Qr(e,t)}))}),(e=>{Yr(e,t)}))},Jr=(e,t)=>{Mr(e).fold((()=>{Qr(e,t)}),(r=>{e.dom.insertBefore(t.dom,r.dom)}))},Qr=(e,t)=>{e.dom.appendChild(t.dom)},en=(e,t)=>{q(t,(t=>{Qr(e,t)}))},tn=e=>{e.dom.textContent="",q(Pr(e),(e=>{rn(e)}))},rn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},nn=e=>{const t=Pr(e);var r,n;t.length>0&&(r=e,q(n=t,((e,t)=>{const o=0===t?r:n[t-1];Xr(o,e)}))),rn(e)},on=e=>U(e,ur),sn=e=>e.dom.innerHTML,an=(e,t)=>{const r=yr(e).dom,n=ur(r.createDocumentFragment()),o=((e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,Pr(ur(r))})(t,r);en(n,o),tn(e),Qr(e,n)},ln=(e,t,r,n)=>{e.dom.removeEventListener(t,r,n)},cn=(e,t)=>({left:e,top:t,translate:(r,n)=>cn(e+r,t+n)}),hn=cn,dn=(e,t)=>void 0!==e?e:void 0!==t?t:0,un=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?hn(r.offsetLeft,r.offsetTop):Hr(e)?(e=>{const t=e.getBoundingClientRect();return hn(t.left,t.top)})(t):hn(0,0)},pn=e=>{const t=void 0!==e?e.dom:document,r=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return hn(r,n)},fn=(e,t,r)=>{const n=(void 0!==r?r.dom:document).defaultView;n&&n.scrollTo(e,t)},mn=(e,t)=>{xt().browser.isSafari()&&_(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},gn=(e,t,r,n)=>({x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}),vn=e=>{const t=void 0===e?window:e,r=t.document,n=pn(ur(r));return(e=>{const t=void 0===e?window:e;return xt().browser.isFirefox()?N.none():N.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,r=e.clientWidth,o=e.clientHeight;return gn(n.left,n.top,r,o)}),(e=>gn(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))},yn=(e,t)=>{let r=[];return q(Pr(e),(e=>{t(e)&&(r=r.concat([e])),r=r.concat(yn(e,t))})),r};var bn=(e,t,r,n,o)=>e(r,n)?N.some(r):_(o)&&o(r)?N.none():t(r,n,o);const wn=(e,t,r)=>{let n=e.dom;const o=_(r)?r:F;for(;n.parentNode;){n=n.parentNode;const e=ur(n);if(t(e))return N.some(e);if(o(e))break}return N.none()},xn=(e,t,r)=>bn(((e,t)=>t(e)),wn,e,t,r),_n=(e,t,r)=>wn(e,(e=>fr(e,t)),r),En=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return mr(r)?N.none():N.from(r.querySelector(e)).map(ur)})(t,e),Cn=(e,t,r)=>bn(((e,t)=>fr(e,t)),_n,e,t,r),Sn=(e,t,r)=>_n(e,t,r).isSome();class kn{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,r,n){if(e){if(!n&&e[t])return e[t];if(e!==this.rootNode){let t=e[r];if(t)return t;for(let n=e.parentNode;n&&n!==this.rootNode;n=n.parentNode)if(t=n[r],t)return t}}}findPreviousNode(e,t){if(e){const r=e.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!t)for(let e=r.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return r}const n=e.parentNode;if(n&&n!==this.rootNode)return n}}}const An=e=>t=>!!t&&t.nodeType===e,Pn=e=>!!e&&!Object.getPrototypeOf(e),Tn=An(1),Mn=e=>{const t=e.toLowerCase();return e=>x(e)&&e.nodeName.toLowerCase()===t},On=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const r=e.nodeName.toLowerCase();return j(t,r)}return!1}},Dn=(e,t)=>{const r=t.toLowerCase().split(" ");return t=>{if(Tn(t)){const n=t.ownerDocument.defaultView;if(n)for(let o=0;o<r.length;o++){const i=n.getComputedStyle(t,null);if((i?i.getPropertyValue(e):null)===r[o])return!0}}return!1}},In=e=>t=>Tn(t)&&t.hasAttribute(e),Rn=e=>Tn(e)&&e.hasAttribute("data-mce-bogus"),Fn=e=>Tn(e)&&"TABLE"===e.tagName,Bn=e=>t=>{if(Tn(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Nn=On(["textarea","input"]),Ln=An(3),Vn=An(4),zn=An(7),Hn=An(8),jn=An(9),Gn=An(11),Un=Mn("br"),qn=Mn("img"),Wn=Bn("true"),$n=Bn("false"),Zn=On(["td","th"]),Kn=On(["td","th","caption"]),Yn=On(["video","audio","object","embed"]),Xn=Mn("li"),Jn="\ufeff",Qn="",eo=e=>e===Jn,to=(e,t)=>((e,t)=>{const r=void 0===t?document:t.dom;return mr(r)?[]:U(r.querySelectorAll(e),ur)})(t,e),ro=((e,t)=>{const r=t=>e(t)?N.from(t.dom.nodeValue):N.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return r(t).getOr("")},getOption:r,set:(t,r)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=r}}})(zt),no=e=>ro.get(e),oo=e=>ro.getOption(e),io=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),so=e=>{let t;return r=>(t=t||ie(e,B),Ee(t,Bt(r)))},ao=so(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),lo=e=>Vt(e)&&!ao(e),co=e=>Vt(e)&&"br"===Bt(e),ho=so(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),uo=so(["ul","ol","dl"]),po=so(["li","dd","dt"]),fo=so(["thead","tbody","tfoot"]),mo=so(["td","th"]),go=so(["pre","script","textarea","style"]),vo=so(io),yo=e=>vo(e)||lo(e),bo=()=>{const e=hr("br");return qt(e,"data-mce-bogus","1"),e},wo=e=>{tn(e),Qr(e,bo())},xo=e=>{Or(e).each((t=>{Cr(t).each((r=>{ao(e)&&co(t)&&ao(r)&&rn(t)}))}))},_o=Jn,Eo=eo,Co=e=>e.replace(/\uFEFF/g,""),So=Tn,ko=Ln,Ao=e=>(ko(e)&&(e=e.parentNode),So(e)&&e.hasAttribute("data-mce-caret")),Po=e=>ko(e)&&Eo(e.data),To=e=>Ao(e)||Po(e),Mo=e=>e.firstChild!==e.lastChild||!Un(e.firstChild),Oo=e=>{const t=e.container();return!!Ln(t)&&(t.data.charAt(e.offset())===_o||e.isAtStart()&&Po(t.previousSibling))},Do=e=>{const t=e.container();return!!Ln(t)&&(t.data.charAt(e.offset()-1)===_o||e.isAtEnd()&&Po(t.nextSibling))},Io=e=>ko(e)&&e.data[0]===_o,Ro=e=>ko(e)&&e.data[e.data.length-1]===_o,Fo=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const r=e.getElementsByTagName("br"),n=r[r.length-1];Rn(n)&&(null===(t=n.parentNode)||void 0===t||t.removeChild(n))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Bo=e=>Ao(e.startContainer),No=Wn,Lo=$n,Vo=Un,zo=Ln,Ho=On(["script","style","textarea"]),jo=On(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Go=On(["table"]),Uo=To,qo=e=>!Uo(e)&&(zo(e)?!Ho(e.parentNode):jo(e)||Vo(e)||Go(e)||Wo(e)),Wo=e=>!(e=>Tn(e)&&"true"===e.getAttribute("unselectable"))(e)&&Lo(e),$o=(e,t)=>qo(e)&&((e,t)=>{for(let r=e.parentNode;r&&r!==t;r=r.parentNode){if(Wo(r))return!1;if(No(r))return!0}return!0})(e,t),Zo=/^[ \t\r\n]*$/,Ko=e=>Zo.test(e),Yo=e=>"\n"===e||"\r"===e,Xo=(e,t=4,r=!0,n=!0)=>{const o=((e,t)=>t<=0?"":new Array(t+1).join(" "))(0,t),i=e.replace(/\t/g,o),s=Y(i,((e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===Qn?e.pcIsSpace||""===e.str&&r||e.str.length===i.length-1&&n||((e,t)=>t<e.length&&t>=0&&Yo(e[t]))(i,e.str.length+1)?{pcIsSpace:!1,str:e.str+Qn}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:Yo(t),str:e.str+t}),{pcIsSpace:!1,str:""});return s.str},Jo=(e,t)=>qo(e)&&!((e,t)=>Ln(e)&&Ko(e.data)&&!((e,t)=>{const r=ur(t),n=ur(e);return Sn(n,"pre,code",O(gr,r))})(e,t))(e,t)||(e=>Tn(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(e)||Qo(e),Qo=In("data-mce-bookmark"),ei=In("data-mce-bogus"),ti=e=>Tn(e)&&"all"===e.getAttribute("data-mce-bogus"),ri=(e,t=!0)=>((e,t)=>{let r=0;if(Jo(e,e))return!1;{let n=e.firstChild;if(!n)return!0;const o=new kn(n,e);do{if(t){if(ti(n)){n=o.next(!0);continue}if(ei(n)){n=o.next();continue}}if(Un(n))r++,n=o.next();else{if(Jo(n,e))return!1;n=o.next()}}while(n);return r<=1}})(e.dom,t),ni="data-mce-block",oi=e=>(e=>Z(ue(e),(e=>!/[A-Z]/.test(e))))(e).join(","),ii=(e,t)=>x(t.querySelector(e))?(t.setAttribute(ni,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ni),!1),si=(e,t)=>{const r=oi(e.getTransparentElements()),n=oi(e.getBlockElements());return Z(t.querySelectorAll(r),(e=>ii(n,e)))},ai=(e,t)=>{var r;const n=t?"lastChild":"firstChild";for(let t=e[n];t;t=t[n])if(ri(ur(t)))return void(null===(r=t.parentNode)||void 0===r||r.removeChild(t))},li=(e,t)=>{((e,t,r)=>{const n=e.getBlockElements(),o=ur(t),i=e=>Bt(e)in n,s=e=>gr(e,o);q(on(r),(t=>{wn(t,i,s).each((r=>{const n=((t,n)=>Z(Pr(t),(t=>i(t)&&!e.isValidChild(Bt(r),Bt(t)))))(t);if(n.length>0){const t=_r(r);q(n,(e=>{wn(e,i,s).each((t=>{((e,t)=>{const r=document.createRange(),n=e.parentNode;if(n){r.setStartBefore(e),r.setEndBefore(t);const o=r.extractContents();ai(o,!0),r.setStartAfter(t),r.setEndAfter(e);const i=r.extractContents();ai(i,!1),ri(ur(o))||n.insertBefore(o,e),ri(ur(t))||n.insertBefore(t,e),ri(ur(i))||n.insertBefore(i,e),n.removeChild(e)}})(t.dom,e.dom)}))})),t.each((t=>si(e,t.dom)))}}))}))})(e,t,si(e,t))},ci=(e,t)=>{if(ui(e,t)){const r=oi(e.getBlockElements());ii(r,t)}},hi=e=>e.hasAttribute(ni),di=(e,t)=>Ee(e.getTransparentElements(),t),ui=(e,t)=>Tn(t)&&di(e,t.nodeName),pi=(e,t)=>ui(e,t)&&hi(t),fi=(e,t)=>1===t.type&&di(e,t.name)&&b(t.attr(ni)),mi=xt().browser,gi=e=>J(e,Vt),vi=(e,t)=>e.children&&j(e.children,t),yi=(e,t={})=>{let r=0;const n={},o=ur(e),i=br(o),s=t.maxLoadTime||5e3,a=a=>new Promise(((l,c)=>{let h;const d=Dt._addCacheSuffix(a),u=(e=>_e(n,e).getOrThunk((()=>({id:"mce-u"+r++,passed:[],failed:[],count:0}))))(d);n[d]=u,u.count++;const p=(e,t)=>{q(e,R),u.status=t,u.passed=[],u.failed=[],h&&(h.onload=null,h.onerror=null,h=null)},f=()=>p(u.passed,2),m=()=>p(u.failed,3),g=()=>{var t;t=g,(()=>{const t=e.styleSheets;let r=t.length;for(;r--;){const e=t[r].ownerNode;if(e&&h&&e.id===h.id)return f(),!0}return!1})()||(Date.now()-y<s?setTimeout(t):m())};if(l&&u.passed.push(l),c&&u.failed.push(c),1===u.status)return;if(2===u.status)return void f();if(3===u.status)return void m();u.status=1;const v=hr("link",i.dom);Wt(v,{rel:"stylesheet",type:"text/css",id:u.id});const y=Date.now();var b;t.contentCssCors&&qt(v,"crossOrigin","anonymous"),t.referrerPolicy&&qt(v,"referrerpolicy",t.referrerPolicy),h=v.dom,h.onload=g,h.onerror=m,b=v,Qr(Nr(o),b),qt(v,"href",d)})),l=e=>{const t=Dt._addCacheSuffix(e);_e(n,t).each((e=>{0==--e.count&&(delete n[t],(e=>{const t=Nr(o);En(t,"#"+e).each(rn)})(e.id))}))};return{load:a,loadAll:e=>Promise.allSettled(U(e,(e=>a(e).then(P(e))))).then((e=>{const t=$(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(U(t.fail,(e=>e.reason))):U(t.pass,(e=>e.value))})),unload:l,unloadAll:e=>{q(e,(e=>{l(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},bi=(()=>{const e=new WeakMap;return{forElement:(t,r)=>{const n=Br(t).dom;return N.from(e.get(n)).getOrThunk((()=>{const t=yi(n,r);return e.set(n,t),t}))}}})(),wi=(e,t)=>x(e)&&(Jo(e,t)||lo(ur(e))),xi=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),_i=(e,t,r)=>{var n;const o=r||t;if(Tn(t)&&xi(t))return t;const i=t.childNodes;for(let t=i.length-1;t>=0;t--)_i(e,i[t],o);if(Tn(t)){const e=t.childNodes;1===e.length&&xi(e[0])&&(null===(n=t.parentNode)||void 0===n||n.insertBefore(e[0],t))}return(e=>Gn(e)||jn(e))(t)||Jo(t,o)||(e=>!!Tn(e)&&e.childNodes.length>0)(t)||((e,t)=>Ln(e)&&e.data.length>0&&((e,t)=>{const r=new kn(e,t).prev(!1),n=new kn(e,t).next(!1),o=b(r)||wi(r,t),i=b(n)||wi(n,t);return o&&i})(e,t))(t,o)||e.remove(t),t},Ei=Dt.makeMap,Ci=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Si=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ki=/[<>&\"\']/g,Ai=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Pi={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Ti={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Mi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Oi=(e,t)=>{const r={};if(e){const n=e.split(",");t=t||10;for(let e=0;e<n.length;e+=2){const o=String.fromCharCode(parseInt(n[e],t));if(!Ti[o]){const t="&"+n[e+1]+";";r[o]=t,r[t]=o}}return r}},Di=Oi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ii=(e,t)=>e.replace(t?Ci:Si,(e=>Ti[e]||e)),Ri=(e,t)=>e.replace(t?Ci:Si,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Ti[e]||"&#"+e.charCodeAt(0)+";")),Fi=(e,t,r)=>{const n=r||Di;return e.replace(t?Ci:Si,(e=>Ti[e]||n[e]||e))},Bi={encodeRaw:Ii,encodeAllRaw:e=>(""+e).replace(ki,(e=>Ti[e]||e)),encodeNumeric:Ri,encodeNamed:Fi,getEncodeFunc:(e,t)=>{const r=Oi(t)||Di,n=Ei(e.replace(/\+/g,","));return n.named&&n.numeric?(e,t)=>e.replace(t?Ci:Si,(e=>void 0!==Ti[e]?Ti[e]:void 0!==r[e]?r[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")):n.named?t?(e,t)=>Fi(e,t,r):Fi:n.numeric?Ri:Ii},decode:e=>e.replace(Ai,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Pi[t]||String.fromCharCode(t):Mi[e]||Di[e]||(e=>{const t=hr("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},Ni={},Li={},Vi={},zi=Dt.makeMap,Hi=Dt.each,ji=Dt.extend,Gi=Dt.explode,Ui=Dt.inArray,qi=(e,t)=>(e=Dt.trim(e))?e.split(t||" "):[],Wi=(e,t={})=>{const r=zi(e," ",zi(e.toUpperCase()," "));return ji(r,t)},$i=e=>Wi("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Zi=(e,t)=>{if(e){const r={};return p(e)&&(e={"*":e}),Hi(e,((e,n)=>{r[n]=r[n.toUpperCase()]="map"===t?zi(e,/[, ]/):Gi(e,/[, ]/)})),r}},Ki=(e={})=>{var t;const r={},n={};let o=[];const i={},s={},a=(t,r,n)=>{const o=e[t];if(o)return zi(o,/[, ]/,zi(o.toUpperCase(),/[, ]/));{let e=Li[t];return e||(e=Wi(r,n),Li[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const t={};let r,n,o,i;const s=(e,n="",o="")=>{const i=qi(o),s=qi(e);let a=s.length;for(;a--;){const e=qi([r,n].join(" "));t[s[a]]={attributes:ie(e,(()=>({}))),attributesOrder:e,children:ie(i,P(Vi))}}},a=(e,r)=>{const n=qi(e),o=qi(r);let i=n.length;for(;i--;){const e=t[n[i]];for(let t=0,r=o.length;t<r;t++)e.attributes[o[t]]={},e.attributesOrder.push(o[t])}};if(Ni[e])return Ni[e];if(r="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e){r+=" xml:lang";const e="acronym applet basefont big font strike tt";o=[o,e].join(" "),Hi(qi(e),(e=>{s(e,"",o)}));const t="center dir isindex noframes";n=[n,t].join(" "),i=[n,o].join(" "),Hi(qi(t),(e=>{s(e,"",i)}))}return i=i||[n,o].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",i),s("q","cite",o),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",o),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:o),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),"html4"!==e&&(s("wbr"),s("ruby","",[o,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",o),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[o,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",o),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",o),s("progress","value max",o),s("meter","value min max low high optimum",o),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),"html4"!==e&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&q([t.video,t.audio],(e=>{delete e.children.audio,delete e.children.video})),Hi(qi("a form meter progress dfn"),(e=>{t[e]&&delete t[e].children[e]})),delete t.caption.children.table,delete t.script,Ni[e]=t,t})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const h=Zi(e.valid_styles),d=Zi(e.invalid_styles,"map"),u=Zi(e.valid_classes,"map"),p=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",y=a("non_empty_elements",v+" pre",m),b=a("move_caret_before_on_enter_elements",v+" table",m),w=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),x=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),_=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),E=a("transparent_elements","a ins del canvas map");Hi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{s[e]=new RegExp("</"+e+"[^>]*>","gi")}));const C=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),S=e=>{const t=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/;if(e){const s=qi(e,",");let a,l;r["@"]&&(a=r["@"].attributes,l=r["@"].attributesOrder);for(let e=0,c=s.length;e<c;e++){let c=t.exec(s[e]);if(c){const e=c[1],t=c[2],s=c[3],h=c[5],d={},u=[],p={attributes:d,attributesOrder:u};if("#"===e&&(p.paddEmpty=!0),"-"===e&&(p.removeEmpty=!0),"!"===c[4]&&(p.removeEmptyAttrs=!0),a&&(fe(a,((e,t)=>{d[t]=e})),l&&u.push(...l)),h){const e=qi(h,"|");for(let t=0,r=e.length;t<r;t++)if(c=n.exec(e[t]),c){const e={},t=c[1],r=c[2].replace(/[\\:]:/g,":"),n=c[3],o=c[4];if("!"===t&&(p.attributesRequired=p.attributesRequired||[],p.attributesRequired.push(r),e.required=!0),"-"===t){delete d[r],u.splice(Ui(u,r),1);continue}if(n&&("="===n&&(p.attributesDefault=p.attributesDefault||[],p.attributesDefault.push({name:r,value:o}),e.defaultValue=o),"~"===n&&(p.attributesForced=p.attributesForced||[],p.attributesForced.push({name:r,value:o}),e.forcedValue=o),"<"===n&&(e.validValues=zi(o,"?"))),i.test(r)){const t=e;p.attributePatterns=p.attributePatterns||[],t.pattern=C(r),p.attributePatterns.push(t)}else d[r]||u.push(r),d[r]=e}}if(a||"@"!==t||(a=d,l=u),s&&(p.outputName=t,r[s]=p),i.test(t)){const e=p;e.pattern=C(t),o.push(e)}else r[t]=p}}}},k=e=>{o=[],q(ue(r),(e=>{delete r[e]})),S(e),Hi(c,((e,t)=>{n[t]=e.children}))},A=e=>{const t=/^(~)?(.+)$/;e&&(delete Li.text_block_elements,delete Li.block_elements,Hi(qi(e,","),(e=>{const o=t.exec(e);if(o){const e="~"===o[1],t=e?"span":"div",s=o[2];if(n[s]=n[t],i[s]=t,y[s.toUpperCase()]={},y[s]={},e||(x[s.toUpperCase()]={},x[s]={}),!r[s]){let e=r[t];e=ji({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,r[s]=e}Hi(n,((e,r)=>{e[t]&&(n[r]=e=ji({},n[r]),e[s]=e[t])}))}})))},T=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Ni[l],e&&Hi(qi(e,","),(e=>{const r=t.exec(e);if(r){const e=r[1];let t;t=e?n[r[2]]:n[r[2]]={"#comment":{}},t=n[r[2]],Hi(qi(r[3],"|"),(r=>{"-"===e?delete t[r]:t[r]={}}))}}))},M=e=>{const t=r[e];if(t)return t;let n=o.length;for(;n--;){const t=o[n];if(t.pattern.test(e))return t}};e.valid_elements?k(e.valid_elements):(Hi(c,((e,t)=>{r[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[t]=e.children})),Hi(qi("strong/b em/i"),(e=>{const t=qi(e,"/");r[t[1]].outputName=t[0]})),Hi(_,((t,n)=>{r[n]&&(e.padd_empty_block_inline_children&&(r[n].paddInEmptyBlock=!0),r[n].removeEmpty=!0)})),Hi(qi("ol ul blockquote a table tbody"),(e=>{r[e]&&(r[e].removeEmpty=!0)})),Hi(qi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(e=>{r[e].paddEmpty=!0})),Hi(qi("span"),(e=>{r[e].removeEmptyAttrs=!0}))),A(e.custom_elements),T(e.valid_children),S(e.extended_valid_elements),T("+ol[ul|ol],+ul[ul|ol]"),Hi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{r[t]&&(r[t].parentsRequired=qi(e))})),e.invalid_elements&&Hi(Gi(e.invalid_elements),(e=>{r[e]&&delete r[e]})),M("span")||S("span[!data-mce-type|*]");const O=P(h),D=P(d),I=P(u),R=P(g),F=P(x),B=P(w),N=P(_),L=P(Object.seal(m)),V=P(f),z=P(y),H=P(b),j=P(p),G=P(E),U=P(Object.seal(s)),W=P(i);return{type:l,children:n,elements:r,getValidStyles:O,getValidClasses:I,getBlockElements:F,getInvalidStyles:D,getVoidElements:L,getTextBlockElements:B,getTextInlineElements:N,getBoolAttrs:R,getElementRule:M,getSelfClosingElements:V,getNonEmptyElements:z,getMoveCaretBeforeOnEnterElements:H,getWhitespaceElements:j,getTransparentElements:G,getSpecialElements:U,isValidChild:(e,t)=>{const r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},isValid:(e,t)=>{const r=M(e);if(r){if(!t)return!0;{if(r.attributes[t])return!0;const e=r.attributePatterns;if(e){let r=e.length;for(;r--;)if(e[r].pattern.test(t))return!0}}}return!1},getCustomElements:W,addValidElements:S,setValidElements:k,addCustomElements:A,addValidChildren:T}},Yi=(e={},t)=>{const r=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,n=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,i={};let s,a;t&&(s=t.getValidStyles(),a=t.getInvalidStyles());const l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<l.length;e++)i[l[e]]="\ufeff"+e,i["\ufeff"+e]=l[e];const c={parse:t=>{const s={};let a=!1;const l=e.url_converter,h=e.url_converter_scope||c,d=(e,t,r)=>{const n=s[e+"-top"+t];if(!n)return;const o=s[e+"-right"+t];if(!o)return;const i=s[e+"-bottom"+t];if(!i)return;const a=s[e+"-left"+t];if(!a)return;const l=[n,o,i,a];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&r||(s[e+t]=-1===c?l[0]:l.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},u=e=>{const t=s[e];if(!t)return;const r=t.split(" ");let n=r.length;for(;n--;)if(r[n]!==r[0])return!1;return s[e]=r[0],!0},p=e=>(a=!0,i[e]),f=(e,t)=>(a&&(e=e.replace(/\uFEFF[0-9]/g,(e=>i[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),m=e=>String.fromCharCode(parseInt(e.slice(1),16)),g=e=>e.replace(/\\[0-9a-f]+/gi,m),v=(t,r,n,o,i,s)=>{if(i=i||s)return"'"+(i=f(i)).replace(/\'/g,"\\'")+"'";if(r=f(r||n||o||""),!e.allow_script_urls){const t=r.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return l&&(r=l.call(h,r,"style")),"url('"+r.replace(/\'/g,"\\'")+"')"};if(t){let i;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,p)));i=n.exec(t);){n.lastIndex=i.index+i[0].length;let t=i[1].replace(o,"").toLowerCase(),l=i[2].replace(o,"");if(t&&l){if(t=g(t),l=g(l),-1!==t.indexOf("\ufeff")||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===t&&"700"===l?l="bold":"color"!==t&&"background-color"!==t||(l=l.toLowerCase()),l=l.replace(r,v),s[t]=a?f(l,!0):l}}d("border","",!0),d("border","-width"),d("border","-color"),d("border","-style"),d("padding",""),d("margin",""),b="border-style",w="border-color",u(y="border-width")&&u(b)&&u(w)&&(s.border=s[y]+" "+s[b]+" "+s[w],delete s[y],delete s[b],delete s[w]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}var y,b,w;return s},serialize:(e,t)=>{let r="";const n=(t,n)=>{const o=n[t];if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t],i=e[n];i&&(r+=(r.length>0?" ":"")+n+": "+i+";")}};return t&&s?(n("*",s),n(t,s)):fe(e,((e,n)=>{e&&((e,t)=>{if(!a||!t)return!0;let r=a["*"];return!(r&&r[e]||(r=a[t],r&&r[e]))})(n,t)&&(r+=(r.length>0?" ":"")+n+": "+e+";")})),r}};return c},Xi={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ji=(e,t)=>{const r=null!=t?t:{};for(const t in e)Ee(Xi,t)||(r[t]=e[t]);return x(e.composedPath)&&(r.composedPath=()=>e.composedPath()),r},Qi=(e,t,r,n)=>{var o;const i=Ji(t,n);return i.type=e,w(i.target)&&(i.target=null!==(o=i.srcElement)&&void 0!==o?o:r),(e=>w(e.preventDefault)||(e=>e instanceof Event||_(e.initEvent))(e))(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=B,_(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=B,_(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=B,i.stopPropagation()},(e=>e.isDefaultPrevented===B||e.isDefaultPrevented===F)(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?B:F,i.isPropagationStopped=!0===i.cancelBubble?B:F,i.isImmediatePropagationStopped=F)),i},es=/^(?:mouse|contextmenu)|click/,ts=(e,t,r,n)=>{e.addEventListener(t,r,n||!1)},rs=(e,t,r,n)=>{e.removeEventListener(t,r,n||!1)},ns=(e,t)=>{const r=Qi(e.type,e,document,t);if((e=>x(e)&&es.test(e.type))(e)&&b(e.pageX)&&!b(e.clientX)){const t=r.target.ownerDocument||document,n=t.documentElement,o=t.body,i=r;i.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),i.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)}return r},os=(e,t,r)=>{const n=e.document,o={type:"ready"};if(r.domLoaded)return void t(o);const i=()=>{rs(e,"DOMContentLoaded",i),rs(e,"load",i),r.domLoaded||(r.domLoaded=!0,t(o)),e=null};"complete"===n.readyState||"interactive"===n.readyState&&n.body?i():ts(e,"DOMContentLoaded",i),r.domLoaded||ts(e,"load",i)};class is{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,r,n){const o=this;let i;const s=window,a=e=>{o.executeHandlers(ns(e||s.event),l)};if(!e||Ln(e)||Hn(e))return r;let l;e[o.expando]?l=e[o.expando]:(l=o.count++,e[o.expando]=l,o.events[l]={}),n=n||e;const c=t.split(" ");let h=c.length;for(;h--;){let t=c[h],d=a,u=!1,p=!1;"DOMContentLoaded"===t&&(t="ready"),o.domLoaded&&"ready"===t&&"complete"===e.readyState?r.call(n,ns({type:t})):(o.hasFocusIn||"focusin"!==t&&"focusout"!==t||(u=!0,p="focusin"===t?"focus":"blur",d=e=>{const t=ns(e||s.event);t.type="focus"===t.type?"focusin":"focusout",o.executeHandlers(t,l)}),i=o.events[l][t],i?"ready"===t&&o.domLoaded?r(ns({type:t})):i.push({func:r,scope:n}):(o.events[l][t]=i=[{func:r,scope:n}],i.fakeName=p,i.capture=u,i.nativeHandler=d,"ready"===t?os(e,d,o):ts(e,p||t,d,u)))}return e=i=null,r}unbind(e,t,r){if(!e||Ln(e)||Hn(e))return this;const n=e[this.expando];if(n){let o=this.events[n];if(t){const n=t.split(" ");let i=n.length;for(;i--;){const t=n[i],s=o[t];if(s){if(r){let e=s.length;for(;e--;)if(s[e].func===r){const r=s.nativeHandler,n=s.fakeName,i=s.capture,a=s.slice(0,e).concat(s.slice(e+1));a.nativeHandler=r,a.fakeName=n,a.capture=i,o[t]=a}}r&&0!==s.length||(delete o[t],rs(e,s.fakeName||t,s.nativeHandler,s.capture))}}}else fe(o,((t,r)=>{rs(e,t.fakeName||r,t.nativeHandler,t.capture)})),o={};for(const e in o)if(Ee(o,e))return this;delete this.events[n];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,r){return this.dispatch(e,t,r)}dispatch(e,t,r){if(!e||Ln(e)||Hn(e))return this;const n=ns({type:t,target:e},r);do{const t=e[this.expando];t&&this.executeHandlers(n,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!n.isPropagationStopped());return this}clean(e){if(!e||Ln(e)||Hn(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let r=t.length;for(;r--;)(e=t[r])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const r=this.events[t],n=r&&r[e.type];if(n)for(let t=0,r=n.length;t<r;t++){const r=n[t];if(r&&!1===r.func.call(r.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}is.Event=new is;const ss=Dt.each,as=Dt.grep,ls="data-mce-style",cs=Dt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),hs=(e,t,r)=>{w(r)||""===r?Yt(e,t):qt(e,t,r)},ds=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),us=(e,t)=>{let r=0;if(e)for(let n=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const e=o.nodeType;(!t||!Ln(o)||e!==n&&o.data.length)&&(r++,n=e)}return r},ps=(e,t)=>{const r=$t(t,"style"),n=e.serialize(e.parse(r),Bt(t));hs(t,ls,n)},fs=(e,t,r)=>{const n=ds(t);w(r)||""===r?Kr(e,n):Gr(e,n,((e,t)=>E(e)?Ee(cs,t)?e+"":e+"px":e)(r,n))},ms=(e,t={})=>{const r={},n=window,o={};let i=0;const s=bi.forElement(ur(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),a=[],l=t.schema?t.schema:Ki({}),c=Yi({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),h=t.ownEvents?new is:is.Event,d=l.getBlockElements(),u=t=>t&&e&&p(t)?e.getElementById(t):t,f=e=>{const t=u(e);return x(t)?ur(t):null},m=(e,t,r="")=>{let n;const o=f(e);if(x(o)&&Vt(o)){const e=K[t];n=e&&e.get?e.get(o.dom,t):$t(o,t)}return x(n)?n:r},v=e=>{const t=u(e);return w(t)?[]:t.attributes},y=(e,r,n)=>{O(e,(e=>{if(Tn(e)){const o=ur(e),i=""===n?null:n,s=$t(o,r),a=K[r];a&&a.set?a.set(o.dom,i,r):hs(o,r,i),s!==i&&t.onSetAttrib&&t.onSetAttrib({attrElm:o.dom,attrName:r,attrValue:i})}}))},b=()=>t.root_element||e.body,E=(t,r)=>((e,t,r)=>{let n=0,o=0;const i=e.ownerDocument;if(r=r||e,t){if(r===e&&t.getBoundingClientRect&&"static"===qr(ur(e),"position")){const r=t.getBoundingClientRect();return n=r.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,o=r.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:n,y:o}}let s=t;for(;s&&s!==r&&s.nodeType&&!vi(s,r);){const e=s;n+=e.offsetLeft||0,o+=e.offsetTop||0,s=e.offsetParent}for(s=t.parentNode;s&&s!==r&&s.nodeType&&!vi(s,r);)n-=s.scrollLeft||0,o-=s.scrollTop||0,s=s.parentNode;o+=(e=>mi.isFirefox()&&"table"===Bt(e)?gi(Pr(e)).filter((e=>"caption"===Bt(e))).bind((e=>gi(Ar(e)).map((t=>{const r=t.dom.offsetTop,n=e.dom.offsetTop,o=e.dom.offsetHeight;return r<=n?-o:0})))).getOr(0):0)(ur(t))}return{x:n,y:o}})(e.body,u(t),r),C=(e,t,r)=>{const n=u(e);if(!w(n)&&Tn(n))return r?qr(ur(n),ds(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),n.style?n.style[t]:void 0)},k=e=>{const t=u(e);if(!t)return{w:0,h:0};let r=C(t,"width"),n=C(t,"height");return r&&-1!==r.indexOf("px")||(r="0"),n&&-1!==n.indexOf("px")||(n="0"),{w:parseInt(r,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},A=(e,t)=>{if(!e)return!1;const r=g(e)?e:[e];return G(r,(e=>fr(ur(e),t)))},T=(e,t,r,n)=>{const o=[];let i=u(e);n=void 0===n;const s=r||("BODY"!==b().nodeName?b().parentNode:null);if(p(t))if("*"===t)t=Tn;else{const e=t;t=t=>A(t,e)}for(;i&&!(i===s||w(i.nodeType)||jn(i)||Gn(i));){if(!t||t(i)){if(!n)return[i];o.push(i)}i=i.parentNode}return n?o:null},M=(e,t,r)=>{let n=t;if(e){p(t)&&(n=e=>A(e,t));for(let t=e[r];t;t=t[r])if(_(n)&&n(t))return t}return null},O=function(e,t,r){const n=null!=r?r:this;if(g(e)){const r=[];return ss(e,((e,o)=>{const i=u(e);i&&r.push(t.call(n,i,o))})),r}{const r=u(e);return!!r&&t.call(n,r)}},D=(e,t)=>{O(e,(e=>{fe(t,((t,r)=>{y(e,r,t)}))}))},I=(e,t)=>{O(e,(e=>{const r=ur(e);an(r,t)}))},R=(t,r,n,o,i)=>O(t,(t=>{const s=p(r)?e.createElement(r):r;return x(n)&&D(s,n),o&&(!p(o)&&o.nodeType?s.appendChild(o):p(o)&&I(s,o)),i?s:t.appendChild(s)})),F=(t,r,n)=>R(e.createElement(t),t,r,n,!0),B=Bi.encodeAllRaw,N=(e,t)=>O(e,(e=>{const r=ur(e);return t&&q(Pr(r),(e=>{zt(e)&&0===e.dom.length?rn(e):Yr(r,e)})),rn(r),r.dom})),L=(e,t,r)=>{O(e,(e=>{if(Tn(e)){const n=ur(e),o=t.split(" ");q(o,(e=>{x(r)?(r?nr:ir)(n,e):((e,t)=>{Qt(e)?e.dom.classList.toggle(t):((e,t)=>{j(er(e),t)?rr(e,t):tr(e,t)})(e,t),or(e)})(n,e)}))}}))},V=(e,t,r)=>O(t,(n=>{var o;const i=g(t)?e.cloneNode(!0):e;return r&&ss(as(n.childNodes),(e=>{i.appendChild(e)})),null===(o=n.parentNode)||void 0===o||o.replaceChild(i,n),n})),z=e=>{if(Tn(e)){const t="a"===e.nodeName.toLowerCase()&&!m(e,"href")&&m(e,"id");if(m(e,"name")||m(e,"data-mce-bookmark")||t)return!0}return!1},H=()=>e.createRange(),U=(r,o,i,s)=>{if(g(r)){let e=r.length;const t=[];for(;e--;)t[e]=U(r[e],o,i,s);return t}return!t.collect||r!==e&&r!==n||a.push([r,o,i,s]),h.bind(r,o,i,s||Z)},W=(t,r,o)=>{if(g(t)){let e=t.length;const n=[];for(;e--;)n[e]=W(t[e],r,o);return n}if(a.length>0&&(t===e||t===n)){let e=a.length;for(;e--;){const[n,i,s]=a[e];t!==n||r&&r!==i||o&&o!==s||h.unbind(n,i,s)}}return h.unbind(t,r,o)},$=e=>{if(e&&Tn(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Z={doc:e,settings:t,win:n,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:a,styles:c,schema:l,events:h,isBlock:e=>p(e)?Ee(d,e):Tn(e)&&(Ee(d,e.nodeName)||pi(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:b,getViewPort:e=>{const t=vn(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=u(e),r=E(t),n=k(t);return{x:r.x,y:r.y,w:n.w,h:n.h}},getSize:k,getParent:(e,t,r)=>{const n=T(e,t,r,!1);return n&&n.length>0?n[0]:null},getParents:T,get:u,getNext:(e,t)=>M(e,t,"nextSibling"),getPrev:(e,t)=>M(e,t,"previousSibling"),select:(r,n)=>{var o,i;const s=null!==(i=null!==(o=u(n))&&void 0!==o?o:t.root_element)&&void 0!==i?i:e;return _(s.querySelectorAll)?he(s.querySelectorAll(r)):[]},is:A,add:R,create:F,createHTML:(e,t,r="")=>{let n="<"+e;for(const e in t)Ce(t,e)&&(n+=" "+e+'="'+B(t[e])+'"');return Ze(r)&&Ee(l.getVoidElements(),e)?n+" />":n+">"+r+"</"+e+">"},createFragment:t=>{const r=e.createElement("div"),n=e.createDocumentFragment();let o;for(n.appendChild(r),t&&(r.innerHTML=t);o=r.firstChild;)n.appendChild(o);return n.removeChild(r),n},remove:N,setStyle:(e,r,n)=>{O(e,(e=>{const o=ur(e);fs(o,r,n),t.update_styles&&ps(c,o)}))},getStyle:C,setStyles:(e,r)=>{O(e,(e=>{const n=ur(e);fe(r,((e,t)=>{fs(n,t,e)})),t.update_styles&&ps(c,n)}))},removeAllAttribs:e=>O(e,(e=>{const t=e.attributes;for(let r=t.length-1;r>=0;r--)e.removeAttributeNode(t.item(r))})),setAttrib:y,setAttribs:D,getAttrib:m,getPos:E,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if(Z!==ms.DOM&&e===document){if(r[t])return;r[t]=!0}let n=e.getElementById("mceDefaultStyles");if(!n){n=e.createElement("style"),n.id="mceDefaultStyles",n.type="text/css";const t=e.head;t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),q(e.split(","),(e=>{o[e]=!0,s.load(e).catch(S)}))},addClass:(e,t)=>{L(e,t,!0)},removeClass:(e,t)=>{L(e,t,!1)},hasClass:(e,t)=>{const r=f(e),n=t.split(" ");return x(r)&&re(n,(e=>sr(r,e)))},toggleClass:L,show:e=>{O(e,(e=>Kr(ur(e),"display")))},hide:e=>{O(e,(e=>Gr(ur(e),"display","none")))},isHidden:e=>{const t=f(e);return x(t)&&It($r(t,"display"),"none")},uniqueId:e=>(e||"mce_")+i++,setHTML:I,getOuterHTML:e=>{const t=f(e);return x(t)?Tn(t.dom)?t.dom.outerHTML:(e=>{const t=hr("div"),r=ur(e.dom.cloneNode(!0));return Qr(t,r),sn(t)})(t):""},setOuterHTML:(e,t)=>{O(e,(e=>{Tn(e)&&(e.outerHTML=t)}))},decode:Bi.decode,encode:B,insertAfter:(e,t)=>{const r=u(t);return O(e,(e=>{const t=null==r?void 0:r.parentNode,n=null==r?void 0:r.nextSibling;return t&&(n?t.insertBefore(e,n):t.appendChild(e)),e}))},replace:V,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const r=F(t);return ss(v(e),(t=>{y(r,t.nodeName,m(e,t.nodeName))})),V(r,e,!0),r}return e},findCommonAncestor:(e,t)=>{let r=e;for(;r;){let e=t;for(;e&&r!==e;)e=e.parentNode;if(r===e)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},run:O,getAttribs:v,isEmpty:(e,t)=>{let r=0;if(z(e))return!1;const n=e.firstChild;if(n){const o=new kn(n,e),i=l?l.getWhitespaceElements():{},s=t||(l?l.getNonEmptyElements():null);let a=n;do{if(Tn(a)){const e=a.getAttribute("data-mce-bogus");if(e){a=o.next("all"===e);continue}const t=a.nodeName.toLowerCase();if(s&&s[t]){if("br"===t){r++,a=o.next();continue}return!1}if(z(a))return!1}if(Hn(a))return!1;if(Ln(a)&&!Ko(a.data))return!1;if(Ln(a)&&a.parentNode&&i[a.parentNode.nodeName]&&Ko(a.data))return!1;a=o.next()}while(a)}return r<=1},createRng:H,nodeIndex:us,split:(e,t,r)=>{let n,o,i=H();if(e&&t&&e.parentNode&&t.parentNode){const s=e.parentNode;return i.setStart(s,us(e)),i.setEnd(t.parentNode,us(t)),n=i.extractContents(),i=H(),i.setStart(t.parentNode,us(t)+1),i.setEnd(s,us(e)+1),o=i.extractContents(),s.insertBefore(_i(Z,n),e),r?s.insertBefore(r,e):s.insertBefore(t,e),s.insertBefore(_i(Z,o),e),N(e),r||t}},bind:U,unbind:W,fire:(e,t,r)=>h.dispatch(e,t,r),dispatch:(e,t,r)=>h.dispatch(e,t,r),getContentEditable:$,getContentEditableParent:e=>{const t=b();let r=null;for(let n=e;n&&n!==t&&(r=$(n),null===r);n=n.parentNode);return r},destroy:()=>{if(a.length>0){let e=a.length;for(;e--;){const[t,r,n]=a[e];h.unbind(t,r,n)}}fe(o,((e,t)=>{s.unload(t),delete o[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},K=((e,t,r)=>{const n=t.keep_values,o={set:(e,n,o)=>{const i=ur(e);_(t.url_converter)&&x(n)&&(n=t.url_converter.call(t.url_converter_scope||r(),String(n),o,e)),hs(i,"data-mce-"+o,n),hs(i,o,n)},get:(e,t)=>{const r=ur(e);return $t(r,"data-mce-"+t)||$t(r,t)}},i={style:{set:(t,r)=>{const o=ur(t);n&&hs(o,ls,r),Yt(o,"style"),p(r)&&Ur(o,e.parse(r))},get:t=>{const r=ur(t),n=$t(r,ls)||$t(r,"style");return e.serialize(e.parse(n),Bt(r))}}};return n&&(i.href=i.src=o),i})(c,t,P(Z));return Z};ms.DOM=ms(document),ms.nodeIndex=us;const gs=ms.DOM;class vs{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,r)=>{const n=gs;let o;const i=()=>{n.remove(s),o&&(o.onerror=o.onload=o=null)},s=n.uniqueId();o=document.createElement("script"),o.id=s,o.type="text/javascript",o.src=Dt._addCacheSuffix(e),this.settings.referrerPolicy&&n.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=()=>{i(),t()},o.onerror=()=>{i(),r("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise(((r,n)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:r,reject:n})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,r=(e,r)=>{_e(t.scriptLoadedCallbacks,r).each((t=>{q(t,(t=>t[e](r)))})),delete t.scriptLoadedCallbacks[r]},n=e=>{const t=Z(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(te(t,(({reason:e})=>g(e)?e:[e]))):Promise.resolve()},o=e=>Promise.allSettled(U(e,(e=>2===t.states[e]?(r("resolve",e),Promise.resolve()):3===t.states[e]?(r("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,r("resolve",e);const i=t.queue;return i.length>0?(t.queue=[],o(i).then(n)):Promise.resolve()}),(()=>(t.states[e]=3,r("reject",e),Promise.reject(e)))))))),i=e=>(t.loading=!0,o(e).then((e=>{t.loading=!1;const r=t.queueLoadedCallbacks.shift();return N.from(r).each(R),n(e)}))),s=Se(e);return t.loading?new Promise(((e,r)=>{t.queueLoadedCallbacks.push((()=>i(s).then(e,r)))})):i(s)}}vs.ScriptLoader=new vs;const ys=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},bs={},ws=ys("en"),xs=()=>_e(bs,ws.get()),_s={getData:()=>me(bs,(e=>({...e}))),setCode:e=>{e&&ws.set(e)},getCode:()=>ws.get(),add:(e,t)=>{let r=bs[e];r||(bs[e]=r={}),fe(t,((e,t)=>{r[t.toLowerCase()]=e}))},translate:e=>{const t=xs().getOr({}),r=e=>_(e)?Object.prototype.toString.call(e):n(e)?"":""+e,n=e=>""===e||null==e,o=e=>{const n=r(e);return _e(t,n.toLowerCase()).map(r).getOr(n)},i=e=>e.replace(/{context:\w+}$/,"");if(n(e))return"";if(f(s=e)&&Ee(s,"raw"))return r(e.raw);var s;if((e=>g(e)&&e.length>1)(e)){const t=e.slice(1);return i(o(e[0]).replace(/\{([0-9]+)\}/g,((e,n)=>Ee(t,n)?r(t[n]):e)))}return i(o(e))},isRtl:()=>xs().bind((e=>_e(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>Ee(bs,e)},Es=()=>{const e=[],t={},r={},n=[],o=(e,t)=>{const r=Z(n,(r=>r.name===e&&r.state===t));q(r,(e=>e.resolve()))},i=e=>Ee(t,e),s=(e,r)=>{const n=_s.getCode();!n||r&&-1===(","+(r||"")+",").indexOf(","+n+",")||vs.ScriptLoader.add(t[e]+"/langs/"+n+".js")},a=(e,t="added")=>"added"===t&&(e=>Ee(r,e))(e)||"loaded"===t&&i(e)?Promise.resolve():new Promise((r=>{n.push({name:e,state:t,resolve:r})}));return{items:e,urls:t,lookup:r,get:e=>{if(r[e])return r[e].instance},requireLangPack:(e,t)=>{!1!==Es.languageLoad&&(i(e)?s(e,t):a(e,"loaded").then((()=>s(e,t))))},add:(t,n)=>(e.push(n),r[t]={instance:n},o(t,"added"),n),remove:e=>{delete t[e],delete r[e]},createUrl:(e,t)=>p(t)?p(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,n)=>{if(t[e])return Promise.resolve();let i=p(n)?n:n.prefix+n.resource+n.suffix;0!==i.indexOf("/")&&-1===i.indexOf("://")&&(i=Es.baseURL+"/"+i),t[e]=i.substring(0,i.lastIndexOf("/"));const s=()=>(o(e,"loaded"),Promise.resolve());return r[e]?s():vs.ScriptLoader.add(i).then(s)},waitFor:a}};Es.languageLoad=!0,Es.baseURL="",Es.PluginManager=Es(),Es.ThemeManager=Es(),Es.ModelManager=Es();const Cs=e=>{const t=ys(N.none()),r=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{r(),t.set(N.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:n=>{r(),t.set(N.some(setInterval(n,e)))}}},Ss=()=>{const e=(e=>{const t=ys(N.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(N.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(N.some(e))}}})(S);return{...e,on:t=>e.get().each(t)}},ks=(e,t)=>{let r=null;return{cancel:()=>{v(r)||(clearTimeout(r),r=null)},throttle:(...n)=>{v(r)&&(r=setTimeout((()=>{r=null,e.apply(null,n)}),t))}}},As=(e,t)=>{let r=null;const n=()=>{v(r)||(clearTimeout(r),r=null)};return{cancel:n,throttle:(...o)=>{n(),r=setTimeout((()=>{r=null,e.apply(null,o)}),t)}}},Ps=P("mce-annotation"),Ts=P("data-mce-annotation"),Ms=P("data-mce-annotation-uid"),Os=P("data-mce-annotation-active"),Ds=P("data-mce-annotation-classes"),Is=P("data-mce-annotation-attrs"),Rs=e=>t=>gr(t,e),Fs=(e,t)=>{const r=e.selection.getRng(),n=ur(r.startContainer),o=ur(e.getBody()),i=t.fold((()=>"."+Ps()),(e=>`[${Ts()}="${e}"]`)),s=Tr(n,r.startOffset).getOr(n);return Cn(s,i,Rs(o)).bind((t=>Zt(t,`${Ms()}`).bind((r=>Zt(t,`${Ts()}`).map((t=>{const n=Ns(e,r);return{uid:r,name:t,elements:n}}))))))},Bs=(e,t)=>Kt(e,"data-mce-bogus")||Sn(e,'[data-mce-bogus="all"]',Rs(t)),Ns=(e,t)=>{const r=ur(e.getBody()),n=to(r,`[${Ms()}="${t}"]`);return Z(n,(e=>!Bs(e,r)))},Ls=(e,t)=>{const r=ur(e.getBody()),n=to(r,`[${Ts()}="${t}"]`),o={};return q(n,(e=>{if(!Bs(e,r)){const t=$t(e,Ms()),r=_e(o,t).getOr([]);o[t]=r.concat([e])}})),o};let Vs=0;const zs=e=>{const t=(new Date).getTime(),r=Math.floor(1e9*Math.random());return Vs++,e+"_"+r+Vs+String(t)},Hs=(e,t)=>ur(e.dom.cloneNode(t)),js=e=>Hs(e,!1),Gs=e=>Hs(e,!0),Us=(e,t,r=F)=>{const n=new kn(e,t),o=e=>{let t;do{t=n[e]()}while(t&&!Ln(t)&&!r(t));return N.from(t).filter(Ln)};return{current:()=>N.from(n.current()).filter(Ln),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},qs=(e,t)=>{const r=t||(t=>e.isBlock(t)||Un(t)||$n(t)),n=(e,t,r,o)=>{if(Ln(e)){const r=o(e,t,e.data);if(-1!==r)return N.some({container:e,offset:r})}return r().bind((e=>n(e.container,e.offset,r,o)))};return{backwards:(t,o,i,s)=>{const a=Us(t,null!=s?s:e.getRoot(),r);return n(t,o,(()=>a.prev().map((e=>({container:e,offset:e.length})))),i).getOrNull()},forwards:(t,o,i,s)=>{const a=Us(t,null!=s?s:e.getRoot(),r);return n(t,o,(()=>a.next().map((e=>({container:e,offset:0})))),i).getOrNull()}}},Ws=Math.round,$s=e=>e?{left:Ws(e.left),top:Ws(e.top),bottom:Ws(e.bottom),right:Ws(e.right),width:Ws(e.width),height:Ws(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Zs=(e,t)=>(e=$s(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Ks=(e,t,r)=>e>=0&&e<=Math.min(t.height,r.height)/2,Ys=(e,t)=>{const r=Math.min(t.height/2,e.height/2);return e.bottom-r<t.top||!(e.top>t.bottom)&&Ks(t.top-e.bottom,e,t)},Xs=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&Ks(t.bottom-e.top,e,t),Js=(e,t,r)=>{const n=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(r,e.top+e.height),e.top);return Math.sqrt((t-n)*(t-n)+(r-o)*(r-o))},Qs=e=>{const t=e.startContainer,r=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===r+1?t.childNodes[r]:null},ea=(e,t)=>{if(Tn(e)&&e.hasChildNodes()){const r=e.childNodes,n=((e,t,r)=>Math.min(Math.max(e,0),r))(t,0,r.length-1);return r[n]}return e},ta=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),ra=e=>p(e)&&e.charCodeAt(0)>=768&&ta.test(e),na=Tn,oa=qo,ia=Dn("display","block table"),sa=Dn("float","left right"),aa=((...e)=>t=>{for(let r=0;r<e.length;r++)if(!e[r](t))return!1;return!0})(na,oa,D(sa)),la=D(Dn("white-space","pre pre-line pre-wrap")),ca=Ln,ha=Un,da=ms.nodeIndex,ua=(e,t)=>t<0&&Tn(e)&&e.hasChildNodes()?void 0:ea(e,t),pa=e=>e?e.createRange():ms.DOM.createRng(),fa=e=>p(e)&&/[\r\n\t ]/.test(e),ma=e=>!!e.setStart&&!!e.setEnd,ga=e=>{const t=e.startContainer,r=e.startOffset;if(fa(e.toString())&&la(t.parentNode)&&Ln(t)){const e=t.data;if(fa(e[r-1])||fa(e[r+1]))return!0}return!1},va=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,ya=e=>{var t;let r;const n=e.getClientRects();return r=n.length>0?$s(n[0]):$s(e.getBoundingClientRect()),!ma(e)&&ha(e)&&va(r)?(e=>{const t=e.ownerDocument,r=pa(t),n=t.createTextNode(Qn),o=e.parentNode;o.insertBefore(n,e),r.setStart(n,0),r.setEnd(n,1);const i=$s(r.getBoundingClientRect());return o.removeChild(n),i})(e):va(r)&&ma(e)&&null!==(t=(e=>{const t=e.startContainer,r=e.endContainer,n=e.startOffset,o=e.endOffset;if(t===r&&Ln(r)&&0===n&&1===o){const t=e.cloneRange();return t.setEndAfter(r),ya(t)}return null})(e))&&void 0!==t?t:r},ba=(e,t)=>{const r=Zs(e,t);return r.width=1,r.right=r.left+1,r},wa=(e,t,r)=>{const n=()=>(r||(r=(e=>{const t=[],r=e=>{var r,n;0!==e.height&&(t.length>0&&(r=e,n=t[t.length-1],r.left===n.left&&r.top===n.top&&r.bottom===n.bottom&&r.right===n.right)||t.push(e))},n=(e,t)=>{const n=pa(e.ownerDocument);if(t<e.data.length){if(ra(e.data[t]))return;if(ra(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!ga(n)))return void r(ba(ya(n),!1))}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),ga(n)||r(ba(ya(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),ga(n)||r(ba(ya(n),!0)))},o=e.container(),i=e.offset();if(ca(o))return n(o,i),t;if(na(o))if(e.isAtEnd()){const e=ua(o,i);ca(e)&&n(e,e.data.length),aa(e)&&!ha(e)&&r(ba(ya(e),!1))}else{const s=ua(o,i);if(ca(s)&&n(s,0),aa(s)&&e.isAtEnd())return r(ba(ya(s),!1)),t;const a=ua(e.container(),e.offset()-1);aa(a)&&!ha(a)&&(ia(a)||ia(s)||!aa(s))&&r(ba(ya(a),!1)),aa(s)&&r(ba(ya(s),!0))}return t})(wa(e,t))),r);return{container:P(e),offset:P(t),toRange:()=>{const r=pa(e.ownerDocument);return r.setStart(e,t),r.setEnd(e,t),r},getClientRects:n,isVisible:()=>n().length>0,isAtStart:()=>(ca(e),0===t),isAtEnd:()=>ca(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:r=>r&&e===r.container()&&t===r.offset(),getNode:r=>ua(e,r?t-1:t)}};wa.fromRangeStart=e=>wa(e.startContainer,e.startOffset),wa.fromRangeEnd=e=>wa(e.endContainer,e.endOffset),wa.after=e=>wa(e.parentNode,da(e)+1),wa.before=e=>wa(e.parentNode,da(e)),wa.isAbove=(e,t)=>Rt(le(t.getClientRects()),ce(e.getClientRects()),Ys).getOr(!1),wa.isBelow=(e,t)=>Rt(ce(t.getClientRects()),le(e.getClientRects()),Xs).getOr(!1),wa.isAtStart=e=>!!e&&e.isAtStart(),wa.isAtEnd=e=>!!e&&e.isAtEnd(),wa.isTextPosition=e=>!!e&&Ln(e.container()),wa.isElementPosition=e=>!wa.isTextPosition(e);const xa=(e,t)=>{Ln(t)&&0===t.data.length&&e.remove(t)},_a=(e,t,r)=>{Gn(r)?((e,t,r)=>{const n=N.from(r.firstChild),o=N.from(r.lastChild);t.insertNode(r),n.each((t=>xa(e,t.previousSibling))),o.each((t=>xa(e,t.nextSibling)))})(e,t,r):((e,t,r)=>{t.insertNode(r),xa(e,r.previousSibling),xa(e,r.nextSibling)})(e,t,r)},Ea=Ln,Ca=Rn,Sa=ms.nodeIndex,ka=e=>{const t=e.parentNode;return Ca(t)?ka(t):t},Aa=e=>e?Oe(e.childNodes,((e,t)=>(Ca(t)&&"BR"!==t.nodeName?e=e.concat(Aa(t)):e.push(t),e)),[]):[],Pa=e=>t=>e===t,Ta=e=>(Ea(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,r;t=Aa(ka(e)),r=De(t,Pa(e),e),t=t.slice(0,r+1);const n=Oe(t,((e,r,n)=>(Ea(r)&&Ea(t[n-1])&&e++,e)),0);return t=Me(t,On([e.nodeName])),r=De(t,Pa(e),e),r-n})(e)+"]",Ma=(e,t)=>{let r,n=[],o=t.container(),i=t.offset();if(Ea(o))r=((e,t)=>{let r=e;for(;(r=r.previousSibling)&&Ea(r);)t+=r.data.length;return t})(o,i);else{const e=o.childNodes;i>=e.length?(r="after",i=e.length-1):r="before",o=e[i]}n.push(Ta(o));let s=((e,t,r)=>{const n=[];for(let r=t.parentNode;r&&r!==e;r=r.parentNode)n.push(r);return n})(e,o);return s=Me(s,D(Rn)),n=n.concat(Te(s,(e=>Ta(e)))),n.reverse().join("/")+","+r},Oa=(e,t)=>{if(!t)return null;const r=t.split(","),n=r[0].split("/"),o=r.length>1?r[1]:"before",i=Oe(n,((e,t)=>{const r=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return r?("text()"===r[1]&&(r[1]="#text"),((e,t,r)=>{let n=Aa(e);return n=Me(n,((e,t)=>!Ea(e)||!Ea(n[t-1]))),n=Me(n,On([t])),n[r]})(e,r[1],parseInt(r[2],10))):null}),e);if(!i)return null;if(!Ea(i)&&i.parentNode){let e;return e="after"===o?Sa(i)+1:Sa(i),wa(i.parentNode,e)}return((e,t)=>{let r=e,n=0;for(;Ea(r);){const o=r.data.length;if(t>=n&&t<=n+o){e=r,t-=n;break}if(!Ea(r.nextSibling)){e=r,t=o;break}n+=o,r=r.nextSibling}return Ea(e)&&t>e.data.length&&(t=e.data.length),wa(e,t)})(i,parseInt(o,10))},Da=$n,Ia=(e,t,r,n,o)=>{const i=o?n.startContainer:n.endContainer;let s=o?n.startOffset:n.endOffset;const a=[],l=e.getRoot();if(Ln(i))a.push(r?((e,t,r)=>{let n=e(t.data.slice(0,r)).length;for(let r=t.previousSibling;r&&Ln(r);r=r.previousSibling)n+=e(r.data).length;return n})(t,i,s):s);else{let t=0;const n=i.childNodes;s>=n.length&&n.length&&(t=1,s=Math.max(0,n.length-1)),a.push(e.nodeIndex(n[s],r)+t)}for(let t=i;t&&t!==l;t=t.parentNode)a.push(e.nodeIndex(t,r));return a},Ra=(e,t,r)=>{let n=0;return Dt.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==r&&void n++)),n},Fa=(e,t)=>{let r=t?e.startContainer:e.endContainer,n=t?e.startOffset:e.endOffset;if(Tn(r)&&"TR"===r.nodeName){const o=r.childNodes;r=o[Math.min(t?n:n-1,o.length-1)],r&&(n=t?0:r.childNodes.length,t?e.setStart(r,n):e.setEnd(r,n))}},Ba=e=>(Fa(e,!0),Fa(e,!1),e),Na=(e,t)=>{if(Tn(e)&&(e=ea(e,t),Da(e)))return e;if(To(e)){Ln(e)&&Ao(e)&&(e=e.parentNode);let t=e.previousSibling;if(Da(t))return t;if(t=e.nextSibling,Da(t))return t}},La=(e,t,r)=>{const n=r.getNode(),o=r.getRng();if("IMG"===n.nodeName||Da(n)){const e=n.nodeName;return{name:e,index:Ra(r.dom,e,n)}}const i=(e=>Na(e.startContainer,e.startOffset)||Na(e.endContainer,e.endOffset))(o);if(i){const e=i.tagName;return{name:e,index:Ra(r.dom,e,i)}}return((e,t,r,n)=>{const o=t.dom,i=Ia(o,e,r,n,!0),s=t.isForward(),a=Bo(n)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:i,forward:s,...a}:{start:i,end:Ia(o,e,r,n,!1),forward:s,...a}})(e,r,t,o)},Va=(e,t,r)=>{const n={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return r?e.create("span",n,"&#xFEFF;"):e.create("span",n)},za=(e,t)=>{const r=e.dom;let n=e.getRng();const o=r.uniqueId(),i=e.isCollapsed(),s=e.getNode(),a=s.nodeName,l=e.isForward();if("IMG"===a)return{name:a,index:Ra(r,a,s)};const c=Ba(n.cloneRange());if(!i){c.collapse(!1);const e=Va(r,o+"_end",t);_a(r,c,e)}n=Ba(n),n.collapse(!0);const h=Va(r,o+"_start",t);return _a(r,n,h),e.moveToBookmark({id:o,keep:!0,forward:l}),{id:o,forward:l}},Ha=O(La,T,!0),ja=e=>{const t=t=>t(e),r=P(e),n=()=>o,o={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:B,isError:F,map:t=>Ua.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:r,or:n,getOrThunk:r,orThunk:n,getOrDie:r,each:t=>{t(e)},toOptional:()=>N.some(e)};return o},Ga=e=>{const t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:F,isError:B,map:t,mapError:t=>Ua.error(t(e)),bind:t,exists:F,forall:B,getOr:T,or:T,getOrThunk:I,orThunk:I,getOrDie:(n=String(e),()=>{throw new Error(n)}),each:S,toOptional:N.none};var n;return r},Ua={value:ja,error:Ga,fromOption:(e,t)=>e.fold((()=>Ga(t)),ja)},qa=e=>{if(!g(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],r={};return q(e,((n,o)=>{const i=ue(n);if(1!==i.length)throw new Error("one and only one name per case");const s=i[0],a=n[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!g(a))throw new Error("case arguments must be an array");t.push(s),r[s]=(...r)=>{const n=r.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,r)},match:e=>{const n=ue(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!re(t,(e=>j(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:s,params:r})}}}})),r};qa([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Wa=e=>"inline-command"===e.type||"inline-format"===e.type,$a=e=>"block-command"===e.type||"block-format"===e.type,Za=e=>{const t=t=>Ua.error({message:t,pattern:e}),r=(r,n,o)=>{if(void 0!==e.format){let o;if(g(e.format)){if(!re(e.format,p))return t(r+" pattern has non-string items in the `format` array");o=e.format}else{if(!p(e.format))return t(r+" pattern has non-string `format` parameter");o=[e.format]}return Ua.value(n(o))}return void 0!==e.cmd?p(e.cmd)?Ua.value(o(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!f(e))return t("Raw pattern is not an object");if(!p(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!p(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let n=e.start,o=e.end;return 0===o.length&&(o=n,n=""),r("Inline",(e=>({type:"inline-format",start:n,end:o,format:e})),((e,t)=>({type:"inline-command",start:n,end:o,cmd:e,value:t})))}return void 0!==e.replacement?p(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):Ua.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):r("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,r)=>({type:"block-command",start:e.start,cmd:t,value:r})))},Ka=e=>Z(e,$a),Ya=e=>Z(e,Wa),Xa=e=>{const t=(e=>{const t=[],r=[];return q(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{r.push(e)}))})),{errors:t,values:r}})(U(e,Za));return q(t.errors,(e=>console.error(e.message,e.pattern))),t.values},Ja=xt().deviceType,Qa=Ja.isTouch(),el=ms.DOM,tl=e=>u(e,RegExp),rl=e=>t=>t.options.get(e),nl=e=>p(e)||f(e),ol=(e,t="")=>r=>{const n=p(r);if(n){if(-1!==r.indexOf("=")){const o=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Y(t,((e,t)=>{const r=t.split("="),n=r[0],o=r.length>1?r[1]:n;return e[Ue(n)]=Ue(o),e}),{})})(r);return{value:_e(o,e.id).getOr(t),valid:n}}return{value:r,valid:n}}return{valid:!1,message:"Must be a string."}},il=rl("iframe_attrs"),sl=rl("doctype"),al=rl("document_base_url"),ll=rl("body_id"),cl=rl("body_class"),hl=rl("content_security_policy"),dl=rl("br_in_pre"),ul=rl("forced_root_block"),pl=rl("forced_root_block_attrs"),fl=rl("newline_behavior"),ml=rl("br_newline_selector"),gl=rl("no_newline_selector"),vl=rl("keep_styles"),yl=rl("end_container_on_empty_block"),bl=rl("automatic_uploads"),wl=rl("images_reuse_filename"),xl=rl("images_replace_blob_uris"),_l=rl("icons"),El=rl("icons_url"),Cl=rl("images_upload_url"),Sl=rl("images_upload_base_path"),kl=rl("images_upload_credentials"),Al=rl("images_upload_handler"),Pl=rl("content_css_cors"),Tl=rl("referrer_policy"),Ml=rl("language"),Ol=rl("language_url"),Dl=rl("indent_use_margin"),Il=rl("indentation"),Rl=rl("content_css"),Fl=rl("content_style"),Bl=rl("font_css"),Nl=rl("directionality"),Ll=rl("inline_boundaries_selector"),Vl=rl("object_resizing"),zl=rl("resize_img_proportional"),Hl=rl("placeholder"),jl=rl("event_root"),Gl=rl("service_message"),Ul=rl("theme"),ql=rl("theme_url"),Wl=rl("model"),$l=rl("model_url"),Zl=rl("inline_boundaries"),Kl=rl("formats"),Yl=rl("preview_styles"),Xl=rl("format_empty_lines"),Jl=rl("format_noneditable_selector"),Ql=rl("custom_ui_selector"),ec=rl("inline"),tc=rl("hidden_input"),rc=rl("submit_patch"),nc=rl("add_form_submit_trigger"),oc=rl("add_unload_trigger"),ic=rl("custom_undo_redo_levels"),sc=rl("disable_nodechange"),ac=rl("readonly"),lc=rl("content_css_cors"),cc=rl("plugins"),hc=rl("external_plugins"),dc=rl("block_unsupported_drop"),uc=rl("visual"),pc=rl("visual_table_class"),fc=rl("visual_anchor_class"),mc=rl("iframe_aria_text"),gc=rl("setup"),vc=rl("init_instance_callback"),yc=rl("urlconverter_callback"),bc=rl("auto_focus"),wc=rl("browser_spellcheck"),xc=rl("protect"),_c=rl("paste_block_drop"),Ec=rl("paste_data_images"),Cc=rl("paste_preprocess"),Sc=rl("paste_postprocess"),kc=rl("paste_webkit_styles"),Ac=rl("paste_remove_styles_if_webkit"),Pc=rl("paste_merge_formats"),Tc=rl("smart_paste"),Mc=rl("paste_as_text"),Oc=rl("paste_tab_spaces"),Dc=rl("allow_html_data_urls"),Ic=rl("text_patterns"),Rc=rl("text_patterns_lookup"),Fc=rl("noneditable_class"),Bc=rl("editable_class"),Nc=rl("noneditable_regexp"),Lc=rl("preserve_cdata"),Vc=e=>Dt.explode(e.options.get("images_file_types")),zc=rl("table_tab_navigation"),Hc=Tn,jc=Ln,Gc=e=>{const t=e.parentNode;t&&t.removeChild(e)},Uc=e=>{const t=Co(e);return{count:e.length-t.length,text:t}},qc=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(_o));)e.deleteData(t,1)},Wc=(e,t)=>($c(e),t),$c=e=>{Hc(e)&&To(e)&&(Mo(e)?e.removeAttribute("data-mce-caret"):Gc(e)),jc(e)&&(qc(e),0===e.data.length&&Gc(e))},Zc=$n,Kc=Yn,Yc=Zn,Xc=(e,t,r)=>{const n=Zs(t.getBoundingClientRect(),r);let o,i;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;o=e.scrollLeft||t.scrollLeft,i=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();o=e.scrollLeft-t.left,i=e.scrollTop-t.top}n.left+=o,n.right+=o,n.top+=i,n.bottom+=i,n.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(r&&(s*=-1),n.left+=s,n.right+=s),n},Jc=()=>Pt.browser.isFirefox(),Qc=e=>Zc(e)||Kc(e),eh=e=>Qc(e)||Fn(e)&&Jc(),th=Wn,rh=$n,nh=Yn,oh=Dn("display","block table table-cell table-caption list-item"),ih=To,sh=Ao,ah=Tn,lh=Ln,ch=qo,hh=e=>e>0,dh=e=>e<0,uh=(e,t)=>{let r;for(;r=e(t);)if(!sh(r))return r;return null},ph=(e,t,r,n,o)=>{const i=new kn(e,n),s=rh(e)||sh(e);let a;if(dh(t)){if(s&&(a=uh(i.prev.bind(i),!0),r(a)))return a;for(;a=uh(i.prev.bind(i),o);)if(r(a))return a}if(hh(t)){if(s&&(a=uh(i.next.bind(i),!0),r(a)))return a;for(;a=uh(i.next.bind(i),o);)if(r(a))return a}return null},fh=(e,t)=>{for(;e&&e!==t;){if(oh(e))return e;e=e.parentNode}return null},mh=(e,t,r)=>fh(e.container(),r)===fh(t.container(),r),gh=(e,t)=>{if(!t)return N.none();const r=t.container(),n=t.offset();return ah(r)?N.from(r.childNodes[n+e]):N.none()},vh=(e,t)=>{var r;const n=(null!==(r=t.ownerDocument)&&void 0!==r?r:document).createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},yh=(e,t,r)=>fh(t,e)===fh(r,e),bh=(e,t,r)=>{const n=e?"previousSibling":"nextSibling";let o=r;for(;o&&o!==t;){let e=o[n];if(e&&ih(e)&&(e=e[n]),rh(e)||nh(e)){if(yh(t,e,o))return e;break}if(ch(e))break;o=o.parentNode}return null},wh=O(vh,!0),xh=O(vh,!1),_h=(e,t,r)=>{let n;const o=O(bh,!0,t),i=O(bh,!1,t),s=r.startContainer,a=r.startOffset;if(Ao(s)){const e=lh(s)?s.parentNode:s,t=e.getAttribute("data-mce-caret");if("before"===t&&(n=e.nextSibling,eh(n)))return wh(n);if("after"===t&&(n=e.previousSibling,eh(n)))return xh(n)}if(!r.collapsed)return r;if(Ln(s)){if(ih(s)){if(1===e){if(n=i(s),n)return wh(n);if(n=o(s),n)return xh(n)}if(-1===e){if(n=o(s),n)return xh(n);if(n=i(s),n)return wh(n)}return r}if(Ro(s)&&a>=s.data.length-1)return 1===e&&(n=i(s),n)?wh(n):r;if(Io(s)&&a<=1)return-1===e&&(n=o(s),n)?xh(n):r;if(a===s.data.length)return n=i(s),n?wh(n):r;if(0===a)return n=o(s),n?xh(n):r}return r},Eh=(e,t)=>gh(e?0:-1,t).filter(rh),Ch=(e,t,r)=>{const n=_h(e,t,r);return-1===e?wa.fromRangeStart(n):wa.fromRangeEnd(n)},Sh=e=>N.from(e.getNode()).map(ur),kh=(e,t)=>{let r=t;for(;r=e(r);)if(r.isVisible())return r;return r},Ah=(e,t)=>{const r=mh(e,t);return!(r||!Un(e.getNode()))||r};var Ph;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Ph||(Ph={}));const Th=$n,Mh=Ln,Oh=Tn,Dh=Un,Ih=qo,Rh=e=>jo(e)||(e=>!!Wo(e)&&!Y(he(e.getElementsByTagName("*")),((e,t)=>e||No(t)),!1))(e),Fh=$o,Bh=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Nh=(e,t)=>{if(hh(e)){if(Ih(t.previousSibling)&&!Mh(t.previousSibling))return wa.before(t);if(Mh(t))return wa(t,0)}if(dh(e)){if(Ih(t.nextSibling)&&!Mh(t.nextSibling))return wa.after(t);if(Mh(t))return wa(t,t.data.length)}return dh(e)?Dh(t)?wa.before(t):wa.after(t):wa.before(t)},Lh=(e,t,r)=>{let n,o,i,s;if(!Oh(r)||!t)return null;if(t.isEqual(wa.after(r))&&r.lastChild){if(s=wa.after(r.lastChild),dh(e)&&Ih(r.lastChild)&&Oh(r.lastChild))return Dh(r.lastChild)?wa.before(r.lastChild):s}else s=t;const a=s.container();let l=s.offset();if(Mh(a)){if(dh(e)&&l>0)return wa(a,--l);if(hh(e)&&l<a.length)return wa(a,++l);n=a}else{if(dh(e)&&l>0&&(o=Bh(a,l-1),Ih(o)))return!Rh(o)&&(i=ph(o,e,Fh,o),i)?Mh(i)?wa(i,i.data.length):wa.after(i):Mh(o)?wa(o,o.data.length):wa.before(o);if(hh(e)&&l<a.childNodes.length&&(o=Bh(a,l),Ih(o)))return Dh(o)?((e,t)=>{const r=t.nextSibling;return r&&Ih(r)?Mh(r)?wa(r,0):wa.before(r):Lh(Ph.Forwards,wa.after(t),e)})(r,o):!Rh(o)&&(i=ph(o,e,Fh,o),i)?Mh(i)?wa(i,0):wa.before(i):Mh(o)?wa(o,0):wa.after(o);n=o||s.getNode()}if(n&&(hh(e)&&s.isAtEnd()||dh(e)&&s.isAtStart())&&(n=ph(n,e,B,r,!0),Fh(n,r)))return Nh(e,n);o=n?ph(n,e,Fh,r):n;const c=Ie(Z(((e,t)=>{const r=[];let n=e;for(;n&&n!==t;)r.push(n),n=n.parentNode;return r})(a,r),Th));return!c||o&&c.contains(o)?o?Nh(e,o):null:(s=hh(e)?wa.after(c):wa.before(c),s)},Vh=e=>({next:t=>Lh(Ph.Forwards,t,e),prev:t=>Lh(Ph.Backwards,t,e)}),zh=e=>wa.isTextPosition(e)?0===e.offset():qo(e.getNode()),Hh=e=>{if(wa.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return qo(e.getNode(!0))},jh=(e,t)=>!wa.isTextPosition(e)&&!wa.isTextPosition(t)&&e.getNode()===t.getNode(!0),Gh=(e,t,r)=>{const n=Vh(t);return N.from(e?n.next(r):n.prev(r))},Uh=(e,t,r)=>Gh(e,t,r).bind((n=>mh(r,n,t)&&((e,t,r)=>{return e?!jh(t,r)&&(n=t,!(!wa.isTextPosition(n)&&Un(n.getNode())))&&Hh(t)&&zh(r):!jh(r,t)&&zh(t)&&Hh(r);var n})(e,r,n)?Gh(e,t,n):N.some(n))),qh=(e,t,r,n)=>Uh(e,t,r).bind((r=>n(r)?qh(e,t,r,n):N.some(r))),Wh=(e,t)=>{const r=e?t.firstChild:t.lastChild;return Ln(r)?N.some(wa(r,e?0:r.data.length)):r?qo(r)?N.some(e?wa.before(r):Un(n=r)?wa.before(n):wa.after(n)):((e,t,r)=>{const n=e?wa.before(r):wa.after(r);return Gh(e,t,n)})(e,t,r):N.none();var n},$h=O(Gh,!0),Zh=O(Gh,!1),Kh=O(Wh,!0),Yh=O(Wh,!1),Xh="_mce_caret",Jh=e=>Tn(e)&&e.id===Xh,Qh=(e,t)=>{let r=t;for(;r&&r!==e;){if(Jh(r))return r;r=r.parentNode}return null},ed=e=>Ee(e,"name"),td=e=>Dt.isArray(e.start),rd=e=>!(!ed(e)&&y(e.forward))||e.forward,nd=(e,t)=>(Tn(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),od=(e,t)=>Yh(e).fold(F,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),id=(e,t,r)=>!(!(e=>!e.hasChildNodes())(t)||!Qh(e,t)||(((e,t)=>{var r;const n=(null!==(r=e.ownerDocument)&&void 0!==r?r:document).createTextNode(_o);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)})(t,r),0)),sd=(e,t,r,n)=>{const o=r[t?"start":"end"],i=e.getRoot();if(o){let e=i,r=o[0];for(let t=o.length-1;e&&t>=1;t--){const r=e.childNodes;if(id(i,e,n))return!0;if(o[t]>r.length-1)return!!id(i,e,n)||od(e,n);e=r[o[t]]}Ln(e)&&(r=Math.min(o[0],e.data.length)),Tn(e)&&(r=Math.min(o[0],e.childNodes.length)),t?n.setStart(e,r):n.setEnd(e,r)}return!0},ad=e=>Ln(e)&&e.data.length>0,ld=(e,t,r)=>{const n=e.get(r.id+"_"+t),o=null==n?void 0:n.parentNode,i=r.keep;if(n&&o){let s,a;if("start"===t?i?n.hasChildNodes()?(s=n.firstChild,a=1):ad(n.nextSibling)?(s=n.nextSibling,a=0):ad(n.previousSibling)?(s=n.previousSibling,a=n.previousSibling.data.length):(s=o,a=e.nodeIndex(n)+1):(s=o,a=e.nodeIndex(n)):i?n.hasChildNodes()?(s=n.firstChild,a=1):ad(n.previousSibling)?(s=n.previousSibling,a=n.previousSibling.data.length):(s=o,a=e.nodeIndex(n)):(s=o,a=e.nodeIndex(n)),!i){const o=n.previousSibling,i=n.nextSibling;let l;for(Dt.each(Dt.grep(n.childNodes),(e=>{Ln(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));l=e.get(r.id+"_"+t);)e.remove(l,!0);if(Ln(i)&&Ln(o)&&!Pt.browser.isOpera()){const t=o.data.length;o.appendData(i.data),e.remove(i),s=o,a=t}}return N.some(wa(s,a))}return N.none()},cd=(e,t,r)=>((e,t,r=!1)=>2===t?La(Co,r,e):3===t?(e=>{const t=e.getRng();return{start:Ma(e.dom.getRoot(),wa.fromRangeStart(t)),end:Ma(e.dom.getRoot(),wa.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):za(e,!1))(e,t,r),hd=(e,t)=>{((e,t)=>{const r=e.dom;if(t){if(td(t))return((e,t)=>{const r=e.createRng();return sd(e,!0,t,r)&&sd(e,!1,t,r)?N.some({range:r,forward:rd(t)}):N.none()})(r,t);if((e=>p(e.start))(t))return((e,t)=>{const r=N.from(Oa(e.getRoot(),t.start)),n=N.from(Oa(e.getRoot(),t.end));return Rt(r,n,((r,n)=>{const o=e.createRng();return o.setStart(r.container(),r.offset()),o.setEnd(n.container(),n.offset()),{range:o,forward:rd(t)}}))})(r,t);if((e=>Ee(e,"id"))(t))return((e,t)=>{const r=ld(e,"start",t),n=ld(e,"end",t);return Rt(r,n.or(r),((r,n)=>{const o=e.createRng();return o.setStart(nd(e,r.container()),r.offset()),o.setEnd(nd(e,n.container()),n.offset()),{range:o,forward:rd(t)}}))})(r,t);if(ed(t))return((e,t)=>N.from(e.select(t.name)[t.index]).map((t=>{const r=e.createRng();return r.selectNode(t),{range:r,forward:!0}})))(r,t);if((e=>Ee(e,"rng"))(t))return N.some({range:t.rng,forward:rd(t)})}return N.none()})(e,t).each((({range:t,forward:r})=>{e.setRng(t,r)}))},dd=e=>Tn(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),ud=e=>""===e,pd=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),fd=e=>!pd(e)&&!ud(e)&&!eo(e),md=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},gd=e=>(e=>({value:e}))(md(e.red)+md(e.green)+md(e.blue)),vd=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,yd=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,bd=(e,t,r,n)=>({red:e,green:t,blue:r,alpha:n}),wd=(e,t,r,n)=>{const o=parseInt(e,10),i=parseInt(t,10),s=parseInt(r,10),a=parseFloat(n);return bd(o,i,s,a)},xd=e=>(e=>{if("transparent"===e)return N.some(bd(0,0,0,0));const t=vd.exec(e);if(null!==t)return N.some(wd(t[1],t[2],t[3],"1"));const r=yd.exec(e);return null!==r?N.some(wd(r[1],r[2],r[3],r[4])):N.none()})(e).map(gd).map((e=>"#"+e.value)).getOr(e),_d=e=>{const t=[];if(e)for(let r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));return t},Ed=(e,t)=>{const r=to(t,"td[data-mce-selected],th[data-mce-selected]");return r.length>0?r:(e=>Z((e=>te(e,(e=>{const t=Qs(e);return t?[ur(t)]:[]})))(e),mo))(e)},Cd=e=>Ed(_d(e.selection.getSel()),ur(e.getBody())),Sd=(e,t)=>_n(e,"table",t),kd=e=>Mr(e).fold(P([e]),(t=>[e].concat(kd(t)))),Ad=e=>Or(e).fold(P([e]),(t=>"br"===Bt(t)?Cr(t).map((t=>[e].concat(Ad(t)))).getOr([]):[e].concat(Ad(t)))),Pd=(e,t)=>Rt((e=>{const t=e.startContainer,r=e.startOffset;return Ln(t)?0===r?N.some(ur(t)):N.none():N.from(t.childNodes[r]).map(ur)})(t),(e=>{const t=e.endContainer,r=e.endOffset;return Ln(t)?r===t.data.length?N.some(ur(t)):N.none():N.from(t.childNodes[r-1]).map(ur)})(t),((t,r)=>{const n=J(kd(e),O(gr,t)),o=J(Ad(e),O(gr,r));return n.isSome()&&o.isSome()})).getOr(!1),Td=(e,t,r,n)=>{const o=r,i=new kn(r,o),s=be(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!j(["td","th","table"],t.toLowerCase())));let a=r;do{if(Ln(a)&&0!==Dt.trim(a.data).length)return void(n?t.setStart(a,0):t.setEnd(a,a.data.length));if(s[a.nodeName])return void(n?t.setStartBefore(a):"BR"===a.nodeName?t.setEndBefore(a):t.setEndAfter(a))}while(a=n?i.next():i.prev());"BODY"===o.nodeName&&(n?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Md=e=>{const t=e.selection.getSel();return x(t)&&t.rangeCount>0},Od=(e,t)=>{const r=Cd(e);r.length>0?q(r,(r=>{const n=r.dom,o=e.dom.createRng();o.setStartBefore(n),o.setEndAfter(n),t(o,!0)})):t(e.selection.getRng(),!1)},Dd=(e,t,r)=>{const n=za(e,t);r(n),e.moveToBookmark(n)},Id=e=>E(null==e?void 0:e.nodeType),Rd=e=>Tn(e)&&!dd(e)&&!Jh(e)&&!Rn(e),Fd=e=>!0===e.isContentEditable,Bd=(e,t,r)=>{const{selection:n,dom:o}=e,i=n.getNode(),s=$n(i);Dd(n,!0,(()=>{t()})),s&&$n(i)&&o.isChildOf(i,e.getBody())?e.selection.select(i):r(n.getStart())&&Nd(o,n)},Nd=(e,t)=>{var r,n;const o=t.getRng(),{startContainer:i,startOffset:s}=o;if(!((e,t)=>{if(Rd(t)&&!/^(TD|TH)$/.test(t.nodeName)){const r=e.getAttrib(t,"data-mce-selected"),n=parseInt(r,10);return!isNaN(n)&&n>0}return!1})(e,t.getNode())&&Tn(i)){const a=i.childNodes,l=e.getRoot();let c;if(s<a.length){const t=a[s];c=new kn(t,null!==(r=e.getParent(t,e.isBlock))&&void 0!==r?r:l)}else{const t=a[a.length-1];c=new kn(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l),c.next(!0)}for(let r=c.current();r;r=c.next()){if("false"===e.getContentEditable(r))return;if(Ln(r)&&!Hd(r))return o.setStart(r,0),void t.setRng(o)}}},Ld=(e,t,r)=>{if(e){const n=t?"nextSibling":"previousSibling";for(e=r?e:e[n];e;e=e[n])if(Tn(e)||!Hd(e))return e}},Vd=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||pi(e,t),zd=(e,t,r)=>e.schema.isValidChild(t,r),Hd=(e,t=!1)=>{if(x(e)&&Ln(e)){const r=t?e.data.replace(/ /g,""):e.data;return Ko(r)}return!1},jd=(e,t)=>{const r=e.dom;return Rd(t)&&"false"===r.getContentEditable(t)&&((e,t)=>{const r="[data-mce-cef-wrappable]",n=Jl(e),o=Ze(n)?r:`${r},${n}`;return fr(ur(t),o)})(e,t)&&0===r.select('[contenteditable="true"]',t).length},Gd=(e,t)=>_(e)?e(t):(x(t)&&(e=e.replace(/%(\w+)/g,((e,r)=>t[r]||e))),e),Ud=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),qd=(e,t)=>{if(w(e))return null;{let r=String(e);return"color"!==t&&"backgroundColor"!==t||(r=xd(r)),"fontWeight"===t&&700===e&&(r="bold"),"fontFamily"===t&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),r}},Wd=(e,t,r)=>{const n=e.getStyle(t,r);return qd(n,r)},$d=(e,t)=>{let r;return e.getParent(t,(t=>!!Tn(t)&&(r=e.getStyle(t,"text-decoration"),!!r&&"none"!==r))),r},Zd=(e,t,r)=>e.getParents(t,r,e.getRoot()),Kd=(e,t,r)=>{const n=e.formatter.get(t);return x(n)&&G(n,r)},Yd=e=>Ce(e,"block"),Xd=e=>Ce(e,"selector"),Jd=e=>Ce(e,"inline"),Qd=e=>Xd(e)&&!1!==e.expand&&!Jd(e),eu=dd,tu=Zd,ru=Hd,nu=Vd,ou=(e,t)=>{let r=t;for(;r;){if(Tn(r)&&e.getContentEditable(r))return"false"===e.getContentEditable(r)?r:t;r=r.parentNode}return t},iu=(e,t,r,n)=>{const o=t.data;if(e){for(let e=r;e>0;e--)if(n(o.charAt(e-1)))return e}else for(let e=r;e<o.length;e++)if(n(o.charAt(e)))return e;return-1},su=(e,t,r)=>iu(e,t,r,(e=>ud(e)||pd(e))),au=(e,t,r)=>iu(e,t,r,fd),lu=(e,t,r,n,o,i)=>{let s;const a=e.getParent(r,e.isBlock)||t,l=(t,r,n)=>{const i=qs(e),l=o?i.backwards:i.forwards;return N.from(l(t,r,((e,t)=>eu(e.parentNode)?-1:(s=e,n(o,e,t))),a))};return l(r,n,su).bind((e=>i?l(e.container,e.offset+(o?-1:0),au):N.some(e))).orThunk((()=>s?N.some({container:s,offset:o?0:s.length}):N.none()))},cu=(e,t,r,n,o)=>{const i=n[o];Ln(n)&&Ze(n.data)&&i&&(n=i);const s=tu(e,n);for(let n=0;n<s.length;n++)for(let o=0;o<t.length;o++){const i=t[o];if((!x(i.collapsed)||i.collapsed===r.collapsed)&&Xd(i)&&e.is(s[n],i.selector))return s[n]}return n},hu=(e,t,r,n)=>{var o;let i=r;const s=e.getRoot(),a=t[0];if(Yd(a)&&(i=a.wrapper?null:e.getParent(r,a.block,s)),!i){const t=null!==(o=e.getParent(r,"LI,TD,TH"))&&void 0!==o?o:s;i=e.getParent(Ln(r)?r.parentNode:r,(t=>t!==s&&nu(e.schema,t)),t)}if(i&&Yd(a)&&a.wrapper&&(i=tu(e,i,"ul,ol").reverse()[0]||i),!i)for(i=r;i&&i[n]&&!e.isBlock(i[n])&&(i=i[n],!Ud(i,"br")););return i||r},du=(e,t,r,n)=>{const o=r.parentNode;return!x(r[n])&&(!(o!==t&&!w(o)&&!e.isBlock(o))||du(e,t,o,n))},uu=(e,t,r,n,o)=>{let i=r;const s=o?"previousSibling":"nextSibling",a=e.getRoot();if(Ln(r)&&!ru(r)&&(o?n>0:n<r.data.length))return r;for(;i;){if(!t[0].block_expand&&e.isBlock(i))return i;for(let t=i[s];t;t=t[s]){const r=Ln(t)&&!du(e,a,t,s);if(!eu(t)&&(!Un(l=t)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!ru(t,r))return i}if(i===a||i.parentNode===a){r=i;break}i=i.parentNode}var l;return r},pu=e=>eu(e.parentNode)||eu(e),fu=(e,t,r,n=!1)=>{let{startContainer:o,startOffset:i,endContainer:s,endOffset:a}=t;const l=r[0];return Tn(o)&&o.hasChildNodes()&&(o=ea(o,i),Ln(o)&&(i=0)),Tn(s)&&s.hasChildNodes()&&(s=ea(s,t.collapsed?a:a-1),Ln(s)&&(a=s.data.length)),o=ou(e,o),s=ou(e,s),pu(o)&&(o=eu(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,Ln(o)&&(i=t.collapsed?o.length:0)),pu(s)&&(s=eu(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,Ln(s)&&(a=t.collapsed?0:s.length)),t.collapsed&&(lu(e,e.getRoot(),o,i,!0,n).each((({container:e,offset:t})=>{o=e,i=t})),lu(e,e.getRoot(),s,a,!1,n).each((({container:e,offset:t})=>{s=e,a=t}))),(Jd(l)||l.block_expand)&&(Jd(l)&&Ln(o)&&0!==i||(o=uu(e,r,o,i,!0)),Jd(l)&&Ln(s)&&a!==s.data.length||(s=uu(e,r,s,a,!1))),Qd(l)&&(o=cu(e,r,t,o,"previousSibling"),s=cu(e,r,t,s,"nextSibling")),(Yd(l)||Xd(l))&&(o=hu(e,r,o,"previousSibling"),s=hu(e,r,s,"nextSibling"),Yd(l)&&(e.isBlock(o)||(o=uu(e,r,o,i,!0)),e.isBlock(s)||(s=uu(e,r,s,a,!1)))),Tn(o)&&o.parentNode&&(i=e.nodeIndex(o),o=o.parentNode),Tn(s)&&s.parentNode&&(a=e.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:i,endContainer:s,endOffset:a}},mu=(e,t,r)=>{var n;const o=t.startOffset,i=ea(t.startContainer,o),s=t.endOffset,a=ea(t.endContainer,s-1),l=e=>{const t=e[0];Ln(t)&&t===i&&o>=t.data.length&&e.splice(0,1);const r=e[e.length-1];return 0===s&&e.length>0&&r===a&&Ln(r)&&e.splice(e.length-1,1),e},c=(e,t,r)=>{const n=[];for(;e&&e!==r;e=e[t])n.push(e);return n},h=(t,r)=>e.getParent(t,(e=>e.parentNode===r),r),d=(e,t,n)=>{const o=n?"nextSibling":"previousSibling";for(let i=e,s=i.parentNode;i&&i!==t;i=s){s=i.parentNode;const t=c(i===e?i:i[o],o);t.length&&(n||t.reverse(),r(l(t)))}};if(i===a)return r(l([i]));const u=null!==(n=e.findCommonAncestor(i,a))&&void 0!==n?n:e.getRoot();if(e.isChildOf(i,a))return d(i,u,!0);if(e.isChildOf(a,i))return d(a,u);const p=h(i,u)||i,f=h(a,u)||a;d(i,p,!0);const m=c(p===i?p:p.nextSibling,"nextSibling",f===a?f.nextSibling:f);m.length&&r(l(m)),d(a,f)},gu=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],vu=(e,t,r,n,o,i)=>{const{uid:s=t,...a}=r;nr(e,Ps()),qt(e,`${Ms()}`,s),qt(e,`${Ts()}`,n);const{attributes:l={},classes:c=[]}=o(s,a);if(Wt(e,l),((e,t)=>{q(t,(t=>{nr(e,t)}))})(e,c),i){c.length>0&&qt(e,`${Ds()}`,c.join(","));const t=ue(l);t.length>0&&qt(e,`${Is()}`,t.join(","))}},yu=(e,t,r,n,o)=>{const i=hr("span",e);return vu(i,t,r,n,o,!1),i},bu=e=>{const t=(()=>{const e={};return{register:(t,r)=>{e[t]={name:t,settings:r}},lookup:t=>_e(e,t).map((e=>e.settings)),getNames:()=>ue(e)}})();((e,t)=>{const r=Ts(),n=e=>N.from(e.attr(r)).bind(t.lookup),o=e=>{var t,r;e.attr(Ms(),null),e.attr(Ts(),null),e.attr(Os(),null);const n=N.from(e.attr(Is())).map((e=>e.split(","))).getOr([]),o=N.from(e.attr(Ds())).map((e=>e.split(","))).getOr([]);q(n,(t=>e.attr(t,null)));const i=null!==(r=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==r?r:[],s=oe(i,[Ps()].concat(o));e.attr("class",s.length>0?s.join(" "):null),e.attr(Ds(),null),e.attr(Is(),null)};e.serializer.addTempAttr(Os()),e.serializer.addAttributeFilter(r,(e=>{for(const t of e)n(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():o(t))}))}))})(e,t);const r=((e,t)=>{const r=ys({}),n=()=>({listeners:[],previous:Ss()}),o=(e,t)=>{i(e,(e=>(t(e),e)))},i=(e,t)=>{const o=r.get(),i=t(_e(o,e).getOrThunk(n));o[e]=i,r.set(o)},s=(t,r)=>{q(Ns(e,t),(e=>{r?qt(e,Os(),"true"):Yt(e,Os())}))},a=As((()=>{const r=se(t.getNames());q(r,(t=>{i(t,(r=>{const n=r.previous.get();return Fs(e,N.some(t)).fold((()=>{n.each((e=>{(e=>{o(e,(t=>{q(t.listeners,(t=>t(!1,e)))}))})(t),r.previous.clear(),s(e,!1)}))}),(({uid:e,name:t,elements:i})=>{It(n,e)||(n.each((e=>s(e,!1))),((e,t,r)=>{o(e,(n=>{q(n.listeners,(n=>n(!0,e,{uid:t,nodes:U(r,(e=>e.dom))})))}))})(t,e,i),r.previous.set(e),s(e,!0))})),{previous:r.previous,listeners:r.listeners}}))}))}),30);return e.on("remove",(()=>{a.cancel()})),e.on("NodeChange",(()=>{a.throttle()})),{addListener:(e,t)=>{i(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}})(e,t),n=Gt("span"),o=e=>{q(e,(e=>{n(e)?nn(e):(e=>{ir(e,Ps()),Yt(e,`${Ms()}`),Yt(e,`${Ts()}`),Yt(e,`${Os()}`);const t=Zt(e,`${Is()}`).map((e=>e.split(","))).getOr([]),r=Zt(e,`${Ds()}`).map((e=>e.split(","))).getOr([]);var n;q(t,(t=>Yt(e,t))),n=e,q(r,(e=>{ir(n,e)})),Yt(e,`${Ds()}`),Yt(e,`${Is()}`)})(e)}))};return{register:(e,r)=>{t.register(e,r)},annotate:(r,n)=>{t.lookup(r).each((t=>{((e,t,r,n)=>{e.undoManager.transact((()=>{const o=e.selection,i=o.getRng(),s=Cd(e).length>0,a=zs("mce-annotation");if(i.collapsed&&!s&&((e,t)=>{const r=fu(e.dom,t,[{inline:"span"}]);t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset),e.selection.setRng(t)})(e,i),o.getRng().collapsed&&!s){const i=yu(e.getDoc(),a,n,t,r.decorate);an(i,Qn),o.getRng().insertNode(i.dom),o.select(i.dom)}else Dd(o,!1,(()=>{Od(e,(o=>{((e,t,r,n,o,i)=>{const s=[],a=yu(e.getDoc(),r,i,n,o),l=Ss(),c=()=>{l.clear()},h=e=>{q(e,d)},d=t=>{switch(((e,t,r,n)=>xr(t).fold((()=>"skipping"),(o=>"br"===n||(e=>zt(e)&&no(e)===_o)(t)?"valid":(e=>Vt(e)&&sr(e,Ps()))(t)?"existing":Jh(t.dom)?"caret":G(gu,(e=>fr(t,e)))?"valid-block":zd(e,r,n)&&zd(e,Bt(o),r)?"valid":"invalid-child")))(e,t,"span",Bt(t))){case"invalid-child":{c();const e=Pr(t);h(e),c();break}case"valid-block":c(),vu(t,r,i,n,o,!0);break;case"valid":((e,t)=>{Yr(e,t),Qr(t,e)})(t,l.get().getOrThunk((()=>{const e=js(a);return s.push(e),l.set(e),e})))}};mu(e.dom,t,(e=>{c(),(e=>{const t=U(e,ur);h(t)})(e)}))})(e,o,a,t,r.decorate,n)}))}))}))})(e,r,t,n)}))},annotationChanged:(e,t)=>{r.addListener(e,t)},remove:t=>{const r=e.selection.getBookmark();Fs(e,N.some(t)).each((({elements:e})=>{o(e)})),e.selection.moveToBookmark(r)},removeAll:t=>{const r=e.selection.getBookmark();fe(Ls(e,t),((e,t)=>{o(e)})),e.selection.moveToBookmark(r)},getAll:t=>{const r=Ls(e,t);return me(r,(e=>U(e,(e=>e.dom))))}}},wu=e=>({getBookmark:O(cd,e),moveToBookmark:O(hd,e)});wu.isBookmarkNode=dd;const xu=(e,t,r)=>!r.collapsed&&G(r.getClientRects(),(r=>((e,t,r)=>t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom)(r,e,t))),_u=(e,t,r)=>{e.dispatch(t,r)},Eu=(e,t,r,n)=>{e.dispatch("FormatApply",{format:t,node:r,vars:n})},Cu=(e,t,r,n)=>{e.dispatch("FormatRemove",{format:t,node:r,vars:n})},Su=(e,t)=>e.dispatch("SetContent",t),ku=(e,t)=>e.dispatch("GetContent",t),Au=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Pu={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Pu.metaKeyPressed(e),metaKeyPressed:e=>Pt.os.isMacOS()||Pt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Tu="data-mce-selected",Mu=Math.abs,Ou=Math.round,Du={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Iu=(e,t)=>{const r=t.dom,n=t.getDoc(),o=document,i=t.getBody();let s,a,l,c,h,d,u,p,f,m,g,v,y,b,w;const _=e=>x(e)&&(qn(e)||r.is(e,"figure.image")),E=e=>Yn(e)||r.hasClass(e,"mce-preview-object"),C=e=>{const r=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const r=e.touches[0];return _(e.target)&&!xu(r.clientX,r.clientY,t)}return _(e.target)&&!xu(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(r)},S=e=>r.hasClass(e,"mce-preview-object")&&x(e.firstElementChild)?[e,e.firstElementChild]:r.is(e,"figure.image")?[e.querySelector("img")]:[e],k=e=>{const n=Vl(t);return!!n&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(r.hasClass(e,"mce-preview-object")&&x(e.firstElementChild)?fr(ur(e.firstElementChild),n):fr(ur(e),n))},A=(e,n,o)=>{if(x(o)){const i=S(e);q(i,(e=>{e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?r.setStyle(e,n,o):r.setAttrib(e,n,""+o)}))}},P=(e,t,r)=>{A(e,"width",t),A(e,"height",r)},T=e=>{let n,o,h,x,C;n=e.screenX-d,o=e.screenY-u,v=n*c[2]+p,y=o*c[3]+f,v=v<5?5:v,y=y<5?5:y,h=(_(s)||E(s))&&!1!==zl(t)?!Pu.modifierPressed(e):Pu.modifierPressed(e),h&&(Mu(n)>Mu(o)?(y=Ou(v*m),v=Ou(y/m)):(v=Ou(y/m),y=Ou(v*m))),P(a,v,y),x=c.startPos.x+n,C=c.startPos.y+o,x=x>0?x:0,C=C>0?C:0,r.setStyles(l,{left:x,top:C,display:"block"}),l.innerHTML=v+" &times; "+y,c[2]<0&&a.clientWidth<=v&&r.setStyle(a,"left",void 0+(p-v)),c[3]<0&&a.clientHeight<=y&&r.setStyle(a,"top",void 0+(f-y)),n=i.scrollWidth-b,o=i.scrollHeight-w,n+o!==0&&r.setStyles(l,{left:x-n,top:C-o}),g||(((e,t,r,n,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:r,height:n,origin:o})})(t,s,p,f,"corner-"+c.name),g=!0)},M=()=>{const e=g;g=!1,e&&(A(s,"width",v),A(s,"height",y)),r.unbind(n,"mousemove",T),r.unbind(n,"mouseup",M),o!==n&&(r.unbind(o,"mousemove",T),r.unbind(o,"mouseup",M)),r.remove(a),r.remove(l),r.remove(h),O(s),e&&(((e,t,r,n,o)=>{e.dispatch("ObjectResized",{target:t,width:r,height:n,origin:o})})(t,s,v,y,"corner-"+c.name),r.setAttrib(s,"style",r.getAttrib(s,"style"))),t.nodeChanged()},O=e=>{B();const g=r.getPos(e,i),x=g.x,_=g.y,C=e.getBoundingClientRect(),A=C.width||C.right-C.left,O=C.height||C.bottom-C.top;s!==e&&(I(),s=e,v=y=0);const D=t.dispatch("ObjectSelected",{target:e});k(e)&&!D.isDefaultPrevented()?fe(Du,((e,t)=>{let g=r.get("mceResizeHandle"+t);g&&r.remove(g),g=r.add(i,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),r.bind(g,"mousedown",(g=>{g.stopImmediatePropagation(),g.preventDefault(),(g=>{const v=S(s)[0];var y;d=g.screenX,u=g.screenY,p=v.clientWidth,f=v.clientHeight,m=f/p,c=e,c.name=t,c.startPos={x:A*e[0]+x,y:O*e[1]+_},b=i.scrollWidth,w=i.scrollHeight,h=r.add(i,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),r.setStyles(h,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=E(y=s)?r.create("img",{src:Pt.transparentSrc}):y.cloneNode(!0),r.addClass(a,"mce-clonedresizable"),r.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",r.setStyles(a,{left:x,top:_,margin:0}),P(a,A,O),a.removeAttribute(Tu),i.appendChild(a),r.bind(n,"mousemove",T),r.bind(n,"mouseup",M),o!==n&&(r.bind(o,"mousemove",T),r.bind(o,"mouseup",M)),l=r.add(i,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+f)})(g)})),e.elm=g,r.setStyles(g,{left:A*e[0]+x-g.offsetWidth/2,top:O*e[1]+_-g.offsetHeight/2})})):I(!1)},D=ks(O,0),I=(e=!0)=>{D.cancel(),B(),s&&e&&s.removeAttribute(Tu),fe(Du,((e,t)=>{const n=r.get("mceResizeHandle"+t);n&&(r.unbind(n),r.remove(n))}))},R=(e,t)=>r.isChildOf(e,t),F=n=>{if(g||t.removed||t.composing)return;const o="mousedown"===n.type?n.target:e.getNode(),s=Cn(ur(o),"table,img,figure.image,hr,video,span.mce-preview-object").map((e=>e.dom)).getOrUndefined(),a=x(s)?r.getAttrib(s,Tu,"1"):"1";if(q(r.select("img[data-mce-selected],hr[data-mce-selected]"),(e=>{e.removeAttribute(Tu)})),x(s)&&R(s,i)){N();const t=e.getStart(!0);if(R(t,s)&&R(e.getEnd(!0),s))return r.setAttrib(s,Tu,a),void D.throttle(s)}I()},B=()=>{fe(Du,(e=>{e.elm&&(r.unbind(e.elm),delete e.elm)}))},N=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",(()=>{N(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",F),t.on("keyup compositionend",(e=>{s&&"TABLE"===s.nodeName&&F(e)})),t.on("hide blur",I),t.on("contextmenu longpress",C,!0)})),t.on("remove",B),{isResizable:k,showResizeRect:O,hideResizeRect:I,updateResizeRect:F,destroy:()=>{D.cancel(),s=a=h=null}}},Ru=(e,t,r)=>{const n=e.document.createRange();var o;return o=n,t.fold((e=>{o.setStartBefore(e.dom)}),((e,t)=>{o.setStart(e.dom,t)}),(e=>{o.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,r)=>{e.setEnd(t.dom,r)}),(t=>{e.setEndAfter(t.dom)}))})(n,r),n},Fu=(e,t,r,n,o)=>{const i=e.document.createRange();return i.setStart(t.dom,r),i.setEnd(n.dom,o),i},Bu=qa([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Nu=(e,t,r)=>t(ur(r.startContainer),r.startOffset,ur(r.endContainer),r.endOffset);Bu.ltr,Bu.rtl;const Lu=(e,t,r,n)=>({start:e,soffset:t,finish:r,foffset:n}),Vu=document.caretPositionFromPoint?(e,t,r)=>{var n,o;return N.from(null===(o=(n=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(n,t,r)).bind((t=>{if(null===t.offsetNode)return N.none();const r=e.dom.createRange();return r.setStart(t.offsetNode,t.offset),r.collapse(),N.some(r)}))}:document.caretRangeFromPoint?(e,t,r)=>{var n,o;return N.from(null===(o=(n=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(n,t,r))}:N.none,zu=qa([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Hu={before:zu.before,on:zu.on,after:zu.after,cata:(e,t,r,n)=>e.fold(t,r,n),getStart:e=>e.fold(T,T,T)},ju=qa([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Gu={domRange:ju.domRange,relative:ju.relative,exact:ju.exact,exactFromRange:e=>ju.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>ur(e.startContainer),relative:(e,t)=>Hu.getStart(e),exact:(e,t,r,n)=>e}))(e);return wr(t)},range:Lu},Uu=(e,t)=>{const r=Bt(e);return"input"===r?Hu.after(e):j(["br","img"],r)?0===t?Hu.before(e):Hu.after(e):Hu.on(e,t)},qu=(e,t)=>{const r=e.fold(Hu.before,Uu,Hu.after),n=t.fold(Hu.before,Uu,Hu.after);return Gu.relative(r,n)},Wu=(e,t,r,n)=>{const o=Uu(e,t),i=Uu(r,n);return Gu.relative(o,i)},$u=(e,t)=>{const r=(t||document).createDocumentFragment();return q(e,(e=>{r.appendChild(e.dom)})),ur(r)},Zu=(e,t,r)=>((e,t,r)=>((e,t,r)=>{const n=ur(e.document);return Vu(n,t,r).map((e=>Lu(ur(e.startContainer),e.startOffset,ur(e.endContainer),e.endOffset)))})(e,t,r))(wr(ur(r)).dom,e,t).map((e=>{const t=r.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined(),Ku=(e,t)=>x(e)&&x(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Yu=(e,t,r)=>null!==((e,t,r)=>{let n=e;for(;n&&n!==t;){if(r(n))return n;n=n.parentNode}return null})(e,t,r),Xu=(e,t,r)=>Yu(e,t,(e=>e.nodeName===r)),Ju=(e,t)=>To(e)&&!Yu(e,t,Jh),Qu=(e,t,r)=>{const n=t.parentNode;if(n){const o=new kn(t,e.getParent(n,e.isBlock)||e.getRoot());let i;for(;i=o[r?"prev":"next"]();)if(Un(i))return!0}return!1},ep=(e,t,r,n,o)=>{const i=e.getRoot(),s=e.schema.getNonEmptyElements(),a=o.parentNode;let l,c;if(!a)return N.none();const h=e.getParent(a,e.isBlock)||i;if(n&&Un(o)&&t&&e.isEmpty(h))return N.some(wa(a,e.nodeIndex(o)));const d=new kn(o,h);for(;c=d[n?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||Ju(c,i))return N.none();if(Ln(c)&&c.data.length>0)return Xu(c,i,"A")?N.none():N.some(wa(c,n?c.data.length:0));if(e.isBlock(c)||s[c.nodeName.toLowerCase()])return N.none();l=c}return Hn(l)?N.none():r&&l?N.some(wa(l,0)):N.none()},tp=(e,t,r,n)=>{const o=e.getRoot();let i,s=!1,a=r?n.startContainer:n.endContainer,l=r?n.startOffset:n.endOffset;const c=Tn(a)&&l===a.childNodes.length,h=e.schema.getNonEmptyElements();let d=r;if(To(a))return N.none();if(Tn(a)&&l>a.childNodes.length-1&&(d=!1),jn(a)&&(a=o,l=0),a===o){if(d&&(i=a.childNodes[l>0?l-1:0],i)){if(To(i))return N.none();if(h[i.nodeName]||Fn(i))return N.none()}if(a.hasChildNodes()){if(l=Math.min(!d&&l>0?l-1:l,a.childNodes.length-1),a=a.childNodes[l],l=Ln(a)&&c?a.data.length:0,!t&&a===o.lastChild&&Fn(a))return N.none();if(((e,t)=>{let r=t;for(;r&&r!==e;){if($n(r))return!0;r=r.parentNode}return!1})(o,a)||To(a))return N.none();if(a.hasChildNodes()&&!Fn(a)){i=a;const t=new kn(a,o);do{if($n(i)||To(i)){s=!1;break}if(Ln(i)&&i.data.length>0){l=d?0:i.data.length,a=i,s=!0;break}if(h[i.nodeName.toLowerCase()]&&!Kn(i)){l=e.nodeIndex(i),a=i.parentNode,d||l++,s=!0;break}}while(i=d?t.next():t.prev())}}}return t&&(Ln(a)&&0===l&&ep(e,c,t,!0,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),Tn(a)&&(i=a.childNodes[l],i||(i=a.childNodes[l-1]),!i||!Un(i)||((e,t)=>{var r;return"A"===(null===(r=e.previousSibling)||void 0===r?void 0:r.nodeName)})(i)||Qu(e,i,!1)||Qu(e,i,!0)||ep(e,c,t,!0,i).each((e=>{a=e.container(),l=e.offset(),s=!0})))),d&&!t&&Ln(a)&&l===a.data.length&&ep(e,c,t,!1,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),s&&a?N.some(wa(a,l)):N.none()},rp=(e,t)=>{const r=t.collapsed,n=t.cloneRange(),o=wa.fromRangeStart(t);return tp(e,r,!0,n).each((e=>{r&&wa.isAbove(o,e)||n.setStart(e.container(),e.offset())})),r||tp(e,r,!1,n).each((e=>{n.setEnd(e.container(),e.offset())})),r&&n.collapse(!0),Ku(t,n)?N.none():N.some(n)},np=(e,t)=>e.splitText(t),op=e=>{let t=e.startContainer,r=e.startOffset,n=e.endContainer,o=e.endOffset;if(t===n&&Ln(t)){if(r>0&&r<t.data.length)if(n=np(t,r),t=n.previousSibling,o>r){o-=r;const e=np(n,o).previousSibling;t=n=e,o=e.data.length,r=0}else o=0}else if(Ln(t)&&r>0&&r<t.data.length&&(t=np(t,r),r=0),Ln(n)&&o>0&&o<n.data.length){const e=np(n,o).previousSibling;n=e,o=e.data.length}return{startContainer:t,startOffset:r,endContainer:n,endOffset:o}},ip=e=>({walk:(t,r)=>mu(e,t,r),split:op,expand:(t,r={type:"word"})=>{if("word"===r.type){const r=fu(e,t,[{inline:"span"}]),n=e.createRng();return n.setStart(r.startContainer,r.startOffset),n.setEnd(r.endContainer,r.endOffset),n}return t},normalize:t=>rp(e,t).fold(F,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});ip.compareRanges=Ku,ip.getCaretRangeFromPoint=Zu,ip.getSelectedNode=Qs,ip.getNode=ea;const sp=((e,t)=>{const r=t=>{const r=(e=>{const t=e.dom;return Hr(e)?t.getBoundingClientRect().height:t.offsetHeight})(t);if(r<=0||null===r){const r=qr(t,e);return parseFloat(r)||0}return r},n=(e,t)=>Y(t,((t,r)=>{const n=qr(e,r),o=void 0===n?0:parseInt(n,10);return isNaN(o)?t:t+o}),0);return{set:(t,r)=>{if(!E(r)&&!r.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+r);const n=t.dom;ar(n)&&(n.style[e]=r+"px")},get:r,getOuter:r,aggregate:n,max:(e,t,r)=>{const o=n(e,r);return t>o?t-o:0}}})("height"),ap=()=>ur(document),lp=(e,t)=>e.view(t).fold(P([]),(t=>{const r=e.owner(t),n=lp(e,r);return[t].concat(n)}));var cp=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?N.none():N.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(ur)},owner:e=>br(e)});const hp=e=>"textarea"===Bt(e),dp=(e,t)=>{const r=(e=>{const t=e.dom.ownerDocument,r=t.body,n=t.defaultView,o=t.documentElement;if(r===e.dom)return hn(r.offsetLeft,r.offsetTop);const i=dn(null==n?void 0:n.pageYOffset,o.scrollTop),s=dn(null==n?void 0:n.pageXOffset,o.scrollLeft),a=dn(o.clientTop,r.clientTop),l=dn(o.clientLeft,r.clientLeft);return un(e).translate(s-l,i-a)})(e),n=(e=>sp.get(e))(e);return{element:e,bottom:r.top+n,height:n,pos:r,cleanup:t}},up=(e,t,r,n)=>{gp(e,((o,i)=>fp(e,t,r,n)),r)},pp=(e,t,r,n,o)=>{const i={elm:n.element.dom,alignToTop:o};((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,i)||(r(t,pn(t).top,n,o),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,i))},fp=(e,t,r,n)=>{const o=ur(e.getBody()),i=ur(e.getDoc());o.dom.offsetWidth;const s=((e,t)=>{const r=((e,t)=>{const r=Pr(e);if(0===r.length||hp(e))return{element:e,offset:t};if(t<r.length&&!hp(r[t]))return{element:r[t],offset:0};{const n=r[r.length-1];return hp(n)?{element:e,offset:t}:"img"===Bt(n)?{element:n,offset:1}:zt(n)?{element:n,offset:no(n).length}:{element:n,offset:Pr(n).length}}})(e,t),n=cr('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return Yr(r.element,n),dp(n,(()=>rn(n)))})(ur(r.startContainer),r.startOffset);pp(e,i,t,s,n),s.cleanup()},mp=(e,t,r,n)=>{const o=ur(e.getDoc());pp(e,o,r,(e=>dp(ur(e),S))(t),n)},gp=(e,t,r)=>{const n=r.startContainer,o=r.startOffset,i=r.endContainer,s=r.endOffset;t(ur(n),ur(i));const a=e.dom.createRng();a.setStart(n,o),a.setEnd(i,s),e.selection.setRng(r)},vp=(e,t,r,n)=>{const o=e.pos;if(r)fn(o.left,o.top,n);else{const r=o.top-t+e.height;fn(o.left,r,n)}},yp=(e,t,r,n,o)=>{const i=r+t,s=n.pos.top,a=n.bottom,l=a-s>=r;s<t?vp(n,r,!1!==o,e):s>i?vp(n,r,l?!1!==o:!0===o,e):a>i&&!l&&vp(n,r,!0===o,e)},bp=(e,t,r,n)=>{const o=wr(e).dom.innerHeight;yp(e,t,o,r,n)},wp=(e,t,r,n)=>{const o=wr(e).dom.innerHeight;yp(e,t,o,r,n);const i=(e=>{const t=ap(),r=pn(t),n=((e,t)=>{const r=t.owner(e);return lp(t,r)})(e,cp),o=un(e),i=K(n,((e,t)=>{const r=un(t);return{left:e.left+r.left,top:e.top+r.top}}),{left:0,top:0});return hn(i.left+o.left+r.left,i.top+o.top+r.top)})(r.element),s=vn(window);i.top<s.y?mn(r.element,!1!==n):i.top>s.bottom&&mn(r.element,!0===n)},xp=(e,t,r)=>up(e,bp,t,r),_p=(e,t,r)=>mp(e,t,bp,r),Ep=(e,t,r)=>up(e,wp,t,r),Cp=(e,t,r)=>mp(e,t,wp,r),Sp=(e,t,r)=>{(e.inline?xp:Ep)(e,t,r)},kp=e=>e.dom.focus(),Ap=e=>{const t=Br(e).dom;return e.dom===t.activeElement},Pp=(e=ap())=>N.from(e.dom.activeElement).map(ur),Tp=(e,t)=>{const r=zt(t)?no(t).length:Pr(t).length+1;return e>r?r:e<0?0:e},Mp=e=>Gu.range(e.start,Tp(e.soffset,e.start),e.finish,Tp(e.foffset,e.finish)),Op=(e,t)=>!Pn(t.dom)&&(vr(e,t)||gr(e,t)),Dp=e=>t=>Op(e,t.start)&&Op(e,t.finish),Ip=e=>Gu.range(ur(e.startContainer),e.startOffset,ur(e.endContainer),e.endOffset),Rp=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),N.some(t)}catch(e){return N.none()}},Fp=e=>{const t=(e=>e.inline||Pt.browser.isFirefox())(e)?(r=ur(e.getBody()),(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?N.from(t.getRangeAt(0)):N.none()).map(Ip)})(wr(r).dom).filter(Dp(r))):N.none();var r;e.bookmark=t.isSome()?t:e.bookmark},Bp=e=>(e.bookmark?e.bookmark:N.none()).bind((t=>{return r=ur(e.getBody()),n=t,N.from(n).filter(Dp(r)).map(Mp);var r,n})).bind(Rp),Np={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Lp={setEditorTimeout:(e,t,r)=>((e,t)=>(E(t)||(t=0),setTimeout(e,t)))((()=>{e.removed||t()}),r),setEditorInterval:(e,t,r)=>{const n=((e,t)=>(E(t)||(t=0),setInterval(e,t)))((()=>{e.removed?clearInterval(n):t()}),r);return n}};let Vp;const zp=ms.DOM,Hp=(e,t)=>{const r=Ql(e),n=zp.getParent(t,(t=>(e=>Tn(e)&&Np.isEditorUIElement(e))(t)||!!r&&e.dom.is(t,r)));return null!==n},jp=(e,t)=>{const r=t.editor;(e=>{const t=ks((()=>{Fp(e)}),0);e.on("init",(()=>{e.inline&&((e,t)=>{const r=()=>{t.throttle()};ms.DOM.bind(document,"mouseup",r),e.on("remove",(()=>{ms.DOM.unbind(document,"mouseup",r)}))})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||Fp(e)}))})(e,t)})),e.on("remove",(()=>{t.cancel()}))})(r),r.on("focusin",(()=>{const t=e.focusedEditor;t!==r&&(t&&t.dispatch("blur",{focusedEditor:r}),e.setActive(r),e.focusedEditor=r,r.dispatch("focus",{blurredEditor:t}),r.focus(!0))})),r.on("focusout",(()=>{Lp.setEditorTimeout(r,(()=>{const t=e.focusedEditor;Hp(r,(e=>{try{const t=Br(ur(e.getElement()));return Pp(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}})(r))||t!==r||(r.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Vp||(Vp=t=>{const r=e.activeEditor;r&&Vr(t).each((t=>{const n=t;n.ownerDocument===document&&(n===document.body||Hp(r,n)||e.focusedEditor!==r||(r.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},zp.bind(document,"focusin",Vp))},Gp=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Vp&&(zp.unbind(document,"focusin",Vp),Vp=null)},Up=(e,t)=>{((e,t)=>(e=>e.collapsed?N.from(ea(e.startContainer,e.startOffset)).map(ur):N.none())(t).bind((t=>fo(t)?N.some(t):vr(e,t)?N.none():N.some(e))))(ur(e.getBody()),t).bind((e=>Kh(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},qp=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Wp=e=>e.inline?(e=>{const t=e.getBody();return t&&(r=ur(t),Ap(r)||(n=r,Pp(Br(n)).filter((e=>n.dom.contains(e.dom)))).isSome());var r,n})(e):(e=>x(e.iframeElement)&&Ap(ur(e.iframeElement)))(e),$p=e=>e.editorManager.setActive(e),Zp=(e,t,r,n,o)=>{const i=r?t.startContainer:t.endContainer,s=r?t.startOffset:t.endOffset;return N.from(i).map(ur).map((e=>n&&t.collapsed?e:Tr(e,o(e,s)).getOr(e))).bind((e=>Vt(e)?N.some(e):xr(e).filter(Vt))).map((e=>e.dom)).getOr(e)},Kp=(e,t,r=!1)=>Zp(e,t,!0,r,((e,t)=>Math.min(Dr(e),t))),Yp=(e,t,r=!1)=>Zp(e,t,!1,r,((e,t)=>t>0?t-1:t)),Xp=(e,t)=>{const r=e;for(;e&&Ln(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||r},Jp=(e,t)=>U(t,(t=>{const r=e.dispatch("GetSelectionRange",{range:t});return r.range!==t?r.range:t})),Qp=["img","br"],ef=e=>{const t=oo(e).filter((e=>0!==e.trim().length||e.indexOf(Qn)>-1)).isSome();return t||j(Qp,Bt(e))},tf="[data-mce-autocompleter]",rf=e=>En(e,tf),nf={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},of=(e,t,r)=>{const n=r?"lastChild":"firstChild",o=r?"prev":"next";if(e[n])return e[n];if(e!==t){let r=e[o];if(r)return r;for(let n=e.parent;n&&n!==t;n=n.parent)if(r=n[o],r)return r}},sf=e=>{var t;const r=null!==(t=e.value)&&void 0!==t?t:"";if(!Ko(r))return!1;const n=e.parent;return!n||"span"===n.name&&!n.attr("style")||!/^[ ]+$/.test(r)},af=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class lf{constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}static create(e,t){const r=new lf(e,nf[e]||1);return t&&fe(t,((e,t)=>{r.attr(t,e)})),r}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const r=this;if(!p(e))return x(e)&&fe(e,((e,t)=>{r.attr(t,e)})),r;const n=r.attributes;if(n){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];let t=n.length;for(;t--;)if(n[t].name===e)return n.splice(t,1),r}return r}if(e in n.map){let r=n.length;for(;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}}clone(){const e=this,t=new lf(e.name,e.type),r=e.attributes;if(r){const e=[];e.map={};for(let t=0,n=r.length;t<n;t++){const n=r[t];"id"!==n.name&&(e[e.length]={name:n.name,value:n.value},e.map[n.name]=n.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const r=t.next;e.insert(t,e,!0),t=r}e.remove()}remove(){const e=this,t=e.parent,r=e.next,n=e.prev;return t&&(t.firstChild===e?(t.firstChild=r,r&&(r.prev=null)):n&&(n.next=r),t.lastChild===e?(t.lastChild=n,n&&(n.next=null)):r&&(r.prev=n),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const r=t.lastChild;return r?(r.next=e,e.prev=r,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,r){e.parent&&e.remove();const n=t.parent||this;return r?(t===n.firstChild?n.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===n.lastChild?n.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=n,e}getAll(e){const t=this,r=[];for(let n=t.firstChild;n;n=of(n,t))n.name===e&&r.push(n);return r}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let r=e.firstChild;r;r=of(r,e))t.push(r);let r=t.length;for(;r--;){const e=t[r];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},r){var n;const o=this;let i=o.firstChild;if(af(o))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(af(i))return!1}if(8===i.type)return!1;if(3===i.type&&!sf(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Ko(null!==(n=i.value)&&void 0!==n?n:""))return!1;if(r&&r(i))return!1}while(i=of(i,o));return!0}walk(e){return of(this,null,e)}}const cf=(e,t,r=0)=>{const n=e.toLowerCase();if(-1!==n.indexOf("[if ",r)&&((e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)))(n,r)){const e=n.indexOf("[endif]",r);return n.indexOf(">",e)}if(t){const e=n.indexOf(">",r);return-1!==e?e:n.length}{const t=/--!?>/g;t.lastIndex=r;const o=t.exec(e);return o?o.index+o[0].length:n.length}},hf=(e,t,r)=>{const n=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getVoidElements();let s=1,a=r;for(;0!==s;)for(n.lastIndex=a;;){const e=n.exec(t);if(null===e)return a;if("!"===e[1]){a=He(e[2],"--")?cf(t,!1,e.index+"!--".length):cf(t,!0,e.index+1);break}{o.lastIndex=n.lastIndex;const r=o.exec(t);if(v(r)||r.index!==n.lastIndex)continue;"/"===e[1]?s-=1:Ee(i,e[2])||(s+=1),a=n.lastIndex+r[0].length;break}}return a},df=(e,t)=>{const r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,n=e.schema;let o=((e,t)=>{const r=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(r,"")})(e.getTempAttrs(),t);const i=n.getVoidElements();let s;for(;s=r.exec(o);){const e=r.lastIndex,t=s[0].length;let a;a=i[s[1]]?e:hf(n,o,e),o=o.substring(0,e-t)+o.substring(a),r.lastIndex=e-t}return Co(o)},uf=df,pf=e=>{const t=to(e,"[data-mce-bogus]");q(t,(e=>{"all"===$t(e,"data-mce-bogus")?rn(e):co(e)?(Yr(e,dr(Jn)),rn(e)):nn(e)}))},ff=e=>{const t=to(e,"input");q(t,(e=>{Yt(e,"name")}))},mf=Dt.makeMap,gf=e=>{const t=[],r=(e=e||{}).indent,n=mf(e.indent_before||""),o=mf(e.indent_after||""),i=Bi.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,a,l)=>{if(r&&n[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),a)for(let e=0,r=a.length;e<r;e++){const r=a[e];t.push(" ",r.name,'="',i(r.value,!0),'"')}if(t[t.length]=!l||s?">":" />",l&&r&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let n;t.push("</",e,">"),r&&o[e]&&t.length>0&&(n=t[t.length-1],n.length>0&&"\n"!==n&&t.push("\n"))},text:(e,r)=>{e.length>0&&(t[t.length]=r?e:i(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,n)=>{n?t.push("<?",e," ",i(n),"?>"):t.push("<?",e,"?>"),r&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",r?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},vf=(e={},t=Ki())=>{const r=gf(e);return e.validate=!("validate"in e)||e.validate,{serialize:n=>{const o=e.validate,i={3:e=>{var t;r.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;r.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{r.pi(e.name,e.value)},10:e=>{var t;r.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;r.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{s(t)}while(t=t.next)}};r.reset();const s=e=>{var n;const a=i[e.type];if(a)a(e);else{const i=e.name,a=i in t.getVoidElements();let l=e.attributes;if(o&&l&&l.length>1){const r=[];r.map={};const n=t.getElementRule(e.name);if(n){for(let e=0,t=n.attributesOrder.length;e<t;e++){const t=n.attributesOrder[e];if(t in l.map){const e=l.map[t];r.map[t]=e,r.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in r.map)){const e=l.map[t];r.map[t]=e,r.push({name:t,value:e})}}l=r}}if(r.start(i,l,a),!a){let t=e.firstChild;if(t){"pre"!==i&&"textarea"!==i||3!==t.type||"\n"!==(null===(n=t.value)||void 0===n?void 0:n[0])||r.text("\n",!0);do{s(t)}while(t=t.next)}r.end(i)}}};return 1!==n.type||e.inner?3===n.type?i[3](n):i[11](n):s(n),r.getContent()}}},yf=new Set;q(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{yf.add(e)}));const bf=["font","text-decoration","text-emphasis"],wf=(e,t)=>ue(e.parseStyle(e.getAttrib(t,"style"))),xf=(e,t,r)=>{const n=wf(e,t),o=wf(e,r),i=n=>{var o,i;const s=null!==(o=e.getStyle(t,n))&&void 0!==o?o:"",a=null!==(i=e.getStyle(r,n))&&void 0!==i?i:"";return $e(s)&&$e(a)&&s!==a};return G(n,(e=>{const t=t=>G(t,(t=>t===e));if(!t(o)&&t(bf)){const e=Z(o,(e=>G(bf,(t=>He(e,t)))));return G(e,i)}return i(e)}))},_f=(e,t,r)=>N.from(r.container()).filter(Ln).exists((n=>{const o=e?0:-1;return t(n.data.charAt(r.offset()+o))})),Ef=O(_f,!0,pd),Cf=O(_f,!1,pd),Sf=e=>{const t=e.container();return Ln(t)&&(0===t.data.length||Eo(t.data)&&wu.isBookmarkNode(t.parentNode))},kf=(e,t)=>r=>gh(e?0:-1,r).filter(t).isSome(),Af=e=>qn(e)&&"block"===qr(ur(e),"display"),Pf=e=>$n(e)&&!(e=>Tn(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),Tf=kf(!0,Af),Mf=kf(!1,Af),Of=kf(!0,Yn),Df=kf(!1,Yn),If=kf(!0,Fn),Rf=kf(!1,Fn),Ff=kf(!0,Pf),Bf=kf(!1,Pf),Nf=(e,t)=>((e,t,r)=>vr(t,e)?Er(e,(e=>r(e)||gr(e,t))).slice(0,-1):[])(e,t,F),Lf=(e,t)=>[e].concat(Nf(e,t)),Vf=(e,t,r)=>qh(e,t,r,Sf),zf=(e,t)=>J(Lf(ur(t.container()),e),ao),Hf=(e,t,r)=>Vf(e,t.dom,r).forall((e=>zf(t,r).fold((()=>!mh(e,r,t.dom)),(n=>!mh(e,r,t.dom)&&vr(n,ur(e.container())))))),jf=(e,t,r)=>zf(t,r).fold((()=>Vf(e,t.dom,r).forall((e=>!mh(e,r,t.dom)))),(t=>Vf(e,t.dom,r).isNone())),Gf=O(jf,!1),Uf=O(jf,!0),qf=O(Hf,!1),Wf=O(Hf,!0),$f=e=>Sh(e).exists(co),Zf=(e,t,r)=>{const n=Z(Lf(ur(r.container()),t),ao),o=le(n).getOr(t);return Gh(e,o.dom,r).filter($f)},Kf=(e,t)=>Sh(t).exists(co)||Zf(!0,e,t).isSome(),Yf=(e,t)=>(e=>N.from(e.getNode(!0)).map(ur))(t).exists(co)||Zf(!1,e,t).isSome(),Xf=O(Zf,!1),Jf=O(Zf,!0),Qf=e=>wa.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),em=(e,t)=>{const r=Z(Lf(ur(t.container()),e),ao);return le(r).getOr(e)},tm=(e,t)=>Qf(t)?Cf(t):Cf(t)||Zh(em(e,t).dom,t).exists(Cf),rm=(e,t)=>Qf(t)?Ef(t):Ef(t)||$h(em(e,t).dom,t).exists(Ef),nm=e=>Sh(e).bind((e=>xn(e,Vt))).exists((e=>(e=>j(["pre","pre-wrap"],e))(qr(e,"white-space")))),om=(e,t)=>r=>{return n=new kn(r,e)[t](),x(n)&&$n(n)&&oh(n);var n},im=(e,t)=>!nm(t)&&(Gf(e,t)||qf(e,t)||Yf(e,t)||tm(e,t)||((e,t)=>{const r=Zh(e.dom,t).getOr(t),n=om(e.dom,"prev");return t.isAtStart()&&(n(t.container())||n(r.container()))})(e,t)),sm=(e,t)=>!nm(t)&&(Uf(e,t)||Wf(e,t)||Kf(e,t)||rm(e,t)||((e,t)=>{const r=$h(e.dom,t).getOr(t),n=om(e.dom,"next");return t.isAtEnd()&&(n(t.container())||n(r.container()))})(e,t)),am=(e,t)=>im(e,t)||sm(e,(e=>{const t=e.container(),r=e.offset();return Ln(t)&&r<t.data.length?wa(t,r+1):e})(t)),lm=(e,t)=>ud(e.charAt(t)),cm=(e,t)=>pd(e.charAt(t)),hm=(e,t,r)=>{const n=t.data,o=wa(t,0);return r||!lm(n,0)||am(e,o)?!!(r&&cm(n,0)&&im(e,o))&&(t.data=Qn+n.slice(1),!0):(t.data=" "+n.slice(1),!0)},dm=(e,t,r)=>{const n=t.data,o=wa(t,n.length-1);return r||!lm(n,n.length-1)||am(e,o)?!!(r&&cm(n,n.length-1)&&sm(e,o))&&(t.data=n.slice(0,-1)+Qn,!0):(t.data=n.slice(0,-1)+" ",!0)},um=(e,t,r)=>{if(0===r)return;const n=ur(e),o=wn(n,ao).getOr(n),i=e.data.slice(t,t+r),s=t+r>=e.data.length&&sm(o,wa(e,e.data.length)),a=0===t&&im(o,wa(e,0));e.replaceData(t,r,Xo(i,4,a,s))},pm=(e,t)=>{const r=e.data.slice(t),n=r.length-qe(r).length;um(e,t,n)},fm=(e,t)=>{const r=e.data.slice(0,t),n=r.length-We(r).length;um(e,t-n,n)},mm=(e,t,r,n=!0)=>{const o=We(e.data).length,i=n?e:t,s=n?t:e;return n?i.appendData(s.data):i.insertData(0,s.data),rn(ur(s)),r&&pm(i,o),i},gm=(e,t)=>((e,t)=>{const r=e.container(),n=e.offset();return!wa.isTextPosition(e)&&r===t.parentNode&&n>wa.before(t).offset()})(t,e)?wa(t.container(),t.offset()-1):t,vm=e=>{return qo(e.previousSibling)?N.some((t=e.previousSibling,Ln(t)?wa(t,t.data.length):wa.after(t))):e.previousSibling?Yh(e.previousSibling):N.none();var t},ym=e=>{return qo(e.nextSibling)?N.some((t=e.nextSibling,Ln(t)?wa(t,0):wa.before(t))):e.nextSibling?Kh(e.nextSibling):N.none();var t},bm=(e,t,r)=>{r.fold((()=>{e.focus()}),(r=>{e.selection.setRng(r.toRange(),t)}))},wm=(e,t)=>t&&Ee(e.schema.getBlockElements(),Bt(t)),xm=e=>{if(ri(e)){const t=cr('<br data-mce-bogus="1">');return tn(e),Qr(e,t),N.some(wa.before(t.dom))}return N.none()},_m=(e,t,r,n=!0)=>{const o=((e,t,r)=>((e,t,r)=>e?((e,t)=>ym(t).orThunk((()=>vm(t))).orThunk((()=>((e,t)=>$h(e,wa.after(t)).orThunk((()=>Zh(e,wa.before(t)))))(e,t))))(t,r):((e,t)=>vm(t).orThunk((()=>ym(t))).orThunk((()=>((e,t)=>N.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>Zh(e,wa.before(t)))).orThunk((()=>$h(e,wa.after(t)))))(e,t))))(t,r))(e,t,r).map(O(gm,r)))(t,e.getBody(),r.dom),i=wn(r,O(wm,e),(s=e.getBody(),e=>e.dom===s));var s;const a=((e,t,r)=>{const n=Cr(e).filter(zt),o=Sr(e).filter(zt);return rn(e),(i=n,s=o,a=t,l=(e,t,n)=>{const o=e.dom,i=t.dom,s=o.data.length;return mm(o,i,r),n.container()===i?wa(o,s):n},i.isSome()&&s.isSome()&&a.isSome()?N.some(l(i.getOrDie(),s.getOrDie(),a.getOrDie())):N.none()).orThunk((()=>(r&&(n.each((e=>fm(e.dom,e.dom.length))),o.each((e=>pm(e.dom,0)))),t)));var i,s,a,l})(r,o,((e,t)=>Ee(e.schema.getTextInlineElements(),Bt(t)))(e,r));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(xm).fold((()=>{n&&bm(e,t,a)}),(r=>{n&&bm(e,t,N.some(r))}))},Em=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Cm=(e,t)=>fr(ur(t),Ll(e))&&!pi(e.schema,t),Sm=(e,t,r)=>{const n=((e,t,r)=>Z(ms.DOM.getParents(r.container(),"*",t),e))(e,t,r);return N.from(n[n.length-1])},km=(e,t)=>{const r=t.container(),n=t.offset();return e?Po(r)?Ln(r.nextSibling)?wa(r.nextSibling,0):wa.after(r):Oo(t)?wa(r,n+1):t:Po(r)?Ln(r.previousSibling)?wa(r.previousSibling,r.previousSibling.data.length):wa.before(r):Do(t)?wa(r,n-1):t},Am=O(km,!0),Pm=O(km,!1),Tm=(e,t)=>{const r=e=>e.stopImmediatePropagation();e.on("beforeinput input",r,!0),e.getDoc().execCommand(t),e.off("beforeinput input",r)},Mm=e=>Tm(e,"Delete"),Om=e=>ho(e)||po(e),Dm=(e,t)=>vr(e,t)?xn(t,Om,(e=>t=>It(xr(t),e,gr))(e)):N.none(),Im=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Rm=e=>{var t;return(8===Nt(t=e)||"#comment"===Bt(t)?Cr(e):Or(e)).bind(Rm).orThunk((()=>N.some(e)))},Fm=(e,t,r,n=!0)=>{var o;t.deleteContents();const i=Rm(r).getOr(r),s=ur(null!==(o=e.dom.getParent(i.dom,e.dom.isBlock))&&void 0!==o?o:r.dom);if(s.dom===e.getBody()?Im(e,n):ri(s)&&(wo(s),n&&e.selection.setCursorLocation(s.dom,0)),!gr(r,s)){const e=It(xr(s),r)?[]:xr(a=s).map(Pr).map((e=>Z(e,(e=>!gr(a,e))))).getOr([]);q(e.concat(Pr(r)),(e=>{gr(e,s)||vr(e,s)||!ri(e)||rn(e)}))}var a},Bm=e=>to(e,"td,th"),Nm=(e,t)=>({start:e,end:t}),Lm=qa([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Vm=(e,t)=>Cn(ur(e),"td,th",t),zm=e=>!gr(e.start,e.end),Hm=(e,t)=>Sd(e.start,t).bind((r=>Sd(e.end,t).bind((e=>Ft(gr(r,e),r))))),jm=e=>t=>Hm(t,e).map((e=>((e,t,r)=>({rng:e,table:t,cells:r}))(t,e,Bm(e)))),Gm=(e,t,r,n)=>{if(r.collapsed||!e.forall(zm))return N.none();if(t.isSameTable){const t=e.bind(jm(n));return N.some({start:t,end:t})}{const e=Vm(r.startContainer,n),t=Vm(r.endContainer,n),o=e.bind((e=>t=>Sd(t,e).bind((e=>ce(Bm(e)).map((e=>Nm(t,e))))))(n)).bind(jm(n)),i=t.bind((e=>t=>Sd(t,e).bind((e=>le(Bm(e)).map((e=>Nm(e,t))))))(n)).bind(jm(n));return N.some({start:o,end:i})}},Um=(e,t)=>Q(e,(e=>gr(e,t))),qm=e=>Rt(Um(e.cells,e.rng.start),Um(e.cells,e.rng.end),((t,r)=>e.cells.slice(t,r+1))),Wm=(e,t)=>{const{startTable:r,endTable:n}=t,o=e.cloneRange();return r.each((e=>o.setStartAfter(e.dom))),n.each((e=>o.setEndBefore(e.dom))),o},$m=e=>q(e,(e=>{Yt(e,"contenteditable"),wo(e)})),Zm=(e,t,r,n)=>{const o=r.cloneRange();n?(o.setStart(r.startContainer,r.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(r.endContainer,r.endOffset)),Jm(e,o,t,!1).each((e=>e()))},Km=e=>{const t=Cd(e),r=ur(e.selection.getNode());Zn(r.dom)&&ri(r)?e.selection.setCursorLocation(r.dom,0):e.selection.collapse(!0),t.length>1&&G(t,(e=>gr(e,r)))&&qt(r,"data-mce-selected","1")},Ym=(e,t,r)=>N.some((()=>{const n=e.selection.getRng(),o=r.bind((({rng:r,isStartInTable:o})=>{const i=((e,t)=>N.from(e.dom.getParent(t,e.dom.isBlock)).map(ur))(e,o?r.endContainer:r.startContainer);r.deleteContents(),((e,t,r)=>{r.each((r=>{t?rn(r):(wo(r),e.selection.setCursorLocation(r.dom,0))}))})(e,o,i.filter(ri));const s=o?t[0]:t[t.length-1];return Zm(e,s,n,o),ri(s)?N.none():N.some(o?t.slice(1):t.slice(0,-1))})).getOr(t);$m(o),Km(e)})),Xm=(e,t,r,n)=>N.some((()=>{const o=e.selection.getRng(),i=t[0],s=r[r.length-1];Zm(e,i,o,!0),Zm(e,s,o,!1);const a=ri(i)?t:t.slice(1),l=ri(s)?r:r.slice(0,-1);$m(a.concat(l)),n.deleteContents(),Km(e)})),Jm=(e,t,r,n=!0)=>N.some((()=>{Fm(e,t,r,n)})),Qm=(e,t)=>N.some((()=>_m(e,!1,t))),eg=(e,t)=>J(Lf(t,e),mo),tg=(e,t)=>J(Lf(t,e),Gt("caption")),rg=(e,t)=>N.some((()=>{wo(t),e.selection.setCursorLocation(t.dom,0)})),ng=(e,t)=>e?If(t):Rf(t),og=(e,t)=>{const r=ur(e.selection.getStart(!0)),n=Cd(e);return e.selection.isCollapsed()&&0===n.length?((e,t,r)=>{const n=ur(e.getBody());return tg(n,r).fold((()=>((e,t,r,n)=>{const o=wa.fromRangeStart(e.selection.getRng());return eg(r,n).bind((n=>ri(n)?rg(e,n):((e,t,r,n,o)=>Uh(r,e.getBody(),o).bind((e=>eg(t,ur(e.getNode())).bind((e=>gr(e,n)?N.none():N.some(S))))))(e,r,t,n,o)))})(e,t,n,r).orThunk((()=>Ft(((e,t)=>{const r=wa.fromRangeStart(e.selection.getRng());return ng(t,r)||Gh(t,e.getBody(),r).exists((e=>ng(t,e)))})(e,t),S)))),(r=>((e,t,r,n)=>{const o=wa.fromRangeStart(e.selection.getRng());return ri(n)?rg(e,n):((e,t,r,n,o)=>Uh(r,e.getBody(),o).fold((()=>N.some(S)),(i=>((e,t,r,n)=>Kh(e.dom).bind((o=>Yh(e.dom).map((e=>t?r.isEqual(o)&&n.isEqual(e):r.isEqual(e)&&n.isEqual(o))))).getOr(!0))(n,r,o,i)?((e,t)=>rg(e,t))(e,n):((e,t,r)=>tg(e,ur(r.getNode())).fold((()=>N.some(S)),(e=>Ft(!gr(e,t),S))))(t,n,i))))(e,r,t,n,o)})(e,t,n,r)))})(e,t,r):((e,t,r)=>{const n=ur(e.getBody()),o=e.selection.getRng();return 0!==r.length?Ym(e,r,N.none()):((e,t,r,n)=>tg(t,n).fold((()=>((e,t,r)=>((e,t)=>{const r=(e=>t=>gr(e,t))(e),n=((e,t)=>{const r=Vm(e.startContainer,t),n=Vm(e.endContainer,t);return Rt(r,n,Nm)})(t,r),o=((e,t)=>{const r=e=>Sd(ur(e),t),n=r(e.startContainer),o=r(e.endContainer),i=n.isSome(),s=o.isSome(),a=Rt(n,o,gr).getOr(!1);return{startTable:n,endTable:o,isStartInTable:i,isEndInTable:s,isSameTable:a,isMultiTable:!a&&i&&s}})(t,r);return((e,t,r)=>e.exists((e=>((e,t)=>!zm(e)&&Hm(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,r)&&Pd(e.start,t))))(n,t,r)?n.map((e=>Lm.singleCellTable(t,e.start))):o.isMultiTable?((e,t,r,n)=>Gm(e,t,r,n).bind((({start:e,end:n})=>{const o=e.bind(qm).getOr([]),i=n.bind(qm).getOr([]);if(o.length>0&&i.length>0){const e=Wm(r,t);return N.some(Lm.multiTable(o,i,e))}return N.none()})))(n,o,t,r):((e,t,r,n)=>Gm(e,t,r,n).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:n}=t,o=qm(e).getOr([]);if(n&&e.cells.length===o.length)return N.some(Lm.fullTable(e.table));if(o.length>0){if(n)return N.some(Lm.partialTable(o,N.none()));{const e=Wm(r,t);return N.some(Lm.partialTable(o,N.some({...t,rng:e})))}}return N.none()})))(n,o,t,r)})(t,r).bind((t=>t.fold(O(Jm,e),O(Qm,e),O(Ym,e),O(Xm,e)))))(e,t,r)),(t=>((e,t)=>rg(e,t))(e,t))))(e,n,o,t)})(e,r,n)},ig=(e,t)=>{let r=t;for(;r&&r!==e;){if(Wn(r)||$n(r))return r;r=r.parentNode}return null},sg=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],ag=Dt.each,lg=e=>{const t=e.dom,r=new Set(e.serializer.getTempAttrs()),n=e=>G(sg,(t=>He(e,t)))||r.has(e);return{compare:(e,r)=>{if(e.nodeName!==r.nodeName||e.nodeType!==r.nodeType)return!1;const o=e=>{const r={};return ag(t.getAttribs(e),(o=>{const i=o.nodeName.toLowerCase();"style"===i||n(i)||(r[i]=t.getAttrib(e,i))})),r},i=(e,t)=>{for(const r in e)if(Ee(e,r)){const n=t[r];if(b(n))return!1;if(e[r]!==n)return!1;delete t[r]}for(const e in t)if(Ee(t,e))return!1;return!0};if(Tn(e)&&Tn(r)){if(!i(o(e),o(r)))return!1;if(!i(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(r,"style"))))return!1}return!dd(e)&&!dd(r)},isAttributeInternal:n}},cg=(e,t,r,n)=>{const o=r.name;for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i.name===o){const e=n.nodes[o];e?e.nodes.push(r):n.nodes[o]={filter:i,nodes:[r]}}}if(r.attributes)for(let e=0,o=t.length;e<o;e++){const o=t[e],i=o.name;if(i in r.attributes.map){const e=n.attributes[i];e?e.nodes.push(r):n.attributes[i]={filter:o,nodes:[r]}}}},hg=(e,t)=>{const r=(e,r)=>{fe(e,(e=>{const n=he(e.nodes);q(e.filter.callbacks,(o=>{for(let t=n.length-1;t>=0;t--){const o=n[t];(r?void 0!==o.attr(e.filter.name):o.name===e.filter.name)&&!w(o.parent)||n.splice(t,1)}n.length>0&&o(n,e.filter.name,t)}))}))};r(e.nodes,!1),r(e.attributes,!0)},dg=(e,t,r,n={})=>{const o=((e,t,r)=>{const n={nodes:{},attributes:{}};return r.firstChild&&((r,o)=>{let i=r;for(;i=i.walk();)cg(e,t,i,n)})(r),n})(e,t,r);hg(o,n)},ug=(e,t,r)=>{if(e.insert&&t(r)){const e=new lf("br",1);e.attr("data-mce-bogus","1"),r.empty().append(e)}else r.empty().append(new lf("#text",3)).value=Qn},pg=(e,t)=>{const r=null==e?void 0:e.firstChild;return x(r)&&r===e.lastChild&&r.name===t},fg=(e,t,r,n)=>n.isEmpty(t,r,(t=>((e,t)=>{const r=e.getElementRule(t.name);return!0===(null==r?void 0:r.paddEmpty)})(e,t))),mg=(e,t,r=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const n=e.children();for(const e of n)r&&!t.isValidChild(r.name,e.name)&&mg(e,t,r);e.unwrap()}},gg=(e,t,r=S)=>{const n=t.getTextBlockElements(),o=t.getNonEmptyElements(),i=t.getWhitespaceElements(),s=Dt.makeMap("tr,td,th,tbody,thead,tfoot,table"),a=new Set;for(let l=0;l<e.length;l++){const c=e[l];let h,d,u;if(!c.parent||a.has(c))continue;if(n[c.name]&&"li"===c.parent.name){let e=c.next;for(;e&&n[e.name];)e.name="li",a.add(e),c.parent.insert(e,c.parent),e=e.next;c.unwrap();continue}const p=[c];for(h=c.parent;h&&!t.isValidChild(h.name,c.name)&&!s[h.name];h=h.parent)p.push(h);if(h&&p.length>1)if(t.isValidChild(h.name,c.name)){p.reverse(),d=p[0].clone(),r(d);let e=d;for(let n=0;n<p.length-1;n++){t.isValidChild(e.name,p[n].name)?(u=p[n].clone(),r(u),e.append(u)):u=e;for(let e=p[n].firstChild;e&&e!==p[n+1];){const t=e.next;u.append(e),e=t}e=u}fg(t,o,i,d)?h.insert(c,p[0],!0):(h.insert(d,p[0],!0),h.insert(c,d)),h=p[0],(fg(t,o,i,h)||pg(h,"br"))&&h.empty().remove()}else mg(c,t);else if(c.parent){if("li"===c.name){let e=c.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(c);continue}if(e=c.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(c,e.firstChild,!0);continue}const t=new lf("ul",1);r(t),c.wrap(t);continue}if(t.isValidChild(c.parent.name,"div")&&t.isValidChild("div",c.name)){const e=new lf("div",1);r(e),c.wrap(e)}else mg(c,t)}}},vg=(e,t,r=t.parent)=>!(!r||!e.children[t.name]||e.isValidChild(r.name,t.name))||!(!r||"a"!==t.name||!((e,t)=>{let r=e;for(;r;){if("a"===r.name)return!0;r=r.parent}return!1})(r)),yg=e=>e.collapsed?e:(e=>{const t=wa.fromRangeStart(e),r=wa.fromRangeEnd(e),n=e.commonAncestorContainer;return Gh(!1,n,r).map((o=>!mh(t,r,n)&&mh(t,o,n)?((e,t,r,n)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(r,n),o})(t.container(),t.offset(),o.container(),o.offset()):e)).getOr(e)})(e),bg=(e,t)=>{const r=e.getParent(t,e.isBlock);return r&&"LI"===r.nodeName?r:null},wg=(e,t)=>{const r=wa.after(e),n=Vh(t).prev(r);return n?n.toRange():null},xg=["pre"],_g=Zn,Eg=(e,t,r)=>{var n,o;const i=e.selection,s=e.dom,a=e.parser,l=r.merge,c=vf({validate:!0},e.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,h);let d=i.getRng();const u=d.startContainer,p=e.getBody();u===p&&i.isCollapsed()&&s.isBlock(p.firstChild)&&((e,t)=>x(t)&&!e.schema.getVoidElements()[t.nodeName])(e,p.firstChild)&&s.isEmpty(p.firstChild)&&(d=s.createRng(),d.setStart(p.firstChild,0),d.setEnd(p.firstChild,0),i.setRng(d)),i.isCollapsed()||(e=>{const t=e.dom,r=yg(e.selection.getRng());e.selection.setRng(r);const n=t.getParent(r.startContainer,_g);((e,t,r)=>!!x(r)&&r===e.getParent(t.endContainer,_g)&&Pd(ur(r),t))(t,r,n)?Jm(e,r,ur(n)):r.startContainer===r.endContainer&&r.endOffset-r.startOffset==1&&Ln(r.startContainer.childNodes[r.startOffset])?r.deleteContents():e.getDoc().execCommand("Delete",!1)})(e);const f=i.getNode(),m={context:f.nodeName.toLowerCase(),data:r.data,insert:!0},g=a.parse(t,m);if(!0===r.paste&&((e,t)=>{let r=t.firstChild,n=t.lastChild;return r&&"meta"===r.name&&(r=r.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),((e,t)=>{const r=e.getNonEmptyElements();return x(t)&&(t.isEmpty(r)||((e,t)=>e.getBlockElements()[t.name]&&(e=>x(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===Qn)(t.firstChild))(e,t))})(e,n)&&(n=null==n?void 0:n.prev),!(!r||r!==n||"ul"!==r.name&&"ol"!==r.name)})(e.schema,g)&&((e,t)=>!!bg(e,t))(s,f))return d=((e,t,r,n)=>{const o=((e,t,r)=>{const n=t.serialize(r);return(e=>{var t,r;const n=e.firstChild,o=e.lastChild;return n&&"META"===n.nodeName&&(null===(t=n.parentNode)||void 0===t||t.removeChild(n)),o&&"mce_marker"===o.id&&(null===(r=o.parentNode)||void 0===r||r.removeChild(o)),e})(e.createFragment(n))})(t,e,n),i=bg(t,r.startContainer),s=(e=>{return e.length>0&&(!(r=e[e.length-1]).firstChild||x(null==(t=r)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&(e=>e.data===Qn||Un(e))(t.firstChild))?e.slice(0,-1):e;var t,r})((a=o.firstChild,Z(null!==(l=null==a?void 0:a.childNodes)&&void 0!==l?l:[],(e=>"LI"===e.nodeName))));var a,l;const c=t.getRoot(),h=e=>{const n=wa.fromRangeStart(r),o=Vh(t.getRoot()),s=1===e?o.prev(n):o.next(n),a=null==s?void 0:s.getNode();return!a||bg(t,a)!==i};return i?h(1)?((e,t,r)=>{const n=e.parentNode;return n&&Dt.each(t,(t=>{n.insertBefore(t,e)})),((e,t)=>{const r=wa.before(e),n=Vh(t).next(r);return n?n.toRange():null})(e,r)})(i,s,c):h(2)?((e,t,r,n)=>(n.insertAfter(t.reverse(),e),wg(t[0],r)))(i,s,c,t):((e,t,r,n)=>{const o=((e,t)=>{const r=t.cloneRange(),n=t.cloneRange();return r.setStartBefore(e),n.setEndAfter(e),[r.cloneContents(),n.cloneContents()]})(e,n),i=e.parentNode;return i&&(i.insertBefore(o[0],e),Dt.each(t,(t=>{i.insertBefore(t,e)})),i.insertBefore(o[1],e),i.removeChild(e)),wg(t[t.length-1],r)})(i,s,c,r):null})(c,s,i.getRng(),g),d&&i.setRng(d),t;!0===r.paste&&((e,t,r,n)=>{var o;const i=t.firstChild,s=t.lastChild,a=i===("bookmark"===s.attr("data-mce-type")?s.prev:s),l=j(xg,i.name);if(a&&l){const t="false"!==i.attr("contenteditable"),s=(null===(o=e.getParent(r,e.isBlock))||void 0===o?void 0:o.nodeName.toLowerCase())===i.name,a=N.from(ig(n,r)).forall(Wn);return t&&s&&a}return!1})(s,g,f,e.getBody())&&(null===(n=g.firstChild)||void 0===n||n.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(g);let v=g.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v;v=v.walk(!0))if(3===v.type||!s.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(f),m.invalid){e.selection.setContent(h);let r,n=i.getNode();const l=e.getBody();for(jn(n)?n=r=l:r=n;r&&r!==l;)n=r,r=r.parentNode;t=n===l?l.innerHTML:s.getOuterHTML(n);const d=a.parse(t);for(let e=d;e;e=e.walk())if("mce_marker"===e.attr("id")){e.replace(g);break}const u=g.children(),p=null!==(o=g.parent)&&void 0!==o?o:d;g.unwrap();const f=Z(u,(t=>vg(e.schema,t,p)));gg(f,e.schema),dg(a.getNodeFilters(),a.getAttributeFilters(),d),t=c.serialize(d),n===l?s.setHTML(l,t):s.setOuterHTML(n,t)}else t=c.serialize(g),((e,t,r)=>{var n;if("all"===r.getAttribute("data-mce-bogus"))null===(n=r.parentNode)||void 0===n||n.insertBefore(e.dom.createFragment(t),r);else{const n=r.firstChild,o=r.lastChild;!n||n===o&&"BR"===n.nodeName?e.dom.setHTML(r,t):e.selection.setContent(t,{no_events:!0})}})(e,t,f);var y;return((e,t)=>{const r=e.schema.getTextInlineElements(),n=e.dom;if(t){const t=e.getBody(),o=lg(e);Dt.each(n.select("*[data-mce-fragment]"),(e=>{if(x(r[e.nodeName.toLowerCase()])&&((e,t)=>re(wf(e,t),(e=>!(e=>yf.has(e))(e))))(n,e))for(let r=e.parentElement;x(r)&&r!==t&&!xf(n,e,r);r=r.parentElement)if(o.compare(r,e)){n.remove(e,!0);break}}))}})(e,l),((e,t)=>{var r,n,o;let i;const s=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const l=ig(e.getBody(),t);if(l&&"false"===s.getContentEditable(l))return s.remove(t),void a.select(l);let c=s.createRng();const h=t.previousSibling;if(Ln(h)){c.setStart(h,null!==(n=null===(r=h.nodeValue)||void 0===r?void 0:r.length)&&void 0!==n?n:0);const e=t.nextSibling;Ln(e)&&(h.appendData(e.data),null===(o=e.parentNode)||void 0===o||o.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const d=s.getParent(t,s.isBlock);s.remove(t),d&&s.isEmpty(d)&&(tn(ur(d)),c.setStart(d,0),c.setEnd(d,0),_g(d)||(e=>!!e.getAttribute("data-mce-fragment"))(d)||!(i=(t=>{let r=wa.fromRangeStart(t);return r=Vh(e.getBody()).next(r),null==r?void 0:r.toRange()})(c))?s.add(d,s.create("br",{"data-mce-bogus":"1"})):(c=i,s.remove(d))),a.setRng(c)})(e,s.get("mce_marker")),y=e.getBody(),Dt.each(y.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")})),((e,t)=>{N.from(e.getParent(t,"td,th")).map(ur).each(xo)})(s,i.getStart()),((e,t,r)=>{const n=Er(ur(r),(e=>gr(e,ur(t))));ae(n,n.length-2).filter(Vt).fold((()=>li(e,t)),(t=>li(e,t.dom)))})(e.schema,e.getBody(),i.getStart()),t},Cg=e=>e instanceof lf,Sg=(e,t,r)=>{e.dom.setHTML(e.getBody(),t),!0!==r&&(e=>{Wp(e)&&Kh(e.getBody()).each((t=>{const r=t.getNode(),n=Fn(r)?Kh(r).getOr(t):t;e.selection.setRng(n.toRange())}))})(e)},kg=e=>_(e)?e:F,Ag=(e,t,r)=>{const n=t(e),o=kg(r);return n.orThunk((()=>o(e)?N.none():((e,t,r)=>{let n=e.dom;const o=kg(r);for(;n.parentNode;){n=n.parentNode;const e=ur(n),r=t(e);if(r.isSome())return r;if(o(e))break}return N.none()})(e,t,o)))},Pg=Ud,Tg=(e,t,r)=>{const n=e.formatter.get(r);if(n)for(let r=0;r<n.length;r++){const o=n[r];if(Xd(o)&&!1===o.inherit&&e.dom.is(t,o.selector))return!0}return!1},Mg=(e,t,r,n,o)=>{const i=e.dom.getRoot();if(t===i)return!1;const s=e.dom.getParent(t,(t=>!!Tg(e,t,r)||t.parentNode===i||!!Ig(e,t,r,n,!0)));return!!Ig(e,s,r,n,o)},Og=(e,t,r)=>!(!Jd(r)||!Pg(t,r.inline))||!(!Yd(r)||!Pg(t,r.block))||!!Xd(r)&&Tn(t)&&e.is(t,r.selector),Dg=(e,t,r,n,o,i)=>{const s=r[n],a="attributes"===n;if(_(r.onmatch))return r.onmatch(t,r,n);if(s)if(ke(s)){for(let r=0;r<s.length;r++)if(a?e.getAttrib(t,s[r]):Wd(e,t,s[r]))return!0}else for(const n in s)if(Ee(s,n)){const l=a?e.getAttrib(t,n):Wd(e,t,n),c=Gd(s[n],i),h=w(l)||Ze(l);if(h&&w(c))continue;if(o&&h&&!r.exact)return!1;if((!o||r.exact)&&!Pg(l,qd(c,n)))return!1}return!0},Ig=(e,t,r,n,o)=>{const i=e.formatter.get(r),s=e.dom;if(i&&Tn(t))for(let r=0;r<i.length;r++){const a=i[r];if(Og(e.dom,t,a)&&Dg(s,t,a,"attributes",o,n)&&Dg(s,t,a,"styles",o,n)){const r=a.classes;if(r)for(let o=0;o<r.length;o++)if(!e.dom.hasClass(t,Gd(r[o],n)))return;return a}}},Rg=(e,t,r,n,o)=>{if(n)return Mg(e,n,t,r,o);if(n=e.selection.getNode(),Mg(e,n,t,r,o))return!0;const i=e.selection.getStart();return!(i===n||!Mg(e,i,t,r,o))},Fg=_o,Bg=e=>(e=>{const t=[];let r=e;for(;r;){if(Ln(r)&&r.data!==Fg||r.childNodes.length>1)return[];Tn(r)&&t.push(r),r=r.firstChild}return t})(e).length>0,Ng=e=>{if(e){const t=new kn(e,e);for(let e=t.current();e;e=t.next())if(Ln(e))return e}return null},Lg=e=>{const t=hr("span");return Wt(t,{id:Xh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Qr(t,dr(Fg)),t},Vg=(e,t,r=!0)=>{const n=e.dom,o=e.selection;if(Bg(t))_m(e,!1,ur(t),r);else{const e=o.getRng(),r=n.getParent(t,n.isBlock),i=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=(e=>{const t=Ng(e);return t&&t.data.charAt(0)===Fg&&t.deleteData(0,1),t})(t);n.remove(t,!0),i===c&&s>0&&e.setStart(c,s-1),a===c&&l>0&&e.setEnd(c,l-1),r&&n.isEmpty(r)&&wo(ur(r)),o.setRng(e)}},zg=(e,t,r=!0)=>{const n=e.dom,o=e.selection;if(t)Vg(e,t,r);else if(!(t=Qh(e.getBody(),o.getStart())))for(;t=n.get(Xh);)Vg(e,t,!1)},Hg=(e,t)=>(e.appendChild(t),t),jg=(e,t)=>{var r;const n=K(e,((e,t)=>Hg(e,t.cloneNode(!1))),t),o=null!==(r=n.ownerDocument)&&void 0!==r?r:document;return Hg(n,o.createTextNode(Fg))},Gg=(e,t,r,n)=>{const o=e.dom,a=e.selection;let l=!1;const c=e.formatter.get(t);if(!c)return;const h=a.getRng(),d=h.startContainer,u=h.startOffset;let p=d;Ln(d)&&(u!==d.data.length&&(l=!0),p=p.parentNode);const f=[];let m;for(;p;){if(Ig(e,p,t,r,n)){m=p;break}p.nextSibling&&(l=!0),f.push(p),p=p.parentNode}if(m)if(l){const i=a.getBookmark();h.collapse(!0);let s=fu(o,h,c,!0);s=op(s),e.formatter.remove(t,r,s,n),a.moveToBookmark(i)}else{const l=Qh(e.getBody(),m),c=Lg(!1).dom;((e,t,r)=>{var n,o;const i=e.dom,s=i.getParent(r,O(Vd,e.schema));s&&i.isEmpty(s)?null===(n=r.parentNode)||void 0===n||n.replaceChild(t,r):((e=>{const t=to(e,"br"),r=Z((e=>{const t=[];let r=e.dom;for(;r;)t.push(ur(r)),r=r.lastChild;return t})(e).slice(-1),co);t.length===r.length&&q(r,rn)})(ur(r)),i.isEmpty(r)?null===(o=r.parentNode)||void 0===o||o.replaceChild(t,r):i.insertAfter(t,r))})(e,c,null!=l?l:m);const h=((e,t,r,n,o,a)=>{const l=e.formatter,c=e.dom,h=Z(ue(l.get()),(e=>e!==n&&!ze(e,"removeformat"))),d=((e,t,r)=>Y(r,((r,n)=>{const o=((e,t)=>Kd(e,t,(e=>{const t=e=>_(e)||e.length>1&&"%"===e.charAt(0);return G(["styles","attributes"],(r=>_e(e,r).exists((e=>{const r=g(e)?e:xe(e);return G(r,t)}))))})))(e,n);return e.formatter.matchNode(t,n,{},o)?r.concat([n]):r}),[]))(e,r,h);if(Z(d,(t=>!((e,t,r)=>{const n=["inline","block","selector","attributes","styles","classes"],o=e=>be(e,((e,t)=>G(n,(e=>e===t))));return Kd(e,t,(t=>{const n=o(t);return Kd(e,r,(e=>{const t=o(e);return((e,t,r=s)=>i(r).eq(e,t))(n,t)}))}))})(e,t,n))).length>0){const e=r.cloneNode(!1);return c.add(t,e),l.remove(n,o,e,a),c.remove(e),N.some(e)}return N.none()})(e,c,m,t,r,n),d=jg(f.concat(h.toArray()),c);l&&Vg(e,l,!1),a.setCursorLocation(d,1),o.isEmpty(m)&&o.remove(m)}},Ug=(e,t)=>{const r=e.schema.getTextInlineElements();return Ee(r,Bt(t))&&!Jh(t.dom)&&!Rn(t.dom)},qg={},Wg=On(["pre"]);qg.pre||(qg.pre=[]),qg.pre.push((e=>{if(!e.selection.getRng().collapsed){const t=e.selection.getSelectedBlocks(),r=Z(Z(t,Wg),(e=>t=>{const r=t.previousSibling;return Wg(r)&&j(e,r)})(t));q(r,(e=>{((e,t)=>{const r=ur(t),n=br(r).dom;rn(r),en(ur(e),[hr("br",n),hr("br",n),...Pr(r)])})(e.previousSibling,e)}))}}));const $g=["fontWeight","fontStyle","color","fontSize","fontFamily"],Zg=(e,t)=>{const r=e.get(t);return g(r)?J(r,(e=>Jd(e)&&"span"===e.inline&&(e=>f(e.styles)&&G(ue(e.styles),(e=>j($g,e))))(e))):N.none()},Kg=(e,t)=>Zh(t,wa.fromRangeStart(e)).isNone(),Yg=(e,t)=>!1===$h(t,wa.fromRangeEnd(e)).exists((e=>!Un(e.getNode())||$h(t,e).isSome())),Xg=e=>t=>Xn(t)&&"false"!==e.getContentEditableParent(t),Jg=e=>Z(e.getSelectedBlocks(),Xg(e.dom)),Qg=Dt.each,ev=e=>Tn(e)&&!dd(e)&&!Jh(e)&&!Rn(e),tv=(e,t)=>{for(let r=e;r;r=r[t]){if(Ln(r)&&$e(r.data))return e;if(Tn(r)&&!dd(r))return r}return e},rv=(e,t,r)=>{const n=lg(e),o=Tn(t)&&Fd(t),i=Tn(r)&&Fd(r);if(o&&i){const o=tv(t,"previousSibling"),i=tv(r,"nextSibling");if(n.compare(o,i)){for(let e=o.nextSibling;e&&e!==i;){const t=e;e=e.nextSibling,o.appendChild(t)}return e.dom.remove(i),Dt.each(Dt.grep(i.childNodes),(e=>{o.appendChild(e)})),o}}return r},nv=(e,t,r,n)=>{var o;if(n&&!1!==t.merge_siblings){const t=null!==(o=rv(e,Ld(n),n))&&void 0!==o?o:n;rv(e,t,Ld(t,!0))}},ov=(e,t,r)=>{Qg(e.childNodes,(e=>{ev(e)&&(t(e)&&r(e),e.hasChildNodes()&&ov(e,t,r))}))},iv=(e,t)=>r=>!(!r||!Wd(e,r,t)),sv=(e,t,r)=>n=>{e.setStyle(n,t,r),""===n.getAttribute("style")&&n.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,n)},av=qa([{keep:[]},{rename:["name"]},{removed:[]}]),lv=/^(src|href|style)$/,cv=Dt.each,hv=Ud,dv=(e,t,r)=>e.isChildOf(t,r)&&t!==r&&!e.isBlock(r),uv=(e,t,r)=>{let n=t[r?"startContainer":"endContainer"],o=t[r?"startOffset":"endOffset"];if(Tn(n)){const e=n.childNodes.length-1;!r&&o&&o--,n=n.childNodes[o>e?e:o]}return Ln(n)&&r&&o>=n.data.length&&(n=new kn(n,e.getBody()).next()||n),Ln(n)&&!r&&0===o&&(n=new kn(n,e.getBody()).prev()||n),n},pv=(e,t)=>{const r=t?"firstChild":"lastChild",n=e[r];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&n?"TR"===e.nodeName&&n[r]||n:e},fv=(e,t,r,n)=>{var o;const i=e.create(r,n);return null===(o=t.parentNode)||void 0===o||o.insertBefore(i,t),i.appendChild(t),i},mv=(e,t,r,n,o)=>{const i=ur(t),s=ur(e.create(n,o)),a=r?Ar(i):kr(i);return en(s,a),r?(Yr(i,s),Jr(s,i)):(Xr(i,s),Qr(s,i)),s.dom},gv=(e,t,r)=>{const n=t.parentNode;let o;const i=e.dom,s=ul(e);Yd(r)&&n===i.getRoot()&&(r.list_block&&hv(t,r.list_block)||q(he(t.childNodes),(t=>{zd(e,s,t.nodeName.toLowerCase())?o?o.appendChild(t):(o=fv(i,t,s),i.setAttribs(o,pl(e))):o=null}))),(e=>Xd(e)&&Jd(e)&&It(_e(e,"mixed"),!0))(r)&&!hv(r.inline,t)||i.remove(t,!0)},vv=(e,t,r)=>E(e)?{name:t,value:null}:{name:e,value:Gd(t,r)},yv=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},bv=(e,t,r,n,o)=>{let i=!1;cv(r.styles,((s,a)=>{const{name:l,value:c}=vv(a,s,n),h=qd(c,l);(r.remove_similar||v(c)||!Tn(o)||hv(Wd(e,o,l),h))&&e.setStyle(t,l,""),i=!0})),i&&yv(e,t)},wv=(e,t,r,n,o)=>{const i=e.dom,s=lg(e),a=e.schema;if(Jd(t)&&di(a,t.inline)&&pi(a,n)&&n.parentElement===e.getBody())return gv(e,n,t),av.removed();if(!t.ceFalseOverride&&n&&"false"===i.getContentEditableParent(n))return av.keep();if(n&&!Og(i,n,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(n,t))return av.keep();const l=n,c=t.preserve_attributes;if(Jd(t)&&"all"===t.remove&&g(c)){const e=Z(i.getAttribs(l),(e=>j(c,e.name.toLowerCase())));if(i.removeAllAttribs(l),q(e,(e=>i.setAttrib(l,e.name,e.value))),e.length>0)return av.rename("span")}if("all"!==t.remove){bv(i,l,t,r,o),cv(t.attributes,((e,n)=>{const{name:s,value:a}=vv(n,e,r);if(t.remove_similar||v(a)||!Tn(o)||hv(i.getAttrib(o,s),a)){if("class"===s){const e=i.getAttrib(l,s);if(e){let t="";if(q(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void i.setAttrib(l,s,t)}}if(lv.test(s)&&l.removeAttribute("data-mce-"+s),"style"===s&&On(["li"])(l)&&"none"===i.getStyle(l,"list-style-type"))return l.removeAttribute(s),void i.setStyle(l,"list-style-type","none");"class"===s&&l.removeAttribute("className"),l.removeAttribute(s)}})),cv(t.classes,(e=>{e=Gd(e,r),Tn(o)&&!i.hasClass(o,e)||i.removeClass(l,e)}));const e=i.getAttribs(l);for(let t=0;t<e.length;t++){const r=e[t].nodeName;if(!s.isAttributeInternal(r))return av.keep()}}return"none"!==t.remove?(gv(e,l,t),av.removed()):av.keep()},xv=(e,t,r,n,o)=>wv(e,t,r,n,o).fold(F,(t=>(e.dom.rename(n,t),!0)),B),_v=(e,t,r,n)=>wv(e,t,r,n,n).fold(P(n),(t=>(e.dom.createFragment().appendChild(n),e.dom.rename(n,t))),P(null)),Ev=(e,t,r,n,o)=>{const i=e.formatter.get(t),s=i[0],a=e.dom,l=e.selection,c=n=>{const a=((e,t,r,n,o)=>{let i;return t.parentNode&&q(Zd(e.dom,t.parentNode).reverse(),(t=>{if(!i&&Tn(t)&&"_start"!==t.id&&"_end"!==t.id){const s=Ig(e,t,r,n,o);s&&!1!==s.split&&(i=t)}})),i})(e,n,t,r,o);return((e,t,r,n,o,i,s,a)=>{var l,c;let h,d;const u=e.dom;if(r){const i=r.parentNode;for(let r=n.parentNode;r&&r!==i;r=r.parentNode){let n=u.clone(r,!1);for(let r=0;r<t.length&&(n=_v(e,t[r],a,n),null!==n);r++);n&&(h&&n.appendChild(h),d||(d=n),h=n)}s.mixed&&u.isBlock(r)||(n=null!==(l=u.split(r,n))&&void 0!==l?l:n),h&&d&&(null===(c=o.parentNode)||void 0===c||c.insertBefore(h,o),d.appendChild(o),Jd(s)&&nv(e,s,0,h))}return n})(e,i,a,n,n,0,s,r)},h=t=>G(i,(n=>xv(e,n,r,t,t))),d=t=>{const r=he(t.childNodes),n=h(t)||G(i,(e=>Og(a,t,e))),o=t.parentNode;if(!n&&x(o)&&Qd(s)&&h(o),s.deep&&r.length)for(let e=0;e<r.length;e++)d(r[e]);q(["underline","line-through","overline"],(r=>{Tn(t)&&e.dom.getStyle(t,"text-decoration")===r&&t.parentNode&&$d(a,t.parentNode)===r&&xv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:r}},void 0,t)}))},u=e=>{const t=a.get(e?"_start":"_end");if(t){let r=t[e?"firstChild":"lastChild"];return(e=>dd(e)&&Tn(e)&&("_start"===e.id||"_end"===e.id))(r)&&(r=r[e?"firstChild":"lastChild"]),Ln(r)&&0===r.data.length&&(r=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),a.remove(t,!0),r}return null},p=t=>{let r,n,o=fu(a,t,i,t.collapsed);if(s.split){if(o=op(o),r=uv(e,o,!0),n=uv(e,o),r!==n){if(r=pv(r,!0),n=pv(n,!1),dv(a,r,n)){const e=N.from(r.firstChild).getOr(r);return c(mv(a,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void u(!0)}if(dv(a,n,r)){const e=N.from(n.lastChild).getOr(n);return c(mv(a,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void u(!1)}r=fv(a,r,"span",{id:"_start","data-mce-type":"bookmark"}),n=fv(a,n,"span",{id:"_end","data-mce-type":"bookmark"});const e=a.createRng();e.setStartAfter(r),e.setEndBefore(n),mu(a,e,(e=>{q(e,(e=>{dd(e)||dd(e.parentNode)||c(e)}))})),c(r),c(n),r=u(!0),n=u()}else r=n=c(r);o.startContainer=r.parentNode?r.parentNode:r,o.startOffset=a.nodeIndex(r),o.endContainer=n.parentNode?n.parentNode:n,o.endOffset=a.nodeIndex(n)+1}mu(a,o,(e=>{q(e,d)}))};if(n){if(Id(n)){const e=a.createRng();e.setStartBefore(n),e.setEndAfter(n),p(e)}else p(n);Cu(e,t,n,r)}else l.isCollapsed()&&Jd(s)&&!Cd(e).length?Gg(e,t,r,o):(Bd(e,(()=>Od(e,p)),(n=>Jd(s)&&Rg(e,t,r,n))),e.nodeChanged()),((e,t,r)=>{"removeformat"===t?q(Jg(e.selection),(t=>{q($g,(r=>e.dom.setStyle(t,r,""))),yv(e.dom,t)})):Zg(e.formatter,t).each((t=>{q(Jg(e.selection),(n=>bv(e.dom,n,t,r,null)))}))})(e,t,r),Cu(e,t,n,r)},Cv=Dt.each,Sv=Dt.each,kv=(e,t,r,n)=>{if(Sv(r.styles,((r,o)=>{e.setStyle(t,o,Gd(r,n))})),r.styles){const r=e.getAttrib(t,"style");r&&e.setAttrib(t,"data-mce-style",r)}},Av=(e,t,r,n)=>{const o=e.formatter.get(t),i=o[0],s=!n&&e.selection.isCollapsed(),a=e.dom,l=e.selection,c=(e,t=i)=>{_(t.onformat)&&t.onformat(e,t,r,n),kv(a,e,t,r),Sv(t.attributes,((t,n)=>{a.setAttrib(e,n,Gd(t,r))})),Sv(t.classes,(t=>{const n=Gd(t,r);a.hasClass(e,n)||a.addClass(e,n)}))},h=(e,t)=>{let r=!1;return Sv(e,(e=>!(!Xd(e)||("false"!==a.getContentEditable(t)||e.ceFalseOverride)&&(!x(e.collapsed)||e.collapsed===s)&&a.is(t,e.selector)&&!Jh(t)&&(c(t,e),r=!0,1)))),r},d=e=>{if(p(e)){const t=a.create(e);return c(t),t}return null},u=(n,s,a)=>{const l=[];let u=!0;const p=i.inline||i.block,f=d(p);mu(n,s,(s=>{let d;const m=s=>{let g=!1,v=u,y=!1;const b=s.parentNode,w=b.nodeName.toLowerCase(),_=n.getContentEditable(s);x(_)&&(v=u,u="true"===_,g=!0,y=jd(e,s));const E=u&&!g;if(Un(s)&&!((e,t,r,n)=>{if(Xl(e)&&Jd(t)&&r.parentNode){const t=$i(e.schema),o=((e,t)=>((e,t)=>{const r=e.dom;return r.parentNode?((e,t)=>J(e.dom.childNodes,(e=>t(ur(e)))).map(ur))(ur(r.parentNode),(r=>!gr(e,r)&&t(r))):N.none()})(e,(e=>Jh(e.dom))).isSome())(ur(r));return Ce(t,n)&&ri(ur(r.parentNode),!1)&&!o}return!1})(e,i,s,w))return d=null,void(Yd(i)&&n.remove(s));if((n=>(e=>Yd(e)&&!0===e.wrapper)(i)&&Ig(e,n,t,r))(s))d=null;else{if(((t,r,n)=>{const o=(e=>Yd(e)&&!0!==e.wrapper)(i)&&Vd(e.schema,t)&&zd(e,r,p);return n&&o})(s,w,E)){const e=n.rename(s,p);return c(e),l.push(e),void(d=null)}if(Xd(i)){let e=h(o,s);if(!e&&x(b)&&Qd(i)&&(e=h(o,b)),!Jd(i)||e)return void(d=null)}x(f)&&((t,r,o,s)=>{const l=t.nodeName.toLowerCase(),c=zd(e,p,l)&&zd(e,r,p),h=!a&&Ln(t)&&Eo(t.data),d=Jh(t),u=!Jd(i)||!n.isBlock(t);return(o||s)&&c&&!h&&!d&&u})(s,w,E,y)?(d||(d=n.clone(f,!1),b.insertBefore(d,s),l.push(d)),y&&g&&(u=v),d.appendChild(s)):(d=null,q(he(s.childNodes),m),g&&(u=v),d=null)}};q(s,m)})),!0===i.links&&q(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,i),q(he(e.childNodes),t)};t(e)})),q(l,(s=>{const a=(e=>{let t=0;return q(e.childNodes,(e=>{(e=>x(e)&&Ln(e)&&0===e.length)(e)||dd(e)||t++})),t})(s);!(l.length>1)&&n.isBlock(s)||0!==a?(Jd(i)||Yd(i)&&i.wrapper)&&(i.exact||1!==a||(s=(e=>J(e.childNodes,Rd).filter((e=>"false"!==n.getContentEditable(e)&&Og(n,e,i))).map((t=>{const r=n.clone(t,!1);return c(r),n.replace(r,e,!0),n.remove(t,!0),r})).getOr(e))(s)),((e,t,r,n)=>{Cv(t,(t=>{Jd(t)&&Cv(e.dom.select(t.inline,n),(n=>{ev(n)&&xv(e,t,r,n,t.exact?n:null)})),((e,t,r)=>{if(t.clear_child_styles){const n=t.links?"*:not(a)":"*";Qg(e.select(n,r),(r=>{ev(r)&&Fd(r)&&Qg(t.styles,((t,n)=>{e.setStyle(r,n,"")}))}))}})(e.dom,t,n)}))})(e,o,r,s),((e,t,r,n,o)=>{const i=o.parentNode;Ig(e,i,r,n)&&xv(e,t,n,o)||t.merge_with_parents&&i&&e.dom.getParent(i,(i=>!!Ig(e,i,r,n)&&(xv(e,t,n,o),!0)))})(e,i,t,r,s),((e,t,r,n)=>{if(t.styles&&t.styles.backgroundColor){const o=iv(e,"fontSize");ov(n,(e=>o(e)&&Fd(e)),sv(e,"backgroundColor",Gd(t.styles.backgroundColor,r)))}})(n,i,r,s),((e,t,r,n)=>{const o=t=>{if(Tn(t)&&Tn(t.parentNode)&&Fd(t)){const r=$d(e,t.parentNode);e.getStyle(t,"color")&&r?e.setStyle(t,"text-decoration",r):e.getStyle(t,"text-decoration")===r&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Dt.walk(n,o,"childNodes"),o(n))})(n,i,0,s),((e,t,r,n)=>{if(Jd(t)&&("sub"===t.inline||"sup"===t.inline)){const r=iv(e,"fontSize");ov(n,(e=>r(e)&&Fd(e)),sv(e,"fontSize",""));const o=Z(e.select("sup"===t.inline?"sub":"sup",n),Fd);e.remove(o,!0)}})(n,i,0,s),nv(e,i,0,s)):n.remove(s,!0)}))},f=Id(n)?n:l.getNode();if("false"===a.getContentEditable(f)&&!jd(e,f))return h(o,n=f),void Eu(e,t,n,r);if(i){if(n)if(Id(n)){if(!h(o,n)){const e=a.createRng();e.setStartBefore(n),e.setEndAfter(n),u(a,fu(a,e,o),!0)}}else u(a,n,!0);else s&&Jd(i)&&!Cd(e).length?((e,t,r)=>{let n;const o=e.selection,i=e.formatter.get(t);if(!i)return;const s=o.getRng();let a=s.startOffset;const l=s.startContainer.nodeValue;n=Qh(e.getBody(),o.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&a>0&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))){const n=o.getBookmark();s.collapse(!0);let a=fu(e.dom,s,i);a=op(a),e.formatter.apply(t,r,a),o.moveToBookmark(n)}else{let i=n?Ng(n):null;n&&(null==i?void 0:i.data)===Fg||(h=e.getDoc(),d=Lg(!0).dom,n=h.importNode(d,!0),i=n.firstChild,s.insertNode(n),a=1),e.formatter.apply(t,r,n),o.setCursorLocation(i,a)}var h,d})(e,t,r):(l.setRng(yg(l.getRng())),Bd(e,(()=>{Od(e,((e,t)=>{const r=t?e:fu(a,e,o);u(a,r,!1)}))}),B),e.nodeChanged()),Zg(e.formatter,t).each((t=>{q((e=>Z((e=>{const t=e.getSelectedBlocks(),r=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return Kg(r,t[0])&&Yg(r,t[0])?t:[];{const e=le(t).filter((e=>Kg(r,e))).toArray(),n=ce(t).filter((e=>Yg(r,e))).toArray(),o=t.slice(1,-1);return e.concat(o).concat(n)}})(e),Xg(e.dom)))(e.selection),(e=>kv(a,e,t,r)))}));((e,t)=>{Ee(qg,e)&&q(qg[e],(e=>{e(t)}))})(t,e)}Eu(e,t,n,r)},Pv=e=>Ee(e,"vars"),Tv=e=>e.selection.getStart(),Mv=(e,t,r,n,o)=>X(t,(t=>{const i=e.formatter.matchNode(t,r,null!=o?o:{},n);return!b(i)}),(t=>!!Tg(e,t,r)||!n&&x(e.formatter.matchNode(t,r,o,!0)))),Ov=(e,t)=>{const r=null!=t?t:Tv(e);return Z(Zd(e.dom,r),(e=>Tn(e)&&!Rn(e)))},Dv=(e,t,r)=>{const n=Ov(e,t);fe(r,((r,o)=>{const i=r=>{const i=Mv(e,n,o,r.similar,Pv(r)?r.vars:void 0),s=i.isSome();if(r.state.get()!==s){r.state.set(s);const e=i.getOr(t);Pv(r)?r.callback(s,{node:e,format:o,parents:n}):q(r.callbacks,(t=>t(s,{node:e,format:o,parents:n})))}};q([r.withSimilar,r.withoutSimilar],i),q(r.withVars,i)}))};function Iv(e){return Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(e)}function Rv(e,t){return Rv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rv(e,t)}function Fv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Bv(e,t,r){return Bv=Fv()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&Rv(o,r.prototype),o},Bv.apply(null,arguments)}function Nv(e){return function(e){if(Array.isArray(e))return Lv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Lv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lv(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vv=Object.hasOwnProperty,zv=Object.setPrototypeOf,Hv=Object.isFrozen,jv=Object.getPrototypeOf,Gv=Object.getOwnPropertyDescriptor,Uv=Object.freeze,qv=Object.seal,Wv=Object.create,$v="undefined"!=typeof Reflect&&Reflect,Zv=$v.apply,Kv=$v.construct;Zv||(Zv=function(e,t,r){return e.apply(t,r)}),Uv||(Uv=function(e){return e}),qv||(qv=function(e){return e}),Kv||(Kv=function(e,t){return Bv(e,Nv(t))});var Yv,Xv=ay(Array.prototype.forEach),Jv=ay(Array.prototype.pop),Qv=ay(Array.prototype.push),ey=ay(String.prototype.toLowerCase),ty=ay(String.prototype.match),ry=ay(String.prototype.replace),ny=ay(String.prototype.indexOf),oy=ay(String.prototype.trim),iy=ay(RegExp.prototype.test),sy=(Yv=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Kv(Yv,t)});function ay(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return Zv(e,t,n)}}function ly(e,t){zv&&zv(e,null);for(var r=t.length;r--;){var n=t[r];if("string"==typeof n){var o=ey(n);o!==n&&(Hv(t)||(t[r]=o),n=o)}e[n]=!0}return e}function cy(e){var t,r=Wv(null);for(t in e)Zv(Vv,e,[t])&&(r[t]=e[t]);return r}function hy(e,t){for(;null!==e;){var r=Gv(e,t);if(r){if(r.get)return ay(r.get);if("function"==typeof r.value)return ay(r.value)}e=jv(e)}return function(e){return console.warn("fallback value for",e),null}}var dy=Uv(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),uy=Uv(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),py=Uv(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fy=Uv(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),my=Uv(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),gy=Uv(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vy=Uv(["#text"]),yy=Uv(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),by=Uv(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),wy=Uv(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xy=Uv(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_y=qv(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ey=qv(/<%[\w\W]*|[\w\W]*%>/gm),Cy=qv(/^data-[\-\w.\u00B7-\uFFFF]/),Sy=qv(/^aria-[\-\w]+$/),ky=qv(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ay=qv(/^(?:\w+script|data):/i),Py=qv(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ty=qv(/^html$/i),My=function(){return"undefined"==typeof window?null:window},Oy=function(e,t){if("object"!==Iv(e)||"function"!=typeof e.createPolicy)return null;var r=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(r=t.currentScript.getAttribute(n));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Dy=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:My(),r=function(t){return e(t)};if(r.version="2.3.8",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n=t.document,o=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,h=t.NamedNodeMap,d=void 0===h?t.NamedNodeMap||t.MozNamedAttrMap:h,u=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,m=l.prototype,g=hy(m,"cloneNode"),v=hy(m,"nextSibling"),y=hy(m,"childNodes"),b=hy(m,"parentNode");if("function"==typeof s){var w=o.createElement("template");w.content&&w.content.ownerDocument&&(o=w.content.ownerDocument)}var x=Oy(f,n),_=x?x.createHTML(""):"",E=o,C=E.implementation,S=E.createNodeIterator,k=E.createDocumentFragment,A=E.getElementsByTagName,P=n.importNode,T={};try{T=cy(o).documentMode?o.documentMode:{}}catch(e){}var M={};r.isSupported="function"==typeof b&&C&&void 0!==C.createHTMLDocument&&9!==T;var O,D,I=_y,R=Ey,F=Cy,B=Sy,N=Ay,L=Py,V=ky,z=null,H=ly({},[].concat(Nv(dy),Nv(uy),Nv(py),Nv(my),Nv(vy))),j=null,G=ly({},[].concat(Nv(yy),Nv(by),Nv(wy),Nv(xy))),U=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,W=null,$=!0,Z=!0,K=!1,Y=!1,X=!1,J=!1,Q=!1,ee=!1,te=!1,re=!1,ne=!0,oe=!0,ie=!1,se={},ae=null,le=ly({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,he=ly({},["audio","video","img","source","image","track"]),de=null,ue=ly({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",ge=me,ve=!1,ye=["application/xhtml+xml","text/html"],be="text/html",we=null,xe=o.createElement("form"),_e=function(e){return e instanceof RegExp||e instanceof Function},Ee=function(e){we&&we===e||(e&&"object"===Iv(e)||(e={}),e=cy(e),z="ALLOWED_TAGS"in e?ly({},e.ALLOWED_TAGS):H,j="ALLOWED_ATTR"in e?ly({},e.ALLOWED_ATTR):G,de="ADD_URI_SAFE_ATTR"in e?ly(cy(ue),e.ADD_URI_SAFE_ATTR):ue,ce="ADD_DATA_URI_TAGS"in e?ly(cy(he),e.ADD_DATA_URI_TAGS):he,ae="FORBID_CONTENTS"in e?ly({},e.FORBID_CONTENTS):le,q="FORBID_TAGS"in e?ly({},e.FORBID_TAGS):{},W="FORBID_ATTR"in e?ly({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,$=!1!==e.ALLOW_ARIA_ATTR,Z=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,oe=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,V=e.ALLOWED_URI_REGEXP||V,ge=e.NAMESPACE||me,e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),O=O=-1===ye.indexOf(e.PARSER_MEDIA_TYPE)?be:e.PARSER_MEDIA_TYPE,D="application/xhtml+xml"===O?function(e){return e}:ey,Y&&(Z=!1),te&&(ee=!0),se&&(z=ly({},Nv(vy)),j=[],!0===se.html&&(ly(z,dy),ly(j,yy)),!0===se.svg&&(ly(z,uy),ly(j,by),ly(j,xy)),!0===se.svgFilters&&(ly(z,py),ly(j,by),ly(j,xy)),!0===se.mathMl&&(ly(z,my),ly(j,wy),ly(j,xy))),e.ADD_TAGS&&(z===H&&(z=cy(z)),ly(z,e.ADD_TAGS)),e.ADD_ATTR&&(j===G&&(j=cy(j)),ly(j,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&ly(de,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===le&&(ae=cy(ae)),ly(ae,e.FORBID_CONTENTS)),oe&&(z["#text"]=!0),X&&ly(z,["html","head","body"]),z.table&&(ly(z,["tbody"]),delete q.tbody),Uv&&Uv(e),we=e)},Ce=ly({},["mi","mo","mn","ms","mtext"]),Se=ly({},["foreignobject","desc","title","annotation-xml"]),ke=ly({},["title","style","font","a","script"]),Ae=ly({},uy);ly(Ae,py),ly(Ae,fy);var Pe=ly({},my);ly(Pe,gy);var Te=function(e){var t=b(e);t&&t.tagName||(t={namespaceURI:me,tagName:"template"});var r=ey(e.tagName),n=ey(t.tagName);return e.namespaceURI===fe?t.namespaceURI===me?"svg"===r:t.namespaceURI===pe?"svg"===r&&("annotation-xml"===n||Ce[n]):Boolean(Ae[r]):e.namespaceURI===pe?t.namespaceURI===me?"math"===r:t.namespaceURI===fe?"math"===r&&Se[n]:Boolean(Pe[r]):e.namespaceURI===me&&!(t.namespaceURI===fe&&!Se[n])&&!(t.namespaceURI===pe&&!Ce[n])&&!Pe[r]&&(ke[r]||!Ae[r])},Me=function(e){Qv(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=_}catch(t){e.remove()}}},Oe=function(e,t){try{Qv(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Qv(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!j[e])if(ee||te)try{Me(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},De=function(e){var t,r;if(Q)e="<remove></remove>"+e;else{var n=ty(e,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===O&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=x?x.createHTML(e):e;if(ge===me)try{t=(new p).parseFromString(i,O)}catch(e){}if(!t||!t.documentElement){t=C.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var s=t.body||t.documentElement;return e&&r&&s.insertBefore(o.createTextNode(r),s.childNodes[0]||null),ge===me?A.call(t,X?"html":"body")[0]:X?t.documentElement:s},Ie=function(e){return S.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Re=function(e){return e instanceof u&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},Fe=function(e){return"object"===Iv(a)?e instanceof a:e&&"object"===Iv(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Be=function(e,t,n){M[e]&&Xv(M[e],(function(e){e.call(r,t,n,we)}))},Ne=function(e){var t;if(Be("beforeSanitizeElements",e,null),Re(e))return Me(e),!0;if(iy(/[\u0080-\uFFFF]/,e.nodeName))return Me(e),!0;var n=D(e.nodeName);if(Be("uponSanitizeElement",e,{tagName:n,allowedTags:z}),e.hasChildNodes()&&!Fe(e.firstElementChild)&&(!Fe(e.content)||!Fe(e.content.firstElementChild))&&iy(/<[/\w]/g,e.innerHTML)&&iy(/<[/\w]/g,e.textContent))return Me(e),!0;if("select"===n&&iy(/<template/i,e.innerHTML))return Me(e),!0;if(!z[n]||q[n]){if(!q[n]&&Ve(n)){if(U.tagNameCheck instanceof RegExp&&iy(U.tagNameCheck,n))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(n))return!1}if(oe&&!ae[n]){var o=b(e)||e.parentNode,i=y(e)||e.childNodes;if(i&&o)for(var s=i.length-1;s>=0;--s)o.insertBefore(g(i[s],!0),v(e))}return Me(e),!0}return e instanceof l&&!Te(e)?(Me(e),!0):"noscript"!==n&&"noembed"!==n||!iy(/<\/no(script|embed)/i,e.innerHTML)?(Y&&3===e.nodeType&&(t=e.textContent,t=ry(t,I," "),t=ry(t,R," "),e.textContent!==t&&(Qv(r.removed,{element:e.cloneNode()}),e.textContent=t)),Be("afterSanitizeElements",e,null),!1):(Me(e),!0)},Le=function(e,t,r){if(ne&&("id"===t||"name"===t)&&(r in o||r in xe))return!1;if(Z&&!W[t]&&iy(F,t));else if($&&iy(B,t));else if(!j[t]||W[t]){if(!(Ve(e)&&(U.tagNameCheck instanceof RegExp&&iy(U.tagNameCheck,e)||U.tagNameCheck instanceof Function&&U.tagNameCheck(e))&&(U.attributeNameCheck instanceof RegExp&&iy(U.attributeNameCheck,t)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(t))||"is"===t&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&iy(U.tagNameCheck,r)||U.tagNameCheck instanceof Function&&U.tagNameCheck(r))))return!1}else if(de[t]);else if(iy(V,ry(r,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==ny(r,"data:")||!ce[e])if(K&&!iy(N,ry(r,L,"")));else if(r)return!1;return!0},Ve=function(e){return e.indexOf("-")>0},ze=function(e){var t,r,n,o;Be("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(o=i.length;o--;){var a=t=i[o],l=a.name,c=a.namespaceURI;r="value"===l?t.value:oy(t.value),n=D(l);var h=r;if(s.attrName=n,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,Be("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(iy(/\/>/i,r))Oe(l,e);else{Y&&(r=ry(r,I," "),r=ry(r,R," "));var d=D(e.nodeName);if(Le(d,n,r)){if(r!==h)try{c?e.setAttributeNS(c,l,r):e.setAttribute(l,r)}catch(t){Oe(l,e)}}else Oe(l,e)}else Oe(l,e)}Be("afterSanitizeAttributes",e,null)}},He=function e(t){var r,n=Ie(t);for(Be("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)Be("uponSanitizeShadowNode",r,null),Ne(r)||(r.content instanceof i&&e(r.content),ze(r));Be("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(e,o){var s,l,c,h,d;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Fe(e)){if("function"!=typeof e.toString)throw sy("toString is not a function");if("string"!=typeof(e=e.toString()))throw sy("dirty is not a string, aborting")}if(!r.isSupported){if("object"===Iv(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Fe(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||Ee(o),r.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var u=D(e.nodeName);if(!z[u]||q[u])throw sy("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(l=(s=De("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!Y&&!X&&-1===e.indexOf("<"))return x&&re?x.createHTML(e):e;if(!(s=De(e)))return ee?null:re?_:""}s&&Q&&Me(s.firstChild);for(var p=Ie(ie?e:s);c=p.nextNode();)3===c.nodeType&&c===h||Ne(c)||(c.content instanceof i&&He(c.content),ze(c),h=c);if(h=null,ie)return e;if(ee){if(te)for(d=k.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return j.shadowroot&&(d=P.call(n,d,!0)),d}var f=X?s.outerHTML:s.innerHTML;return X&&z["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&iy(Ty,s.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+f),Y&&(f=ry(f,I," "),f=ry(f,R," ")),x&&re?x.createHTML(f):f},r.setConfig=function(e){Ee(e),J=!0},r.clearConfig=function(){we=null,J=!1},r.isValidAttribute=function(e,t,r){we||Ee({});var n=D(e),o=D(t);return Le(n,o,r)},r.addHook=function(e,t){"function"==typeof t&&(M[e]=M[e]||[],Qv(M[e],t))},r.removeHook=function(e){if(M[e])return Jv(M[e])},r.removeHooks=function(e){M[e]&&(M[e]=[])},r.removeAllHooks=function(){M={}},r}();const Iy=Dt.explode,Ry=()=>{const e={};return{addFilter:(t,r)=>{q(Iy(t),(t=>{Ee(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(r)}))},getFilters:()=>xe(e),removeFilter:(t,r)=>{q(Iy(t),(t=>{if(Ee(e,t))if(x(r)){const n=e[t],o=Z(n.callbacks,(e=>e!==r));o.length>0?n.callbacks=o:delete e[t]}else delete e[t]}))}}},Fy=e=>{const[t,...r]=e.split(","),n=r.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const e=";base64"===o[2],t=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(n):decodeURIComponent(n);return N.some({type:o[1],data:t,base64Encoded:e})}return N.none()},By=(e,t,r=!0)=>{let n=t;if(r)try{n=atob(t)}catch(e){return N.none()}const o=new Uint8Array(n.length);for(let e=0;e<o.length;e++)o[e]=n.charCodeAt(e);return N.some(new Blob([o],{type:e}))},Ny=e=>new Promise(((t,r)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)},n.onerror=()=>{var e;r(null===(e=n.error)||void 0===e?void 0:e.message)},n.readAsDataURL(e)}));let Ly=0;const Vy=(e,t,r)=>Fy(e).bind((({data:e,type:n,base64Encoded:o})=>{if(t&&!o)return N.none();{const t=o?e:btoa(e);return r(t,n)}})),zy=(e,t,r)=>{const n=e.create("blobid"+Ly++,t,r);return e.add(n),n},Hy=(e,t,r=!1)=>Vy(t,r,((t,r)=>N.from(e.getByData(t,r)).orThunk((()=>By(r,t).map((r=>zy(e,r,t))))))),jy=Dt.each,Gy=Dt.trim,Uy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],qy={ftp:21,http:80,https:443,mailto:25},Wy=["img","video"],$y=(e,t,r)=>{const n=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t);return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(n)||!e.allow_html_data_urls&&(/^data:image\//i.test(n)?((e,t)=>x(e)?!e:!x(t)||!j(Wy,t))(e.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)))};class Zy{constructor(e,t={}){this.path="",this.directory="",e=Gy(e),this.settings=t;const r=t.base_uri,n=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(n.source=e);const o=0===e.indexOf("//");if(0!==e.indexOf("/")||o||(e=(r&&r.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=r?r.path:new Zy(document.location.href).directory;if(""===(null==r?void 0:r.protocol))e="//mce_host"+n.toAbsPath(t,e);else{const o=/([^#?]*)([#?]?.*)/.exec(e);o&&(e=(r&&r.protocol||"http")+"://mce_host"+n.toAbsPath(t,o[1])+o[2])}}e=e.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);i&&jy(Uy,((e,t)=>{let r=i[t];r&&(r=r.replace(/\(mce_at\)/g,"@@")),n[e]=r})),r&&(n.protocol||(n.protocol=r.protocol),n.userInfo||(n.userInfo=r.userInfo),n.port||"mce_host"!==n.host||(n.port=r.port),n.host&&"mce_host"!==n.host||(n.host=r.host),n.source=""),o&&(n.protocol="")}static parseDataUri(e){let t;const r=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(r[0]);return n&&(t=n[1]),{type:t,data:r[1]}}static isDomSafe(e,t,r={}){if(r.allow_script_urls)return!0;{const n=Bi.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!$y(r,n,t)}}static getDocumentBaseUrl(e){var t;let r;return r=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new Zy(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const r=this.getURI(),n=t.getURI();if(r===n||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===n)return r;let o=this.toRelPath(this.path,t.path);return t.query&&(o+="?"+t.query),t.anchor&&(o+="#"+t.anchor),o}toAbsolute(e,t){const r=new Zy(e,{base_uri:this});return r.getURI(t&&this.isSameOrigin(r))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?qy[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let r,n,o=0,i="";const s=e.substring(0,e.lastIndexOf("/")).split("/"),a=t.split("/");if(s.length>=a.length)for(r=0,n=s.length;r<n;r++)if(r>=a.length||s[r]!==a[r]){o=r+1;break}if(s.length<a.length)for(r=0,n=a.length;r<n;r++)if(r>=s.length||s[r]!==a[r]){o=r+1;break}if(1===o)return t;for(r=0,n=s.length-(o-1);r<n;r++)i+="../";for(r=o-1,n=a.length;r<n;r++)i+=r!==o-1?"/"+a[r]:a[r];return i}toAbsPath(e,t){let r=0;const n=/\/$/.test(t)?"/":"",o=e.split("/"),i=t.split("/"),s=[];jy(o,(e=>{e&&s.push(e)}));const a=[];for(let e=i.length-1;e>=0;e--)0!==i[e].length&&"."!==i[e]&&(".."!==i[e]?r>0?r--:a.push(i[e]):r++);const l=s.length-r;let c;return c=l<=0?ne(a).join("/"):s.slice(0,l).join("/")+"/"+ne(a).join("/"),0!==c.indexOf("/")&&(c="/"+c),n&&c.lastIndexOf("/")!==c.length-1&&(c+=n),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const Ky=Dt.makeMap,Yy=Dt.extend,Xy={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},Jy=Dt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Qy="data-mce-type",eb=(e,t,r)=>{const n=e.name,o=n in r&&"title"!==n&&"textarea"!==n,i=t.childNodes;for(let t=0,n=i.length;t<n;t++){const n=i[t],s=new lf(n.nodeName.toLowerCase(),n.nodeType);if(Tn(n)){const e=n.attributes;for(let t=0,r=e.length;t<r;t++){const r=e[t];s.attr(r.name,r.value)}}else Ln(n)?(s.value=n.data,o&&(s.raw=!0)):(Hn(n)||Vn(n)||zn(n))&&(s.value=n.data);eb(s,n,r),e.append(s)}},tb=(e={},t=Ki())=>{const r=Ry(),n=Ry(),o={validate:!0,root_name:"body",...e},i=new DOMParser,s=((e,t)=>{const r=Dy(),n=t.getSpecialElements(),o=e.validate;let i=0;return r.addHook("uponSanitizeElement",((r,s)=>{var a,l,c;8===r.nodeType&&!e.allow_conditional_comments&&/^\[if/i.test(null!==(a=r.nodeValue)&&void 0!==a?a:"")&&(r.nodeValue=" "+r.nodeValue);const h=s.tagName;if(1!==r.nodeType||"body"===h)return;const d=ur(r),u=h.toLowerCase(),f=Kt(d,Qy),m=$t(d,"data-mce-bogus");if(!f&&p(m))return void("all"===m?rn(d):nn(d));const g=t.getElementRule(u);if(!o||g){if(s.allowedTags[h]=!0,o&&g&&!f){if(q(null!==(l=g.attributesForced)&&void 0!==l?l:[],(e=>{qt(d,e.name,"{$uid}"===e.value?"mce_"+i++:e.value)})),q(null!==(c=g.attributesDefault)&&void 0!==c?c:[],(e=>{Kt(d,e.name)||qt(d,e.name,"{$uid}"===e.value?"mce_"+i++:e.value)})),g.attributesRequired&&!G(g.attributesRequired,(e=>Kt(d,e))))return void nn(d);if(g.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(d))return void nn(d);g.outputName&&g.outputName!==u&&((e,t)=>{const r=((e,t)=>{const r=hr(t),n=Xt(e);return Wt(r,n),r})(e,t);Xr(e,r);const n=Pr(e);en(r,n),rn(e)})(d,g.outputName)}}else Ee(n,u)?rn(d):nn(d)})),r.addHook("uponSanitizeAttribute",((r,n)=>{const i=r.tagName.toLowerCase(),{attrName:s,attrValue:a}=n;n.keepAttr=!o||t.isValid(i,s)||He(s,"data-")||He(s,"aria-"),s in Jy&&$y(e,a,i)&&(n.keepAttr=!1),n.keepAttr?(n.allowedAttributes[s]=!0,s in t.getBoolAttrs()&&(n.attrValue=s),e.allow_svg_data_urls&&He(a,"data:image/svg+xml")&&(n.forceKeepAttr=!0)):!r.hasAttribute(Qy)||"id"!==s&&"class"!==s&&"style"!==s||(n.forceKeepAttr=!0)})),r})(o,t),a=r.addFilter,l=r.getFilters,c=r.removeFilter,h=n.addFilter,d=n.getFilters,u=n.removeFilter,f=(e,r)=>{const n=p(r.attr(Qy)),o=1===r.type&&!Ee(e,r.name)&&!((e,t)=>1===t.type&&di(e,t.name)&&p(t.attr(ni)))(t,r);return 3===r.type||o&&!n},m={schema:t,addAttributeFilter:h,getAttributeFilters:d,removeAttributeFilter:u,addNodeFilter:a,getNodeFilters:l,removeNodeFilter:c,parse:(e,r={})=>{var n;const a=o.validate,c=null!==(n=r.context)&&void 0!==n?n:o.root_name,h=((e,r,n="html")=>{const a="xhtml"===n?"application/xhtml+xml":"text/html",l=Ee(t.getSpecialElements(),r.toLowerCase()),c=l?`<${r}>${e}</${r}>`:e,h="xhtml"===n?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${c}</body></html>`:`<body>${c}</body>`,d=i.parseFromString(h,a).body;return s.sanitize(d,((e,t)=>{const r={...Xy};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r})(o,a)),s.removed=[],l?d.firstChild:d})(e,c,r.format);li(t,h);const u=new lf(c,11);eb(u,h,t.getSpecialElements()),h.innerHTML="";const[p,m]=((e,t,r,n)=>{const o=r.validate,i=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Yy(Ky("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=$i(t),c=/[ \t\r\n]+/g,h=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,u=e=>{let t=e.parent;for(;x(t);){if(t.name in s)return!0;t=t.parent}return!1},p=e=>e.name in a&&!fi(t,e),f=(t,r)=>{const o=r?t.prev:t.next;return!x(o)&&!w(t.parent)&&p(t.parent)&&(t.parent!==e||!0===n.isRootContent)};return[e=>{var t;if(3===e.type&&!u(e)){let r=null!==(t=e.value)&&void 0!==t?t:"";r=r.replace(c," "),(((e,t)=>x(e)&&(t(e)||"br"===e.name))(e.prev,p)||f(e,!0))&&(r=r.replace(h,"")),0===r.length?e.remove():e.value=r}},e=>{var r;if(1===e.type){const r=t.getElementRule(e.name);if(o&&r){const o=fg(t,i,s,e);r.paddInEmptyBlock&&o&&(e=>{let r=e;for(;x(r);){if(r.name in l)return fg(t,i,s,r);r=r.parent}return!1})(e)?ug(n,p,e):r.removeEmpty&&o?p(e)?e.remove():e.unwrap():r.paddEmpty&&(o||(e=>{var t;return pg(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===Qn})(e))&&ug(n,p,e)}}else if(3===e.type&&!u(e)){let t=null!==(r=e.value)&&void 0!==r?r:"";(e.next&&p(e.next)||f(e,!1))&&(t=t.replace(d,"")),0===t.length?e.remove():e.value=t}}]})(u,t,o,r),g=[],v=a?e=>((e,r)=>{vg(t,e)&&r.push(e)})(e,g):S,y={nodes:{},attributes:{}},b=e=>cg(l(),d(),e,y);if(((e,t,r)=>{const n=[];for(let r=e,o=r;r;o=r,r=r.walk()){const i=r;q(t,(e=>e(i))),w(i.parent)&&i!==e?r=o:n.push(i)}for(let e=n.length-1;e>=0;e--){const t=n[e];q(r,(e=>e(t)))}})(u,[p,b],[m,v]),g.reverse(),a&&g.length>0)if(r.context){const{pass:e,fail:n}=$(g,(e=>e.parent===u));gg(n,t,b),r.invalid=e.length>0}else gg(g,t,b);const _=((e,t)=>{var r;const n=null!==(r=t.forced_root_block)&&void 0!==r?r:e.forced_root_block;return!1===n?"":!0===n?"p":n})(o,r);return _&&("body"===u.name||r.isRootContent)&&((e,r)=>{const n=Yy(Ky("script,style,head,html,body,title,meta,param"),t.getBlockElements()),i=/^[ \t\r\n]+/,s=/[ \t\r\n]+$/;let a=e.firstChild,l=null;const c=e=>{var t,r;e&&(a=e.firstChild,a&&3===a.type&&(a.value=null===(t=a.value)||void 0===t?void 0:t.replace(i,"")),a=e.lastChild,a&&3===a.type&&(a.value=null===(r=a.value)||void 0===r?void 0:r.replace(s,"")))};if(t.isValidChild(e.name,r.toLowerCase())){for(;a;){const t=a.next;f(n,a)?(l||(l=new lf(r,1),l.attr(o.forced_root_block_attrs),e.insert(l,a)),l.append(a)):(c(l),l=null),a=t}c(l)}})(u,_),r.invalid||hg(y,r),u}};return((e,t)=>{const r=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",((e,t,n)=>{const o=Dt.extend({},r.getBlockElements()),i=r.getNonEmptyElements(),s=r.getWhitespaceElements();o.body=1;const a=e=>e.name in o&&fi(r,e);for(let t=0,l=e.length;t<l;t++){let l=e[t],c=l.parent;if(c&&o[c.name]&&l===c.lastChild){let e=l.prev;for(;e;){const t=e.name;if("span"!==t||"bookmark"!==e.attr("data-mce-type")){"br"===t&&(l=null);break}e=e.prev}if(l&&(l.remove(),fg(r,i,s,c))){const e=r.getElementRule(c.name);e&&(e.removeEmpty?c.remove():e.paddEmpty&&ug(n,a,c))}}else{let e=l;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!o[c.name]);)c=c.parent;if(e===c){const e=new lf("#text",3);e.value=Qn,l.replace(e)}}}})),e.addAttributeFilter("href",(e=>{let r=e.length;const n=e=>{const t=e?Dt.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;r--;){const t=e[r];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",n(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,r,n,o,i=e.length;for(;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href"))for(n=o.parent,t=o.lastChild;t&&n;)r=t.prev,n.insert(t,o),t=r})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,r,n=e.length;for(;n--;)if(t=e[n],r=t.parent,r&&("ul"===r.name||"ol"===r.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new lf("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const n=r.getValidClasses();t.validate&&n&&e.addAttributeFilter("class",(e=>{var t;let r=e.length;for(;r--;){const o=e[r],i=null!==(t=o.attr("class"))&&void 0!==t?t:"",s=Dt.explode(i," ");let a="";for(let e=0;e<s.length;e++){const t=s[e];let r=!1,i=n["*"];i&&i[t]&&(r=!0),i=n[o.name],!r&&i&&i[t]&&(r=!0),r&&(a&&(a+=" "),a+=t)}a.length||(a=null),o.attr("class",a)}})),((e,t)=>{const{blob_cache:r}=t;if(r){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===Pt.transparentSrc||x(e.attr("data-mce-placeholder")))(e)||(e=>x(e.attr("data-mce-bogus")))(e)||w(t)||Hy(r,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>q(e,t)))}})(e,t)})(m,o),((e,t,r)=>{t.inline_styles&&((e,t,r)=>{var n;const o=Yi();t.convert_fonts_to_spans&&((e,t,r)=>{e.addNodeFilter("font",(e=>{q(e,(e=>{const n=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),s=e.attr("size");o&&(n.color=o),i&&(n["font-family"]=i),s&&Ke(s).each((e=>{n["font-size"]=r[e-1]})),e.name="span",e.attr("style",t.serialize(n)),((e,t)=>{q(["color","face","size"],(t=>{e.attr(t,null)}))})(e)}))}))})(e,o,Dt.explode(null!==(n=t.font_size_legacy_values)&&void 0!==n?n:"")),((e,t,r)=>{e.addNodeFilter("strike",(e=>{const n="html4"!==t.type;q(e,(e=>{if(n)e.name="s";else{const t=r.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",r.serialize(t))}}))}))})(e,r,o)})(e,t,r)})(m,o,t),m},rb=(e,t)=>{const r=(e=>Cg(e)?vf({validate:!1}).serialize(e):e)(e),n=t(r);if(n.isDefaultPrevented())return n;if(Cg(e)){if(n.content!==r){const t=tb({validate:!1,forced_root_block:!1}).parse(n.content,{context:e.name});return{...n,content:t}}return{...n,content:e}}return n},nb=(e,t)=>{if(t.no_events)return Ua.value(t);{const r=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return r.isDefaultPrevented()?Ua.error(ku(e,{content:"",...r}).content):Ua.value(r)}},ob=(e,t,r)=>r.no_events?t:rb(t,(t=>ku(e,{...r,content:t}))).content,ib=(e,t)=>{if(t.no_events)return Ua.value(t);{const r=rb(t.content,(r=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:r})));return r.isDefaultPrevented()?(Su(e,r),Ua.error(void 0)):Ua.value(r)}},sb=(e,t,r)=>{r.no_events||Su(e,{...r,content:t})},ab=(e,t,r)=>({element:e,width:t,rows:r}),lb=(e,t)=>({element:e,cells:t}),cb=(e,t)=>({x:e,y:t}),hb=(e,t)=>Zt(e,t).bind(Ke).getOr(1),db=(e,t,r)=>{const n=e.rows;return!!(n[r]?n[r].cells:[])[t]},ub=e=>Y(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),pb=(e,t)=>{const r=e.rows;for(let e=0;e<r.length;e++){const n=r[e].cells;for(let r=0;r<n.length;r++)if(gr(n[r],t))return N.some(cb(r,e))}return N.none()},fb=(e,t,r,n,o)=>{const i=[],s=e.rows;for(let e=r;e<=o;e++){const r=s[e].cells,o=t<n?r.slice(t,n+1):r.slice(n,t+1);i.push(lb(s[e].element,o))}return i},mb=e=>((e,t)=>{const r=js(e.element),n=hr("tbody");return en(n,t),Qr(r,n),r})(e,(e=>U(e.rows,(e=>{const t=U(e.cells,(e=>{const t=Gs(e);return Yt(t,"colspan"),Yt(t,"rowspan"),t})),r=js(e.element);return en(r,t),r})))(e)),gb=()=>$u([]),vb=(e,t)=>t>=0&&t<e.length&&pd(e.charAt(t)),yb=e=>Co(e.innerText),bb=e=>Tn(e)?e.outerHTML:Ln(e)?Bi.encodeRaw(e.data,!1):Hn(e)?"\x3c!--"+e.data+"--\x3e":"",wb=Re((()=>document.implementation.createHTMLDocument("undo"))),xb=e=>{const t=(r=e.getBody(),Z(U(he(r.childNodes),bb),(e=>e.length>0)));var r;const n=te(t,(t=>{const r=df(e.serializer,t);return r.length>0?[r]:[]})),o=n.join("");return(e=>-1!==e.indexOf("</iframe>"))(o)?(e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}))(n):(e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}))(o)},_b=(e,t,r)=>{const n=r?t.beforeBookmark:t.bookmark;"fragmented"===t.type?((e,t)=>{((e,t)=>{let r=0;q(e,(e=>{0===e[0]?r++:1===e[0]?(((e,t,r)=>{const n=(e=>{let t;const r=document.createElement("div"),n=document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)n.appendChild(t);return n})(t);if(e.hasChildNodes()&&r<e.childNodes.length){const t=e.childNodes[r];e.insertBefore(n,t)}else e.appendChild(n)})(t,e[1],r),r++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const r=e.childNodes[t];e.removeChild(r)}})(t,r)}))})(((e,t)=>{const r=e.length+t.length+2,n=new Array(r),o=new Array(r),i=(r,n,o,s,l)=>{const c=a(r,n,o,s);if(null===c||c.start===n&&c.diag===n-s||c.end===r&&c.diag===r-o){let i=r,a=o;for(;i<n||a<s;)i<n&&a<s&&e[i]===t[a]?(l.push([0,e[i]]),++i,++a):n-r>s-o?(l.push([2,e[i]]),++i):(l.push([1,t[a]]),++a)}else{i(r,c.start,o,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);i(c.end,n,c.end-c.diag,s,l)}},s=(r,n,o,i)=>{let s=r;for(;s-n<i&&s<o&&e[s]===t[s-n];)++s;return((e,t,r)=>({start:e,end:t,diag:r}))(r,s,n)},a=(r,i,a,l)=>{const c=i-r,h=l-a;if(0===c||0===h)return null;const d=c-h,u=h+c,p=(u%2==0?u:u+1)/2;let f,m,g,v,y;for(n[1+p]=r,o[1+p]=i+1,f=0;f<=p;++f){for(m=-f;m<=f;m+=2){for(g=m+p,m===-f||m!==f&&n[g-1]<n[g+1]?n[g]=n[g+1]:n[g]=n[g-1]+1,v=n[g],y=v-r+a-m;v<i&&y<l&&e[v]===t[y];)n[g]=++v,++y;if(d%2!=0&&d-f<=m&&m<=d+f&&o[g-d]<=n[g])return s(o[g-d],m+r-a,i,l)}for(m=d-f;m<=d+f;m+=2){for(g=m+p-d,m===d-f||m!==d+f&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],v=o[g]-1,y=v-r+a-m;v>=r&&y>=a&&e[v]===t[y];)o[g]=v--,y--;if(d%2==0&&-f<=m&&m<=f&&o[g]<=n[g+d])return s(o[g],m+r-a,i,l)}}return null},l=[];return i(0,e.length,0,t.length,l),l})(U(he(t.childNodes),bb),e),t)})(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!x(n)||!td(n)||!n.isFakeCaret}),n&&(e.selection.moveToBookmark(n),e.selection.scrollIntoView())},Eb=e=>"fragmented"===e.type?e.fragments.join(""):e.content,Cb=e=>{const t=hr("body",wb());return an(t,Eb(e)),q(to(t,"*[data-mce-bogus]"),nn),sn(t)},Sb=(e,t)=>!(!e||!t)&&(!!((e,t)=>Eb(e)===Eb(t))(e,t)||((e,t)=>Cb(e)===Cb(t))(e,t)),kb=e=>0===e.get(),Ab=(e,t,r)=>{kb(r)&&(e.typing=t)},Pb=(e,t)=>{e.typing&&(Ab(e,!1,t),e.add())},Tb=e=>({init:{bindEvents:S},undoManager:{beforeChange:(t,r)=>((e,t,r)=>{kb(t)&&r.set(Ha(e.selection))})(e,t,r),add:(t,r,n,o,i,s)=>((e,t,r,n,o,i,s)=>{const a=xb(e),l=Dt.extend(i||{},a);if(!kb(n)||e.removed)return null;const c=t.data[r.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:s}).isDefaultPrevented())return null;if(c&&Sb(c,l))return null;t.data[r.get()]&&o.get().each((e=>{t.data[r.get()].beforeBookmark=e}));const h=ic(e);if(h&&t.data.length>h){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,r.set(t.data.length)}l.bookmark=Ha(e.selection),r.get()<t.data.length-1&&(t.data.length=r.get()+1),t.data.push(l),r.set(t.data.length-1);const d={level:l,lastLevel:c,originalEvent:s};return r.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",d),e.dispatch("change",d)):e.dispatch("AddUndo",d),l})(e,t,r,n,o,i,s),undo:(t,r,n)=>((e,t,r,n)=>{let o;return t.typing&&(t.add(),t.typing=!1,Ab(t,!1,r)),n.get()>0&&(n.set(n.get()-1),o=t.data[n.get()],_b(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o})(e,t,r,n),redo:(t,r)=>((e,t,r)=>{let n;return t.get()<r.length-1&&(t.set(t.get()+1),n=r[t.get()],_b(e,n,!1),e.setDirty(!0),e.dispatch("Redo",{level:n})),n})(e,t,r),clear:(t,r)=>((e,t,r)=>{t.data=[],r.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,r),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,r)=>((e,t,r)=>r.get()>0||t.typing&&t.data[0]&&!Sb(xb(e),t.data[0]))(e,t,r),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,r)=>((e,t,r)=>(Pb(e,t),e.beforeChange(),e.ignore(r),e.add()))(e,t,r),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,r,n,o)=>((e,t,r,n,o)=>{if(t.transact(n)){const n=t.data[r.get()].bookmark,i=t.data[r.get()-1];_b(e,i,!0),t.transact(o)&&(t.data[r.get()-1].beforeBookmark=n)}})(e,t,r,n,o)},formatter:{match:(t,r,n,o)=>Rg(e,t,r,n,o),matchAll:(t,r)=>((e,t,r)=>{const n=[],o={},i=e.selection.getStart();return e.dom.getParent(i,(i=>{for(let s=0;s<t.length;s++){const a=t[s];!o[a]&&Ig(e,i,a,r)&&(o[a]=!0,n.push(a))}}),e.dom.getRoot()),n})(e,t,r),matchNode:(t,r,n,o)=>Ig(e,t,r,n,o),canApply:t=>((e,t)=>{const r=e.formatter.get(t),n=e.dom;if(r){const t=e.selection.getStart(),o=Zd(n,t);for(let e=r.length-1;e>=0;e--){const t=r[e];if(!Xd(t))return!0;for(let e=o.length-1;e>=0;e--)if(n.is(o[e],t.selector))return!0}}return!1})(e,t),closest:t=>((e,t)=>{const r=t=>gr(t,ur(e.getBody()));return N.from(e.selection.getStart(!0)).bind((n=>Ag(ur(n),(r=>de(t,(t=>((t,r)=>Ig(e,t.dom,r)?N.some(r):N.none())(r,t)))),r))).getOrNull()})(e,t),apply:(t,r,n)=>Av(e,t,r,n),remove:(t,r,n,o)=>Ev(e,t,r,n,o),toggle:(t,r,n)=>((e,t,r,n)=>{const o=e.formatter.get(t);o&&(!Rg(e,t,r,n)||"toggle"in o[0]&&!o[0].toggle?Av(e,t,r,n):Ev(e,t,r,n))})(e,t,r,n),formatChanged:(t,r,n,o,i)=>((e,t,r,n,o,i)=>(((e,t,r,n,o,i)=>{const s=t.get();q(r.split(","),(t=>{const r=_e(s,t).getOrThunk((()=>{const e={withSimilar:{state:ys(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ys(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e,e})),a=()=>{const r=Ov(e);return Mv(e,r,t,o,i).isSome()};if(b(i)){const e=o?r.withSimilar:r.withoutSimilar;e.callbacks.push(n),1===e.callbacks.length&&e.state.set(a())}else r.withVars.push({state:ys(a()),similar:o,vars:i,callback:n})})),t.set(s)})(e,t,r,n,o,i),{unbind:()=>((e,t,r)=>{const n=e.get();q(t.split(","),(e=>_e(n,e).each((t=>{n[e]={withSimilar:{...t.withSimilar,callbacks:Z(t.withSimilar.callbacks,(e=>e!==r))},withoutSimilar:{...t.withoutSimilar,callbacks:Z(t.withoutSimilar.callbacks,(e=>e!==r))},withVars:Z(t.withVars,(e=>e.callback!==r))}})))),e.set(n)})(t,r,n)}))(e,t,r,n,o,i)},editor:{getContent:t=>((e,t)=>N.from(e.getBody()).fold(P("tree"===t.format?new lf("body",11):""),(r=>((e,t,r)=>{let n;return n="raw"===t.format?Dt.trim(uf(e.serializer,r.innerHTML)):"text"===t.format?((e,t)=>{const r=e.getDoc(),n=Br(ur(e.getBody())),o=hr("div",r);qt(o,"data-mce-bogus","all"),Ur(o,{position:"fixed",left:"-9999999px",top:"0"}),an(o,t.innerHTML),pf(o),ff(o);const i=(e=>Ir(e)?e:ur(br(e).dom.body))(n);Qr(i,o);const s=Co(o.dom.innerText);return rn(o),s})(e,r):"tree"===t.format?e.serializer.serialize(r,t):((e,t)=>{const r=ul(e),n=new RegExp(`^(<${r}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${r}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(n,"")})(e,e.serializer.serialize(r,t)),"text"!==t.format&&!go(ur(r))&&p(n)?Dt.trim(n):n})(e,t,r))))(e,t),setContent:(t,r)=>((e,t,r)=>N.from(e.getBody()).map((n=>Cg(t)?((e,t,r,n)=>{dg(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),r);const o=vf({validate:!1},e.schema).serialize(r),i=go(ur(t))?o:Dt.trim(o);return Sg(e,i,n.no_selection),{content:r,html:i}})(e,n,t,r):((e,t,r,n)=>{if(0===r.length||/^\s+$/.test(r)){const o='<br data-mce-bogus="1">';"TABLE"===t.nodeName?r="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(r="<li>"+o+"</li>");const i=ul(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(r=o,r=e.dom.createHTML(i,pl(e),r)):r||(r=o),Sg(e,r,n.no_selection),{content:r,html:r}}{"raw"!==n.format&&(r=vf({validate:!1},e.schema).serialize(e.parser.parse(r,{isRootContent:!0,insert:!0})));const o=go(ur(t))?r:Dt.trim(r);return Sg(e,o,n.no_selection),{content:o,html:o}}})(e,n,t,r))).getOr({content:t,html:Cg(r.content)?"":r.content}))(e,t,r),insertContent:(t,r)=>Eg(e,t,r),addVisual:t=>((e,t)=>{const r=e.dom,n=x(t)?t:e.getBody();q(r.select("table,a",n),(t=>{switch(t.nodeName){case"TABLE":const n=pc(e),o=r.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?r.removeClass(t,n):r.addClass(t,n);break;case"A":if(!r.getAttrib(t,"href")){const n=r.getAttrib(t,"name")||t.id,o=fc(e);n&&e.hasVisual?r.addClass(t,o):r.removeClass(t,o)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,r)=>((e,t,r={})=>{const n=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(r,t);return nb(e,n).fold(T,(t=>{const r=((e,t)=>{if("text"===t.format)return(e=>N.from(e.selection.getRng()).map((t=>{var r;const n=N.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),i=(e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase())(n),s=ur(t.cloneContents());pf(s),ff(s);const a=e.dom.add(o,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.dom),l=yb(a),c=Co(null!==(r=a.textContent)&&void 0!==r?r:"");if(e.dom.remove(a),vb(c,0)||vb(c,c.length-1)){const e=n.getOr(o),t=yb(e),r=t.indexOf(l);return-1===r?l:(vb(t,r-1)?" ":"")+l+(vb(t,r+l.length)?" ":"")}return l})).getOr(""))(e);{const r=((e,t)=>{const r=e.selection.getRng(),n=e.dom.create("body"),o=e.selection.getSel(),i=Jp(e,_d(o)),s=t.contextual?((e,t)=>{const r=Ed(t,e);return r.length>0?((e,t)=>((e,t)=>_n(t,"table",O(gr,e)))(e,t[0]).bind((e=>{const r=t[0],n=t[t.length-1],o=(e=>{const t=ab(js(e),0,[]);return q(to(e,"tr"),((e,r)=>{q(to(e,"td,th"),((n,o)=>{((e,t,r,n,o)=>{const i=hb(o,"rowspan"),s=hb(o,"colspan"),a=e.rows;for(let e=r;e<r+i;e++){a[e]||(a[e]=lb(Gs(n),[]));for(let n=t;n<t+s;n++)a[e].cells[n]=e===r&&n===t?o:js(o)}})(t,((e,t,r)=>{for(;db(e,t,r);)t++;return t})(t,o,r),r,e,n)}))})),ab(t.element,ub(t.rows),t.rows)})(e);return((e,t,r)=>pb(e,t).bind((t=>pb(e,r).map((r=>((e,t,r)=>{const n=t.x,o=t.y,i=r.x,s=r.y,a=o<s?fb(e,n,o,i,s):fb(e,n,s,i,o);return ab(e.element,ub(a),a)})(e,t,r))))))(o,r,n).map((e=>$u([mb(e)])))})).getOrThunk(gb))(e,r):((e,t)=>t.length>0&&t[0].collapsed?gb():((e,t)=>((e,t)=>{const r=Y(t,((e,t)=>(Qr(t,e),t)),e);return t.length>0?$u([r]):r})(ur(t.cloneContents()),((e,t)=>{const r=ur(t.commonAncestorContainer),n=Lf(r,e),o=Z(n,yo),i=((e,t)=>J(e,(e=>"li"===Bt(e)&&Pd(e,t))).fold(P([]),(t=>(e=>J(e,(e=>"ul"===Bt(e)||"ol"===Bt(e))))(e).map((e=>{const t=hr(Bt(e)),r=be(Zr(e),((e,t)=>He(t,"list-style")));return Ur(t,r),[hr("li"),t]})).getOr([]))))(n,t),s=o.concat(i.length?i:(e=>po(e)?xr(e).filter(uo).fold(P([]),(t=>[e,t])):uo(e)?[e]:[])(r));return U(s,js)})(e,t)))(e,t[0]))(e,t)})(ur(e.getBody()),i).dom:r.cloneContents();return s&&n.appendChild(s),e.selection.serializer.serialize(n,t)})(e,t);return"tree"===t.format?r:e.selection.isCollapsed()?"":r}})(e,t);return ob(e,r,t)}))})(e,t,r)},autocompleter:{addDecoration:t=>((e,t)=>{if(rf(ur(e.getBody())).isNone()){const n=cr('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Qr(n,ur(t.extractContents())),t.insertNode(n.dom),xr(n).each((e=>e.dom.normalize())),(r=n,((e,t)=>{const r=e=>{const n=Pr(e);for(let e=n.length-1;e>=0;e--){const o=n[e];if(t(o))return N.some(o);const i=r(o);if(i.isSome())return i}return N.none()};return r(e)})(r,ef)).map((t=>{e.selection.setCursorLocation(t.dom,(e=>"img"===Bt(e)?1:oo(e).fold((()=>Pr(e).length),(e=>e.length)))(t))}))}var r})(e,t),removeDecoration:()=>((e,t)=>rf(t).each((t=>{const r=e.selection.getBookmark();nn(t),e.selection.moveToBookmark(r)})))(e,ur(e.getBody()))},raw:{getModel:()=>N.none()}}),Mb=e=>Ee(e.plugins,"rtc"),Ob=e=>e.rtcInstance?e.rtcInstance:Tb(e),Db=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Ib=e=>Db(e).init.bindEvents(),Rb=e=>0===e.dom.length?(rn(e),N.none()):N.some(e),Fb=(e,t,r,n)=>{e.bind((e=>((n?fm:pm)(e.dom,n?e.dom.length:0),t.filter(zt).map((t=>((e,t,r,n)=>{const o=e.dom,i=t.dom,s=n?o.length:i.length;n?(mm(o,i,!1,!n),r.setStart(i,s)):(mm(i,o,!1,!n),r.setEnd(i,s))})(e,t,r,n)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>wu.isBookmarkNode(e.dom))).bind(t?Sr:Cr))(t,n).or(t).filter(zt);return e.map((e=>((e,t)=>{xr(e).each((r=>{const n=e.dom;t&&im(r,wa(n,0))?pm(n,0):!t&&sm(r,wa(n,n.length))&&fm(n,n.length)}))})(e,n)))}))},Bb=(e,t,r)=>{if(Ee(e,t)){const n=Z(e[t],(e=>e!==r));0===n.length?delete e[t]:e[t]=n}},Nb=e=>!(!e||!e.ownerDocument)&&vr(ur(e.ownerDocument),ur(e)),Lb=(e,t,r,n)=>{let o,i;const{selectorChangedWithUnbind:s}=((e,t)=>{let r,n;const o=(t,r)=>J(r,(r=>e.is(r,t))),i=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,s)=>(r||(r={},n={},t.on("NodeChange",(e=>{const t=e.element,s=i(t),a={};fe(r,((e,t)=>{o(t,s).each((r=>{n[t]||(q(e,(e=>{e(!0,{node:r,selector:t,parents:s})})),n[t]=e),a[t]=e}))})),fe(n,((e,r)=>{a[r]||(delete n[r],q(e,(e=>{e(!1,{node:t,selector:r,parents:s})})))}))}))),r[e]||(r[e]=[]),r[e].push(s),o(e,i(t.selection.getStart())).each((()=>{n[e]=r[e]})),{unbind:()=>{Bb(r,e,s),Bb(n,e,s)}})}})(e,n),a=(e,t)=>((e,t,r={})=>{const n=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(r,t);ib(e,n).each((t=>{const r=((e,t)=>{if("raw"!==t.format){const r=e.selection.getRng(),n=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock),o=n?{context:n.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,{forced_root_block:!1,...o,...t});return vf({validate:!1},e.schema).serialize(i)}return t.content})(e,t),n=e.selection.getRng();((e,t)=>{const r=N.from(t.firstChild).map(ur),n=N.from(t.lastChild).map(ur);e.deleteContents(),e.insertNode(t);const o=r.bind(Cr).filter(zt).bind(Rb),i=n.bind(Sr).filter(zt).bind(Rb);Fb(o,r,e,!0),Fb(i,n,e,!1),e.collapse(!1)})(n,n.createContextualFragment(r)),e.selection.setRng(n),Sp(e,n),sb(e,r,t)}))})(n,e,t),l=e=>{const t=h();t.collapse(!!e),d(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,h=()=>{let r;const s=(e,t,r)=>{try{return t.compareBoundaryPoints(e,r)}catch(e){return-1}},a=t.document;if(x(n.bookmark)&&!Wp(n)){const e=Bp(n);if(e.isSome())return e.map((e=>Jp(n,[e])[0])).getOr(a.createRange())}try{const e=c();e&&!Pn(e.anchorNode)&&(r=e.rangeCount>0?e.getRangeAt(0):a.createRange(),r=Jp(n,[r])[0])}catch(e){}if(r||(r=a.createRange()),jn(r.startContainer)&&r.collapsed){const t=e.getRoot();r.setStart(t,0),r.setEnd(t,0)}return o&&i&&(0===s(r.START_TO_START,r,o)&&0===s(r.END_TO_END,r,o)?r=i:(o=null,i=null)),r},d=(e,t)=>{if(!(e=>!!e&&Nb(e.startContainer)&&Nb(e.endContainer))(e))return;const r=c();if(e=n.dispatch("SetSelectionRange",{range:e,forward:t}).range,r){i=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),o=r.rangeCount>0?r.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==r?void 0:r.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(t,0,t,1))}n.dispatch("AfterSetSelectionRange",{range:e,forward:t})},u=()=>{const t=c(),r=null==t?void 0:t.anchorNode,n=null==t?void 0:t.focusNode;if(!t||!r||!n||Pn(r)||Pn(n))return!0;const o=e.createRng(),i=e.createRng();try{o.setStart(r,t.anchorOffset),o.collapse(!0),i.setStart(n,t.focusOffset),i.collapse(!0)}catch(e){return!0}return o.compareBoundaryPoints(o.START_TO_START,i)<=0},p={dom:e,win:t,serializer:r,editor:n,expand:(t={type:"word"})=>d(ip(e).expand(h(),t)),collapse:l,setCursorLocation:(t,r)=>{const o=e.createRng();x(t)&&x(r)?(o.setStart(t,r),o.setEnd(t,r),d(o),l(!1)):(Td(e,o,n.getBody(),!0),d(o))},getContent:e=>((e,t={})=>((e,t,r)=>Db(e).selection.getContent(t,r))(e,t.format?t.format:"html",t))(n,e),setContent:a,getBookmark:(e,t)=>f.getBookmark(e,t),moveToBookmark:e=>f.moveToBookmark(e),select:(t,r)=>(((e,t,r)=>N.from(t).bind((t=>N.from(t.parentNode).map((n=>{const o=e.nodeIndex(t),i=e.createRng();return i.setStart(n,o),i.setEnd(n,o+1),r&&(Td(e,i,t,!0),Td(e,i,t,!1)),i})))))(e,t,r).each(d),t),isCollapsed:()=>{const e=h(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:u,setNode:t=>(a(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let r=t.startContainer,n=t.endContainer;const o=t.startOffset,i=t.endOffset;let s=t.commonAncestorContainer;t.collapsed||(r===n&&i-o<2&&r.hasChildNodes()&&(s=r.childNodes[o]),Ln(r)&&Ln(n)&&(r=r.length===o?Xp(r.nextSibling,!0):r.parentNode,n=0===i?Xp(n.previousSibling,!1):n.parentNode,r&&r===n&&(s=r)));const a=Ln(s)?s.parentNode:s;return Tn(a)?a:e})(n.getBody(),h()),getSel:c,setRng:d,getRng:h,getStart:e=>Kp(n.getBody(),h(),e),getEnd:e=>Yp(n.getBody(),h(),e),getSelectedBlocks:(t,r)=>((e,t,r,n)=>{const o=[],i=e.getRoot(),s=e.getParent(r||Kp(i,t,t.collapsed),e.isBlock),a=e.getParent(n||Yp(i,t,t.collapsed),e.isBlock);if(s&&s!==i&&o.push(s),s&&a&&s!==a){let t=s;const r=new kn(s,i);for(;(t=r.next())&&t!==a;)e.isBlock(t)&&o.push(t)}return a&&s!==a&&a!==i&&o.push(a),o})(e,h(),t,r),normalize:()=>{const t=h(),r=c();if(!(_d(r).length>1)&&Md(n)){const r=rp(e,t);return r.each((e=>{d(e,u())})),r.getOr(t)}return t},selectorChanged:(e,t)=>(s(e,t),p),selectorChangedWithUnbind:s,getScrollContainer:()=>{let t,r=e.getRoot();for(;r&&"BODY"!==r.nodeName;){if(r.scrollHeight>r.clientHeight){t=r;break}r=r.parentNode}return t},scrollIntoView:(e,t)=>{x(e)?((e,t,r)=>{(e.inline?_p:Cp)(e,t,r)})(n,e,t):Sp(n,h(),t)},placeCaretAt:(e,t)=>d(Zu(e,t,n.getDoc())),getBoundingClientRect:()=>{const e=h();return e.collapsed?wa.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=o=i=null,m.destroy()}},f=wu(p),m=Iu(p,n);return p.bookmarkManager=f,p.controlSelection=m,p},Vb=(e,t,r)=>{-1===Dt.inArray(t,r)&&(e.addAttributeFilter(r,((e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)})),t.push(r))},zb=(e,t)=>{const r=((e,t)=>{const r=["data-mce-selected"],n=t&&t.dom?t.dom:ms.DOM,o=t&&t.schema?t.schema:Ki(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;const i=tb(e,o);return((e,t,r)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let r=e.length;for(;r--;){const n=e[r];n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,n)=>{const o="data-mce-"+n,i=t.url_converter,s=t.url_converter_scope;let a=e.length;for(;a--;){const t=e[a];let l=t.attr(o);void 0!==l?(t.attr(n,l.length>0?l:null),t.attr(o,null)):(l=t.attr(n),"style"===n?l=r.serializeStyle(r.parseStyle(l),t.name):i&&(l=i.call(s,l,n,t.name)),t.attr(n,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const r=e[t];let n=r.attr("class");n&&(n=n.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",n.length>0?n:null))}})),e.addAttributeFilter("data-mce-type",((e,t,r)=>{let n=e.length;for(;n--;){const t=e[n];if("bookmark"===t.attr("data-mce-type")&&!r.cleanup){const e=N.from(t.firstChild).exists((e=>{var t;return!Eo(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{var t;let r=e.length;for(;r--;){const n=e[r].firstChild;n&&(n.value=Bi.decode(null!==(t=n.value)&&void 0!==t?t:""))}})),e.addNodeFilter("script,style",((e,r)=>{var n;const o=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let i=e.length;for(;i--;){const s=e[i],a=s.firstChild,l=null!==(n=null==a?void 0:a.value)&&void 0!==n?n:"";if("script"===r){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a&&l.length>0&&(a.value="// <![CDATA[\n"+o(l)+"\n// ]]>")}else"xhtml"===t.element_format&&a&&l.length>0&&(a.value="\x3c!--\n"+o(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let n=e.length;for(;n--;){const o=e[n],i=o.value;t.preserve_cdata&&0===(null==i?void 0:i.indexOf("[CDATA["))?(o.name="#cdata",o.type=4,o.value=r.decode(i.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==i?void 0:i.indexOf("mce:protected "))&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(i).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let r=e.length;for(;r--;){const n=e[r];7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{q(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)}))})(i,e,n),{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:(r,s={})=>{const a={format:"html",...s},l=((e,t,r)=>((e,t)=>x(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,r)?((e,t,r)=>{let n;const o=e.dom;let i=t.cloneNode(!0);const s=document.implementation;if(s.createHTMLDocument){const e=s.createHTMLDocument("");Dt.each("BODY"===i.nodeName?i.childNodes:[i],(t=>{e.body.appendChild(e.importNode(t,!0))})),i="BODY"!==i.nodeName?e.body.firstChild:e.body,n=o.doc,o.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...r,node:i}),n&&(o.doc=n),i})(e,t,r):t)(t,r,a),c=((e,t,r)=>{const n=Co(r.getInner?t.innerHTML:e.getOuterHTML(t));return r.selection||go(ur(t))?n:Dt.trim(n)})(n,l,a),h=((e,t,r)=>{const n=r.selection?{forced_root_block:!1,...r}:r,o=e.parse(t,n);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),r=e.lastChild;if(t(r)){const e=r.prev;t(e)&&(r.remove(),e.remove())}})(o),o})(i,c,a);return"tree"===a.format?h:((e,t,r,n,o)=>{const i=((e,t,r)=>vf(e,t).serialize(r))(t,r,n);return((e,t,r)=>{if(!t.no_events&&e){const n=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:r});return n.content}return r})(e,o,i)})(t,e,o,h,a)},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:O(Vb,i,r),getTempAttrs:P(r),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}})(e,t);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters,removeNodeFilter:r.removeNodeFilter,removeAttributeFilter:r.removeAttributeFilter}},Hb=(e,t,r={})=>{const n=((e,t)=>({format:"html",...e,set:!0,content:t}))(r,t);return ib(e,n).map((t=>{const r=((e,t,r)=>Ob(e).editor.setContent(t,r))(e,t.content,t);return sb(e,r.html,t),r.content})).getOr(t)},jb="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Gb="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Ub=ms.DOM,qb=e=>N.from(e).each((e=>e.destroy())),Wb=(()=>{const e={};return{add:(t,r)=>{e[t]=r},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ee(e,t)}})(),$b=Es.ModelManager,Zb=(e,t)=>t.dom[e],Kb=(e,t)=>parseInt(qr(t,e),10),Yb=O(Zb,"clientWidth"),Xb=O(Zb,"clientHeight"),Jb=O(Kb,"margin-top"),Qb=O(Kb,"margin-left"),ew=e=>{const t=[],r=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},n=()=>N.from(t[0]),o=()=>{q(t,(e=>{e.reposition()}))},i=e=>{Q(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},s=(s,a=!0)=>e.removed||!(e=>{return(t=e.inline?e.getBody():e.getContentAreaContainer(),N.from(t).map(ur)).map(Hr).getOr(!1);var t})(e)?{}:(a&&e.dispatch("BeforeOpenNotification",{notification:s}),J(t,(e=>{return t=r().getArgs(e),n=s,!(t.type!==n.type||t.text!==n.text||t.progressBar||t.timeout||n.progressBar||n.timeout);var t,n})).getOrThunk((()=>{e.editorManager.setActive(e);const a=r().open(s,(()=>{i(a),o(),n().fold((()=>e.focus()),(e=>kp(ur(e.getEl()))))}));return(e=>{t.push(e)})(a),o(),e.dispatch("OpenNotification",{notification:{...a}}),a}))),a=P(t);return(e=>{e.on("SkinLoaded",(()=>{const t=Gl(e);t&&s({text:t,type:"warning",timeout:0},!1),o()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(o)})),e.on("remove",(()=>{q(t.slice(),(e=>{r().close(e)}))}))})(e),{open:s,close:()=>{n().each((e=>{r().close(e),i(e),o()}))},getNotifications:a}},tw=Es.PluginManager,rw=Es.ThemeManager,nw=e=>{let t=[];const r=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},n=(e,t)=>(...r)=>t?t.apply(e,r):void 0,o=r=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(r),t=Z(t,(e=>e!==r)),0===t.length&&e.focus()},i=r=>{e.editorManager.setActive(e),Fp(e),e.ui.show();const n=r();return(r=>{t.push(r),(t=>{e.dispatch("OpenWindow",{dialog:t})})(r)})(n),n};return e.on("remove",(()=>{q(t,(e=>{r().close(e)}))})),{open:(e,t)=>i((()=>r().open(e,t,o))),openUrl:e=>i((()=>r().openUrl(e,o))),alert:(e,t,o)=>{const i=r();i.alert(e,n(o||i,t))},confirm:(e,t,o)=>{const i=r();i.confirm(e,n(o||i,t))},close:()=>{N.from(t[t.length-1]).each((e=>{r().close(e),o(e)}))}}},ow=(e,t)=>{e.notificationManager.open({type:"error",text:t})},iw=(e,t)=>{e._skinLoaded?ow(e,t):e.on("SkinLoaded",(()=>{ow(e,t)}))},sw=(e,t,r)=>{_u(e,t,{message:r}),console.error(r)},aw=(e,t,r)=>r?`Failed to load ${e}: ${r} from url ${t}`:`Failed to load ${e} url: ${t}`,lw=(e,...t)=>{const r=window.console;r&&(r.error?r.error(e,...t):r.log(e,...t))},cw=(e,t)=>{const r=e.editorManager.baseURL+"/skins/content",n=`content${e.editorManager.suffix}.css`;return U(t,(t=>(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${r}/${t}/${n}`:e.documentBaseURI.toAbsolute(t)))},hw=B,dw=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),r=t=>t in e;return{hasBlobUri:r,getResultUri:t=>{const r=e[t];return r?r.resultUri:null},isPending:t=>!!r(t)&&1===e[t].status,isUploaded:t=>!!r(t)&&2===e[t].status,markPending:r=>{e[r]=t(1,null)},markUploaded:(r,n)=>{e[r]=t(2,n)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let uw=0;const pw=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),fw=(e,t)=>((e,t)=>{const r={},n=(e,r)=>new Promise(((n,o)=>{const i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=e=>{r(e.loaded/e.total*100)},i.onerror=()=>{o("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=()=>{if(i.status<200||i.status>=300)return void o("HTTP Error: "+i.status);const e=JSON.parse(i.responseText);var r,s;e&&p(e.location)?n((r=t.basePath,s=e.location,r?r.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):o("Invalid JSON: "+i.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),i.send(s)})),o=_(t.handler)?t.handler:n,i=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),a=(e,t)=>{Dt.each(r[e],(e=>{e(t)})),delete r[e]};return{upload:(l,c)=>t.url||o!==n?((t,n)=>(t=Dt.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(Dt.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{r[t]=r[t]||[],r[t].push(e)}))})(t):((t,r,n)=>(e.markPending(t.blobUri()),new Promise((o=>{let l,c;try{const h=()=>{l&&(l.close(),c=S)},d=r=>{h(),e.markUploaded(t.blobUri(),r),a(t.blobUri(),i(t,r)),o(i(t,r))},u=r=>{h(),e.removeFailed(t.blobUri()),a(t.blobUri(),s(t,r)),o(s(t,r))};c=e=>{e<0||e>100||N.from(l).orThunk((()=>N.from(n).map(I))).each((t=>{l=t,t.progressBar.value(e)}))},r(t,c).then(d,(e=>{u(p(e)?{message:e}:e)}))}catch(e){o(s(t,e))}}))))(t,o,n))))))(l,c):new Promise((e=>{e([])}))}})(t,{url:Cl(e),basePath:Sl(e),credentials:kl(e),handler:Al(e)}),mw={remove_similar:!0,inherit:!1},gw={selector:"td,th",...mw},vw={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...gw},tablecellverticalalign:{styles:{"vertical-align":"%value"},...gw},tablecellbordercolor:{styles:{borderColor:"%value"},...gw},tablecellclass:{classes:["%value"],...gw},tableclass:{selector:"table",classes:["%value"],...mw},tablecellborderstyle:{styles:{borderStyle:"%value"},...gw},tablecellborderwidth:{styles:{borderWidth:"%value"},...gw}},yw=P(vw),bw=Dt.each,ww=ms.DOM,xw=e=>x(e)&&f(e),_w=(e,t)=>{const r=t&&t.schema||Ki({}),n=e=>{const t=p(e)?{name:e,classes:[],attrs:{}}:e,r=ww.create(t.name);return((e,t)=>{t.classes.length>0&&ww.addClass(e,t.classes.join(" ")),ww.setAttribs(e,t.attrs)})(r,t),r},o=(e,t,i)=>{let s;const a=t[0],l=xw(a)?a.name:void 0,c=((e,t)=>{const n=r.getElementRule(e.nodeName.toLowerCase()),o=null==n?void 0:n.parentsRequired;return!(!o||!o.length)&&(t&&j(o,t)?t:o[0])})(e,l);if(c)l===c?(s=a,t=t.slice(1)):s=c;else if(a)s=a,t=t.slice(1);else if(!i)return e;const h=s?n(s):ww.create("div");h.appendChild(e),i&&Dt.each(i,(t=>{const r=n(t);h.insertBefore(r,e)}));const d=xw(s)?s.siblings:void 0;return o(h,t,d)},i=ww.create("div");if(e.length>0){const t=e[0],r=n(t),s=xw(t)?t.siblings:void 0;i.appendChild(o(r,e.slice(1),s))}return i},Ew=e=>{let t="div";const r={name:t,classes:[],attrs:{},selector:e=Dt.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,n,o,i)=>{switch(t){case"#":r.attrs.id=n;break;case".":r.classes.push(n);break;case":":-1!==Dt.inArray("checked disabled enabled read-only required".split(" "),n)&&(r.attrs[n]=n)}if("["===o){const e=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(r.attrs[e[1]]=e[2])}return""}))),r.name=t||"div",r},Cw=(e,t)=>{let r="",n=Yl(e);if(""===n)return"";const o=e=>p(e)?e.replace(/%(\w+)/g,""):"",i=(t,r)=>ww.getStyle(null!=r?r:e.getBody(),t,!0);if(p(t)){const r=e.formatter.get(t);if(!r)return"";t=r[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";n=e||n}let s,a=t.block||t.inline||"span";const l=(c=t.selector,p(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Dt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=Dt.map(e.split(/(?:~\+|~|\+)/),Ew),r=t.pop();return t.length&&(r.siblings=t),r})).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=a),a=t.selector,s=_w(l,e)):s=_w([a],e);const h=ww.select(a,s)[0]||s.firstChild;bw(t.styles,((e,t)=>{const r=o(e);r&&ww.setStyle(h,t,r)})),bw(t.attributes,((e,t)=>{const r=o(e);r&&ww.setAttrib(h,t,r)})),bw(t.classes,(e=>{const t=o(e);ww.hasClass(h,t)||ww.addClass(h,t)})),e.dispatch("PreviewFormats"),ww.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const d=i("fontSize"),u=/px$/.test(d)?parseInt(d,10):0;return bw(n.split(" "),(e=>{let t=i(e,h);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=i(e),"#ffffff"===xd(t).toLowerCase())||"color"===e&&"#000000"===xd(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===u)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*u+"px"}"border"===e&&t&&(r+="padding:0 2px;"),r+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),ww.remove(s),r},Sw=e=>{const t=(e=>{const t={},r=(e,n)=>{e&&(p(e)?(g(n)||(n=[n]),q(n,(e=>{b(e.deep)&&(e.deep=!Xd(e)),b(e.split)&&(e.split=!Xd(e)||Jd(e)),b(e.remove)&&Xd(e)&&!Jd(e)&&(e.remove="none"),Xd(e)&&Jd(e)&&(e.mixed=!0,e.block_expand=!0),p(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=n):fe(e,((e,t)=>{r(t,e)})))};return r((e=>{const t=e.dom,r=e.schema.type,n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},n={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==r?[n,e,t]:[e,n,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,r)=>Tn(e)&&e.hasAttribute("href"),onformat:(e,r,n)=>{Dt.each(n,((r,n)=>{t.setAttrib(e,n,r)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Dt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{n[e]={block:e,remove:"all"}})),n})(e)),r(yw()),r(Kl(e)),{get:e=>x(e)?t[e]:t,has:e=>Ee(t,e),register:r,unregister:e=>(e&&t[e]&&delete t[e],t)}})(e),r=ys({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(e=>{e.on("mouseup keydown",(t=>{((e,t)=>{const r=e.selection,n=e.getBody();zg(e,null,!1),8!==t&&46!==t||!r.isCollapsed()||r.getStart().innerHTML!==Fg||zg(e,Qh(n,r.getStart())),37!==t&&39!==t||zg(e,Qh(n,r.getStart()))})(e,t.keyCode)}))})(e),Mb(e)||((e,t)=>{e.set({}),t.on("NodeChange",(r=>{Dv(t,r.element,e.get())})),t.on("FormatApply FormatRemove",(r=>{const n=N.from(r.node).map((e=>Id(e)?e:e.startContainer)).bind((e=>Tn(e)?N.some(e):N.from(e.parentElement))).getOrThunk((()=>Tv(t)));Dv(t,n,e.get())}))})(r,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,r,n)=>{((e,t,r,n)=>{Db(e).formatter.apply(t,r,n)})(e,t,r,n)},remove:(t,r,n,o)=>{((e,t,r,n,o)=>{Db(e).formatter.remove(t,r,n,o)})(e,t,r,n,o)},toggle:(t,r,n)=>{((e,t,r,n)=>{Db(e).formatter.toggle(t,r,n)})(e,t,r,n)},match:(t,r,n,o)=>((e,t,r,n,o)=>Db(e).formatter.match(t,r,n,o))(e,t,r,n,o),closest:t=>((e,t)=>Db(e).formatter.closest(t))(e,t),matchAll:(t,r)=>((e,t,r)=>Db(e).formatter.matchAll(t,r))(e,t,r),matchNode:(t,r,n,o)=>((e,t,r,n,o)=>Db(e).formatter.matchNode(t,r,n,o))(e,t,r,n,o),canApply:t=>((e,t)=>Db(e).formatter.canApply(t))(e,t),formatChanged:(t,n,o,i)=>((e,t,r,n,o,i)=>Db(e).formatter.formatChanged(t,r,n,o,i))(e,r,t,n,o,i),getCssText:O(Cw,e)}},kw=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Aw=e=>{const t=Ss(),r=ys(0),n=ys(0),o={data:[],typing:!1,beforeChange:()=>{((e,t,r)=>{Db(e).undoManager.beforeChange(t,r)})(e,r,t)},add:(i,s)=>((e,t,r,n,o,i,s)=>Db(e).undoManager.add(t,r,n,o,i,s))(e,o,n,r,t,i,s),dispatchChange:()=>{e.setDirty(!0);const t=xb(e);t.bookmark=Ha(e.selection),e.dispatch("change",{level:t,lastLevel:ae(o.data,n.get()).getOrUndefined()})},undo:()=>((e,t,r,n)=>Db(e).undoManager.undo(t,r,n))(e,o,r,n),redo:()=>((e,t,r)=>Db(e).undoManager.redo(t,r))(e,n,o.data),clear:()=>{((e,t,r)=>{Db(e).undoManager.clear(t,r)})(e,o,n)},reset:()=>{((e,t)=>{Db(e).undoManager.reset(t)})(e,o)},hasUndo:()=>((e,t,r)=>Db(e).undoManager.hasUndo(t,r))(e,o,n),hasRedo:()=>((e,t,r)=>Db(e).undoManager.hasRedo(t,r))(e,o,n),transact:t=>((e,t,r,n)=>Db(e).undoManager.transact(t,r,n))(e,o,r,t),ignore:t=>{((e,t,r)=>{Db(e).undoManager.ignore(t,r)})(e,r,t)},extra:(t,r)=>{((e,t,r,n,o)=>{Db(e).undoManager.extra(t,r,n,o)})(e,o,n,t,r)}};return Mb(e)||((e,t,r)=>{const n=ys(!1),o=e=>{Ab(t,!1,r),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const n=e.command;kw(n)||(Pb(t,r),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;kw(t)||o(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",(r=>{const i=r.keyCode;r.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||r.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),n.get()&&t.typing&&!Sb(xb(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),n.set(!1),e.nodeChanged()))})),e.on("keydown",(e=>{const i=e.keyCode;if(e.isDefaultPrevented())return;if(i>=33&&i<=36||i>=37&&i<=40||45===i)return void(t.typing&&o(e));const s=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||s||(t.beforeChange(),Ab(t,!0,r),t.add({},e),n.set(!0))})),e.on("mousedown",(e=>{t.typing&&o(e)})),e.on("input",(e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&o(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,o,r),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),o},Pw=[9,27,Pu.HOME,Pu.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Pu.DOWN,Pu.UP,Pu.LEFT,Pu.RIGHT].concat(Pt.browser.isFirefox()?[224]:[]),Tw="data-mce-placeholder",Mw=e=>"keydown"===e.type||"keyup"===e.type,Ow=e=>{const t=e.keyCode;return t===Pu.BACKSPACE||t===Pu.DELETE},Dw=(e,t)=>({from:e,to:t}),Iw=(e,t)=>{const r=ur(e),n=ur(t.container());return Dm(r,n).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},Rw=(e,t)=>xn(t,(e=>mo(e)||Wn(e.dom)),(t=>gr(t,e))).filter(Vt).getOr(e),Fw=e=>{const t=(e=>{const t=Pr(e);return Q(t,ao).fold(P(t),(e=>t.slice(0,e)))})(e);return q(t,rn),t},Bw=(e,t)=>{const r=Lf(t,e);return J(r.reverse(),(e=>ri(e))).each(rn)},Nw=(e,t,r,n)=>{if(ri(r))return wo(r),Kh(r.dom);0===Z(kr(n),(e=>!ri(e))).length&&ri(t)&&Yr(n,hr("br"));const o=Zh(r.dom,wa.before(n.dom));return q(Fw(t),(e=>{Yr(n,e)})),Bw(e,t),o},Lw=(e,t,r)=>{if(ri(r))return rn(r),ri(t)&&wo(t),Kh(t.dom);const n=Yh(r.dom);return q(Fw(t),(e=>{Qr(r,e)})),Bw(e,t),n},Vw=(e,t)=>{Wh(e,t.dom).bind((e=>N.from(e.getNode()))).map(ur).filter(co).each(rn)},zw=(e,t,r)=>(Vw(!0,t),Vw(!1,r),((e,t)=>vr(t,e)?((e,t)=>{const r=Lf(t,e);return N.from(r[r.length-1])})(t,e):N.none())(t,r).fold(O(Lw,e,t,r),O(Nw,e,t,r))),Hw=(e,t,r,n)=>t?zw(e,n,r):zw(e,r,n),jw=(e,t)=>{const r=ur(e.getBody()),n=((e,t,r)=>r.collapsed?((e,t,r)=>{const n=Iw(e,wa.fromRangeStart(r)),o=n.bind((r=>Gh(t,e,r.position).bind((r=>Iw(e,r).map((r=>((e,t,r)=>Un(r.position.getNode())&&!ri(r.block)?Wh(!1,r.block.dom).bind((n=>n.isEqual(r.position)?Gh(t,e,n).bind((t=>Iw(e,t))):N.some(r))).getOr(r):r)(e,t,r)))))));return Rt(n,o,Dw).filter((t=>(e=>!gr(e.from.block,e.to.block))(t)&&((e,t)=>{const r=ur(e);return gr(Rw(r,t.from.block),Rw(r,t.to.block))})(e,t)&&(e=>!1===$n(e.from.block.dom)&&!1===$n(e.to.block.dom))(t)&&(e=>{const t=e=>ho(e)||hi(e.dom);return t(e.from.block)&&t(e.to.block)})(t)))})(e,t,r):N.none())(r.dom,t,e.selection.getRng()).map((n=>()=>{Hw(r,t,n.from.block,n.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return n},Gw=(e,t)=>{const r=ur(t),n=O(gr,e);return wn(r,mo,n).isSome()},Uw=(e,t)=>e.selection.isCollapsed()?N.none():(e=>{const t=ur(e.getBody());return((e,t)=>{const r=Zh(e.dom,wa.fromRangeStart(t)).isNone(),n=$h(e.dom,wa.fromRangeEnd(t)).isNone();return!((e,t)=>Gw(e,t.startContainer)||Gw(e,t.endContainer))(e,t)&&r&&n})(t,e.selection.getRng())?(e=>N.some((()=>{e.setContent(""),e.selection.setCursorLocation()})))(e):((e,t)=>{const r=t.getRng();return Rt(Dm(e,ur(r.startContainer)),Dm(e,ur(r.endContainer)),((n,o)=>gr(n,o)?N.none():N.some((()=>{r.deleteContents(),Hw(e,!0,n,o).each((e=>{t.setRng(e.toRange())}))})))).getOr(N.none())})(t,e.selection)})(e),qw=(e,t,r,n,o)=>N.from(t._selectionOverrides.showCaret(e,r,n,o)),Ww=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?N.none():N.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),$w=(e,t,r)=>t.collapsed?((e,t,r)=>{const n=_h(1,e.getBody(),t),o=wa.fromRangeStart(n),i=o.getNode();if(Qc(i))return qw(1,e,i,!o.isAtEnd(),!1);const s=o.getNode(!0);if(Qc(s))return qw(1,e,s,!1,!1);const a=ig(e.dom.getRoot(),o.getNode());return Qc(a)?qw(1,e,a,!1,r):N.none()})(e,t,r).getOr(t):t,Zw=e=>Ff(e)||Of(e),Kw=e=>Bf(e)||Df(e),Yw=(e,t,r,n,o,i)=>{qw(n,e,i.getNode(!o),o,!0).each((r=>{if(t.collapsed){const e=t.cloneRange();o?e.setEnd(r.startContainer,r.startOffset):e.setStart(r.endContainer,r.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(r)})),((e,t)=>{Ln(t)&&0===t.data.length&&e.remove(t)})(e.dom,r)},Xw=(e,t)=>((e,t)=>{const r=e.selection.getRng();if(!Ln(r.commonAncestorContainer))return N.none();const n=t?Ph.Forwards:Ph.Backwards,o=Vh(e.getBody()),i=O(kh,t?o.next:o.prev),s=t?Zw:Kw,a=Ch(n,e.getBody(),r),l=i(a),c=l?km(t,l):l;if(!c||!Ah(a,c))return N.none();if(s(c))return N.some((()=>Yw(e,r,a.getNode(),n,t,c)));const h=i(c);return h&&s(h)&&Ah(c,h)?N.some((()=>Yw(e,r,a.getNode(),n,t,h))):N.none()})(e,t),Jw=(e,t)=>{const r=e.getBody();return t?Kh(r).filter(Ff):Yh(r).filter(Bf)},Qw=e=>{const t=e.selection.getRng();return!t.collapsed&&(Jw(e,!0).exists((e=>e.isEqual(wa.fromRangeStart(t))))||Jw(e,!1).exists((e=>e.isEqual(wa.fromRangeEnd(t)))))},ex=qa([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),tx=(e,t,r)=>Gh(t,e,r).bind((n=>{return o=n.getNode(),x(o)&&(mo(ur(o))||po(ur(o)))||((e,t,r,n)=>{const o=t=>lo(ur(t))&&!mh(r,n,e);return Eh(!t,r).fold((()=>Eh(t,n).fold(F,o)),o)})(e,t,r,n)?N.none():t&&$n(n.getNode())||!t&&$n(n.getNode(!0))?((e,t,r,n)=>{const o=n.getNode(!t);return Dm(ur(e),ur(r.getNode())).map((e=>ri(e)?ex.remove(e.dom):ex.moveToElement(o))).orThunk((()=>N.some(ex.moveToElement(o))))})(e,t,r,n):t&&Bf(r)||!t&&Ff(r)?N.some(ex.moveToPosition(n)):N.none();var o})),rx=(e,t)=>N.from(ig(e.getBody(),t)),nx=e=>{const t=e.dom,r=e.selection,n=ig(e.getBody(),r.getNode());if(Wn(n)&&t.isBlock(n)&&t.isEmpty(n)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(n,""),n.appendChild(e),r.setRng(wa.before(e).toRange())}return!0},ox=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const r=e.selection.getNode();return rx(e,r).filter($n).fold((()=>((e,t,r)=>{const n=_h(t?1:-1,e,r),o=wa.fromRangeStart(n),i=ur(e);return!t&&Bf(o)?N.some(ex.remove(o.getNode(!0))):t&&Ff(o)?N.some(ex.remove(o.getNode())):!t&&Ff(o)&&Yf(i,o)?Xf(i,o).map((e=>ex.remove(e.getNode()))):t&&Bf(o)&&Kf(i,o)?Jf(i,o).map((e=>ex.remove(e.getNode()))):((e,t,r)=>((e,t)=>{const r=t.getNode(!e),n=e?"after":"before";return Tn(r)&&r.getAttribute("data-mce-caret")===n})(t,r)?((e,t)=>w(t)?N.none():e&&$n(t.nextSibling)?N.some(ex.moveToElement(t.nextSibling)):!e&&$n(t.previousSibling)?N.some(ex.moveToElement(t.previousSibling)):N.none())(t,r.getNode(!t)).orThunk((()=>tx(e,t,r))):tx(e,t,r).bind((t=>((e,t,r)=>r.fold((e=>N.some(ex.remove(e))),(e=>N.some(ex.moveToElement(e))),(r=>mh(t,r,e)?N.none():N.some(ex.moveToPosition(r)))))(e,r,t))))(e,t,o)})(e.getBody(),t,e.selection.getRng()).map((r=>()=>r.fold(((e,t)=>r=>(e._selectionOverrides.hideFakeCaret(),_m(e,t,ur(r)),!0))(e,t),((e,t)=>r=>{const n=t?wa.before(r):wa.after(r);return e.selection.setRng(n.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>N.some(S)))})(e,t):((e,t)=>{const r=e.selection.getNode();return $n(r)&&!Zn(r)?rx(e,r.parentNode).filter($n).fold((()=>N.some((()=>{var r;r=ur(e.getBody()),q(to(r,".mce-offscreen-selection"),rn),_m(e,t,ur(e.selection.getNode())),Im(e)}))),(()=>N.some(S))):Qw(e)?N.some((()=>{Fm(e,e.selection.getRng(),ur(e.getBody()))})):N.none()})(e,t),ix=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const r=wa.fromRangeStart(e.selection.getRng());return Gh(t,e.getBody(),r).filter((e=>t?Tf(e):Mf(e))).bind((e=>gh(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):N.none(),sx=Ln,ax=e=>sx(e)&&e.data[0]===_o,lx=e=>sx(e)&&e.data[e.data.length-1]===_o,cx=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(_o)},hx=(e,t)=>e?(e=>{var t;if(sx(e.previousSibling))return lx(e.previousSibling)||e.previousSibling.appendData(_o),e.previousSibling;if(sx(e))return ax(e)||e.insertData(0,_o),e;{const r=cx(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(r,e),r}})(t):(e=>{var t,r;if(sx(e.nextSibling))return ax(e.nextSibling)||e.nextSibling.insertData(0,_o),e.nextSibling;if(sx(e))return lx(e)||e.appendData(_o),e;{const n=cx(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e.nextSibling):null===(r=e.parentNode)||void 0===r||r.appendChild(n),n}})(t),dx=O(hx,!0),ux=O(hx,!1),px=(e,t)=>Ln(e.container())?hx(t,e.container()):hx(t,e.getNode()),fx=(e,t)=>{const r=t.get();return r&&e.container()===r&&Po(r)},mx=(e,t)=>t.fold((t=>{$c(e.get());const r=dx(t);return e.set(r),N.some(wa(r,r.length-1))}),(t=>Kh(t).map((t=>{if(fx(t,e)){const t=e.get();return wa(t,1)}{$c(e.get());const r=px(t,!0);return e.set(r),wa(r,1)}}))),(t=>Yh(t).map((t=>{if(fx(t,e)){const t=e.get();return wa(t,t.length-1)}{$c(e.get());const r=px(t,!1);return e.set(r),wa(r,r.length-1)}}))),(t=>{$c(e.get());const r=ux(t);return e.set(r),N.some(wa(r,1))})),gx=(e,t)=>{for(let r=0;r<e.length;r++){const n=e[r].apply(null,t);if(n.isSome())return n}return N.none()},vx=qa([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),yx=(e,t)=>fh(t,e)||e,bx=(e,t,r)=>{const n=Am(r),o=yx(t,n.container());return Sm(e,o,n).fold((()=>$h(o,n).bind(O(Sm,e,o)).map((e=>vx.before(e)))),N.none)},wx=(e,t)=>null===Qh(e,t),xx=(e,t,r)=>Sm(e,t,r).filter(O(wx,t)),_x=(e,t,r)=>{const n=Pm(r);return xx(e,t,n).bind((e=>Zh(e,n).isNone()?N.some(vx.start(e)):N.none()))},Ex=(e,t,r)=>{const n=Am(r);return xx(e,t,n).bind((e=>$h(e,n).isNone()?N.some(vx.end(e)):N.none()))},Cx=(e,t,r)=>{const n=Pm(r),o=yx(t,n.container());return Sm(e,o,n).fold((()=>Zh(o,n).bind(O(Sm,e,o)).map((e=>vx.after(e)))),N.none)},Sx=e=>{return t=Ax(e),!("rtl"===ms.DOM.getStyle(t,"direction",!0)||(e=>Em.test(e))(null!==(r=t.textContent)&&void 0!==r?r:""));var t,r},kx=(e,t,r)=>gx([bx,_x,Ex,Cx],[e,t,r]).filter(Sx),Ax=e=>e.fold(T,T,T,T),Px=e=>e.fold(P("before"),P("start"),P("end"),P("after")),Tx=e=>e.fold(vx.before,vx.before,vx.after,vx.after),Mx=e=>e.fold(vx.start,vx.start,vx.end,vx.end),Ox=(e,t,r,n,o,i)=>Rt(Sm(t,r,n),Sm(t,r,o),((t,n)=>t!==n&&((e,t,r)=>{const n=fh(t,e),o=fh(r,e);return x(n)&&n===o})(r,t,n)?vx.after(e?t:n):i)).getOr(i),Dx=(e,t)=>e.fold(B,(e=>{return n=t,!(Px(r=e)===Px(n)&&Ax(r)===Ax(n));var r,n})),Ix=(e,t)=>e?t.fold(k(N.some,vx.start),N.none,k(N.some,vx.after),N.none):t.fold(N.none,k(N.some,vx.before),N.none,k(N.some,vx.end)),Rx=(e,t,r)=>{const n=e?1:-1;return t.setRng(wa(r.container(),r.offset()+n).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var Fx;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Fx||(Fx={}));const Bx=(e,t)=>e===Ph.Backwards?ne(t):t,Nx=(e,t,r)=>e===Ph.Forwards?t.next(r):t.prev(r),Lx=(e,t,r,n)=>Un(n.getNode(t===Ph.Forwards))?Fx.Br:!1===mh(r,n)?Fx.Block:Fx.Wrap,Vx=(e,t,r,n)=>{const o=Vh(r);let i=n;const s=[];for(;i;){const r=Nx(t,o,i);if(!r)break;if(Un(r.getNode(!1)))return t===Ph.Forwards?{positions:Bx(t,s).concat([r]),breakType:Fx.Br,breakAt:N.some(r)}:{positions:Bx(t,s),breakType:Fx.Br,breakAt:N.some(r)};if(r.isVisible()){if(e(i,r)){const e=Lx(0,t,i,r);return{positions:Bx(t,s),breakType:e,breakAt:N.some(r)}}s.push(r),i=r}else i=r}return{positions:Bx(t,s),breakType:Fx.Eol,breakAt:N.none()}},zx=(e,t,r,n)=>t(r,n).breakAt.map((n=>{const o=t(r,n).positions;return e===Ph.Backwards?o.concat(n):[n].concat(o)})).getOr([]),Hx=(e,t)=>Y(e,((e,r)=>e.fold((()=>N.some(r)),(n=>Rt(le(n.getClientRects()),le(r.getClientRects()),((e,o)=>{const i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?r:n})).or(e)))),N.none()),jx=(e,t)=>le(t.getClientRects()).bind((t=>Hx(e,t.left))),Gx=O(Vx,wa.isAbove,-1),Ux=O(Vx,wa.isBelow,1),qx=O(zx,-1,Gx),Wx=O(zx,1,Ux),$x=(e,t)=>jx(qx(e,t),t),Zx=(e,t)=>jx(Wx(e,t),t),Kx=$n,Yx=(e,t)=>Math.abs(e.left-t),Xx=(e,t)=>Math.abs(e.right-t),Jx=(e,t)=>Oe(e,((e,r)=>{const n=Math.min(Yx(e,t),Xx(e,t)),o=Math.min(Yx(r,t),Xx(r,t));return o===n&&Ce(r,"node")&&Kx(r.node)||o<n?r:e})),Qx=e=>{const t=t=>U(t,(t=>{const r=$s(t);return r.node=e,r}));if(Tn(e))return t(e.getClientRects());if(Ln(e)){const r=e.ownerDocument.createRange();return r.setStart(e,0),r.setEnd(e,e.data.length),t(r.getClientRects())}return[]},e_=e=>te(e,Qx);var t_;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(t_||(t_={}));const r_=(e,t,r,n,o,i)=>{let s=0;const a=[],l=n=>{let i=e_([n]);-1===e&&(i=i.reverse());for(let e=0;e<i.length;e++){const n=i[e];if(!r(n,c)){if(a.length>0&&t(n,Ie(a))&&s++,n.line=s,o(n))return!0;a.push(n)}}return!1},c=Ie(i.getClientRects());if(!c)return a;const h=i.getNode();return h&&(l(h),((e,t,r,n)=>{let o=n;for(;o=ph(o,e,$o,t);)if(r(o))return})(e,n,l,h)),a},n_=O(r_,t_.Up,Ys,Xs),o_=O(r_,t_.Down,Xs,Ys),i_=e=>Ie(e.getClientRects()),s_=e=>t=>((e,t)=>t.line>e)(e,t),a_=e=>t=>((e,t)=>t.line===e)(e,t),l_=(e,t)=>{e.selection.setRng(t),Sp(e,e.selection.getRng())},c_=(e,t,r)=>N.some($w(e,t,r)),h_=(e,t,r,n,o,i)=>{const s=t===Ph.Forwards,a=Vh(e.getBody()),l=O(kh,s?a.next:a.prev),c=s?n:o;if(!r.collapsed){const n=Qs(r);if(i(n))return qw(t,e,n,t===Ph.Backwards,!1);if(Qw(e)){const e=r.cloneRange();return e.collapse(t===Ph.Backwards),N.from(e)}}const h=Ch(t,e.getBody(),r);if(c(h))return Ww(e,h.getNode(!s));let d=l(h);const u=Bo(r);if(!d)return u?N.some(r):N.none();if(d=km(s,d),c(d))return qw(t,e,d.getNode(!s),s,!1);const p=l(d);return p&&c(p)&&Ah(d,p)?qw(t,e,p.getNode(!s),s,!1):u?c_(e,d.toRange(),!1):N.none()},d_=(e,t,r,n,o,i)=>{const s=Ch(t,e.getBody(),r),a=Ie(s.getClientRects()),l=t===t_.Down,c=e.getBody();if(!a)return N.none();if(Qw(e)){const e=l?wa.fromRangeEnd(r):wa.fromRangeStart(r);return(l?Zx:$x)(c,e).orThunk((()=>N.from(e))).map((e=>e.toRange()))}const h=(l?o_:n_)(c,s_(1),s),d=Z(h,a_(1)),u=a.left,p=Jx(d,u);if(p&&i(p.node)){const r=Math.abs(u-p.left),n=Math.abs(u-p.right);return qw(t,e,p.node,r<n,!1)}let f;if(f=n(s)?s.getNode():o(s)?s.getNode(!0):Qs(r),f){const r=((e,t,r,n)=>{const o=Vh(t);let i,s,a,l;const c=[];let h=0;1===e?(i=o.next,s=Xs,a=Ys,l=wa.after(n)):(i=o.prev,s=Ys,a=Xs,l=wa.before(n));const d=i_(l);do{if(!l.isVisible())continue;const e=i_(l);if(a(e,d))continue;c.length>0&&s(e,Ie(c))&&h++;const t=$s(e);if(t.position=l,t.line=h,r(t))return c;c.push(t)}while(l=i(l));return c})(t,c,s_(1),f);let n=Jx(Z(r,a_(1)),u);if(n)return c_(e,n.position.toRange(),!1);if(n=Ie(Z(r,a_(0))),n)return c_(e,n.position.toRange(),!1)}return 0===d.length?u_(e,l).filter(l?o:n).map((t=>$w(e,t.toRange(),!1))):N.none()},u_=(e,t)=>{const r=e.selection.getRng(),n=t?wa.fromRangeEnd(r):wa.fromRangeStart(r),o=(i=n.container(),s=e.getBody(),wn(ur(i),(e=>th(e.dom)),(e=>e.dom===s)).map((e=>e.dom)).getOr(s));var i,s;if(t){const e=Ux(o,n);return ce(e.positions)}{const e=Gx(o,n);return le(e.positions)}},p_=(e,t,r)=>u_(e,t).filter(r).exists((t=>(e.selection.setRng(t.toRange()),!0))),f_=(e,t)=>{const r=e.dom.createRng();r.setStart(t.container(),t.offset()),r.setEnd(t.container(),t.offset()),e.selection.setRng(r)},m_=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},g_=(e,t,r)=>mx(t,r).map((t=>(f_(e,t),r))),v_=(e,t,r)=>!!Zl(e)&&((e,t,r)=>{const n=e.getBody(),o=((e,t,r)=>{const n=wa.fromRangeStart(e);if(e.collapsed)return n;{const o=wa.fromRangeEnd(e);return r?Zh(t,o).getOr(o):$h(t,n).getOr(n)}})(e.selection.getRng(),n,r);return((e,t,r,n)=>{const o=km(e,n),i=kx(t,r,o);return kx(t,r,o).bind(O(Ix,e)).orThunk((()=>((e,t,r,n,o)=>{const i=km(e,o);return Gh(e,r,i).map(O(km,e)).fold((()=>n.map(Tx)),(o=>kx(t,r,o).map(O(Ox,e,t,r,i,o)).filter(O(Dx,n)))).filter(Sx)})(e,t,r,i,n)))})(r,O(Cm,e),n,o).bind((r=>g_(e,t,r)))})(e,t,r).isSome(),y_=(e,t,r)=>!!Zl(t)&&((e,t)=>{const r=t.selection.getRng(),n=e?wa.fromRangeEnd(r):wa.fromRangeStart(r);return!!(e=>_(e.selection.getSel().modify))(t)&&(e&&Oo(n)?Rx(!0,t.selection,n):!(e||!Do(n))&&Rx(!1,t.selection,n))})(e,t),b_=O(y_,!0),w_=O(y_,!1),x_=(e,t,r)=>{if(Zl(e)){const n=u_(e,t).getOrThunk((()=>{const r=e.selection.getRng();return t?wa.fromRangeEnd(r):wa.fromRangeStart(r)}));return kx(O(Cm,e),e.getBody(),n).exists((t=>{const n=Tx(t);return mx(r,n).exists((t=>(f_(e,t),!0)))}))}return!1},__=(e,t)=>r=>mx(t,r).map((t=>()=>f_(e,t))),E_=(e,t,r,n)=>{const o=e.getBody(),i=O(Cm,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const r=document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r})(r,n)),Mm(e),kx(i,o,wa.fromRangeStart(e.selection.getRng())).map(Mx).bind(__(e,t)).each(R)})),e.nodeChanged()},C_=(e,t,r)=>{if(e.selection.isCollapsed()&&Zl(e)){const n=wa.fromRangeStart(e.selection.getRng());return((e,t,r,n)=>{const o=((e,t)=>fh(t,e)||e)(e.getBody(),n.container()),i=O(Cm,e),s=kx(i,o,n);return s.bind((e=>r?e.fold(P(N.some(Mx(e))),N.none,P(N.some(Tx(e))),N.none):e.fold(N.none,P(N.some(Tx(e))),N.none,P(N.some(Mx(e)))))).map(__(e,t)).getOrThunk((()=>{const a=Uh(r,o,n),l=a.bind((e=>kx(i,o,e)));return Rt(s,l,(()=>Sm(i,o,n).bind((t=>(e=>Rt(Kh(e),Yh(e),((t,r)=>{const n=km(!0,t),o=km(!1,r);return $h(e,n).forall((e=>e.isEqual(o)))})).getOr(!0))(t)?N.some((()=>{_m(e,r,ur(t))})):N.none())))).getOrThunk((()=>l.bind((()=>a.map((o=>()=>{r?E_(e,t,n,o):E_(e,t,o,n)}))))))}))})(e,t,r,n)}return N.none()},S_=e=>1===Dr(e),k_=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const r=ur(e.getBody()),n=ur(e.selection.getStart()),o=Z(((e,t)=>{const r=Lf(t,e);return Q(r,ao).fold(P(r),(e=>r.slice(0,e)))})(r,n),S_);return ce(o).bind((r=>{const n=wa.fromRangeStart(e.selection.getRng());return!((e,t,r)=>Rt(Kh(r),Yh(r),((n,o)=>{const i=km(!0,n),s=km(!1,o),a=km(!1,t);return e?$h(r,a).exists((e=>e.isEqual(s)&&t.isEqual(i))):Zh(r,a).exists((e=>e.isEqual(i)&&t.isEqual(s)))})).getOr(!0))(t,n,r.dom)||Jh((i=r).dom)&&Bg(i.dom)?N.none():N.some((()=>((e,t,r,n)=>{const o=O(Ug,t),i=U(Z(n,o),(e=>e.dom));if(0===i.length)_m(t,e,r);else{const e=((e,t)=>{const r=Lg(!1),n=jg(t,r.dom);return Yr(ur(e),r),rn(ur(e)),wa(n,0)})(r.dom,i);t.selection.setRng(e.toRange())}})(t,e,r,o)));var i}))})(e,t):N.none(),A_=(e,t,r)=>x(r)?N.some((()=>{e._selectionOverrides.hideFakeCaret(),_m(e,t,ur(r))})):N.none(),P_=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const r=t?Of:Df,n=t?Ph.Forwards:Ph.Backwards,o=Ch(n,e.getBody(),e.selection.getRng());return r(o)?A_(e,t,o.getNode(!t)):N.from(km(t,o)).filter((e=>r(e)&&Ah(o,e))).bind((r=>A_(e,t,r.getNode(!t))))})(e,t):((e,t)=>{const r=e.selection.getNode();return Yn(r)?A_(e,t,r):N.none()})(e,t),T_=e=>Ke(null!=e?e:"").getOr(0),M_=(e,t)=>(e||"table"===Bt(t)?"margin":"padding")+("rtl"===qr(t,"direction")?"-right":"-left"),O_=e=>{const t=I_(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>re(t,(t=>{const r=M_(Dl(e),t),n=$r(t,r).map(T_).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&n>0})))(e,t))},D_=e=>uo(e)||po(e),I_=e=>Z(on(e.selection.getSelectedBlocks()),(e=>!D_(e)&&!(e=>xr(e).exists(D_))(e)&&xn(e,(e=>Wn(e.dom)||$n(e.dom))).exists((e=>Wn(e.dom))))),R_=(e,t)=>{var r,n;const{dom:o}=e,i=Il(e),s=null!==(n=null===(r=/[a-z%]+$/i.exec(i))||void 0===r?void 0:r[0])&&void 0!==n?n:"px",a=T_(i),l=Dl(e);q(I_(e),(e=>{((e,t,r,n,o,i)=>{const s=M_(r,ur(i)),a=T_(e.getStyle(i,s));if("outdent"===t){const t=Math.max(0,a-n);e.setStyle(i,s,t?t+o:"")}else{const t=a+n+o;e.setStyle(i,s,t)}})(o,t,l,a,s,e.dom)}))},F_=e=>R_(e,"outdent"),B_=e=>{if(e.selection.isCollapsed()&&O_(e)){const t=e.dom,r=e.selection.getRng(),n=wa.fromRangeStart(r),o=t.getParent(r.startContainer,t.isBlock);if(null!==o&&Gf(ur(o),n))return N.some((()=>F_(e)))}return N.none()},N_=(e,t,r)=>de([B_,ox,Xw,(e,r)=>C_(e,t,r),jw,og,ix,P_,Uw,k_],(t=>t(e,r))),L_=e=>void 0===e.touches||1!==e.touches.length?N.none():N.some(e.touches[0]),V_=(e,t)=>Ee(e,t.nodeName),z_=(e,t)=>!!Ln(t)||!!Tn(t)&&!V_(e.getBlockElements(),t)&&!dd(t)&&!pi(e,t),H_=(e,t)=>{if(Ln(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||V_(e,t.nextSibling)))return!0}return!1},j_=e=>e.dom.create(ul(e),pl(e)),G_=e=>{const t=e.dom,r=e.selection,n=e.schema,o=n.getBlockElements(),i=r.getStart(),s=e.getBody();let a,l,c=!1;const h=ul(e);if(!i||!Tn(i))return;const d=s.nodeName.toLowerCase();if(!n.isValidChild(d,h.toLowerCase())||((e,t,r)=>G(Nf(ur(r),ur(t)),(t=>V_(e,t.dom))))(o,s,i))return;const u=r.getRng(),{startContainer:p,startOffset:f,endContainer:m,endOffset:g}=u,v=Wp(e);let y=s.firstChild;for(;y;)if(Tn(y)&&ci(n,y),z_(n,y)){if(H_(o,y)){l=y,y=y.nextSibling,t.remove(l);continue}a||(a=j_(e),s.insertBefore(a,y),c=!0),l=y,y=y.nextSibling,a.appendChild(l)}else a=null,y=y.nextSibling;c&&v&&(u.setStart(p,f),u.setEnd(m,g),r.setRng(u),e.nodeChanged())},U_=(e,t,r)=>{const n=ur(j_(e)),o=bo();Qr(n,o),r(t,n);const i=document.createRange();return i.setStartBefore(o.dom),i.setEndBefore(o.dom),i},q_=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),W_=(e,t,r)=>function(n){const o=arguments,i=o[o.length-2],s=i>0?t.charAt(i-1):"";if('"'===s)return n;if(">"===s){const e=t.lastIndexOf("<",i);if(-1!==e&&-1!==t.substring(e,i).indexOf('contenteditable="false"'))return n}return'<span class="'+r+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"},$_=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Fo(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},Z_=(e,t)=>{const r=(e=>En(ur(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull())(e);if(r)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void $_(e,r)):void(Mo(r)&&($_(e,r),e.undoManager.add()))},K_=$n,Y_=(e,t,r)=>{const n=Vh(e.getBody()),o=O(kh,1===t?n.next:n.prev);if(r.collapsed){const n=e.dom.getParent(r.startContainer,"PRE");if(!n)return;if(!o(wa.fromRangeStart(r))){const r=ur((e=>{const t=e.dom.create(ul(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?Xr(ur(n),r):Yr(ur(n),r),e.selection.select(r.dom,!0),e.selection.collapse()}}},X_=(e,t)=>((e,t)=>{const r=t?Ph.Forwards:Ph.Backwards,n=e.selection.getRng();return((e,t,r)=>h_(t,e,r,Ff,Bf,K_))(r,e,n).orThunk((()=>(Y_(e,r,n),N.none())))})(e,t).exists((t=>(l_(e,t),!0))),J_=(e,t)=>((e,t)=>{const r=t?1:-1,n=e.selection.getRng();return((e,t,r)=>d_(t,e,r,(e=>Ff(e)||If(e)),(e=>Bf(e)||Rf(e)),K_))(r,e,n).orThunk((()=>(Y_(e,r,n),N.none())))})(e,t).exists((t=>(l_(e,t),!0))),Q_=(e,t)=>p_(e,t,t?Bf:Ff),eE=(e,t)=>Jw(e,!t).map((r=>{const n=r.toRange(),o=e.selection.getRng();return t?n.setStart(o.startContainer,o.startOffset):n.setEnd(o.endContainer,o.endOffset),n})).exists((t=>(l_(e,t),!0))),tE=e=>j(["figcaption"],Bt(e)),rE=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const r=ur(e.getBody()),n=wa.fromRangeStart(e.selection.getRng());return((e,t)=>{const r=O(gr,t);return xn(ur(e.container()),ao,r).filter(tE)})(n,r).exists((()=>{if(((e,t,r)=>t?((e,t)=>Ux(e,t).breakAt.isNone())(e.dom,r):((e,t)=>Gx(e,t).breakAt.isNone())(e.dom,r))(r,t,n)){const n=U_(e,r,t?Qr:Jr);return e.selection.setRng(n),!0}return!1}))})(e,t),nE={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},oE=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,iE=(e,...t)=>()=>e.apply(null,t),sE=(e,t)=>J(((e,t)=>te((e=>U(e,(e=>({...nE,...e}))))(e),(e=>oE(e,t)?[e]:[])))(e,t),(e=>e.action())),aE=(e,t)=>de(((e,t)=>te((e=>U(e,(e=>({...nE,...e}))))(e),(e=>oE(e,t)?[e]:[])))(e,t),(e=>e.action())),lE=(e,t)=>{const r=t?Ph.Forwards:Ph.Backwards,n=e.selection.getRng();return h_(e,r,n,Of,Df,Yn).exists((t=>(l_(e,t),!0)))},cE=(e,t)=>{const r=t?1:-1,n=e.selection.getRng();return d_(e,r,n,Of,Df,Yn).exists((t=>(l_(e,t),!0)))},hE=(e,t)=>p_(e,t,t?Df:Of),dE=qa([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),uE={...dE,none:e=>dE.none(e)},pE=(e,t,r)=>te(Pr(e),(e=>fr(e,t)?r(e)?[e]:[]:pE(e,t,r))),fE=(e,t)=>Cn(e,"table",t),mE=(e,t,r,n,o=B)=>{const i=1===n;if(!i&&r<=0)return uE.first(e[0]);if(i&&r>=e.length-1)return uE.last(e[e.length-1]);{const i=r+n,s=e[i];return o(s)?uE.middle(t,s):mE(e,t,i,n,o)}},gE=(e,t)=>fE(e,t).bind((t=>{const r=pE(t,"th,td",B);return Q(r,(t=>gr(e,t))).map((e=>({index:e,all:r})))})),vE=(e,t=!1)=>{return Hr(e)?e.dom.isContentEditable:(r=e,Cn(r,"[contenteditable]")).fold(P(t),(e=>"true"===yE(e)));var r},yE=e=>e.dom.contentEditable,bE=(e,t,r,n,o)=>{const i=to(ur(r),"td,th,caption").map((e=>e.dom)),s=Z(((e,t)=>te(t,(t=>{const r=((e,t)=>({left:e.left- -1,top:e.top- -1,right:e.right+-2,bottom:e.bottom+-2,width:e.width+-1,height:e.height+-1}))($s(t.getBoundingClientRect()));return[{x:r.left,y:e(r),cell:t},{x:r.right,y:e(r),cell:t}]})))(e,i),(e=>t(e,o)));return((e,t,r)=>Y(e,((e,n)=>e.fold((()=>N.some(n)),(e=>{const o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-r)),i=Math.sqrt(Math.abs(n.x-t)+Math.abs(n.y-r));return N.some(i<o?n:e)}))),N.none()))(s,n,o).map((e=>e.cell))},wE=O(bE,(e=>e.bottom),((e,t)=>e.y<t)),xE=O(bE,(e=>e.top),((e,t)=>e.y>t)),_E=(e,t,r)=>{const n=e(t,r);return(e=>e.breakType===Fx.Wrap&&0===e.positions.length)(n)||!Un(r.getNode())&&(e=>e.breakType===Fx.Br&&1===e.positions.length)(n)?!((e,t,r)=>r.breakAt.exists((r=>e(t,r).breakAt.isSome())))(e,t,n):n.breakAt.isNone()},EE=O(_E,Gx),CE=O(_E,Ux),SE=(e,t,r,n)=>{const o=e.selection.getRng(),i=t?1:-1;return!(!Jc()||!((e,t,r)=>{const n=wa.fromRangeStart(t);return Wh(!e,r).exists((e=>e.isEqual(n)))})(t,o,r)||(qw(i,e,r,!t,!1).each((t=>{l_(e,t)})),0))},kE=(e,t,r)=>{const n=((e,t)=>{const r=t.getNode(e);return Fn(r)?N.some(r):N.none()})(!!t,r),o=!1===t;n.fold((()=>l_(e,r.toRange())),(n=>Wh(o,e.getBody()).filter((e=>e.isEqual(r))).fold((()=>l_(e,r.toRange())),(r=>((e,t,r)=>{t.undoManager.transact((()=>{const n=e?Xr:Yr,o=U_(t,ur(r),n);l_(t,o)}))})(t,e,n)))))},AE=(e,t,r,n)=>{const o=e.selection.getRng(),i=wa.fromRangeStart(o),s=e.getBody();if(!t&&EE(n,i)){const n=((e,t,r)=>((e,t)=>le(t.getClientRects()).bind((t=>wE(e,t.left,t.top))).bind((e=>{return jx(Yh(r=e).map((e=>Gx(r,e).positions.concat(e))).getOr([]),t);var r})))(t,r).orThunk((()=>le(r.getClientRects()).bind((r=>Hx(qx(e,wa.before(t)),r.left))))).getOr(wa.before(t)))(s,r,i);return kE(e,t,n),!0}if(t&&CE(n,i)){const n=((e,t,r)=>((e,t)=>ce(t.getClientRects()).bind((t=>xE(e,t.left,t.top))).bind((e=>{return jx(Kh(r=e).map((e=>[e].concat(Ux(r,e).positions))).getOr([]),t);var r})))(t,r).orThunk((()=>le(r.getClientRects()).bind((r=>Hx(Wx(e,wa.after(t)),r.left))))).getOr(wa.after(t)))(s,r,i);return kE(e,t,n),!0}return!1},PE=(e,t,r)=>N.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((n=>N.from(e.dom.getParent(n,"table")).map((o=>r(e,t,o,n))))).getOr(!1),TE=(e,t)=>PE(e,t,SE),ME=(e,t)=>PE(e,t,AE),OE=(e,t,r)=>r.fold(N.none,N.none,((e,t)=>{return(r=t,((e,t)=>{const r=e=>{for(let n=0;n<e.childNodes.length;n++){const o=ur(e.childNodes[n]);if(t(o))return N.some(o);const i=r(e.childNodes[n]);if(i.isSome())return i}return N.none()};return r(e.dom)})(r,ef)).map((e=>(e=>(e=>{const t=Gu.getWin(e).dom,r=(e,r,n,o)=>Fu(t,e,r,n,o),n=(e=>e.match({domRange:e=>{const t=ur(e.startContainer),r=ur(e.endContainer);return Wu(t,e.startOffset,r,e.endOffset)},relative:qu,exact:Wu}))(e);return((e,t)=>{const r=((e,t)=>t.match({domRange:e=>({ltr:P(e),rtl:N.none}),relative:(t,r)=>({ltr:Re((()=>Ru(e,t,r))),rtl:Re((()=>N.some(Ru(e,r,t))))}),exact:(t,r,n,o)=>({ltr:Re((()=>Fu(e,t,r,n,o))),rtl:Re((()=>N.some(Fu(e,n,o,t,r))))})}))(e,t);return((e,t)=>{const r=t.ltr();return r.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Bu.rtl(ur(e.endContainer),e.endOffset,ur(e.startContainer),e.startOffset))).getOrThunk((()=>Nu(0,Bu.ltr,r))):Nu(0,Bu.ltr,r)})(0,r)})(t,n).match({ltr:r,rtl:r})})(Gu.exact(e,0,e,0)))(e)));var r}),(r=>(e.execCommand("mceTableInsertRowAfter"),DE(e,t,r)))),DE=(e,t,r)=>{return OE(e,t,(o=vE,gE(n=r,void 0).fold((()=>uE.none(n)),(e=>mE(e.all,n,e.index,1,o)))));var n,o},IE=(e,t,r)=>{return OE(e,t,(o=vE,gE(n=r,void 0).fold((()=>uE.none()),(e=>mE(e.all,n,e.index,-1,o)))));var n,o},RE=(e,t)=>{const r=["table","li","dl"],n=ur(e.getBody()),o=e=>{const t=Bt(e);return gr(e,n)||j(r,t)},i=e.selection.getRng();return((e,t)=>((e,t,r=F)=>r(t)?N.none():j(e,Bt(t))?N.some(t):_n(t,e.join(","),(e=>fr(e,"table")||r(e))))(["td","th"],e,t))(ur(t?i.endContainer:i.startContainer),o).map((r=>(fE(r,o).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t),(t?DE:IE)(e,o,r).each((t=>{e.selection.setRng(t)})),!0))).getOr(!1)},FE=(e,t)=>({container:e,offset:t}),BE=ms.DOM,NE=e=>t=>e===t?-1:0,LE=(e,t,r)=>{if(Ln(e)&&t>=0)return N.some(FE(e,t));{const n=qs(BE);return N.from(n.backwards(e,t,NE(e),r)).map((e=>FE(e.container,e.container.data.length)))}},VE=(e,t,r)=>{if(!Ln(e))return N.none();const n=e.data;if(t>=0&&t<=n.length)return N.some(FE(e,t));{const n=qs(BE);return N.from(n.backwards(e,t,NE(e),r)).bind((e=>{const n=e.container.data;return VE(e.container,t+n.length,r)}))}},zE=(e,t,r)=>{if(!Ln(e))return N.none();const n=e.data;if(t<=n.length)return N.some(FE(e,t));{const o=qs(BE);return N.from(o.forwards(e,t,NE(e),r)).bind((e=>zE(e.container,t-n.length,r)))}},HE=(e,t,r,n,o)=>{const i=qs(e,(e=>t=>e.isBlock(t)||j(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return N.from(i.backwards(t,r,n,o))},jE=e=>Co(e.toString().replace(/\u00A0/g," ")),GE=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),UE=(e,t)=>e.substring(t.length),qE=(e,t,r,n=0)=>{return(o=ur(t.startContainer),Cn(o,tf)).fold((()=>((e,t,r,n=0)=>{if(!(o=t).collapsed||!Ln(o.startContainer))return N.none();var o;const i={text:"",offset:0},s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return HE(e,t.startContainer,t.startOffset,((e,t,n)=>(i.text=n+i.text,i.offset+=t,((e,t,r)=>{let n;const o=r.charAt(0);for(n=t-1;n>=0;n--){const i=e.charAt(n);if(GE(i))return N.none();if(o===i&&ze(e,r,n,t))break}return N.some(n)})(i.text,i.offset,r).getOr(t))),s).bind((e=>{const o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return N.none();const i=jE(o);return 0!==i.lastIndexOf(r)||UE(i,r).length<n?N.none():N.some({text:UE(i,r),range:o,trigger:r})}))})(e,t,r,n)),(t=>{const n=e.createRng();n.selectNode(t.dom);const o=jE(n);return N.some({range:n,text:UE(o,r),trigger:r})}));var o},WE=e=>{if((e=>3===e.nodeType)(e))return FE(e,e.data.length);{const t=e.childNodes;return t.length>0?WE(t[t.length-1]):FE(e,t.length)}},$E=(e,t)=>{const r=e.childNodes;return r.length>0&&t<r.length?$E(r[t],0):r.length>0&&(e=>1===e.nodeType)(e)&&r.length===t?WE(r[r.length-1]):FE(e,t)},ZE=(e,t,r,n={})=>{var o;const i=t(),s=null!==(o=e.selection.getRng().startContainer.nodeValue)&&void 0!==o?o:"",a=Z(i.lookupByTrigger(r.trigger),(t=>r.text.length>=t.minChars&&t.matches.getOrThunk((()=>(e=>t=>{const r=$E(t.startContainer,t.startOffset);return!((e,t)=>{var r;const n=null!==(r=e.getParent(t.container,e.isBlock))&&void 0!==r?r:e.getRoot();return HE(e,t.container,t.offset,((e,t)=>0===t?-1:t),n).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!GE(t)})).isSome()})(e,r)})(e.dom)))(r.range,s,r.text)));if(0===a.length)return N.none();const l=Promise.all(U(a,(e=>e.fetch(r.text,e.maxResults,n).then((t=>({matchText:r.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return N.some({lookupData:l,context:r})};var KE;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(KE||(KE={}));const YE=(e,t,r)=>e.stype===KE.Error?t(e.serror):r(e.svalue),XE=e=>({stype:KE.Value,svalue:e}),JE=e=>({stype:KE.Error,serror:e}),QE=YE,eC=e=>f(e)&&ue(e).length>100?" removed due to size":JSON.stringify(e,null,2),tC=(e,t)=>JE([{path:e,getErrorInfo:t}]),rC=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const r={};for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)Ee(o,t)&&(r[t]=e(r[t],o[t]))}return r},nC=rC(((e,t)=>m(e)&&m(t)?nC(e,t):t)),oC=(rC(((e,t)=>t)),e=>({tag:"defaultedThunk",process:P(e)})),iC=(e,t,r)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return r(e.newKey,e.instantiator)}},sC=e=>({extract:(t,r)=>{return o=e=>((e,t)=>tC(e,P(t)))(t,e),(n=e(r)).stype===KE.Error?o(n.serror):n;var n,o},toString:P("val")}),aC=sC(XE),lC=(e,t,r,n)=>n(_e(e,t).getOrThunk((()=>r(e)))),cC=(e,t,r,n,o)=>{const i=e=>o.extract(t.concat([n]),e),s=e=>e.fold((()=>XE(N.none())),(e=>{return r=o.extract(t.concat([n]),e),i=N.some,r.stype===KE.Value?{stype:KE.Value,svalue:i(r.svalue)}:r;var r,i}));switch(e.tag){case"required":return((e,t,r,n)=>_e(t,r).fold((()=>((e,t,r)=>tC(e,(()=>'Could not find valid *required* value for "'+t+'" in '+eC(r))))(e,r,t)),n))(t,r,n,i);case"defaultedThunk":return lC(r,n,e.process,i);case"option":return((e,t,r)=>r(_e(e,t)))(r,n,s);case"defaultedOptionThunk":return((e,t,r,n)=>n(_e(e,t).map((t=>!0===t?r(e):t))))(r,n,e.process,s);case"mergeWithThunk":return lC(r,n,P({}),(t=>{const n=nC(e.process(r),t);return i(n)}))}},hC=e=>({extract:(t,r)=>((e,t,r)=>{const n={},o=[];for(const i of r)iC(i,((r,i,s,a)=>{const l=cC(s,e,t,r,a);QE(l,(e=>{o.push(...e)}),(e=>{n[i]=e}))}),((e,r)=>{n[e]=r(t)}));return o.length>0?JE(o):XE(n)})(t,r,e),toString:()=>{const t=U(e,(e=>iC(e,((e,t,r,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),dC=e=>({extract:(t,r)=>{const n=U(r,((r,n)=>e.extract(t.concat(["["+n+"]"]),r)));return(e=>{const t=(e=>{const t=[],r=[];return q(e,(e=>{YE(e,(e=>r.push(e)),(e=>t.push(e)))})),{values:t,errors:r}})(e);return t.errors.length>0?(r=t.errors,k(JE,ee)(r)):XE(t.values);var r})(n)},toString:()=>"array("+e.toString()+")"}),uC=(e,t)=>((e,t)=>({extract:(r,n)=>_e(n,e).fold((()=>((e,t)=>tC(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(r,e)),(e=>((e,t,r,n)=>_e(r,n).fold((()=>((e,t,r)=>tC(e,(()=>'The chosen schema: "'+r+'" did not exist in branches: '+eC(t))))(e,r,n)),(r=>r.extract(e.concat(["branch: "+n]),t))))(r,n,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+ue(t)}))(e,me(t,hC)),pC=P(aC),fC=(e,t)=>sC((r=>{const n=typeof r;return e(r)?XE(r):JE(`Expected type: ${t} but got: ${n}`)})),mC=fC(E,"number"),gC=fC(p,"string"),vC=fC(y,"boolean"),yC=fC(_,"function"),bC=(e,t,r,n)=>({tag:"field",key:e,newKey:t,presence:r,prop:n}),wC=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),xC=(e,t)=>bC(e,e,{tag:"required",process:{}},t),_C=e=>xC(e,gC),EC=e=>xC(e,yC),CC=(e,t)=>bC(e,e,{tag:"option",process:{}},t),SC=e=>CC(e,gC),kC=(e,t,r)=>bC(e,e,oC(t),r),AC=(e,t)=>kC(e,t,mC),PC=(e,t,r)=>kC(e,t,(e=>{return t=t=>j(e,t)?Ua.value(t):Ua.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),sC((e=>t(e).fold(JE,XE)));var t})(r)),TC=(e,t)=>kC(e,t,vC),MC=(e,t)=>kC(e,t,yC),OC=_C("type"),DC=EC("fetch"),IC=EC("onAction"),RC=MC("onSetup",(()=>S)),FC=SC("text"),BC=SC("icon"),NC=SC("tooltip"),LC=SC("label"),VC=TC("active",!1),zC=TC("enabled",!0),HC=TC("primary",!1),jC=e=>((e,t)=>kC("type",t,gC))(0,e),GC=hC([OC,_C("trigger"),AC("minChars",1),((e,t)=>bC(e,e,oC(1),pC()))("columns"),AC("maxResults",10),CC("matches",yC),DC,IC,(UC=gC,kC("highlightOn",[],dC(UC)))]);var UC;const qC=[zC,NC,BC,FC,RC],WC=[VC].concat(qC),$C=[MC("predicate",F),PC("scope","node",["node","editor"]),PC("position","selection",["node","selection","line"])],ZC=qC.concat([jC("contextformbutton"),HC,IC,wC("original",T)]),KC=WC.concat([jC("contextformbutton"),HC,IC,wC("original",T)]),YC=qC.concat([jC("contextformbutton")]),XC=WC.concat([jC("contextformtogglebutton")]),JC=uC("type",{contextformbutton:ZC,contextformtogglebutton:KC});hC([jC("contextform"),MC("initValue",P("")),LC,((e,t)=>bC(e,e,{tag:"required",process:{}},dC(t)))("commands",JC),CC("launch",uC("type",{contextformbutton:YC,contextformtogglebutton:XC}))].concat($C));const QC=e=>{const t=Ss(),r=ys(!1),n=t.isSet,o=()=>{n()&&((e=>{Db(e).autocompleter.removeDecoration()})(e),(e=>{e.dispatch("AutocompleterEnd")})(e),r.set(!1),t.clear())},i=Re((()=>(e=>{const t=e.ui.registry.getAll().popups,r=me(t,(e=>{return(t=e,((e,t,r)=>{return n=((e,t,r)=>((e,t)=>e.stype===KE.Error?{stype:KE.Error,serror:(e=>({input:r,errors:e}))(e.serror)}:e)(t.extract([e],r)))(e,t,r),YE(n,Ua.error,Ua.value);var n})("Autocompleter",GC,{trigger:t.ch,...t})).fold((e=>{throw new Error("Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:P("... (only showing first ten failures)")}]):e;return U(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})((t=e).errors).join("\n")+"\n\nInput object: "+eC(t.input));var t}),T);var t})),n=Se(we(r,(e=>e.trigger))),o=xe(r);return{dataset:r,triggers:n,lookupByTrigger:e=>Z(o,(t=>t.trigger===e))}})(e))),s=s=>{(r=>t.get().map((t=>qE(e.dom,e.selection.getRng(),t.trigger).bind((t=>ZE(e,i,t,r))))).getOrThunk((()=>((e,t)=>{const r=t(),n=e.selection.getRng();return((e,t,r)=>de(r.triggers,(r=>qE(e,t,r))))(e.dom,n,r).bind((r=>ZE(e,t,r)))})(e,i))))(s).fold(o,(i=>{(r=>{n()||(((e,t)=>{Db(e).autocompleter.addDecoration(t)})(e,r.range),t.set({trigger:r.trigger,matchLength:r.text.length}))})(i.context),i.lookupData.then((n=>{t.get().map((s=>{const a=i.context;s.trigger===a.trigger&&(a.text.length-s.matchLength>=10?o():(t.set({...s,matchLength:a.text.length}),r.get()?((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:n}):(r.set(!0),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:n}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const r=f(t)?t.fetchOptions:{};s(r)})),e.addCommand("mceAutocompleterClose",o),((e,t)=>{const r=As(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&r.throttle()})),e.on("keydown",(e=>{const n=e.which;8===n?r.throttle():27===n&&t.cancelIfNecessary()})),e.on("remove",r.cancel)})(e,{cancelIfNecessary:o,load:s})},eS=e=>(t,r,n={})=>{const o=t.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:S,inputType:r},s=Ji(new InputEvent(e));return t.dispatch(e,{...s,...i,...n})},tS=eS("input"),rS=eS("beforeinput"),nS=(e,t)=>{const r=e.dom,n=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(Tn(e)||Ln(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(r.doc.createTextNode(Qn),t.firstChild)}const o=r.createRng();if(t.normalize(),t.hasChildNodes()){const e=new kn(t,t);let r,i=t;for(;r=e.current();){if(Ln(r)){o.setStart(r,0),o.setEnd(r,0);break}if(n[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}i=r,r=e.next()}r||(o.setStart(i,0),o.setEnd(i,0))}else Un(t)?t.nextSibling&&r.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),Sp(e,o)},oS=(e,t)=>{const r=e.getRoot();let n,o=t;for(;o!==r&&o&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r},iS=e=>N.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),sS=(e,t)=>{const r=null==e?void 0:e.parentNode;return x(r)&&r.nodeName===t},aS=e=>x(e)&&/^(OL|UL|LI)$/.test(e.nodeName),lS=e=>{const t=e.parentNode;return x(r=t)&&/^(LI|DT|DD)$/.test(r.nodeName)?t:e;var r},cS=(e,t,r)=>{let n=e[r?"firstChild":"lastChild"];for(;n&&!Tn(n);)n=n[r?"nextSibling":"previousSibling"];return n===t},hS=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),dS=e=>{e.innerHTML='<br data-mce-bogus="1">'},uS=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,pS=(e,t)=>x(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t),fS=(e,t,r)=>Ln(t)?e?1===r&&t.data.charAt(r-1)===_o?0:r:r===t.data.length-1&&t.data.charAt(r)===_o?t.data.length:r:r,mS=(e,t)=>{ul(e).toLowerCase()===t.tagName.toLowerCase()&&((e,t,r)=>{const n=e.dom;N.from(r.style).map(n.parseStyle).each((e=>{const r={...Zr(ur(t)),...e};n.setStyles(t,r)}));const o=N.from(r.class).map((e=>e.split(/\s+/))),i=N.from(t.className).map((e=>Z(e.split(/\s+/),(e=>""!==e))));Rt(o,i,((e,r)=>{const o=Z(r,(t=>!j(e,t))),i=[...e,...o];n.setAttrib(t,"class",i.join(" "))}));const s=["style","class"],a=be(r,((e,t)=>!j(s,t)));n.setAttribs(t,a)})(e,t,pl(e))},gS={insert:(e,t)=>{let r,n,o,i,s=!1;const a=e.dom,l=e.schema,c=l.getNonEmptyElements(),h=e.selection.getRng(),d=ul(e),u=t=>{let n=r;const i=l.getTextInlineElements();let s;s=t||"TABLE"===o||"HR"===o?a.create(t||d):b.cloneNode(!1);let c=s;if(!1===vl(e))a.setAttrib(s,"style",null),a.setAttrib(s,"class",null);else do{if(i[n.nodeName]){if(Jh(n)||dd(n))continue;const e=n.cloneNode(!1);a.setAttrib(e,"id",""),s.hasChildNodes()?(e.appendChild(s.firstChild),s.appendChild(e)):(c=e,s.appendChild(e))}}while((n=n.parentNode)&&n!==y);return mS(e,s),dS(c),s},f=e=>{const t=fS(e,r,n);if(Ln(r)&&(e?t>0:t<r.data.length))return!1;if(r.parentNode===b&&s&&!e)return!0;if(e&&Tn(r)&&r===b.firstChild)return!0;if(uS(r,"TABLE")||uS(r,"HR"))return s&&!e||!s&&e;const o=new kn(r,b);let i;for(Ln(r)&&(e&&0===t?o.prev():e||t!==r.data.length||o.next());i=o.current();){if(Tn(i)){if(!i.getAttribute("data-mce-bogus")){const e=i.nodeName.toLowerCase();if(c[e]&&"br"!==e)return!1}}else if(Ln(i)&&!Ko(i.data))return!1;e?o.prev():o.next()}return!0},m=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(o)&&"HGROUP"!==_?u(d):u(),((e,t)=>{const r=yl(e);return!w(t)&&(p(r)?j(Dt.explode(r),t.nodeName.toLowerCase()):r)})(e,i)&&pS(a,i)&&a.isEmpty(b)?t=a.split(i,b):a.insertAfter(t,b),nS(e,t),t};rp(a,h).each((e=>{h.setStart(e.startContainer,e.startOffset),h.setEnd(e.endContainer,e.endOffset)})),r=h.startContainer,n=h.startOffset;const g=!(!t||!t.shiftKey),v=!(!t||!t.ctrlKey);Tn(r)&&r.hasChildNodes()&&(s=n>r.childNodes.length-1,r=r.childNodes[Math.min(n,r.childNodes.length-1)]||r,n=s&&Ln(r)?r.data.length:0);const y=oS(a,r);if(!y||((e,t)=>{const r=e.dom.getParent(t,"ol,ul,dl");return null!==r&&"false"===e.dom.getContentEditableParent(r)})(e,r))return;g||(r=((e,t,r,n,o)=>{var i;const s=e.dom,a=null!==(i=oS(s,n))&&void 0!==i?i:s.getRoot();let l=s.getParent(n,s.isBlock);if(!l||!pS(s,l)){let i;if(l=l||a,i=l===e.getBody()||Kn(l)?l.nodeName.toLowerCase():l.parentNode?l.parentNode.nodeName.toLowerCase():"",!l.hasChildNodes()){const n=s.create(t);return mS(e,n),l.appendChild(n),r.setStart(n,0),r.setEnd(n,0),n}let c,h=n;for(;h&&h.parentNode!==l;)h=h.parentNode;for(;h&&!s.isBlock(h);)c=h,h=h.previousSibling;if(c&&e.schema.isValidChild(i,t.toLowerCase())){const i=c.parentNode,a=s.create(t);for(mS(e,a),i.insertBefore(a,c),h=c;h&&!s.isBlock(h);){const e=h.nextSibling;a.appendChild(h),h=e}r.setStart(n,o),r.setEnd(n,o)}}return n})(e,d,h,r,n));let b=a.getParent(r,a.isBlock)||a.getRoot();i=x(null==b?void 0:b.parentNode)?a.getParent(b.parentNode,a.isBlock):null,o=b?b.nodeName.toUpperCase():"";const _=i?i.nodeName.toUpperCase():"";if("LI"!==_||v||(b=i,i=i.parentNode,o=_),/^(LI|DT|DD)$/.test(o)&&Tn(i)&&a.isEmpty(b))return void((e,t,r,n,o)=>{const i=e.dom,s=e.selection.getRng(),a=r.parentNode;if(r===e.getBody()||!a)return;var l;aS(l=r)&&aS(l.parentNode)&&(o="LI");let c=t(o);if(cS(r,n,!0)&&cS(r,n,!1))if(sS(r,"LI")){const e=lS(r);i.insertAfter(c,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(r)?i.remove(e):i.remove(r)}else i.replace(c,r);else if(cS(r,n,!0))sS(r,"LI")?(i.insertAfter(c,lS(r)),c.appendChild(i.doc.createTextNode(" ")),c.appendChild(r)):a.insertBefore(c,r),i.remove(n);else if(cS(r,n,!1))i.insertAfter(c,lS(r)),i.remove(n);else{r=lS(r);const e=s.cloneRange();e.setStartAfter(n),e.setEndAfter(r);const t=e.extractContents();"LI"===o&&((e,t)=>e.firstChild&&"LI"===e.firstChild.nodeName)(t)?(c=t.firstChild,i.insertAfter(t,r)):(i.insertAfter(t,r),i.insertAfter(c,r)),i.remove(n)}nS(e,c)})(e,u,i,b,d);if(b===e.getBody())return;const E=b.parentNode;let C;if(Ao(b))C=Fo(b),a.isEmpty(b)&&dS(b),mS(e,C),nS(e,C);else if(f(!1))C=m();else if(f(!0)&&E)C=E.insertBefore(u(),b),nS(e,uS(b,"HR")?C:b);else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,fS(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,fS(!1,e.endContainer,e.endOffset)),t})(h).cloneRange();t.setEndAfter(b);const r=t.extractContents();(e=>{q(yn(ur(e),zt),(e=>{const t=e.dom;t.nodeValue=Co(t.data)}))})(r),(e=>{let t=e;do{Ln(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(r),C=r.firstChild,a.insertAfter(r,b),((e,t,r)=>{var n;const o=[];if(!r)return;let i=r;for(;i=i.firstChild;){if(e.isBlock(i))return;Tn(i)&&!t[i.nodeName.toLowerCase()]&&o.push(i)}let s=o.length;for(;s--;)i=o[s],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===(null===(n=i.firstChild)||void 0===n?void 0:n.nodeValue)||hS(e,i))&&e.remove(i)})(a,c,C),((e,t)=>{t.normalize();const r=t.lastChild;(!r||Tn(r)&&/^(left|right)$/gi.test(e.getStyle(r,"float",!0)))&&e.add(t,"br")})(a,b),a.isEmpty(b)&&dS(b),C.normalize(),a.isEmpty(C)?(a.remove(C),m()):(mS(e,C),nS(e,C))}a.setAttrib(C,"id",""),e.dispatch("NewBlock",{newBlock:C})},fakeEventName:"insertParagraph"},vS=(e,t,r)=>{const n=e.dom.createRng();r?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),e.selection.setRng(n),Sp(e,n)},yS=(e,t)=>{const r=hr("br");Yr(ur(t),r),e.undoManager.add()},bS=(e,t)=>{wS(e.getBody(),t)||Xr(ur(t),hr("br"));const r=hr("br");Xr(ur(t),r),vS(e,r.dom,!1),e.undoManager.add()},wS=(e,t)=>{return r=wa.after(t),!!Un(r.getNode())||$h(e,wa.after(t)).map((e=>Un(e.getNode()))).getOr(!1);var r},xS=e=>e&&"A"===e.nodeName&&"href"in e,_S=e=>e.fold(F,xS,xS,F),ES=(e,t)=>{t.fold(S,O(yS,e),O(bS,e),S)},CS={insert:(e,t)=>{const r=(e=>{const t=O(Cm,e),r=wa.fromRangeStart(e.selection.getRng());return kx(t,e.getBody(),r).filter(_S)})(e);r.isSome()?r.each(O(ES,e)):((e,t)=>{const r=e.selection,n=e.dom,o=r.getRng();let i,s=!1;rp(n,o).each((e=>{o.setStart(e.startContainer,e.startOffset),o.setEnd(e.endContainer,e.endOffset)}));let a=o.startOffset,l=o.startContainer;if(Tn(l)&&l.hasChildNodes()){const e=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=e&&Ln(l)?l.data.length:0}let c=n.getParent(l,n.isBlock);const h=c&&c.parentNode?n.getParent(c.parentNode,n.isBlock):null,d=h?h.nodeName.toUpperCase():"",u=!(!t||!t.ctrlKey);"LI"!==d||u||(c=h),Ln(l)&&a>=l.data.length&&(((e,t,r)=>{const n=new kn(t,r);let o;const i=e.getNonEmptyElements();for(;o=n.next();)if(i[o.nodeName.toLowerCase()]||Ln(o)&&o.length>0)return!0;return!1})(e.schema,l,c||n.getRoot())||(i=n.create("br"),o.insertNode(i),o.setStartAfter(i),o.setEndAfter(i),s=!0)),i=n.create("br"),_a(n,o,i),vS(e,i,s),e.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},SS=(e,t)=>iS(e).filter((e=>t.length>0&&fr(ur(e),t))).isSome(),kS=qa([{br:[]},{block:[]},{none:[]}]),AS=(e,t)=>(e=>SS(e,gl(e)))(e),PS=e=>(t,r)=>(e=>iS(e).filter((e=>po(ur(e)))).isSome())(t)===e,TS=(e,t)=>(r,n)=>{const o=(e=>iS(e).fold(P(""),(e=>e.nodeName.toUpperCase())))(r)===e.toUpperCase();return o===t},MS=e=>{const t=oS(e.dom,e.selection.getStart());return w(t)},OS=e=>TS("pre",e),DS=e=>(t,r)=>dl(t)===e,IS=(e,t)=>(e=>SS(e,ml(e)))(e),RS=(e,t)=>t,FS=e=>{const t=ul(e),r=oS(e.dom,e.selection.getStart());return x(r)&&e.schema.isValidChild(r.nodeName,t)},BS=(e,t)=>(r,n)=>Y(e,((e,t)=>e&&t(r,n)),!0)?N.some(t):N.none(),NS=(e,t,r)=>{t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),x(r)&&rS(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,r),x(r)&&tS(t,e.fakeEventName))},LS=(e,t)=>{const r=()=>NS(CS,e,t),n=()=>NS(gS,e,t),o=((e,t)=>gx([BS([AS],kS.none()),BS([OS(!0),MS],kS.none()),BS([TS("summary",!0)],kS.br()),BS([OS(!0),DS(!1),RS],kS.br()),BS([OS(!0),DS(!1)],kS.block()),BS([OS(!0),DS(!0),RS],kS.block()),BS([OS(!0),DS(!0)],kS.br()),BS([PS(!0),RS],kS.br()),BS([PS(!0)],kS.block()),BS([IS],kS.br()),BS([RS],kS.br()),BS([FS],kS.block())],[e,!(!t||!t.shiftKey)]).getOr(kS.none()))(e,t);switch(fl(e)){case"linebreak":o.fold(r,r,S);break;case"block":o.fold(n,n,S);break;case"invert":o.fold(n,r,S);break;default:o.fold(r,n,S)}},VS=xt(),zS=e=>e.stopImmediatePropagation(),HS=e=>e.keyCode===Pu.PAGE_UP||e.keyCode===Pu.PAGE_DOWN,jS=(e,t,r)=>{r&&!e.get()?t.on("NodeChange",zS,!0):!r&&e.get()&&t.off("NodeChange",zS),e.set(r)},GS=(e,t)=>{const r=t.container(),n=t.offset();return Ln(r)?(r.insertData(n,e),N.some(wa(r,n+e.length))):Sh(t).map((r=>{const n=dr(e);return t.isAtEnd()?Xr(r,n):Yr(r,n),wa(n.dom,e.length)}))},US=O(GS,Qn),qS=O(GS," "),WS=e=>{const t=wa.fromRangeStart(e.selection.getRng()),r=ur(e.getBody());if(e.selection.isCollapsed()){const n=O(Cm,e),o=wa.fromRangeStart(e.selection.getRng());return kx(n,e.getBody(),o).bind((e=>t=>t.fold((t=>Zh(e.dom,wa.before(t))),(e=>Kh(e)),(e=>Yh(e)),(t=>$h(e.dom,wa.after(t)))))(r)).map((n=>()=>((e,t)=>r=>((e,t)=>!nm(t)&&(((e,t)=>((e,t)=>Zh(e.dom,t).isNone())(e,t)||((e,t)=>$h(e.dom,t).isNone())(e,t)||Gf(e,t)||Uf(e,t)||Yf(e,t)||Kf(e,t))(e,t)||tm(e,t)||rm(e,t)))(e,r)?US(t):qS(t))(r,t)(n).each((e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0))(e))))}return N.none()},$S=e=>zc(e)?[{keyCode:Pu.TAB,action:iE(RE,e,!0)},{keyCode:Pu.TAB,shiftKey:!0,action:iE(RE,e,!1)}]:[],ZS=e=>{if(e.addShortcut("Meta+P","","mcePrint"),QC(e),Mb(e))return ys(null);{const t=(e=>{const t=ys(null),r=O(Cm,e);return e.on("NodeChange",(n=>{Zl(e)&&(((e,t,r)=>{const n=U(to(ur(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),o=Z(n,e),i=Z(r,e);q(oe(o,i),O(m_,!1)),q(oe(i,o),O(m_,!0))})(r,e.dom,n.parents),((e,t)=>{const r=t.get();if(e.selection.isCollapsed()&&!e.composing&&r){const n=wa.fromRangeStart(e.selection.getRng());wa.isTextPosition(n)&&!(e=>Oo(e)||Do(e))(n)&&(f_(e,((e,t)=>wa.isTextPosition(t)?((e,t)=>jc(e)&&t.container()===e?((e,t)=>{const r=Uc(e.data.substr(0,t.offset())),n=Uc(e.data.substr(t.offset()));return(r.text+n.text).length>0?(qc(e),wa(e,t.offset()-r.count)):t})(e,t):Wc(e,t))(e,t):((e,t)=>t.container()===e.parentNode?((e,t)=>{const r=t.container(),n=((e,t)=>{const r=H(e,t);return-1===r?N.none():N.some(r)})(he(r.childNodes),e).map((e=>e<t.offset()?wa(r,t.offset()-1):t)).getOr(t);return $c(e),n})(e,t):Wc(e,t))(e,t))(r,n)),t.set(null))}})(e,t),((e,t,r,n)=>{if(t.selection.isCollapsed()){const o=Z(n,e);q(o,(n=>{const o=wa.fromRangeStart(t.selection.getRng());kx(e,t.getBody(),o).bind((e=>g_(t,r,e)))}))}})(r,e,t,n.parents))})),t})(e);return(e=>{e.on("keyup compositionstart",O(Z_,e))})(e),((e,t)=>{e.on("keydown",(r=>{r.isDefaultPrevented()||((e,t,r)=>{const n=Pt.os.isMacOS()||Pt.os.isiOS();sE([{keyCode:Pu.RIGHT,action:iE(X_,e,!0)},{keyCode:Pu.LEFT,action:iE(X_,e,!1)},{keyCode:Pu.UP,action:iE(J_,e,!1)},{keyCode:Pu.DOWN,action:iE(J_,e,!0)},...n?[{keyCode:Pu.UP,action:iE(eE,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Pu.DOWN,action:iE(eE,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Pu.RIGHT,action:iE(TE,e,!0)},{keyCode:Pu.LEFT,action:iE(TE,e,!1)},{keyCode:Pu.UP,action:iE(ME,e,!1)},{keyCode:Pu.DOWN,action:iE(ME,e,!0)},{keyCode:Pu.RIGHT,action:iE(lE,e,!0)},{keyCode:Pu.LEFT,action:iE(lE,e,!1)},{keyCode:Pu.UP,action:iE(cE,e,!1)},{keyCode:Pu.DOWN,action:iE(cE,e,!0)},{keyCode:Pu.RIGHT,action:iE(v_,e,t,!0)},{keyCode:Pu.LEFT,action:iE(v_,e,t,!1)},{keyCode:Pu.RIGHT,ctrlKey:!n,altKey:n,action:iE(b_,e,t)},{keyCode:Pu.LEFT,ctrlKey:!n,altKey:n,action:iE(w_,e,t)},{keyCode:Pu.UP,action:iE(rE,e,!1)},{keyCode:Pu.DOWN,action:iE(rE,e,!0)}],r).each((e=>{r.preventDefault()}))})(e,t,r)}))})(e,t),((e,t)=>{e.on("keydown",(r=>{r.isDefaultPrevented()||((e,t,r)=>{const n=r.keyCode===Pu.BACKSPACE?"deleteContentBackward":"deleteContentForward";aE([{keyCode:Pu.BACKSPACE,action:iE(B_,e)},{keyCode:Pu.BACKSPACE,action:iE(ox,e,!1)},{keyCode:Pu.DELETE,action:iE(ox,e,!0)},{keyCode:Pu.BACKSPACE,action:iE(Xw,e,!1)},{keyCode:Pu.DELETE,action:iE(Xw,e,!0)},{keyCode:Pu.BACKSPACE,action:iE(C_,e,t,!1)},{keyCode:Pu.DELETE,action:iE(C_,e,t,!0)},{keyCode:Pu.BACKSPACE,action:iE(og,e,!1)},{keyCode:Pu.DELETE,action:iE(og,e,!0)},{keyCode:Pu.BACKSPACE,action:iE(ix,e,!1)},{keyCode:Pu.DELETE,action:iE(ix,e,!0)},{keyCode:Pu.BACKSPACE,action:iE(P_,e,!1)},{keyCode:Pu.DELETE,action:iE(P_,e,!0)},{keyCode:Pu.BACKSPACE,action:iE(Uw,e,!1)},{keyCode:Pu.DELETE,action:iE(Uw,e,!0)},{keyCode:Pu.BACKSPACE,action:iE(jw,e,!1)},{keyCode:Pu.DELETE,action:iE(jw,e,!0)},{keyCode:Pu.BACKSPACE,action:iE(k_,e,!1)},{keyCode:Pu.DELETE,action:iE(k_,e,!0)}],r).each((t=>{r.preventDefault(),rS(e,n).isDefaultPrevented()||(t(),tS(e,n))}))})(e,t,r)})),e.on("keyup",(t=>{t.isDefaultPrevented()||((e,t)=>{sE([{keyCode:Pu.BACKSPACE,action:iE(nx,e)},{keyCode:Pu.DELETE,action:iE(nx,e)}],t)})(e,t)}))})(e,t),(e=>{e.on("keydown",(t=>{t.keyCode===Pu.ENTER&&((e,t)=>{var r;t.isDefaultPrevented()||(t.preventDefault(),(r=e.undoManager).typing&&(r.typing=!1,r.add()),e.undoManager.transact((()=>{LS(e,t)})))})(e,t)}))})(e),(e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{aE([{keyCode:Pu.SPACEBAR,action:iE(WS,e)}],t).each((r=>{t.preventDefault(),rS(e,"insertText",{data:" "}).isDefaultPrevented()||(r(),tS(e,"insertText",{data:" "}))}))})(e,t)}))})(e),(e=>{e.on("input",(t=>{t.isComposing||(e=>{const t=ur(e.getBody());e.selection.isCollapsed()&&((e,t)=>{const r=t.container();if(!Ln(r))return N.none();if((e=>{const t=e.container();return Ln(t)&&ze(t.data,Qn)})(t)){const n=hm(e,r,!1)||(e=>{const t=e.data,r=(e=>{const t=e.split("");return U(t,((e,r)=>ud(e)&&r>0&&r<t.length-1&&fd(t[r-1])&&fd(t[r+1])?" ":e)).join("")})(t);return r!==t&&(e.data=r,!0)})(r)||dm(e,r,!1);return Ft(n,t)}if(am(e,t)){const n=hm(e,r,!0)||dm(e,r,!0);return Ft(n,t)}return N.none()})(t,wa.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))})(e),(e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{sE([...$S(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))})(e),((e,t)=>{e.on("keydown",(r=>{r.isDefaultPrevented()||((e,t,r)=>{const n=Pt.os.isMacOS()||Pt.os.isiOS();sE([{keyCode:Pu.END,action:iE(Q_,e,!0)},{keyCode:Pu.HOME,action:iE(Q_,e,!1)},...n?[]:[{keyCode:Pu.HOME,action:iE(eE,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Pu.END,action:iE(eE,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Pu.END,action:iE(hE,e,!0)},{keyCode:Pu.HOME,action:iE(hE,e,!1)},{keyCode:Pu.END,action:iE(x_,e,!0,t)},{keyCode:Pu.HOME,action:iE(x_,e,!1,t)}],r).each((e=>{r.preventDefault()}))})(e,t,r)}))})(e,t),((e,t)=>{if(VS.os.isMacOS())return;const r=ys(!1);e.on("keydown",(t=>{HS(t)&&jS(r,e,!0)})),e.on("keyup",(n=>{n.isDefaultPrevented()||((e,t,r)=>{sE([{keyCode:Pu.PAGE_UP,action:iE(x_,e,!1,t)},{keyCode:Pu.PAGE_DOWN,action:iE(x_,e,!0,t)}],r)})(e,t,n),HS(n)&&r.get()&&(jS(r,e,!1),e.nodeChanged())}))})(e,t),t}};class KS{constructor(e){let t;this.lastPath=[],this.editor=e;const r=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(r=>{const n=e.selection.getRng(),o={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};"nodechange"!==r.type&&Ku(o,t)||e.dispatch("SelectionChange"),t=o})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&Md(e)&&!r.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&Md(e)&&("IMG"===e.selection.getNode().nodeName?Lp.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor.selection;let r;if(this.editor.initialized&&t&&!sc(this.editor)&&!this.editor.mode.isReadOnly()){const n=this.editor.getBody();r=t.getStart(!0)||n,r.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,n)||(r=n);const o=[];this.editor.dom.getParent(r,(e=>e===n||(o.push(e),!1))),this.editor.dispatch("NodeChange",{...e,element:r,parents:o})}}isSameElementPath(e){let t;const r=this.editor,n=ne(r.dom.getParents(e,B,r.getBody()));if(n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1}}const YS=P("x-tinymce/html"),XS="\x3c!-- x-tinymce/html --\x3e",JS=e=>XS+e,QS=e=>-1!==e.indexOf(XS),ek="%MCEPASTEBIN%",tk=e=>e.dom.get("mcepastebin"),rk=e=>x(e)&&"mcepastebin"===e.id,nk=e=>e===ek,ok=(e,t)=>(Dt.each(t,(t=>{e=u(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),ik=e=>ok(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,r)=>t||r?Qn:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),sk=(e,t)=>({content:e,cancelled:t}),ak=(e,t)=>(e.insertContent(t,{merge:Pc(e),paste:!0}),!0),lk=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),ck=(e,t,r)=>!(e.selection.isCollapsed()||!lk(t))&&((e,t,r)=>(e.undoManager.extra((()=>{r(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0))(e,t,r),hk=(e,t,r)=>!!((e,t)=>lk(t)&&G(Vc(e),(e=>je(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,r)=>(e.undoManager.extra((()=>{r(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0))(e,t,r),dk=(e=>{let t=0;return()=>"mceclip"+t++})(),uk=(e,t,r,n)=>{const o=((e,t,r)=>((e,t,r)=>{const n=((e,t,r)=>e.dispatch("PastePreProcess",{content:t,internal:r}))(e,t,r),o=((e,t)=>{const r=tb({},e.schema);r.addNodeFilter("meta",(e=>{Dt.each(e,(e=>{e.remove()}))}));const n=r.parse(t,{forced_root_block:!1,isRootContent:!0});return vf({validate:!0},e.schema).serialize(n)})(e,n.content);return e.hasEventListeners("PastePostProcess")&&!n.isDefaultPrevented()?((e,t,r)=>{const n=e.dom.create("div",{style:"display:none"},t),o=((e,t,r)=>e.dispatch("PastePostProcess",{node:t,internal:r}))(e,n,r);return sk(o.node.innerHTML,o.isDefaultPrevented())})(e,o,r):sk(o,n.isDefaultPrevented())})(e,t,r))(e,t,r);o.cancelled||((e,t,r)=>{r||!Tc(e)?ak(e,t):((e,t)=>{Dt.each([ck,hk,ak],(r=>!r(e,t,ak)))})(e,t)})(e,o.content,n)},pk=(e,t,r)=>{const n=r||QS(t);uk(e,(e=>e.replace(XS,""))(t),n,!1)},fk=(e,t)=>{const r=e.dom.encode(t).replace(/\r\n/g,"\n"),n=((e,t,r)=>{const n=e.split(/\n\n/),o=((e,t)=>{let r="<"+e;const n=we(t,((e,t)=>t+'="'+Bi.encodeAllRaw(e)+'"'));return n.length&&(r+=" "+n.join(" ")),r+">"})(t,r),i="</"+t+">",s=U(n,(e=>e.split(/\n/).join("<br />")));return 1===s.length?s[0]:U(s,(e=>o+e+i)).join("")})(Xo(r,Oc(e)),ul(e),pl(e));uk(e,n,!1,!0)},mk=e=>{const t={};if(e&&e.types)for(let r=0;r<e.types.length;r++){const n=e.types[r];try{t[n]=e.getData(n)}catch(e){t[n]=""}}return t},gk=(e,t)=>t in e&&e[t].length>0,vk=e=>gk(e,"text/html")||gk(e,"text/plain"),yk=(e,t,r)=>{const n="paste"===t.type?t.clipboardData:t.dataTransfer;var o;if(Ec(e)&&n){const i=((e,t)=>{const r=t.items?te(he(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],n=t.files?he(t.files):[];return Z(r.length>0?r:n,(e=>{const t=Vc(e);return e=>He(e.type,"image/")&&G(t,(t=>(e=>{const t=e.toLowerCase(),r={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Dt.hasOwn(r,t)?"image/"+r[t]:"image/"+t})(t)===e.type))})(e))})(e,n);if(i.length>0)return t.preventDefault(),(o=i,Promise.all(U(o,(e=>Ny(e).then((t=>({file:e,uri:t}))))))).then((t=>{r&&e.selection.setRng(r),q(t,(t=>{((e,t)=>{Fy(t.uri).each((({data:r,type:n,base64Encoded:o})=>{const i=o?r:btoa(r),s=t.file,a=e.editorUpload.blobCache,l=a.getByData(i,n),c=null!=l?l:((e,t,r,n)=>{const o=dk(),i=wl(e)&&x(r.name),s=i?((e,t)=>{const r=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return x(r)?e.dom.encode(r[1]):void 0})(e,r.name):o,a=i?r.name:void 0,l=t.create(o,r,n,s,a);return t.add(l),l})(e,a,s,i);pk(e,`<img src="${c.blobUri()}">`,!1)}))})(e,t)}))})),!0}return!1},bk=(e,t,r,n)=>{let o=ik(r);const i=gk(t,YS())||QS(r),s=!i&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(o),a=lk(o);(nk(o)||!o.length||s&&!a)&&(n=!0),(n||a)&&(o=gk(t,"text/plain")&&s?t["text/plain"]:(e=>{const t=Ki(),r=tb({},t);let n="";const o=t.getVoidElements(),i=Dt.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),a=e=>{const r=e.name,l=e;if("br"!==r){if("wbr"!==r)if(o[r]&&(n+=" "),i[r])n+=" ";else{if(3===e.type&&(n+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{a(t)}while(t=t.next)}s[r]&&l.next&&(n+="\n","p"===r&&(n+="\n"))}}else n+="\n"};return e=ok(e,[/<!\[[^\]]+\]>/g]),a(r.parse(e)),n})(o)),nk(o)||(n?fk(e,o):pk(e,o,i))},wk=(e,t,r,n)=>{((e,t,r)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",r),e.setData(YS(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),n()):r(t.html,n)},xk=e=>(t,r)=>{const{dom:n,selection:o}=e,i=n.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=n.create("div",{contenteditable:"true"},t);n.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(s),n.add(e.getBody(),i);const a=o.getRng();s.focus();const l=n.createRng();l.selectNodeContents(s),o.setRng(l),Lp.setEditorTimeout(e,(()=>{o.setRng(a),n.remove(i),r()}),0)},_k=e=>({html:JS(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Ek=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),Ck=(e,t)=>{var r,n;return ip.getCaretRangeFromPoint(null!==(r=t.clientX)&&void 0!==r?r:0,null!==(n=t.clientY)&&void 0!==n?n:0,e.getDoc())},Sk=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},kk=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Ak=e=>Dt.trim(e).replace(kk,xd).toLowerCase(),Pk=(e,t,r)=>{const n=kc(e);if(r||"all"===n||!Ac(e))return t;const o=n?n.split(/[, ]/):[];if(o&&"none"!==n){const r=e.dom,n=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,i,s)=>{const a=r.parseStyle(r.decode(i)),l={};for(let e=0;e<o.length;e++){const t=a[o[e]];let i=t,s=r.getStyle(n,o[e],!0);/color/.test(o[e])&&(i=Ak(i),s=Ak(s)),s!==i&&(l[o[e]]=t)}const c=r.serializeStyle(l,"span");return c?t+' style="'+c+'"'+s:t+s}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,r,n)=>t+' style="'+r+'"'+n)),t},Tk=Un,Mk=Ln,Ok=e=>$n(e.dom),Dk=e=>t=>gr(ur(e),t),Ik=(e,t)=>xn(ur(e),Ok,Dk(t)),Rk=(e,t,r)=>{const n=new kn(e,t),o=r?n.next.bind(n):n.prev.bind(n);let i=e;for(let t=r?e:o();t&&!Tk(t);t=o())qo(t)&&(i=t);return i};var Fk;!function(e){e.Before="before",e.After="after"}(Fk||(Fk={}));const Bk=(e,t)=>Math.abs(e.left-t),Nk=(e,t)=>Math.abs(e.right-t),Lk=(e,t,r)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),Vk=(e,t,r)=>{const n=e=>qo(e.node)?N.some(e):Tn(e.node)?Vk(he(e.node.childNodes),t,r):N.none(),o=(e,o)=>{const i=se(e,((e,n)=>o(e,t,r)-o(n,t,r)));return((e,o)=>{if(e.length>=2){const i=n(e[0]).getOr(e[0]),s=n(e[1]).getOr(e[1]);if(Math.abs(o(i,t,r)-o(s,t,r))<2){if(Ln(i.node))return N.some(i);if(Ln(s.node))return N.some(s)}}return N.none()})(i,o).orThunk((()=>de(i,n)))},[i,s]=((e,t)=>(e=>Y(e,((e,t)=>e.fold((()=>N.some(t)),(e=>{const r=Math.min(t.left,e.left),n=Math.min(t.top,e.top),o=Math.max(t.right,e.right),i=Math.max(t.bottom,e.bottom);return N.some({top:n,right:o,bottom:i,left:r,width:o-r,height:i-n})}))),N.none()))(Z(e,(e=>{return(r=t)>=(n=e).top&&r<=n.bottom;var r,n}))).fold((()=>[[],e]),(t=>{const{pass:r,fail:n}=$(e,(e=>((e,t)=>{const r=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&r>.5})(e,t)));return[r,n]})))(e_(e),r),{pass:a,fail:l}=$(s,(e=>e.top<r));return o(i,Lk).orThunk((()=>o(l,Js))).orThunk((()=>o(a,Js)))},zk=(e,t,r)=>((e,t,r)=>{const n=ur(e),o=((e,t,r)=>N.from(e.dom.elementFromPoint(t,r)).map(lr))(br(n),t,r).filter((e=>vr(n,e))).getOr(n);return((e,t,r,n)=>{const o=(t,i)=>{const s=Z(t.dom.childNodes,D((e=>Tn(e)&&e.classList.contains("mce-drag-container"))));return i.fold((()=>Vk(s,r,n)),(e=>{const t=Z(s,(t=>t!==e.dom));return Vk(t,r,n)})).orThunk((()=>(gr(t,e)?N.none():_r(t)).bind((e=>o(e,N.some(t))))))};return o(t,N.none())})(n,o,t,r)})(e,t,r).filter((e=>eh(e.node))).map((e=>((e,t)=>({node:e.node,position:Bk(e,t)<Nk(e,t)?Fk.Before:Fk.After}))(e,t))),Hk=e=>{var t,r;const n=e.getBoundingClientRect(),o=e.ownerDocument,i=o.documentElement,s=o.defaultView;return{top:n.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-i.clientTop,left:n.left+(null!==(r=null==s?void 0:s.scrollX)&&void 0!==r?r:0)-i.clientLeft}},jk=$n,Gk=((...e)=>t=>{for(let r=0;r<e.length;r++)if(e[r](t))return!0;return!1})(jk,Wn),Uk=(e,t,r,n)=>{const o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:r,height:n}),o.setAttrib(i,"data-mce-selected",null);const s=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:n}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),s.appendChild(i),s},qk=(e,t)=>r=>()=>{const n="left"===e?r.scrollX:r.scrollY;r.scroll({[e]:n+t,behavior:"smooth"})},Wk=qk("left",-32),$k=qk("left",32),Zk=qk("top",-32),Kk=qk("top",32),Yk=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Xk=e=>{e.on((e=>{e.intervalId.clear(),Yk(e.ghost)})),e.clear()},Jk=$n,Qk=(e,t)=>ig(e.getBody(),t),eA=e=>{const t=e.selection,r=e.dom,n=e.getBody(),o=((e,t,r,n)=>{const o=Ss();let i,s;const a=ul(e),l=e.dom,c=()=>{(e=>{var t,r;const n=to(ur(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<n.length;e++){const o=n[e].dom;let i=o.previousSibling;if(Ro(i)){const e=i.data;1===e.length?null===(t=i.parentNode)||void 0===t||t.removeChild(i):i.deleteData(e.length-1,1)}i=o.nextSibling,Io(i)&&(1===i.data.length?null===(r=i.parentNode)||void 0===r||r.removeChild(i):i.deleteData(0,1))}})(t),s&&($c(s),s=null),o.on((e=>{l.remove(e.caret),o.clear()})),i&&(clearInterval(i),i=void 0)};return{show:(e,h)=>{let d;if(c(),Yc(h))return null;if(!r(h))return s=((e,t)=>{var r;const n=(null!==(r=e.ownerDocument)&&void 0!==r?r:document).createTextNode(_o),o=e.parentNode;if(t){const t=e.previousSibling;if(ko(t)){if(To(t))return t;if(Ro(t))return t.splitText(t.data.length-1)}null==o||o.insertBefore(n,e)}else{const t=e.nextSibling;if(ko(t)){if(To(t))return t;if(Io(t))return t.splitText(1),t}e.nextSibling?null==o||o.insertBefore(n,e.nextSibling):null==o||o.appendChild(n)}return n})(h,e),d=h.ownerDocument.createRange(),Qc(s.nextSibling)?(d.setStart(s,0),d.setEnd(s,0)):(d.setStart(s,1),d.setEnd(s,1)),d;{const r=((e,t,r)=>{var n;const o=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createElement(e);o.setAttribute("data-mce-caret",r?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(bo().dom);const i=t.parentNode;return r?null==i||i.insertBefore(o,t):t.nextSibling?null==i||i.insertBefore(o,t.nextSibling):null==i||i.appendChild(o),o})(a,h,e),c=Xc(t,h,e);l.setStyle(r,"top",c.top),s=r;const u=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(u,{...c}),l.add(t,u),o.set({caret:u,element:h,before:e}),e&&l.addClass(u,"mce-visual-caret-before"),i=setInterval((()=>{o.on((e=>{n()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500),d=h.ownerDocument.createRange(),d.setStart(r,0),d.setEnd(r,0)}return d},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on((e=>{const r=Xc(t,e.element,e.before);l.setStyles(e.caret,{...r})}))},destroy:()=>clearInterval(i)}})(e,n,r.isBlock,(()=>Wp(e))),i="sel-"+r.uniqueId(),s="data-mce-selected";let a;const l=e=>e!==n&&(Jk(e)||Yn(e))&&r.isChildOf(e,n),c=(r,n,i,s=!0)=>e.dispatch("ShowCaret",{target:n,direction:r,before:i}).isDefaultPrevented()?null:(s&&t.scrollIntoView(n,-1===r),o.show(i,n)),h=e=>To(e)||Io(e)||Ro(e),d=e=>h(e.startContainer)||h(e.endContainer),u=t=>{const n=e.schema.getVoidElements(),o=r.createRng(),i=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset;return Ee(n,i.nodeName.toLowerCase())?0===s?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,s),Ee(n,a.nodeName.toLowerCase())?0===l?o.setEndBefore(a):o.setEndAfter(a):o.setEnd(a,l),o},p=(o,h)=>{if(!o)return null;if(o.collapsed){if(!d(o)){const e=h?1:-1,t=Ch(e,n,o),i=t.getNode(!h);if(x(i)){if(eh(i))return c(e,i,!!h&&!t.isAtEnd(),!1);if(Po(i)&&$n(i.nextSibling)){const e=r.createRng();return e.setStart(i,0),e.setEnd(i,0),e}}const s=t.getNode(h);if(x(s)){if(eh(s))return c(e,s,!h&&!t.isAtEnd(),!1);if(Po(s)&&$n(s.previousSibling)){const e=r.createRng();return e.setStart(s,1),e.setEnd(s,1),e}}}return null}let u=o.startContainer,p=o.startOffset;const f=o.endOffset;if(Ln(u)&&0===p&&Jk(u.parentNode)&&(u=u.parentNode,p=r.nodeIndex(u),u=u.parentNode),!Tn(u))return null;if(f===p+1&&u===o.endContainer){const n=u.childNodes[p];if(l(n))return(n=>{const o=n.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:n,targetClone:o});if(l.isDefaultPrevented())return null;const c=((n,o)=>{const s=ur(e.getBody()),a=e.getDoc(),l=En(s,"#"+i).getOrThunk((()=>{const e=cr('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return qt(e,"id",i),Qr(s,e),e})),c=r.createRng();tn(l),en(l,[dr(Qn,a),ur(o),dr(Qn,a)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),Ur(l,{top:r.getPos(n,e.getBody()).y+"px"}),kp(l);const h=t.getSel();return h&&(h.removeAllRanges(),h.addRange(c)),c})(n,l.targetClone),h=ur(n);return q(to(ur(e.getBody()),"*[data-mce-selected]"),(e=>{gr(h,e)||Yt(e,s)})),r.getAttrib(n,s)||n.setAttribute(s,"1"),a=n,m(),c})(n)}return null},f=()=>{a&&a.removeAttribute(s),En(ur(e.getBody()),"#"+i).each(rn),a=null},m=()=>{o.hide()};return Mb(e)||(e.on("click",(t=>{const r=Qk(e,t.target);r&&Jk(r)&&(t.preventDefault(),e.focus())})),e.on("blur NewBlock",f),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",(t=>{const r=t.target,n=Qk(e,r);Jk(n)?(t.preventDefault(),Ww(e,n).each(p)):l(r)&&Ww(e,r).each(p)}),!0),e.on("mousedown",(o=>{const i=o.target;if(i!==n&&"HTML"!==i.nodeName&&!r.isChildOf(i,n))return;if(!((e,t,r)=>{const n=ur(e.getBody()),o=e.inline?n:ur(br(n).dom.documentElement),i=((e,t,r,n)=>{const o=(e=>e.dom.getBoundingClientRect())(t);return{x:r-(e?o.left+t.dom.clientLeft+Qb(t):0),y:n-(e?o.top+t.dom.clientTop+Jb(t):0)}})(e.inline,o,t,r);return((e,t,r)=>{const n=Yb(e),o=Xb(e);return t>=0&&r>=0&&t<=n&&r<=o})(o,i.x,i.y)})(e,o.clientX,o.clientY))return;f(),m();const s=Qk(e,i);Jk(s)?(o.preventDefault(),Ww(e,s).each(p)):zk(n,o.clientX,o.clientY).each((r=>{var n;o.preventDefault(),(n=c(1,r.node,r.position===Fk.Before,!1))&&t.setRng(n),Tn(s)?s.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{Pu.modifierPressed(e)||Jk(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(a){if(!a.parentNode)return void(a=null);t=t.cloneRange(),t.selectNode(a),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=u(e.range);const t=p(e.range,e.forward);t&&(e.range=t)})),e.on("AfterSetSelectionRange",(e=>{const t=e.range,n=t.startContainer.parentElement;var o;d(t)||Tn(o=n)&&"mcepastebin"===o.id||m(),(e=>x(e)&&r.hasClass(e,"mce-offscreen-selection"))(n)||f()})),(e=>{(e=>{const t=Ss(),r=ms.DOM,n=document,o=((e,t)=>r=>{if((e=>0===e.button)(r)){const i=J(t.dom.getParents(r.target),Gk).getOr(null);if(x(i)&&(n=t.getBody(),jk(o=i)&&o!==n)){const n=t.dom.getPos(i),o=t.getBody(),s=t.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:r.screenX,screenY:r.screenY,maxX:(t.inline?o.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?o.scrollHeight:s.offsetHeight)-2,relX:r.pageX-n.x,relY:r.pageY-n.y,width:i.offsetWidth,height:i.offsetHeight,ghost:Uk(t,i,i.offsetWidth,i.offsetHeight),intervalId:Cs(100)})}}var n,o})(t,e),i=((e,t)=>{const r=ks(((e,r)=>{t._selectionOverrides.hideFakeCaret(),zk(t.getBody(),e,r).fold((()=>t.selection.placeCaretAt(e,r)),(n=>{const o=t._selectionOverrides.showCaret(1,n.node,n.position===Fk.Before,!1);o?t.selection.setRng(o):t.selection.placeCaretAt(e,r)}))}),0);t.on("remove",r.cancel);const n=e;return o=>e.on((e=>{const i=Math.max(Math.abs(o.screenX-e.screenX),Math.abs(o.screenY-e.screenY));if(!e.dragging&&i>10){if(t.dispatch("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const i=o.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,((e,t)=>{return r=(e=>e.inline?Hk(e.getBody()):{left:0,top:0})(e),n=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),o=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const r=Hk(e.getContentAreaContainer()),n=(e=>{const t=e.getBody(),r=e.getDoc().documentElement,n={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||r.scrollLeft,top:t.scrollTop||r.scrollTop};return e.inline?n:o})(e);return{left:t.pageX-r.left+n.left,top:t.pageY-r.top+n.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:o.left-r.left+n.left,pageY:o.top-r.top+n.top};var r,n,o})(t,o));s=e.ghost,a=t.getBody(),s.parentNode!==a&&a.appendChild(s),((e,t,r,n,o,i,s,a,l,c,h,d)=>{let u=0,p=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+r>o&&(u=t.pageX+r-o),t.pageY+n>i&&(p=t.pageY+n-i),e.style.width=r-u+"px",e.style.height=n-p+"px";const f=l.clientHeight,m=l.clientWidth,g=s+l.getBoundingClientRect().top,v=a+l.getBoundingClientRect().left;h.on((e=>{e.intervalId.clear(),e.dragging&&d&&(s+8>=f?e.intervalId.set(Kk(c)):s-8<=0?e.intervalId.set(Zk(c)):a+8>=m?e.intervalId.set($k(c)):a-8<=0?e.intervalId.set(Wk(c)):g+16>=window.innerHeight?e.intervalId.set(Kk(window)):g-16<=0?e.intervalId.set(Zk(window)):v+16>=window.innerWidth?e.intervalId.set($k(window)):v-16<=0&&e.intervalId.set(Wk(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),n,i),r.throttle(o.clientX,o.clientY)}var s,a}))})(t,e),s=((e,t)=>r=>{e.on((e=>{if(e.intervalId.clear(),e.dragging){if(((e,t,r)=>!w(t)&&t!==r&&!e.dom.isChildOf(t,r)&&!jk(t))(t,(e=>{const t=e.getSel();if(x(t)){const e=t.getRangeAt(0).startContainer;return Ln(e)?e.parentNode:e}return null})(t.selection),e.element)){const n=(e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t})(e.element);t.dispatch("drop",{clientX:r.clientX,clientY:r.clientY}).isDefaultPrevented()||t.undoManager.transact((()=>{Yk(e.element),t.insertContent(t.dom.getOuterHTML(n)),t._selectionOverrides.hideFakeCaret()}))}t.dispatch("dragend")}})),Xk(e)})(t,e),a=((e,t)=>()=>{e.on((e=>{e.intervalId.clear(),e.dragging&&t.dispatch("dragend")})),Xk(e)})(t,e);e.on("mousedown",o),e.on("mousemove",i),e.on("mouseup",s),r.bind(n,"mousemove",i),r.bind(n,"mouseup",a),e.on("remove",(()=>{r.unbind(n,"mousemove",i),r.unbind(n,"mouseup",a)})),e.on("keydown",(e=>{e.keyCode===Pu.ESC&&a()}))})(e),dc(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const r=t.dataTransfer;r&&(j(r.types,"Files")||r.files.length>0)&&(t.preventDefault(),"drop"===t.type&&iw(e,"Dropped file type is not supported"))}},r=r=>{Hp(e,r.target)&&t(r)},n=()=>{const n=ms.DOM,o=e.dom,i=document,s=e.inline?e.getBody():e.getDoc(),a=["drop","dragover"];q(a,(e=>{n.bind(i,e,r),o.bind(s,e,t)})),e.on("remove",(()=>{q(a,(e=>{n.unbind(i,e,r),o.unbind(s,e,t)}))}))};e.on("init",(()=>{Lp.setEditorTimeout(e,n,0)}))})(e)})(e),(e=>{const t=ks((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const r=$w(e,t,!1);e.selection.setRng(r)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))})(e),(e=>{e.on("init",(()=>{e.on("focusin",(t=>{const r=t.target;if(Yn(r)){const t=ig(e.getBody(),r),n=$n(t)?t:r;e.selection.getNode()!==n&&Ww(e,n).each((t=>e.selection.setRng(t)))}}))}))})(e)),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(Fo(e),t.scrollIntoView(e))},hideFakeCaret:m,destroy:()=>{o.destroy(),a=null}}},tA=(e,t)=>{let r=t;for(let t=e.previousSibling;Ln(t);t=t.previousSibling)r+=t.data.length;return r},rA=(e,t,r,n,o)=>{if(Ln(r)&&(n<0||n>r.data.length))return[];const i=o&&Ln(r)?[tA(r,n)]:[n];let s=r;for(;s!==t&&s.parentNode;)i.push(e.nodeIndex(s,o)),s=s.parentNode;return s===t?i.reverse():[]},nA=(e,t,r,n,o,i,s=!1)=>({start:rA(e,t,r,n,s),end:rA(e,t,o,i,s)}),oA=(e,t)=>{const r=t.slice(),n=r.pop();return E(n)?Y(r,((e,t)=>e.bind((e=>N.from(e.childNodes[t])))),N.some(e)).bind((e=>Ln(e)&&(n<0||n>e.data.length)?N.none():N.some({node:e,offset:n}))):N.none()},iA=(e,t)=>oA(e,t.start).bind((({node:r,offset:n})=>oA(e,t.end).map((({node:e,offset:t})=>{const o=document.createRange();return o.setStart(r,n),o.setEnd(e,t),o})))),sA=(e,t,r)=>{if(t&&e.isEmpty(t)&&!r(t)){const n=t.parentNode;e.remove(t),sA(e,n,r)}},aA=(e,t,r,n=!0)=>{const o=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),n&&!r(t.startContainer)&&(Ln(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),Ln(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),sA(e,o,r),o!==i&&sA(e,i,r))},lA=(e,t)=>N.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),cA=(e,t,r)=>{const n=e.dynamicPatternsLookup({text:r,block:t});return{...e,blockPatterns:Ka(n).concat(e.blockPatterns),inlinePatterns:Ya(n).concat(e.inlinePatterns)}},hA=(e,t,r,n)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(r,n),o.toString()},dA=(e,t,r)=>{((e,t,r)=>{if(Ln(e)&&0>=e.length)return N.some(FE(e,0));{const t=qs(BE);return N.from(t.forwards(e,0,NE(e),r)).map((e=>FE(e.container,0)))}})(t,0,t).each((n=>{const o=n.container;zE(o,r.start.length,t).each((r=>{const n=e.createRng();n.setStart(o,0),n.setEnd(r.container,r.offset),aA(e,n,(e=>e===t))}))}))},uA=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),pA=(e,t)=>{const r=e.createRng();return r.setStartAfter(t.start),r.setEndBefore(t.end),r},fA=(e,t,r)=>{const n=iA(e.getRoot(),r).getOrDie("Unable to resolve path range"),o=n.startContainer,i=n.endContainer,s=0===n.endOffset?i:i.splitText(n.endOffset),a=0===n.startOffset?o:o.splitText(n.startOffset),l=a.parentNode;return{prefix:t,end:s.parentNode.insertBefore(uA(e,t+"-end"),s),start:l.insertBefore(uA(e,t+"-start"),a)}},mA=(e,t,r)=>{sA(e,e.get(t.prefix+"-end"),r),sA(e,e.get(t.prefix+"-start"),r)},gA=e=>0===e.start.length,vA=(e,t,r,n)=>{const o=t.start;var i;return HE(e,n.container,n.offset,(i=o,(e,t)=>{const r=e.data.substring(0,t),n=r.lastIndexOf(i.charAt(i.length-1)),o=r.lastIndexOf(i);return-1!==o?o+i.length:-1!==n?n+1:-1}),r).bind((n=>{var i,s;const a=null!==(s=null===(i=r.textContent)||void 0===i?void 0:i.indexOf(o))&&void 0!==s?s:-1;if(-1!==a&&n.offset>=a+o.length){const t=e.createRng();return t.setStart(n.container,n.offset-o.length),t.setEnd(n.container,n.offset),N.some(t)}{const i=n.offset-o.length;return VE(n.container,i,r).map((t=>{const r=e.createRng();return r.setStart(t.container,t.offset),r.setEnd(n.container,n.offset),r})).filter((e=>e.toString()===o)).orThunk((()=>vA(e,t,r,FE(n.container,0))))}}))},yA=(e,t,r,n)=>{const o=e.dom,i=o.getRoot(),s=r.pattern,a=r.position.container,l=r.position.offset;return VE(a,l-r.pattern.end.length,t).bind((c=>{const h=nA(o,i,c.container,c.offset,a,l,n);if(gA(s))return N.some({matches:[{pattern:s,startRng:h,endRng:h}],position:c});{const a=bA(e,r.remainingPatterns,c.container,c.offset,t,n),l=a.getOr({matches:[],position:c}),d=l.position,u=((e,t,r,n,o,i=!1)=>{if(0===t.start.length&&!i){const t=e.createRng();return t.setStart(r,n),t.setEnd(r,n),N.some(t)}return LE(r,n,o).bind((r=>vA(e,t,o,r).bind((e=>{var t;if(i){if(e.endContainer===r.container&&e.endOffset===r.offset)return N.none();if(0===r.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return N.none()}return N.some(e)}))))})(o,s,d.container,d.offset,t,a.isNone());return u.map((e=>{const t=((e,t,r,n=!1)=>nA(e,t,r.startContainer,r.startOffset,r.endContainer,r.endOffset,n))(o,i,e,n);return{matches:l.matches.concat([{pattern:s,startRng:t,endRng:h}]),position:FE(e.startContainer,e.startOffset)}}))}}))},bA=(e,t,r,n,o,i)=>{const s=e.dom;return LE(r,n,s.getRoot()).bind((a=>{const l=hA(s,o,r,n);for(let s=0;s<t.length;s++){const c=t[s];if(!je(l,c.end))continue;const h=t.slice();h.splice(s,1);const d=yA(e,o,{pattern:c,remainingPatterns:h,position:a},i);if(d.isNone()&&n>0)return bA(e,t,r,n-1,o,i);if(d.isSome())return d}return N.none()}))},wA=(e,t,r)=>{e.selection.setRng(r),"inline-format"===t.type?q(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},xA=(e,t,r,n,o,i)=>{var s;return((e,t)=>{const r=re(e,(e=>G(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?r?e:t:e.length>t.length?e:t})(bA(e,o.inlinePatterns,r,n,t,i).fold((()=>[]),(e=>e.matches)),bA(e,(s=o.inlinePatterns,se(s,((e,t)=>t.end.length-e.end.length))),r,n,t,i).fold((()=>[]),(e=>e.matches)))},_A=(e,t)=>{if(0===t.length)return;const r=e.dom,n=e.selection.getBookmark(),o=((e,t)=>{const r=zs("mce_textpattern"),n=K(t,((t,n)=>{const o=fA(e,r+`_end${t.length}`,n.endRng);return t.concat([{...n,endMarker:o}])}),[]);return K(n,((t,o)=>{const i=n.length-t.length-1,s=gA(o.pattern)?o.endMarker:fA(e,r+`_start${i}`,o.startRng);return t.concat([{...o,startMarker:s}])}),[])})(r,t);q(o,(t=>{const n=r.getParent(t.startMarker.start,r.isBlock),o=e=>e===n;gA(t.pattern)?((e,t,r,n)=>{const o=pA(e.dom,r);aA(e.dom,o,n),wA(e,t,o)})(e,t.pattern,t.endMarker,o):((e,t,r,n,o)=>{const i=e.dom,s=pA(i,n),a=pA(i,r);aA(i,a,o),aA(i,s,o);const l={prefix:r.prefix,start:r.end,end:n.start},c=pA(i,l);wA(e,t,c)})(e,t.pattern,t.startMarker,t.endMarker,o),mA(r,t.endMarker,o),mA(r,t.startMarker,o)})),e.selection.moveToBookmark(n)},EA=(e,t,r)=>{for(let n=0;n<e.length;n++)if(r(e[n],t))return!0;return!1},CA=ms.DOM,SA=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,kA=e=>be(e,(e=>!1===b(e))),AA=e=>{const t=e.options.get,r=e.editorUpload.blobCache;return kA({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:SA(e),validate:!0,blob_cache:r,document:e.getDoc()})},PA=e=>{const t=e.options.get;return kA({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},TA=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,MA=e=>{const t=TA(e),r=Bl(e),n=e.contentCSS,o=()=>{t.unloadAll(n),e.inline||e.ui.styleSheetLoader.unloadAll(r)},i=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let t="";Dt.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const s=Promise.all(((e,t,r)=>{const n=[TA(e).loadAll(t)];return e.inline?n:n.concat([e.ui.styleSheetLoader.loadAll(r)])})(e,n,r)).then(i).catch(i),a=Fl(e);return a&&((e,t)=>{const r=ur(e.getBody()),n=Nr(Br(r)),o=hr("style");qt(o,"type","text/css"),Qr(o,dr(t)),Qr(n,o),e.on("remove",(()=>{rn(o)}))})(e,a),s},OA=e=>{!0!==e.removed&&((e=>{Mb(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),(e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||Md(e)&&e.selection.getStart(!0)!==t||Kh(t).each((t=>{const r=t.getNode(),n=Fn(r)?Kh(r).getOr(t):t;e.selection.setRng(n.toRange())}))})(e),e.nodeChanged({initial:!0});const t=vc(e);_(t)&&t.call(e,e),(e=>{const t=bc(e);t&&Lp.setEditorTimeout(e,(()=>{let r;r=!0===t?e:e.editorManager.get(t),r&&!r.destroyed&&(r.focus(),r.selection.scrollIntoView())}),100)})(e)})(e))},DA=e=>{const t=e.getElement();let r=e.getDoc();e.inline&&(CA.addClass(t,"mce-content-body"),e.contentDocument=r=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const n=e.getBody();n.disabled=!0,e.readonly=ac(e),e.readonly||(e.inline&&"static"===CA.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable="true"),n.disabled=!1,e.editorUpload=(e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||"blobid"+uw+++(()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),r=e.name||t,n=e.blob;var o;return{id:P(t),name:P(r),filename:P(e.filename||r+"."+(o=n.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[o.toLowerCase()]||"dat")),blob:P(n),base64:P(e.base64),blobUri:P(e.blobUri||URL.createObjectURL(n)),uri:P(e.uri)}},r=t=>J(e,t).getOrUndefined(),n=e=>r((t=>t.id()===e));return{create:(e,r,n,o,i)=>{if(p(e))return t({id:e,name:o,filename:i,blob:r,base64:n});if(f(e))return t(e);throw new Error("Unknown input type")},add:t=>{n(t.id())||e.push(t)},get:n,getByUri:e=>r((t=>t.blobUri()===e)),getByData:(e,t)=>r((r=>r.base64()===e&&r.blob().type===t)),findFirst:r,removeByUri:t=>{e=Z(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{q(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let r,n;const o=dw(),i=[],s=t=>r=>e.selection?t(r):[],a=(e,t,r)=>{let n=0;do{n=e.indexOf(t,n),-1!==n&&(e=e.substring(0,n)+r+e.substr(n+t.length),n+=r.length-t.length+1)}while(-1!==n);return e},l=(e,t,r)=>{const n=`src="${r}"${r===Pt.transparentSrc?' data-mce-placeholder="1"':""}`;return e=a(e,`src="${t}"`,n),a(e,'data-mce-src="'+t+'"','data-mce-src="'+r+'"')},c=(t,r)=>{q(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=U(e.fragments,(e=>l(e,t,r))):e.content=l(e.content,t,r)}))},h=()=>(r||(r=fw(e,o)),m().then(s((n=>{const o=U(n,(e=>e.blobInfo));return r.upload(o,pw(e)).then(s((r=>{const o=[];let i=!1;const s=U(r,((r,s)=>{const{blobInfo:a,image:l}=n[s];let h=!1;return r.status&&xl(e)?(r.url&&!ze(l.src,r.url)&&(i=!0),t.removeByUri(l.src),Mb(e)||((t,r)=>{const n=e.convertURL(r,"src");var o;c(t.src,r),Wt(ur(t),{src:wl(e)?(o=r,o+(-1===o.indexOf("?")?"?":"&")+(new Date).getTime()):r,"data-mce-src":n})})(l,r.url)):r.error&&(r.error.remove&&(c(l.src,Pt.transparentSrc),o.push(l),h=!0),((e,t)=>{iw(e,_s.translate(["Failed to upload image: {0}",t]))})(e,r.error.message)),{element:l,status:r.status,uploadUri:r.url,blobInfo:a,removed:h}}));return o.length>0&&!Mb(e)?e.undoManager.transact((()=>{q(o,(r=>{e.dom.remove(r),t.removeByUri(r.src)}))})):i&&e.undoManager.dispatchChange(),s})))})))),d=()=>bl(e)?h():Promise.resolve([]),u=e=>re(i,(t=>t(e))),m=()=>(n||(n=((e,t)=>{const r={};return{findAll:(n,o=B)=>{const i=Z((e=>e?he(e.getElementsByTagName("img")):[])(n),(t=>{const r=t.src;return!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!r||r===Pt.transparentSrc)&&(He(r,"blob:")?!e.isUploaded(r)&&o(t):!!He(r,"data:")&&o(t))})),s=U(i,(e=>{const n=e.src;if(Ee(r,n))return r[n].then((t=>p(t)?t:{image:e,blobInfo:t.blobInfo}));{const o=((e,t)=>{const r=()=>Promise.reject("Invalid data URI");if(He(t,"blob:")){const i=e.getByUri(t);return x(i)?Promise.resolve(i):(n=t,He(n,"blob:")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`))))(n):He(n,"data:")?(o=n,new Promise(((e,t)=>{Fy(o).bind((({type:e,data:t,base64Encoded:r})=>By(e,t,r))).fold((()=>t("Invalid data URI")),e)}))):Promise.reject("Unknown URI format")).then((t=>Ny(t).then((n=>Vy(n,!1,(r=>N.some(zy(e,t,r)))).getOrThunk(r)))))}var n,o;return He(t,"data:")?Hy(e,t).fold(r,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")})(t,n).then((t=>(delete r[n],{image:e,blobInfo:t}))).catch((e=>(delete r[n],e)));return r[n]=o,o}}));return Promise.all(s)}}})(o,t)),n.findAll(e.getBody(),u).then(s((t=>{const r=Z(t,(t=>!p(t)||(iw(e,t),!1)));return Mb(e)||q(r,(e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),r})))),g=r=>r.replace(/src="(blob:[^"]+)"/g,((r,n)=>{const i=o.getResultUri(n);if(i)return'src="'+i+'"';let s=t.getByUri(n);return s||(s=Y(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)),void 0)),s?'src="data:'+s.blob().type+";base64,"+s.base64()+'"':r}));return e.on("SetContent",(()=>{bl(e)?d():m()})),e.on("RawSaveContent",(e=>{e.content=g(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{q(e,(e=>{const r=e.attr("src");if(!r||t.getByUri(r))return;const n=o.getResultUri(r);n&&e.attr("src",n)}))}))})),{blobCache:t,addFilter:e=>{i.push(e)},uploadImages:h,uploadImagesAuto:d,scanForImages:m,destroy:()=>{t.destroy(),o.destroy(),n=r=null}}})(e),e.schema=Ki(PA(e)),e.dom=ms(r,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Pl(e),referrerPolicy:Tl(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=(e=>{const t=tb(AA(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,r)=>{const n=e.dom,o="data-mce-"+r;let i=t.length;for(;i--;){const s=t[i];let a=s.attr(r);if(a&&!s.attr(o)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===r?(a=n.serializeStyle(n.parseStyle(a),s.name),a.length||(a=null),s.attr(o,a),s.attr(r,a)):"tabindex"===r?(s.attr(o,a),s.attr(r,null)):s.attr(o,e.convertURL(a,r,s.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const r=e[t],n=r.attr("type")||"no/type";0!==n.indexOf("mce-")&&r.attr("type","mce-"+n)}})),Lc(e)&&t.addNodeFilter("#cdata",(t=>{var r;let n=t.length;for(;n--;){const o=t[n];o.type=8,o.name="#comment",o.value="[CDATA["+e.dom.encode(null!==(r=o.value)&&void 0!==r?r:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let r=t.length;const n=e.schema.getNonEmptyElements();for(;r--;){const e=t[r];e.isEmpty(n)&&0===e.getAll("br").length&&e.append(new lf("br",1))}})),t})(e),e.serializer=zb((e=>{const t=e.options.get;return{...AA(e),...PA(e),...kA({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=Lb(e.dom,e.getWin(),e.serializer,e),e.annotator=bu(e),e.formatter=Sw(e),e.undoManager=Aw(e),e._nodeChangeDispatcher=new KS(e),e._selectionOverrides=eA(e),(e=>{const t=Ss(),r=ys(!1),n=As((t=>{e.dispatch("longpress",{...t,type:"longpress"}),r.set(!0)}),400);e.on("touchstart",(e=>{L_(e).each((o=>{n.cancel();const i={x:o.clientX,y:o.clientY,target:e.target};n.throttle(e),r.set(!1),t.set(i)}))}),!0),e.on("touchmove",(o=>{n.cancel(),L_(o).each((n=>{t.on((o=>{((e,t)=>{const r=Math.abs(e.clientX-t.x),n=Math.abs(e.clientY-t.y);return r>5||n>5})(n,o)&&(t.clear(),r.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(o=>{n.cancel(),"touchcancel"!==o.type&&t.get().filter((e=>e.target.isEqualNode(o.target))).each((()=>{r.get()?o.preventDefault():e.dispatch("tap",{...o,type:"tap"})}))}),!0)})(e),(e=>{(e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter("details",(e=>{q(e,(e=>{e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(e=>{q(e,(e=>{const t=e.attr("data-mce-open");e.attr("open",p(t)?t:null),e.attr("data-mce-open",null)}))}))})(e)})(e),(e=>{const t="contenteditable",r=" "+Dt.trim(Bc(e))+" ",n=" "+Dt.trim(Fc(e))+" ",o=q_(r),i=q_(n),s=Nc(e);s.length>0&&e.on("BeforeSetContent",(t=>{((e,t,r)=>{let n=t.length,o=r.content;if("raw"!==r.format){for(;n--;)o=o.replace(t[n],W_(e,o,Fc(e)));r.content=o}})(e,s,t)})),e.parser.addAttributeFilter("class",(e=>{let r=e.length;for(;r--;){const n=e[r];o(n)?n.attr(t,"true"):i(n)&&n.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let r=e.length;for(;r--;){const n=e[r];(o(n)||i(n))&&(s.length>0&&n.attr("data-mce-content")?(n.name="#text",n.type=3,n.raw=!0,n.value=n.attr("data-mce-content")):n.attr(t,null))}}))})(e),Mb(e)||((e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),(e=>{const t=((e,t)=>{const r=wa.fromRangeStart(e).getNode(),n=((e,t)=>xn(ur(e),(e=>(e=>Wn(e.dom))(e)||ao(e)),Dk(t)).getOr(ur(t)).dom)(r,t),o=Rk(r,n,!1),i=Rk(r,n,!0),s=document.createRange();return Ik(o,n).fold((()=>{Mk(o)?s.setStart(o,0):s.setStartBefore(o)}),(e=>s.setStartBefore(e.dom))),Ik(i,n).fold((()=>{Mk(i)?s.setEnd(i,i.data.length):s.setEndAfter(i)}),(e=>s.setEndAfter(e.dom))),s})(e.selection.getRng(),e.getBody());e.selection.setRng(yg(t))})(e))}))})(e),(e=>{(e=>{const t=[",",".",";",":","!","?"],r=[32],n=()=>{return t=Ic(e),r=Rc(e),{inlinePatterns:Ya(t),blockPatterns:Ka(t),dynamicPatternsLookup:r};var t,r},o=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",(t=>{if(13===t.keyCode&&!Pu.modifierPressed(t)&&e.selection.isCollapsed()){const r=n();(r.inlinePatterns.length>0||r.blockPatterns.length>0||o())&&((e,t)=>{const r=e.selection.getRng();return lA(e,r).map((n=>{var o;const i=Math.max(0,r.startOffset),s=cA(t,n,null!==(o=n.textContent)&&void 0!==o?o:""),a=xA(e,n,r.startContainer,i,s,!0),l=((e,t,r,n)=>{var o;const i=e.dom,s=ul(e);if(!i.is(t,s))return[];const a=null!==(o=t.textContent)&&void 0!==o?o:"";return((e,t)=>{const r=(e=>se(e,((e,t)=>t.start.length-e.start.length)))(e),n=t.replace(Qn," ");return J(r,(e=>0===t.indexOf(e.start)||0===n.indexOf(e.start)))})(r.blockPatterns,a).map((e=>Dt.trim(a).length===e.start.length?[]:[{pattern:e,range:nA(i,i.getRoot(),t,0,t,0,!0)}])).getOr([])})(e,n,s);return(l.length>0||a.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{e.insertContent(Jn),_A(e,a),((e,t)=>{if(0===t.length)return;const r=e.selection.getBookmark();q(t,(t=>((e,t)=>{const r=e.dom,n=t.pattern,o=iA(r.getRoot(),t.range).getOrDie("Unable to resolve path range");return lA(e,o).each((t=>{"block-format"===n.type?((e,t)=>{const r=t.get(e);return g(r)&&le(r).exists((e=>Ee(e,"block")))})(n.format,e.formatter)&&e.undoManager.transact((()=>{dA(e.dom,t,n),e.formatter.apply(n.format)})):"block-command"===n.type&&e.undoManager.transact((()=>{dA(e.dom,t,n),e.execCommand(n.cmd,!1,n.value)}))})),!0})(e,t))),e.selection.moveToBookmark(r)})(e,l);const t=e.selection.getRng(),r=LE(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),r.each((t=>{const r=t.container;r.data.charAt(t.offset-1)===Jn&&(r.deleteData(t.offset-1,1),sA(e.dom,r.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)})).getOr(!1)})(e,r)&&t.preventDefault()}}),!0);const i=()=>{if(e.selection.isCollapsed()){const t=n();(t.inlinePatterns.length>0||o())&&((e,t)=>{const r=e.selection.getRng();lA(e,r).map((n=>{const o=Math.max(0,r.startOffset-1),i=hA(e.dom,n,r.startContainer,o),s=cA(t,n,i),a=xA(e,n,r.startContainer,o,s,!1);a.length>0&&e.undoManager.transact((()=>{_A(e,a)}))}))})(e,t)}};e.on("keyup",(e=>{EA(r,e,((e,t)=>e===t.keyCode&&!Pu.modifierPressed(t)))&&i()})),e.on("keypress",(r=>{EA(t,r,((e,t)=>e.charCodeAt(0)===t.charCode))&&Lp.setEditorTimeout(e,i)}))})(e)})(e));const o=ZS(e);((e,t)=>{e.addCommand("delete",(()=>{((e,t)=>{N_(e,t,!1).fold((()=>{Mm(e),Im(e)}),R)})(e,t)})),e.addCommand("forwardDelete",(()=>{((e,t)=>{N_(e,t,!0).fold((()=>(e=>Tm(e,"ForwardDelete"))(e)),R)})(e,t)}))})(e,o),(e=>{e.on("NodeChange",O(G_,e))})(e),(e=>{var t;const r=e.dom,n=ul(e),o=null!==(t=Hl(e))&&void 0!==t?t:"",i=(t,s)=>{if((e=>{if(Mw(e)){const t=e.keyCode;return!Ow(e)&&(Pu.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||j(Pw,t))}return!1})(t))return;const a=e.getBody(),l=!(e=>Mw(e)&&!(Ow(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,r)=>{if(ri(ur(t),!1)){const n=t.firstElementChild;return!n||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&r===n.nodeName.toLowerCase()}return!1})(r,a,n);(""!==r.getAttrib(a,Tw)!==l||s)&&(r.setAttrib(a,Tw,l?o:null),r.setAttrib(a,"aria-placeholder",l?o:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",i),e.off(l?"keyup":"keydown",i))};$e(o)&&e.on("init",(t=>{i(t,!0),e.on("change SetContent ExecCommand",i),e.on("paste",(t=>Lp.setEditorTimeout(e,(()=>i(t)))))}))})(e),(e=>{const t=ys(!1),r=ys(Mc(e)?"text":"html"),n=(e=>{const t=ys(null);return{create:()=>((e,t)=>{const{dom:r,selection:n}=e,o=e.getBody();t.set(n.getRng());const i=r.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},ek);Pt.browser.isFirefox()&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),i.focus(),n.select(i,!0)})(e,t),remove:()=>((e,t)=>{const r=e.dom;if(tk(e)){let n;const o=t.get();for(;n=tk(e);)r.remove(n),r.unbind(n);o&&e.selection.setRng(o)}t.set(null)})(e,t),getEl:()=>tk(e),getHtml:()=>(e=>{const t=e.dom,r=(e,r)=>{e.appendChild(r),t.remove(r,!0)},[n,...o]=Z(e.getBody().childNodes,rk);q(o,(e=>{r(n,e)}));const i=t.select("div[id=mcepastebin]",n);for(let e=i.length-1;e>=0;e--){const o=t.create("div");n.insertBefore(o,i[e]),r(o,i[e])}return n?n.innerHTML:""})(e),getLastRng:t.get}})(e);(e=>{(Pt.browser.isChromium()||Pt.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",(r=>{r.content=t(e,r.content,r.internal)}))})(e,Pk)})(e),((e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{((e,t)=>{"text"===t.get()?(t.set("html"),Au(e,!1)):(t.set("text"),Au(e,!0)),e.focus()})(e,t)})),e.addCommand("mceInsertClipboardContent",((t,r)=>{r.html&&pk(e,r.html,r.internal),r.text&&fk(e,r.text)}))})(e,r),(e=>{const t=t=>r=>{t(e,r)},r=Cc(e);_(r)&&e.on("PastePreProcess",t(r));const n=Sc(e);_(n)&&e.on("PastePostProcess",t(n))})(e),e.on("PreInit",(()=>{(e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&Ek(e)&&wk(t,_k(e),xk(e),(()=>{if(Pt.browser.isChromium()||Pt.browser.isFirefox()){const t=e.selection.getRng();Lp.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&Ek(e)&&wk(t,_k(e),xk(e),S)})(e))})(e),((e,t)=>{_c(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),Ec(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&(e=>G(e.files,(e=>/^image\//.test(e.type))))(t)&&e.preventDefault()})),e.on("drop",(r=>{if(r.isDefaultPrevented()||t.get())return;const n=Ck(e,r);if(w(n))return;const o=mk(r.dataTransfer),i=gk(o,YS());if((!vk(o)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(o))&&yk(e,r,n))return;const s=o[YS()],a=s||o["text/html"]||o["text/plain"];a&&(r.preventDefault(),Lp.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{s&&e.execCommand("Delete"),Sk(e,n);const t=ik(a);o["text/html"]?pk(e,t,i):fk(e,t)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(r=>{Ec(e)&&!t.get()&&(r.preventDefault(),Sk(e,Ck(e,r))),"dragend"===r.type&&t.set(!1)}))})(e,t),((e,t,r)=>{((e,t,r)=>{let n;e.on("keydown",(e=>{(e=>Pu.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(n=e.shiftKey&&86===e.keyCode)})),e.on("paste",(o=>{if(o.isDefaultPrevented()||(e=>{var t,r;return Pt.os.isAndroid()&&0===(null===(r=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===r?void 0:r.length)})(o))return;const i="text"===r.get()||n;n=!1;const s=mk(o.clipboardData);!vk(s)&&yk(e,o,t.getLastRng()||e.selection.getRng())||(gk(s,"text/html")?(o.preventDefault(),bk(e,s,s["text/html"],i)):(t.create(),Lp.setEditorTimeout(e,(()=>{const r=t.getHtml();t.remove(),bk(e,s,r,i)}),0)))}))})(e,t,r),(e=>{const t=e=>He(e,"webkit-fake-url"),r=e=>He(e,"data:");e.parser.addNodeFilter("img",((n,o,i)=>{if(!Ec(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(i))for(const o of n){const n=o.attr("src");p(n)&&!o.attr("data-mce-object")&&n!==Pt.transparentSrc&&(t(n)||!Dc(e)&&r(n))&&o.remove()}}))})(e)})(e,n,r)}))})(e);const i=(e=>{const t=e;return(e=>_e(e.plugins,"rtc").bind((e=>N.from(e.setup))))(e).fold((()=>(t.rtcInstance=Tb(e),N.none())),(e=>(t.rtcInstance=(()=>{const e=P(null),t=P("");return{init:{bindEvents:S},undoManager:{beforeChange:S,add:e,undo:e,redo:e,clear:S,reset:S,hasUndo:F,hasRedo:F,transact:e,ignore:S,extra:S},formatter:{match:F,matchAll:P([]),matchNode:P(void 0),canApply:F,closest:t,apply:S,remove:S,toggle:S,formatChanged:P({unbind:S})},editor:{getContent:t,setContent:P({content:"",html:""}),insertContent:P(""),addVisual:S},selection:{getContent:t},autocompleter:{addDecoration:S,removeDecoration:S},raw:{getModel:P(N.none())}}})(),N.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>f(e)?e:{},{init:r,undoManager:n,formatter:o,editor:i,selection:s,autocompleter:a,raw:l}=e;return{init:{bindEvents:r.bindEvents},undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:(e,t,r)=>n.transact(r),ignore:(e,t)=>n.ignore(t),extra:(e,t,r,o)=>n.extra(r,o)},formatter:{match:(e,r,n,i)=>o.match(e,t(r),i),matchAll:o.matchAll,matchNode:o.matchNode,canApply:e=>o.canApply(e),closest:e=>o.closest(e),apply:(e,r,n)=>o.apply(e,t(r)),remove:(e,r,n,i)=>o.remove(e,t(r)),toggle:(e,r,n)=>o.toggle(e,t(r)),formatChanged:(e,t,r,n,i)=>o.formatChanged(t,r,n,i)},editor:{getContent:e=>i.getContent(e),setContent:(e,t)=>({content:i.setContent(e,t),html:""}),insertContent:(e,t)=>(i.insertContent(e),""),addVisual:i.addVisual},selection:{getContent:(e,t)=>s.getContent(t)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>N.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))})(e);(e=>{const t=e.getDoc(),r=e.getBody();(e=>{e.dispatch("PreInit")})(e),wc(e)||(t.body.spellcheck=!1,CA.setAttrib(r,"spellcheck","false")),e.quirks=(e=>{const t=Dt.each,r=Pu.BACKSPACE,n=Pu.DELETE,o=e.dom,i=e.selection,s=e.parser,a=Pt.browser,l=a.isFirefox(),c=a.isChromium()||a.isSafari(),h=Pt.deviceType.isiPhone()||Pt.deviceType.isiPad(),d=Pt.os.isMacOS()||Pt.os.isiOS(),u=(t,r)=>{try{e.getDoc().execCommand(t,!1,String(r))}catch(e){}},p=e=>e.isDefaultPrevented(),f=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},m=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",(t=>{let r;if(t.target===e.getDoc().documentElement)if(r=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(To(r.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(r)}))},g=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!p(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),Lp.setEditorTimeout(e,(()=>{t.focus()}))}}))},v=()=>{const t=fc(e);e.on("click",(r=>{const n=r.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)&&(r.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,t)&&0===n.childNodes.length&&(r.preventDefault(),i.select(n))}))},y=()=>{e.on("keydown",(e=>{if(!p(e)&&e.keyCode===r&&i.isCollapsed()&&0===i.getRng().startOffset){const t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},b=()=>{ac(e)||e.on("BeforeExecCommand mousedown",(()=>{u("StyleWithCSS",!1),u("enableInlineTableEditing",!1),Vl(e)||u("enableObjectResizing",!1)}))},w=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},x=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},_=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let r;"HTML"===t.target.nodeName&&(r=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(r),e.selection.normalize(),e.nodeChanged())})))},E=()=>{d&&e.on("keydown",(t=>{!Pu.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))},C=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},k=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},A=S;return Mb(e)?(c&&(m(),v(),k(),f(),h&&(x(),_(),C())),l&&(g(),b(),w(),E())):(e.on("keydown",(t=>{if(p(t)||t.keyCode!==Pu.BACKSPACE)return;let r=i.getRng();const n=r.startContainer,s=r.startOffset,a=o.getRoot();let l=n;if(r.collapsed&&0===s){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),r=o.createRng(),r.setStart(n,0),r.setEnd(n,0),i.setRng(r))}})),(()=>{const t=e=>{const t=o.create("body"),r=e.cloneContents();return t.appendChild(r),i.serializer.serialize(t,{format:"html"})};e.on("keydown",(i=>{const s=i.keyCode;if(!p(i)&&(s===n||s===r)){const r=e.selection.isCollapsed(),n=e.getBody();if(r&&!o.isEmpty(n))return;if(!r&&!(r=>{const n=t(r),i=o.createRng();return i.selectNode(e.getBody()),n===t(i)})(e.selection.getRng()))return;i.preventDefault(),e.setContent(""),n.firstChild&&o.isBlock(n.firstChild)?e.selection.setCursorLocation(n.firstChild,0):e.selection.setCursorLocation(n,0),e.nodeChanged()}}))})(),Pt.windowsPhone||e.on("keyup focusin mouseup",(t=>{Pu.modifierPressed(t)||(e=>{const t=e.getBody(),r=e.selection.getRng();return r.startContainer===r.endContainer&&r.startContainer===t&&0===r.startOffset&&r.endOffset===t.childNodes.length})(e)||i.normalize()}),!0),c&&(m(),v(),e.on("init",(()=>{u("DefaultParagraphSeparator",ul(e))})),k(),y(),s.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),h?(x(),_(),C()):f()),l&&(e.on("keydown",(t=>{if(!p(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){const e=i.getNode(),r=e.previousSibling;if("HR"===e.nodeName)return o.remove(e),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(o.remove(r),t.preventDefault())}}})),g(),(()=>{const r=()=>{const r=o.getAttribs(i.getStart().cloneNode(!1));return()=>{const n=i.getStart();n!==e.getBody()&&(o.setAttrib(n,"style",null),t(r,(e=>{n.setAttributeNode(e.cloneNode(!0))})))}},n=()=>!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock);e.on("keypress",(t=>{let o;return!(!(p(t)||8!==t.keyCode&&46!==t.keyCode)&&n()&&(o=r(),e.getDoc().execCommand("delete",!1),o(),t.preventDefault(),1))})),o.bind(e.getDoc(),"cut",(t=>{if(!p(t)&&n()){const t=r();Lp.setEditorTimeout(e,(()=>{t()}))}}))})(),b(),e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(o.select("a:not([data-mce-block])"),(e=>{var t;let r=e.parentNode;const n=o.getRoot();if((null==r?void 0:r.lastChild)===e){for(;r&&!o.isBlock(r);){if((null===(t=r.parentNode)||void 0===t?void 0:t.lastChild)!==r||r===n)return;r=r.parentNode}o.add(r,"br",{"data-mce-bogus":1})}}))})),w(),E(),y())),{refreshContentEditable:A,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}})(e),(e=>{e.dispatch("PostRender")})(e);const n=Nl(e);void 0!==n&&(r.dir=n);const o=xc(e);o&&e.on("BeforeSetContent",(e=>{Dt.each(o,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))})(e),i.fold((()=>{MA(e).then((()=>OA(e)))}),(t=>{e.setProgressState(!0),MA(e).then((()=>{t().then((t=>{e.setProgressState(!1),OA(e),Ib(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),OA(e),Ib(e)}))}))}))},IA=(e,t)=>{if(e.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline)DA(e);else{const t=e.iframeElement,n=(r=ur(t),((e,t,r,n)=>((e,t,r,n,o)=>{const i=((e,t)=>r=>{e(r)&&t((e=>{const t=ur(Vr(e).getOr(e.target)),r=()=>e.stopPropagation(),n=()=>e.preventDefault(),o=k(n,r);return((e,t,r,n,o,i,s)=>({target:e,x:t,y:r,stop:n,prevent:o,kill:i,raw:s}))(t,e.clientX,e.clientY,r,n,o,e)})(r))})(r,n);return e.dom.addEventListener(t,i,!1),{unbind:O(ln,e,t,i,!1)}})(e,"load",r,n))(r,0,hw,(()=>{n.unbind(),e.contentDocument=t.contentDocument,DA(e)})));if(Pt.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close()}else t.srcdoc=e.iframeHTML}var r},RA=ms.DOM,FA=ms.DOM,BA=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),NA=e=>{const t=e.getElement();return e.inline?BA(null):(e=>{const t=FA.create("div");return FA.insertAfter(t,e),BA(t,t)})(t)},LA=ms.DOM,VA=e=>"-"===e.charAt(0),zA=(e,t,r)=>N.from(t).filter((e=>$e(e)&&!Wb.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${r}.js`,name:N.some(t)}))),HA=xt().deviceType,jA=HA.isPhone(),GA=HA.isTablet(),UA=e=>{if(w(e))return[];{const t=g(e)?e:e.split(/[ ,]/),r=U(t,Ue);return Z(r,$e)}},qA=(e,t)=>Ee(e.sections(),t),WA=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:_e(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),$A=(e,t)=>{var r;const n=null!==(r=t.external_plugins)&&void 0!==r?r:{};return e&&e.external_plugins?Dt.extend({},e.external_plugins,n):n},ZA=(e,t)=>{const r=e.selection,n=e.dom;return/^ | $/.test(t)?((e,t,r)=>{const n=ur(e.getRoot());return r=im(n,wa.fromRangeStart(t))?r.replace(/^ /,"&nbsp;"):r.replace(/^&nbsp;/," "),sm(n,wa.fromRangeEnd(t))?r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r.replace(/&nbsp;(<br( \/)?>)?$/," ")})(n,r.getRng(),t):t},KA=(e,t)=>{const{content:r,details:n}=(e=>{if("string"!=typeof e){const t=Dt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);ib(e,{...n,content:ZA(e,r),format:"html",set:!1,selection:!0}).each((t=>{const r=((e,t,r)=>Ob(e).editor.insertContent(t,r))(e,t.content,n);sb(e,r,t),e.addVisual()}))},YA={"font-size":"size","font-family":"face"},XA=Gt("font"),JA=e=>(t,r)=>N.from(r).map(ur).filter(Vt).bind((r=>((e,t,r)=>Ag(ur(r),(t=>(t=>$r(t,e).orThunk((()=>XA(t)?_e(YA,e).bind((e=>Zt(t,e))):N.none())))(t)),(e=>gr(ur(t),e))))(e,t,r.dom).or(((e,t)=>N.from(ms.DOM.getStyle(t,e,!0)))(e,r.dom)))).getOr(""),QA=JA("font-size"),eP=k((e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")),JA("font-family")),tP=e=>Kh(e.getBody()).bind((e=>{const t=e.container();return N.from(Ln(t)?t.parentNode:t)})),rP=(e,t)=>((e,t)=>(e=>N.from(e.selection.getRng()).bind((t=>{const r=e.getBody();return t.startContainer===r&&0===t.startOffset?N.none():N.from(e.selection.getStart(!0))})))(e).orThunk(O(tP,e)).map(ur).filter(Vt).bind(t))(e,A(N.some,t)),nP=(e,t)=>{if(/^[0-9.]+$/.test(t)){const r=parseInt(t,10);if(r>=1&&r<=7){const n=(e=>Dt.explode(e.options.get("font_size_style_values")))(e),o=(e=>Dt.explode(e.options.get("font_size_classes")))(e);return o.length>0?o[r-1]||t:n[r-1]||t}return t}return t},oP=e=>{const t=e.split(/\s*,\s*/);return U(t,(e=>-1===e.indexOf(" ")||He(e,'"')||He(e,"'")?e:`'${e}'`)).join(",")},iP=["toggleview"],sP=e=>j(iP,e.toLowerCase());class aP{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,r,n){const o=this.editor,i=e.toLowerCase(),s=null==n?void 0:n.skip_focus;if(o.removed)return!1;if("mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||s?(e=>{Bp(e).each((t=>e.selection.setRng(t)))})(o):o.focus()),o.dispatch("BeforeExecCommand",{command:e,ui:t,value:r}).isDefaultPrevented())return!1;const a=this.commands.exec[i];return!!_(a)&&(a(i,t,r),o.dispatch("ExecCommand",{command:e,ui:t,value:r}),!0)}queryCommandState(e){if(!sP(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),r=this.commands.state[t];return!!_(r)&&r(t)}queryCommandValue(e){if(!sP(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),r=this.commands.value[t];return _(r)?r(t):""}addCommands(e,t="exec"){const r=this.commands;fe(e,((e,n)=>{q(n.toLowerCase().split(","),(n=>{r[t][n]=e}))}))}addCommand(e,t,r){const n=e.toLowerCase();this.commands.exec[n]=(e,n,o)=>t.call(null!=r?r:this.editor,n,o)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,r){this.commands.state[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}addQueryValueHandler(e,t,r){this.commands.value[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}}const lP="data-mce-contenteditable",cP=(e,t,r)=>{try{e.getDoc().execCommand(t,!1,String(r))}catch(e){}},hP=(e,t)=>{e.dom.contentEditable=t?"true":"false"},dP=e=>e.readonly,uP=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{dP(e)&&q(t,(e=>{e.attr(lP,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(lP,(t=>{dP(e)&&q(t,(e=>{e.attr("contenteditable",e.attr(lP))}))})),e.serializer.addTempAttr(lP)},pP=["copy"],fP=Dt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class mP{constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||F}static isNative(e){return!!fP[e.toLowerCase()]}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const r=e.toLowerCase(),n=Qi(r,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(n);const o=this.bindings[r];if(o)for(let e=0,t=o.length;e<t;e++){const t=o[e];if(!t.removed){if(t.once&&this.off(r,t.func),n.isImmediatePropagationStopped())return n;if(!1===t.func.call(this.scope,n))return n.preventDefault(),n}}return n}on(e,t,r,n){if(!1===t&&(t=F),t){const o={func:t,removed:!1};n&&Dt.extend(o,n);const i=e.toLowerCase().split(" ");let s=i.length;for(;s--;){const e=i[s];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=r?[o,...t]:[...t,o],this.bindings[e]=t}}return this}off(e,t){if(e){const r=e.toLowerCase().split(" ");let n=r.length;for(;n--;){const o=r[n];let i=this.bindings[o];if(!o)return fe(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(i){if(t){const e=$(i,(e=>e.func===t));i=e.fail,this.bindings[o]=i,q(e.pass,(e=>{e.removed=!0}))}else i.length=0;i.length||(this.toggleEvent(e,!1),delete this.bindings[o])}}}else fe(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,r){return this.on(e,t,r,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const gP=e=>(e._eventDispatcher||(e._eventDispatcher=new mP({scope:e,toggleEvent:(t,r)=>{mP.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,r)}})),e._eventDispatcher),vP={fire(e,t,r){return this.dispatch(e,t,r)},dispatch(e,t,r){const n=this;if(n.removed&&"remove"!==e&&"detach"!==e)return Qi(e.toLowerCase(),null!=t?t:{},n);const o=gP(n).dispatch(e,t);if(!1!==r&&n.parent){let t=n.parent();for(;t&&!o.isPropagationStopped();)t.dispatch(e,o,!1),t=t.parent?t.parent():void 0}return o},on(e,t,r){return gP(this).on(e,t,r)},off(e,t){return gP(this).off(e,t)},once(e,t){return gP(this).once(e,t)},hasEventListeners(e){return gP(this).has(e)}},yP=ms.DOM;let bP;const wP=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;const r=jl(e);return r?(e.eventRoot||(e.eventRoot=yP.select(r)[0]),e.eventRoot):e.getBody()},xP=(e,t,r)=>{(e=>!e.hidden&&!dP(e))(e)?e.dispatch(t,r):dP(e)&&((e,t)=>{if((e=>"click"===e.type)(t)&&!Pu.metaKeyPressed(t)){const r=ur(t.target);((e,t)=>Cn(t,"a",(t=>gr(t,ur(e.getBody())))).bind((e=>Zt(e,"href"))))(e,r).each((r=>{if(t.preventDefault(),/^#/.test(r)){const t=e.dom.select(`${r},[name="${n=r,He(n,"#")?((e,t)=>e.substring(t))(n,"#".length):n}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes");var n}))}else(e=>j(pP,e.type))(t)&&e.dispatch(t.type,t)})(e,r)},_P=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const r=wP(e,t);if(jl(e)){if(bP||(bP={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||bP&&(fe(bP,((t,r)=>{e.dom.unbind(wP(e,r))})),bP=null)}))),bP[t])return;const n=r=>{const n=r.target,o=e.editorManager.get();let i=o.length;for(;i--;){const e=o[i].getBody();(e===n||yP.isChildOf(n,e))&&xP(o[i],t,r)}};bP[t]=n,yP.bind(r,t,n)}else{const n=r=>{xP(e,t,r)};yP.bind(r,t,n),e.delegates[t]=n}},EP={...vP,bindPendingEventDelegates(){const e=this;Dt.each(e._pendingNativeEvents,(t=>{_P(e,t)}))},toggleNativeEvent(e,t){const r=this;"focus"!==e&&"blur"!==e&&(r.removed||(t?r.initialized?_P(r,e):r._pendingNativeEvents?r._pendingNativeEvents.push(e):r._pendingNativeEvents=[e]:r.initialized&&r.delegates&&(r.dom.unbind(wP(r,e),e,r.delegates[e]),delete r.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),r=e.dom;e.delegates&&(fe(e.delegates,((t,r)=>{e.dom.unbind(wP(e,r),r,t)})),delete e.delegates),!e.inline&&t&&r&&(t.onload=null,r.unbind(e.getWin()),r.unbind(e.getDoc())),r&&(r.unbind(t),r.unbind(e.getContainer()))}},CP=e=>p(e)?{value:e.split(/[ ,]/),valid:!0}:C(e,p)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},SP=(e,t)=>e+(Ze(t.message)?"":`. ${t.message}`),kP=e=>e.valid,AP=(e,t,r="")=>{const n=t(e);return y(n)?n?{value:e,valid:!0}:{valid:!1,message:r}:n},PP=["design","readonly"],TP=(e,t,r,n)=>{const o=r[t.get()],i=r[n];try{i.activate()}catch(e){return void console.error(`problem while activating editor mode ${n}:`,e)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&((e,t)=>{const r=ur(e.getBody());((e,t,r)=>{sr(e,t)&&!r?ir(e,t):r&&nr(e,t)})(r,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{N.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))})(e),e.readonly=!0,hP(r,!1),q(to(r,'*[contenteditable="true"]'),(e=>{qt(e,lP,"true"),hP(e,!1)}))):(e.readonly=!1,hP(r,!0),q(to(r,'*[data-mce-contenteditable="true"]'),(e=>{Yt(e,lP),hP(e,!0)})),cP(e,"StyleWithCSS",!1),cP(e,"enableInlineTableEditing",!1),cP(e,"enableObjectResizing",!1),(e=>Wp(e)||(e=>{const t=Br(ur(e.getElement()));return Pp(t).filter((t=>!(e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))})(t.dom)&&Hp(e,t.dom))).isSome()})(e))(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged())})(e,i.editorReadOnly),t.set(n),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,n)},MP=Dt.each,OP=Dt.explode,DP={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},IP=Dt.makeMap("alt,ctrl,shift,meta,access"),RP=e=>{const t={},r=Pt.os.isMacOS()||Pt.os.isiOS();MP(OP(e.toLowerCase(),"+"),(e=>{(e=>e in IP)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=DP[e]||e.toUpperCase().charCodeAt(0))}));const n=[t.keyCode];let o;for(o in IP)t[o]?n.push(o):t[o]=!1;return t.id=n.join(","),t.access&&(t.alt=!0,r?t.ctrl=!0:t.shift=!0),t.meta&&(r?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class FP{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(MP(t.shortcuts,(r=>{t.matchShortcut(e,r)&&(t.pendingPatterns=r.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(r))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,r,n){const o=this,i=o.normalizeCommandFunc(r);return MP(OP(Dt.trim(e)),(e=>{const r=o.createShortcut(e,t,i,n);o.shortcuts[r.id]=r})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,r=e;return"string"==typeof r?()=>{t.editor.execCommand(r,!1,null)}:Dt.isArray(r)?()=>{t.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(e,t,r,n){const o=Dt.map(OP(e,">"),RP);return o[o.length-1]=Dt.extend(o[o.length-1],{func:r,scope:n||this.editor}),Dt.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const BP=()=>{const e=(()=>{const e={},t={},r={},n={},o={},i={},s={},a={},l=(e,t)=>(r,n)=>{e[r.toLowerCase()]={...n,type:t}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(r,"autocompleter"),addContextMenu:l(o,"contextmenu"),addContextToolbar:l(i,"contexttoolbar"),addContextForm:l(i,"contextform"),addSidebar:l(s,"sidebar"),addView:l(a,"views"),addIcon:(e,t)=>n[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:n,popups:r,contextMenus:o,contextToolbars:i,sidebars:s,views:a})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},NP=ms.DOM,LP=Dt.extend,VP=Dt.each;class zP{constructor(e,t,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,LP(this,EP);const n=this;this.id=e,this.hidden=!1;const o=((e,t)=>((e,t,r,n,o)=>{var i;const s=e?{mobile:WA(null!==(i=o.mobile)&&void 0!==i?i:{},t)}:{},a=((e,t)=>{const r=((t,r)=>{const n={},o={};return ye(t,((t,r)=>j(e,r)),ve(n),ve(o)),{t:n,f:o}})(t);return n=r.t,o=r.f,{sections:P(n),options:P(o)};var n,o})(["mobile"],nC(s,o)),l=Dt.extend(r,n,a.options(),((e,t)=>e&&qA(t,"mobile"))(e,a)?((e,t,r={})=>{const n=e.sections(),o=_e(n,t).getOr({});return Dt.extend({},r,o)})(a,"mobile"):{},{external_plugins:$A(n,a.options())});return((e,t,r,n)=>{const o=UA(r.forced_plugins),i=UA(n.plugins),s=((e,t)=>qA(e,t)?e.sections()[t]:{})(t,"mobile"),a=((e,t,r,n)=>e&&qA(t,"mobile")?n:r)(e,t,i,s.plugins?UA(s.plugins):i),l=((e,t)=>[...UA(e),...UA(t)])(o,a);return Dt.extend(n,{forced_plugins:o,plugins:l})})(e,a,n,l)})(jA||GA,jA,t,e,t))(r.defaultOptions,t);this.options=((e,t)=>{const r={},n={},o=(e,t,r)=>{const o=AP(t,r);return kP(o)?(n[e]=o.value,!0):(console.warn(SP(`Invalid value passed for the ${e} option`,o)),!1)},i=e=>Ee(r,e);return{register:(e,i)=>{const s=(e=>p(e.processor))(i)?(e=>{const t=(()=>{switch(e){case"array":return g;case"boolean":return y;case"function":return _;case"number":return E;case"object":return f;case"string":return p;case"string[]":return CP;case"object[]":return e=>C(e,f);case"regexp":return e=>u(e,RegExp);default:return B}})();return r=>AP(r,t,`The value must be a ${e}.`)})(i.processor):i.processor,a=((e,t,r)=>{if(!b(t)){const n=AP(t,r);if(kP(n))return n.value;console.error(SP(`Invalid default value passed for the "${e}" option`,n))}})(e,i.default,s);r[e]={...i,default:a,processor:s},_e(n,e).orThunk((()=>_e(t,e))).each((t=>o(e,t,s)))},isRegistered:i,get:e=>_e(n,e).orThunk((()=>_e(r,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(i(e)){const n=r[e];return n.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):o(e,t,n.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=i(e);return t&&delete n[e],t},isSet:e=>Ee(n,e)}})(0,o),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:ol(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:ol(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=p(e)&&$e(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=j(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>y(e)||p(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||p(e)||C(e,p);return t?p(e)?{value:U(e.split(","),Ue),valid:t}:g(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:ec(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=p(e)||C(e,p);return t?{value:g(e)?e:U(e.split(","),Ue),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=y(e)||p(e);return t?!1===e||Ja.isiPhone()||Ja.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!Qa}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||p(e)||_(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||p(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:nl}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:nl}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:nl}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>p(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>C(e,f)||!1===e?{value:Xa(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return _(e)?{value:(t=e,e=>{const r=t(e);return Xa(r)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>C(e,tl)?{value:e,valid:!0}:tl(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:_s.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:el.getAttrib(e.getElement(),"placeholder")})}))})(n);const i=this.options.get;i("deprecation_warnings")&&((e,t)=>{((e,t)=>{const r=(e=>{const t=Z(jb,(t=>Ee(e,t))),r=e.forced_root_block;return!1!==r&&""!==r||t.push("forced_root_block (false only)"),se(t)})(e),n=(e=>{const t=Dt.makeMap(e.plugins," "),r=Z(Gb,(e=>Ee(t,e)));return se(r)})(t),o=n.length>0,i=r.length>0,s="mobile"===t.theme;if(o||i||s){const e="\n- ",t=s?`\n\nThemes:${e}mobile`:"",a=o?`\n\nPlugins:${e}${n.join(e)}`:"",l=i?`\n\nOptions:${e}${r.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+a+l)}})(e,t)})(t,o);const s=i("suffix");s&&(r.suffix=s),this.suffix=r.suffix;const a=i("base_url");a&&r._setBaseUrl(a),this.baseUri=r.baseURI;const l=Tl(n);l&&(vs.ScriptLoader._setReferrerPolicy(l),ms.DOM.styleSheetLoader._setReferrerPolicy(l));const c=lc(n);x(c)&&ms.DOM.styleSheetLoader._setContentCssCors(c),Es.languageLoad=i("language_load"),Es.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Zy(al(n),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=ec(n),this.hasVisual=uc(n),this.shortcuts=new FP(this),this.editorCommands=new aP(this),(e=>{(e=>{(e=>{const t=t=>()=>{q("left,center,right,justify".split(","),(r=>{t!==r&&e.formatter.remove("align"+r)})),"none"!==t&&((t,r)=>{e.formatter.toggle(t,void 0),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})})(e),(e=>{const t=t=>()=>{const r=e.selection,n=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return G(n,(r=>x(e.formatter.matchNode(r,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)})(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const r=e.getDoc();let n;try{r.execCommand(t)}catch(e){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Pt.os.isMacOS()||Pt.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,r,n)=>{let o=0;e.dom.getParent(e.selection.getNode(),(t=>!Tn(t)||o++!==n||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,r,n)=>{e.selection.select(n)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Wn);if(t){const r=e.dom.createRng();r.selectNodeContents(t),e.selection.setRng(r)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,r,n)=>{KA(e,e.dom.createHTML("img",{src:n}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,r,n)=>{KA(e,e.dom.encode(n))},insertHTML:(t,r,n)=>{KA(e,n)},mceInsertContent:(t,r,n)=>{KA(e,n)},mceSetContent:(t,r,n)=>{e.setContent(n)},mceReplaceContent:(t,r,n)=>{e.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})})(e),(e=>{const t=(t,r,n)=>{const o=p(n)?{href:n}:n,i=e.dom.getParent(e.selection.getNode(),"a");f(o)&&p(o.href)&&(o.href=o.href.replace(/ /g,"%20"),i&&o.href||e.formatter.remove("link"),o.href&&e.formatter.apply("link",o,i))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},mceInsertLink:t,createLink:t})})(e),(e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{R_(e,"indent")})(e)},Outdent:()=>{F_(e)}}),e.editorCommands.addCommands({Outdent:()=>O_(e)},"state")})(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{NS(gS,e)},mceInsertNewLine:(t,r,n)=>{LS(e,n)},InsertLineBreak:(t,r,n)=>{NS(CS,e)}})})(e),(e=>{(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const r=e.dom.getParent(e.selection.getNode(),"ol,ul");if(r){const t=r.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const n=e.selection.getBookmark();e.dom.split(t,r),e.selection.moveToBookmark(n)}}}})})(e),(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const r=e.dom.getParent(e.selection.getNode(),"ul,ol");return r&&("insertunorderedlist"===t&&"UL"===r.tagName||"insertorderedlist"===t&&"OL"===r.tagName)}},"state")})(e)})(e),(e=>{(e=>{const t=(t,r)=>{e.formatter.toggle(t,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,r,n)=>{t(e,{value:n})},BackColor:(e,r,n)=>{t("hilitecolor",{value:n})},FontName:(t,r,n)=>{((e,t)=>{const r=nP(e,t);e.formatter.toggle("fontname",{value:oP(r)}),e.nodeChanged()})(e,n)},FontSize:(t,r,n)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:nP(e,t)}),e.nodeChanged()})(e,n)},LineHeight:(t,r,n)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,n)},Lang:(e,r,n)=>{var o;t(e,{value:n.code,customValue:null!==(o=n.customCode)&&void 0!==o?o:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,r,n)=>{t(p(n)?n:"p")},mceToggleFormat:(e,r,n)=>{t(n)}})})(e),(e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>(e=>rP(e,(t=>eP(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>(e=>rP(e,(t=>QA(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>(e=>rP(e,(t=>{const r=ur(e.getBody()),n=Ag(t,(e=>$r(e,"line-height")),O(gr,r));return n.getOrThunk((()=>{const e=parseFloat(qr(t,"line-height")),r=parseFloat(qr(t,"font-size"));return String(e/r)}))})).getOr(""))(e)))})(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,r,n)=>{const o=null!=n?n:e.selection.getNode();if(o!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,r,n)=>{((e,t)=>{e.removed||(t?$p(e):(e=>{const t=e.selection,r=e.getBody();let n=t.getRng();e.quirks.refreshContentEditable(),x(e.bookmark)&&!Wp(e)&&Bp(e).each((t=>{e.selection.setRng(t),n=t}));const o=((e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))))(e,t.getNode());if(o&&e.dom.isChildOf(o,r))return qp(o),Up(e,n),void $p(e);e.inline||(Pt.browser.isOpera()||qp(r),e.getWin().focus()),(Pt.browser.isFirefox()||e.inline)&&(qp(r),Up(e,n)),$p(e)})(e))})(e,!0===n)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)})(this);const h=i("cache_suffix");h&&(Pt.cacheSuffix=h.replace(/^[\?\&]+/,"")),this.ui={registry:BP(),styleSheetLoader:void 0,show:S,hide:S,setEnabled:S,isEnabled:B},this.mode=(e=>{const t=ys("design"),r=ys({design:{activate:S,deactivate:S,editorReadOnly:!1},readonly:{activate:S,deactivate:S,editorReadOnly:!0}});return(e=>{e.serializer?uP(e):e.on("PreInit",(()=>{uP(e)}))})(e),(e=>{e.on("ShowCaret",(t=>{dP(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{dP(e)&&t.preventDefault()}))})(e),{isReadOnly:()=>dP(e),set:n=>((e,t,r,n)=>{if(n!==r.get()){if(!Ee(t,n))throw new Error(`Editor mode '${n}' is invalid`);e.initialized?TP(e,r,t,n):e.on("init",(()=>TP(e,r,t,n)))}})(e,r.get(),t,n),get:()=>t.get(),register:(e,t)=>{r.set(((e,t,r)=>{if(j(PP,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...r,deactivate:()=>{try{r.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(r.get(),e,t))}}})(n),r.dispatch("SetupEditor",{editor:this});const d=gc(n);_(d)&&d.call(n,n)}render(){(e=>{const t=e.id;_s.setCode(Ml(e));const r=()=>{LA.unbind(window,"ready",r),e.render()};if(!is.Event.domLoaded)return void LA.bind(window,"ready",r);if(!e.getElement())return;const n=ur(e.getElement()),o=Xt(n);e.on("remove",(()=>{W(n.dom.attributes,(e=>Yt(n,e.name))),Wt(n,o)})),e.ui.styleSheetLoader=((e,t)=>bi.forElement(e,{contentCssCors:lc(t),referrerPolicy:Tl(t)}))(n,e),ec(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const i=e.getElement().form||LA.getParent(t,"form");i&&(e.formElement=i,tc(e)&&!Nn(e.getElement())&&(LA.insertAfter(LA.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},LA.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!rc(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)))),e.windowManager=nw(e),e.notificationManager=ew(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",(e=>{e.save&&(e.content=LA.encode(e.content))})),nc(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),oc(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),((e,t)=>{const r=vs.ScriptLoader,n=()=>{!e.removed&&(e=>{const t=Ul(e);return!p(t)||x(rw.get(t))})(e)&&(e=>{const t=Wl(e);return x($b.get(t))})(e)&&(e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=Dt.trim(_l(e)),r=e.ui.registry.getAll().icons,n={...Wb.get("default").icons,...Wb.get(t).icons};fe(n,((t,n)=>{Ee(r,n)||e.ui.registry.addIcon(n,t)}))})(e),(e=>{const t=Ul(e);if(p(t)){const r=rw.get(t);e.theme=r(e,rw.urls[t])||{},_(e.theme.init)&&e.theme.init(e,rw.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=Wl(e),r=$b.get(t);e.model=r(e,$b.urls[t])})(e),(e=>{const t=[];q(cc(e),(r=>{((e,t,r)=>{const n=tw.get(r),o=tw.urls[r]||e.documentBaseUrl.replace(/\/$/,"");if(r=Dt.trim(r),n&&-1===Dt.inArray(t,r)){if(e.plugins[r])return;try{const i=n(e,o)||{};e.plugins[r]=i,_(i.init)&&(i.init(e,o),t.push(r))}catch(t){((e,t,r)=>{const n=_s.translate(["Failed to initialize plugin: {0}",t]);_u(e,"PluginLoadError",{message:n}),lw(n,r),iw(e,n)})(e,r,t)}}})(e,t,(e=>e.replace(/^\-/,""))(r))}))})(e);const t=(e=>{const t=e.getElement();return e.orgDisplay=t.style.display,p(Ul(e))?(e=>{const t=e.theme.renderUI;return t?t():NA(e)})(e):_(Ul(e))?(e=>{const t=e.getElement(),r=Ul(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r})(e):NA(e)})(e);((e,t)=>{const r={show:N.from(t.show).getOr(S),hide:N.from(t.hide).getOr(S),isEnabled:N.from(t.isEnabled).getOr(B),setEnabled:r=>{e.mode.isReadOnly()||N.from(t.setEnabled).each((e=>e(r)))}};e.ui={...e.ui,...r}})(e,N.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(e=>{e.contentCSS=e.contentCSS.concat((e=>cw(e,Rl(e)))(e),(e=>cw(e,Bl(e)))(e))})(e),e.inline?IA(e):((e,t)=>{((e,t)=>{const r=e.translate("Rich Text Area"),n=Zt(ur(e.getElement()),"tabindex").bind(Ke),o=((e,t,r,n)=>{const o=hr("iframe");return n.each((e=>qt(o,"tabindex",e))),Wt(o,r),Wt(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),nr(o,"tox-edit-area__iframe"),o})(e.id,r,il(e),n).dom;o.onload=()=>{o.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=(e=>{let t=sl(e)+"<html><head>";al(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const r=ll(e),n=cl(e),o=e.translate(mc(e));return hl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+hl(e)+'" />'),t+=`</head><body id="${r}" class="mce-content-body ${n}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t})(e),RA.add(t.iframeContainer,o)})(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=RA.isHidden(t.editorContainer)),e.getElement().style.display="none",RA.setAttrib(e.id,"aria-hidden","true"),IA(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})})(e)};((e,t)=>{const r=Ul(e);if(p(r)&&!VA(r)&&!Ee(rw.urls,r)){const n=ql(e),o=n?e.documentBaseURI.toAbsolute(n):`themes/${r}/theme${t}.js`;rw.load(r,o).catch((()=>{((e,t,r)=>{sw(e,"ThemeLoadError",aw("theme",t,r))})(e,o,r)}))}})(e,t),((e,t)=>{const r=Wl(e);if("plugin"!==r&&!Ee($b.urls,r)){const n=$l(e),o=p(n)?e.documentBaseURI.toAbsolute(n):`models/${r}/model${t}.js`;$b.load(r,o).catch((()=>{((e,t,r)=>{sw(e,"ModelLoadError",aw("model",t,r))})(e,o,r)}))}})(e,t),((e,t)=>{const r=Ml(t),n=Ol(t);if(!_s.hasCode(r)&&"en"!==r){const o=$e(n)?n:`${t.editorManager.baseURL}/langs/${r}.js`;e.add(o).catch((()=>{((e,t,r)=>{sw(e,"LanguageLoadError",aw("language",t,r))})(t,o,r)}))}})(r,e),((e,t,r)=>{const n=zA(t,"default",r),o=(e=>N.from(El(e)).filter($e).map((e=>({url:e,name:N.none()}))))(t).orThunk((()=>zA(t,_l(t),"")));q((e=>{const t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t})([n,o]),(r=>{e.add(r.url).catch((()=>{((e,t,r)=>{sw(e,"IconsLoadError",aw("icons",t,r))})(t,r.url,r.name.getOrUndefined())}))}))})(r,e,t),((e,t)=>{const r=(t,r)=>{tw.load(t,r).catch((()=>{((e,t,r)=>{sw(e,"PluginLoadError",aw("plugin",t,r))})(e,r,t)}))};fe(hc(e),((t,n)=>{r(n,t),e.options.set("plugins",cc(e).concat(n))})),q(cc(e),(e=>{!(e=Dt.trim(e))||tw.urls[e]||VA(e)||r(e,`plugins/${e}/plugin${t}.js`)}))})(e,t),r.loadQueue().then(n,n)})(e,e.suffix)})(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return Wp(this)}translate(e){return _s.translate(e)}getParam(e,t,r){const n=this.options;return n.isRegistered(e)||(x(r)?n.register(e,{processor:r,default:t}):n.register(e,{processor:B,default:t})),n.isSet(e)||b(t)?n.get(e):t}hasPlugin(e,t){return!(!j(cc(this),e)||t&&void 0===tw.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,r){this.editorCommands.addCommand(e,t,r)}addQueryStateHandler(e,t,r){this.editorCommands.addQueryStateHandler(e,t,r)}addQueryValueHandler(e,t,r){this.editorCommands.addQueryValueHandler(e,t,r)}addShortcut(e,t,r,n){this.shortcuts.add(e,t,r,n)}execCommand(e,t,r,n){return this.editorCommands.execCommand(e,t,r,n)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(NP.show(e.getContainer()),NP.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(NP.hide(e.getContainer()),NP.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,r=t.getElement();if(t.removed)return"";if(r){const n={...e,load:!0},o=Nn(r)?r.value:r.innerHTML,i=t.setContent(o,n);return n.no_events||t.dispatch("LoadContent",{...n,element:r}),i}return""}save(e={}){const t=this;let r=t.getElement();if(!r||!t.initialized||t.removed)return"";const n={...e,save:!0,element:r};let o=t.getContent(n);const i={...n,content:o};if(i.no_events||t.dispatch("SaveContent",i),"raw"===i.format&&t.dispatch("RawSaveContent",i),o=i.content,Nn(r))r.value=o;else{!e.is_removing&&t.inline||(r.innerHTML=o);const n=NP.getParent(t.id,"form");n&&VP(n.elements,(e=>e.name!==t.id||(e.value=o,!1)))}return i.element=n.element=r=null,!1!==i.set_dirty&&t.setDirty(!1),o}setContent(e,t){return Hb(this,e,t)}getContent(e){return((e,t={})=>{const r=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return nb(e,r).fold(T,(t=>{const r=((e,t)=>Ob(e).editor.getContent(t))(e,t);return ob(e,r,t)}))})(this,e)}insertContent(e,t){t&&(e=LP({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?Hb(this,this.startContent,{format:"raw"}):Hb(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||NP.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=NP.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const r=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==r?void 0:r.body)&&void 0!==t?t:null}convertURL(e,t,r){const n=this,o=n.options.get,i=yc(n);return _(i)?i.call(n,e,r,!0,t):!o("convert_urls")||"link"===r||f(r)&&"LINK"===r.nodeName||0===e.indexOf("file:")||0===e.length?e:o("relative_urls")?n.documentBaseURI.toRelative(e):e=n.documentBaseURI.toAbsolute(e,o("remove_script_host"))}addVisual(e){((e,t)=>{((e,t)=>{Db(this).editor.addVisual(t)})(0,t)})(0,e)}remove(){(e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:r}=e,n=e.getBody(),o=e.getElement();n&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&x(null==o?void 0:o.nextSibling)&&Ub.remove(o.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&n&&(e=>{Ub.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),Ub.remove(e.getContainer()),qb(t),qb(r),e.destroy()}})(this)}destroy(e){((e,t)=>{const{selection:r,dom:n}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),qb(r),qb(n)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Ub.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const r=e.selection;if(r){const e=r.dom;t.selection=r.win=r.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())})(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const HP=ms.DOM,jP=Dt.each;let GP,UP=!1,qP=[];const WP=e=>{const t=e.type;jP(YP.get(),(r=>{switch(t){case"scroll":r.dispatch("ScrollWindow",e);break;case"resize":r.dispatch("ResizeWindow",e)}}))},$P=e=>{if(e!==UP){const t=ms.DOM;e?(t.bind(window,"resize",WP),t.bind(window,"scroll",WP)):(t.unbind(window,"resize",WP),t.unbind(window,"scroll",WP)),UP=e}},ZP=e=>{const t=qP;return qP=Z(qP,(t=>e!==t)),YP.activeEditor===e&&(YP.activeEditor=qP.length>0?qP[0]:null),YP.focusedEditor===e&&(YP.focusedEditor=null),t.length!==qP.length},KP="CSS1Compat"!==document.compatMode,YP={...vP,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"3.0",releaseDate:"2022-11-23",i18n:_s,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",r="",n=Zy.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,r=o.suffix;else{const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const o=e[n].src||"";if(""===o)continue;const i=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==i.indexOf(".min")&&(r=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(r=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var i;e.baseURL=new Zy(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new Zy(e.baseURL),e.suffix=r,(i=e).on("AddEditor",O(jp,i)),i.on("RemoveEditor",O(Gp,i))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const r=e.suffix;r&&(this.suffix=r),this.defaultOptions=e;const n=e.plugin_base_urls;void 0!==n&&fe(n,((e,t)=>{Es.PluginManager.urls[t]=e}))},init(e){const t=this;let r;const n=Dt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let o=e=>{r=e};const i=()=>{let r=0;const s=[];let a;HP.unbind(window,"ready",i),(r=>{const n=e.onpageload;n&&n.apply(t,[])})(),a=((e,t)=>{const r=[],n=_(t)?e=>G(r,(r=>t(r,e))):e=>j(r,e);for(let t=0,o=e.length;t<o;t++){const o=e[t];n(o)||r.push(o)}return r})((e=>Pt.browser.isIE()||Pt.browser.isEdge()?(lw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):KP?(lw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):p(e.selector)?HP.select(e.selector):x(e.target)?[e.target]:[])(e)),Dt.each(a,(e=>{var r;(r=t.get(e.id))&&r.initialized&&!(r.getContainer()||r.getBody()).parentNode&&(ZP(r),r.unbindAllNativeEvents(),r.destroy(!0),r.removed=!0)})),a=Dt.grep(a,(e=>!t.get(e.id))),0===a.length?o([]):jP(a,(i=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in n)(e,i)?lw("Could not initialize inline editor on invalid inline target element",i):((e,n,i)=>{const l=new zP(e,n,t);s.push(l),l.on("init",(()=>{++r===a.length&&o(s)})),l.targetElm=l.targetElm||i,l.render()})((e=>{let t=e.id;return t||(t=_e(e,"name").filter((e=>!HP.get(e))).getOrThunk(HP.uniqueId),e.setAttribute("id",t)),t})(i),e,i)}))};return HP.bind(window,"ready",i),new Promise((e=>{r?e(r):o=t=>{e(t)}}))},get(e){return 0===arguments.length?qP.slice(0):p(e)?J(qP,(t=>t.id===e)).getOr(null):E(e)&&qP[e]?qP[e]:null},add(e){const t=this,r=t.get(e.id);return r===e||(null===r&&qP.push(e),$P(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),GP||(GP=e=>{const r=t.dispatch("BeforeUnload");if(r.returnValue)return e.preventDefault(),e.returnValue=r.returnValue,r.returnValue},window.addEventListener("beforeunload",GP))),e},createEditor(e,t){return this.add(new zP(e,t,this))},remove(e){const t=this;let r;if(e){if(!p(e))return r=e,v(t.get(r.id))?null:(ZP(r)&&t.dispatch("RemoveEditor",{editor:r}),0===qP.length&&window.removeEventListener("beforeunload",GP),r.remove(),$P(qP.length>0),r);jP(HP.select(e),(e=>{r=t.get(e.id),r&&t.remove(r)}))}else for(let e=qP.length-1;e>=0;e--)t.remove(qP[e])},execCommand(e,t,r){var n;const o=this,i=f(r)?null!==(n=r.id)&&void 0!==n?n:r.index:r;switch(e){case"mceAddEditor":if(!o.get(i)){const e=r.options;new zP(i,e,o).render()}return!0;case"mceRemoveEditor":{const e=o.get(i);return e&&e.remove(),!0}case"mceToggleEditor":{const e=o.get(i);return e?(e.isHidden()?e.show():e.hide(),!0):(o.execCommand("mceAddEditor",!1,r),!0)}}return!!o.activeEditor&&o.activeEditor.execCommand(e,t,r)},triggerSave:()=>{jP(qP,(e=>{e.save()}))},addI18n:(e,t)=>{_s.add(e,t)},translate:e=>_s.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Zy(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Zy(this.baseURL)}};YP.setup();const XP=(()=>{const e=Ss();return{FakeClipboardItem:e=>({items:e,types:ue(e),getType:t=>_e(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),JP=Math.min,QP=Math.max,eT=Math.round,tT=(e,t,r)=>{let n=t.x,o=t.y;const i=e.w,s=e.h,a=t.w,l=t.h,c=(r||"").split("");return"b"===c[0]&&(o+=l),"r"===c[1]&&(n+=a),"c"===c[0]&&(o+=eT(l/2)),"c"===c[1]&&(n+=eT(a/2)),"b"===c[3]&&(o-=s),"r"===c[4]&&(n-=i),"c"===c[3]&&(o-=eT(s/2)),"c"===c[4]&&(n-=eT(i/2)),rT(n,o,i,s)},rT=(e,t,r,n)=>({x:e,y:t,w:r,h:n}),nT={inflate:(e,t,r)=>rT(e.x-t,e.y-r,e.w+2*t,e.h+2*r),relativePosition:tT,findBestRelativePosition:(e,t,r,n)=>{for(let o=0;o<n.length;o++){const i=tT(e,t,n[o]);if(i.x>=r.x&&i.x+i.w<=r.w+r.x&&i.y>=r.y&&i.y+i.h<=r.h+r.y)return n[o]}return null},intersect:(e,t)=>{const r=QP(e.x,t.x),n=QP(e.y,t.y),o=JP(e.x+e.w,t.x+t.w),i=JP(e.y+e.h,t.y+t.h);return o-r<0||i-n<0?null:rT(r,n,o-r,i-n)},clamp:(e,t,r)=>{let n=e.x,o=e.y,i=e.x+e.w,s=e.y+e.h;const a=t.x+t.w,l=t.y+t.h,c=QP(0,t.x-n),h=QP(0,t.y-o),d=QP(0,i-a),u=QP(0,s-l);return n+=c,o+=h,r&&(i+=c,s+=h,n-=d,o-=u),i-=d,s-=u,rT(n,o,i-n,s-o)},create:rT,fromClientRect:e=>rT(e.left,e.top,e.width,e.height)},oT=(()=>{const e={},t={};return{load:(r,n)=>{const o=`Script at URL "${n}" failed to load`,i=`Script at URL "${n}" did not call \`tinymce.Resource.add('${r}', data)\` within 1 second`;if(void 0!==e[r])return e[r];{const s=new Promise(((e,s)=>{const a=((e,t,r=1e3)=>{let n=!1,o=null;const i=e=>(...t)=>{n||(n=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))},s=i(e),a=i(t);return{start:(...e)=>{n||null!==o||(o=setTimeout((()=>a.apply(null,e)),r))},resolve:s,reject:a}})(e,s);t[r]=a.resolve,vs.ScriptLoader.loadScript(n).then((()=>a.start(i)),(()=>a.reject(o)))}));return e[r]=s,s}},add:(r,n)=>{void 0!==t[r]&&(t[r](n),delete t[r]),e[r]=Promise.resolve(n)},unload:t=>{delete e[t]}}})();let iT;try{const e="__storage_test__";iT=window.localStorage,iT.setItem(e,e),iT.removeItem(e)}catch(t){iT=(()=>{let e={},t=[];const r={getItem:t=>e[t]||null,setItem:(r,n)=>{t.push(r),e[r]=String(n)},key:e=>t[e],removeItem:r=>{t=t.filter((e=>e===r)),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(r,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),r})()}const sT={geom:{Rect:nT},util:{Delay:Lp,Tools:Dt,VK:Pu,URI:Zy,EventDispatcher:mP,Observable:vP,I18n:_s,LocalStorage:iT,ImageUploader:e=>{const t=dw(),r=fw(e,t);return{upload:(t,n=!0)=>r.upload(t,n?pw(e):void 0)}}},dom:{EventUtils:is,TreeWalker:kn,TextSeeker:qs,DOMUtils:ms,ScriptLoader:vs,RangeUtils:ip,Serializer:zb,StyleSheetLoader:yi,ControlSelection:Iu,BookmarkManager:wu,Selection:Lb,Event:is.Event},html:{Styles:Yi,Entities:Bi,Node:lf,Schema:Ki,DomParser:tb,Writer:gf,Serializer:vf},Env:Pt,AddOnManager:Es,Annotator:bu,Formatter:Sw,UndoManager:Aw,EditorCommands:aP,WindowManager:nw,NotificationManager:ew,EditorObservable:EP,Shortcuts:FP,Editor:zP,FocusManager:Np,EditorManager:YP,DOM:ms.DOM,ScriptLoader:vs.ScriptLoader,PluginManager:tw,ThemeManager:rw,ModelManager:$b,IconManager:Wb,Resource:oT,FakeClipboard:XP,trim:Dt.trim,isArray:Dt.isArray,is:Dt.is,toArray:Dt.toArray,makeMap:Dt.makeMap,each:Dt.each,map:Dt.map,grep:Dt.grep,inArray:Dt.inArray,extend:Dt.extend,walk:Dt.walk,resolve:Dt.resolve,explode:Dt.explode,_addCacheSuffix:Dt._addCacheSuffix},aT=Dt.extend(YP,sT);(e=>{window.tinymce=e,window.tinyMCE=e})(aT),(t=>{try{e.exports=t}catch(t){}})(aT)}()},2051:function(e,t,r){"use strict";function n(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function o(e={},t={}){Object.keys(t).forEach((r=>{void 0===e[r]?e[r]=t[r]:n(t[r])&&n(e[r])&&Object.keys(t[r]).length>0&&o(e[r],t[r])}))}r.d(t,{ZP:function(){return Z}});const i={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){const e="undefined"!=typeof document?document:{};return o(e,i),e}const a={document:i,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function l(){const e="undefined"!=typeof window?window:{};return o(e,a),e}class c extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get(){return t},set(e){t.__proto__=e}})}(this))}}function h(e=[]){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...h(e)):t.push(e)})),t}function d(e,t){return Array.prototype.filter.call(e,t)}function u(e,t){const r=l(),n=s();let o=[];if(!t&&e instanceof c)return e;if(!e)return new c(o);if("string"==typeof e){const r=e.trim();if(r.indexOf("<")>=0&&r.indexOf(">")>=0){let e="div";0===r.indexOf("<li")&&(e="ul"),0===r.indexOf("<tr")&&(e="tbody"),0!==r.indexOf("<td")&&0!==r.indexOf("<th")||(e="tr"),0===r.indexOf("<tbody")&&(e="table"),0===r.indexOf("<option")&&(e="select");const t=n.createElement(e);t.innerHTML=r;for(let e=0;e<t.childNodes.length;e+=1)o.push(t.childNodes[e])}else o=function(e,t){if("string"!=typeof e)return[e];const r=[],n=t.querySelectorAll(e);for(let e=0;e<n.length;e+=1)r.push(n[e]);return r}(e.trim(),t||n)}else if(e.nodeType||e===r||e===n)o.push(e);else if(Array.isArray(e)){if(e instanceof c)return e;o=e}return new c(function(e){const t=[];for(let r=0;r<e.length;r+=1)-1===t.indexOf(e[r])&&t.push(e[r]);return t}(o))}u.fn=c.prototype;const p="resize scroll".split(" ");function f(e){return function(...t){if(void 0===t[0]){for(let t=0;t<this.length;t+=1)p.indexOf(e)<0&&(e in this[t]?this[t][e]():u(this[t]).trigger(e));return this}return this.on(e,...t)}}f("click"),f("blur"),f("focus"),f("focusin"),f("focusout"),f("keyup"),f("keydown"),f("keypress"),f("submit"),f("change"),f("mousedown"),f("mousemove"),f("mouseup"),f("mouseenter"),f("mouseleave"),f("mouseout"),f("mouseover"),f("touchstart"),f("touchend"),f("touchmove"),f("resize"),f("scroll");const m={addClass:function(...e){const t=h(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...t)})),this},removeClass:function(...e){const t=h(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...t)})),this},hasClass:function(...e){const t=h(e.map((e=>e.split(" "))));return d(this,(e=>t.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(...e){const t=h(e.map((e=>e.split(" "))));this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let r=0;r<this.length;r+=1)if(2===arguments.length)this[r].setAttribute(e,t);else for(const t in e)this[r][t]=e[t],this[r].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(...e){let[t,r,n,o]=e;function i(e){const t=e.target;if(!t)return;const o=e.target.dom7EventData||[];if(o.indexOf(e)<0&&o.unshift(e),u(t).is(r))n.apply(t,o);else{const e=u(t).parents();for(let t=0;t<e.length;t+=1)u(e[t]).is(r)&&n.apply(e[t],o)}}function s(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),n.apply(this,t)}"function"==typeof e[1]&&([t,n,o]=e,r=void 0),o||(o=!1);const a=t.split(" ");let l;for(let e=0;e<this.length;e+=1){const t=this[e];if(r)for(l=0;l<a.length;l+=1){const e=a[l];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:n,proxyListener:i}),t.addEventListener(e,i,o)}else for(l=0;l<a.length;l+=1){const e=a[l];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:n,proxyListener:s}),t.addEventListener(e,s,o)}}return this},off:function(...e){let[t,r,n,o]=e;"function"==typeof e[1]&&([t,n,o]=e,r=void 0),o||(o=!1);const i=t.split(" ");for(let e=0;e<i.length;e+=1){const t=i[e];for(let e=0;e<this.length;e+=1){const i=this[e];let s;if(!r&&i.dom7Listeners?s=i.dom7Listeners[t]:r&&i.dom7LiveListeners&&(s=i.dom7LiveListeners[t]),s&&s.length)for(let e=s.length-1;e>=0;e-=1){const r=s[e];n&&r.listener===n||n&&r.listener&&r.listener.dom7proxy&&r.listener.dom7proxy===n?(i.removeEventListener(t,r.proxyListener,o),s.splice(e,1)):n||(i.removeEventListener(t,r.proxyListener,o),s.splice(e,1))}}}return this},trigger:function(...e){const t=l(),r=e[0].split(" "),n=e[1];for(let o=0;o<r.length;o+=1){const i=r[o];for(let r=0;r<this.length;r+=1){const o=this[r];if(t.CustomEvent){const r=new t.CustomEvent(i,{detail:n,bubbles:!0,cancelable:!0});o.dom7EventData=e.filter(((e,t)=>t>0)),o.dispatchEvent(r),o.dom7EventData=[],delete o.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function r(n){n.target===this&&(e.call(this,n),t.off("transitionend",r))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=l();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=l(),t=s(),r=this[0],n=r.getBoundingClientRect(),o=t.body,i=r.clientTop||o.clientTop||0,a=r.clientLeft||o.clientLeft||0,c=r===e?e.scrollY:r.scrollTop,h=r===e?e.scrollX:r.scrollLeft;return{top:n.top+c-i,left:n.left+h-a}}return null},css:function(e,t){const r=l();let n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(const t in e)this[n].style[t]=e[t];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,r)=>{e.apply(t,[t,r])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=l(),r=s(),n=this[0];let o,i;if(!n||void 0===e)return!1;if("string"==typeof e){if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);for(o=u(e),i=0;i<o.length;i+=1)if(o[i]===n)return!0;return!1}if(e===r)return n===r;if(e===t)return n===t;if(e.nodeType||e instanceof c){for(o=e.nodeType?[e]:e,i=0;i<o.length;i+=1)if(o[i]===n)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return u([]);if(e<0){const r=t+e;return u(r<0?[]:[this[r]])}return u([this[e]])},append:function(...e){let t;const r=s();for(let n=0;n<e.length;n+=1){t=e[n];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const n=r.createElement("div");for(n.innerHTML=t;n.firstChild;)this[e].appendChild(n.firstChild)}else if(t instanceof c)for(let r=0;r<t.length;r+=1)this[e].appendChild(t[r]);else this[e].appendChild(t)}return this},prepend:function(e){const t=s();let r,n;for(r=0;r<this.length;r+=1)if("string"==typeof e){const o=t.createElement("div");for(o.innerHTML=e,n=o.childNodes.length-1;n>=0;n-=1)this[r].insertBefore(o.childNodes[n],this[r].childNodes[0])}else if(e instanceof c)for(n=0;n<e.length;n+=1)this[r].insertBefore(e[n],this[r].childNodes[0]);else this[r].insertBefore(e,this[r].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&u(this[0].nextElementSibling).is(e)?u([this[0].nextElementSibling]):u([]):this[0].nextElementSibling?u([this[0].nextElementSibling]):u([]):u([])},nextAll:function(e){const t=[];let r=this[0];if(!r)return u([]);for(;r.nextElementSibling;){const n=r.nextElementSibling;e?u(n).is(e)&&t.push(n):t.push(n),r=n}return u(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&u(t.previousElementSibling).is(e)?u([t.previousElementSibling]):u([]):t.previousElementSibling?u([t.previousElementSibling]):u([])}return u([])},prevAll:function(e){const t=[];let r=this[0];if(!r)return u([]);for(;r.previousElementSibling;){const n=r.previousElementSibling;e?u(n).is(e)&&t.push(n):t.push(n),r=n}return u(t)},parent:function(e){const t=[];for(let r=0;r<this.length;r+=1)null!==this[r].parentNode&&(e?u(this[r].parentNode).is(e)&&t.push(this[r].parentNode):t.push(this[r].parentNode));return u(t)},parents:function(e){const t=[];for(let r=0;r<this.length;r+=1){let n=this[r].parentNode;for(;n;)e?u(n).is(e)&&t.push(n):t.push(n),n=n.parentNode}return u(t)},closest:function(e){let t=this;return void 0===e?u([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let r=0;r<this.length;r+=1){const n=this[r].querySelectorAll(e);for(let e=0;e<n.length;e+=1)t.push(n[e])}return u(t)},children:function(e){const t=[];for(let r=0;r<this.length;r+=1){const n=this[r].children;for(let r=0;r<n.length;r+=1)e&&!u(n[r]).is(e)||t.push(n[r])}return u(t)},filter:function(e){return u(d(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(m).forEach((e=>{Object.defineProperty(u.fn,e,{value:m[e],writable:!0})}));var g=u;function v(e,t=0){return setTimeout(e,t)}function y(){return Date.now()}function b(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function w(...e){const t=Object(e[0]),r=["__proto__","constructor","prototype"];for(let o=1;o<e.length;o+=1){const i=e[o];if(null!=i&&(n=i,!("undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)))){const e=Object.keys(Object(i)).filter((e=>r.indexOf(e)<0));for(let r=0,n=e.length;r<n;r+=1){const n=e[r],o=Object.getOwnPropertyDescriptor(i,n);void 0!==o&&o.enumerable&&(b(t[n])&&b(i[n])?i[n].__swiper__?t[n]=i[n]:w(t[n],i[n]):!b(t[n])&&b(i[n])?(t[n]={},i[n].__swiper__?t[n]=i[n]:w(t[n],i[n])):t[n]=i[n])}}}var n;return t}function x(e,t,r){e.style.setProperty(t,r)}function _({swiper:e,targetPosition:t,side:r}){const n=l(),o=-e.translate;let i,s=null;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const c=t>o?"next":"prev",h=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,d=()=>{i=(new Date).getTime(),null===s&&(s=i);const l=Math.max(Math.min((i-s)/a,1),0),c=.5-Math.cos(l*Math.PI)/2;let u=o+c*(t-o);if(h(u,t)&&(u=t),e.wrapperEl.scrollTo({[r]:u}),h(u,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:u})})),void n.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=n.requestAnimationFrame(d)};d()}let E,C,S;function k(){return E||(E=function(){const e=l(),t=s();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const r=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,r)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),E}var A={on(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;const o=r?"unshift":"push";return e.split(" ").forEach((e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][o](t)})),n},once(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;function o(...r){n.off(e,o),o.__emitterProxy&&delete o.__emitterProxy,t.apply(n,r)}return o.__emitterProxy=t,n.on(e,o,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;const n=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[n](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed?r:r.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach(((n,o)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&r.eventsListeners[e].splice(o,1)}))})),r):r},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let r,n,o;return"string"==typeof e[0]||Array.isArray(e[0])?(r=e[0],n=e.slice(1,e.length),o=t):(r=e[0].events,n=e[0].data,o=e[0].context||t),n.unshift(o),(Array.isArray(r)?r:r.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(o,[e,...n])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((e=>{e.apply(o,n)}))})),t}},P={updateSize:function(){const e=this;let t,r;const n=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:n[0].clientWidth,r=void 0!==e.params.height&&null!==e.params.height?e.params.height:n[0].clientHeight,0===t&&e.isHorizontal()||0===r&&e.isVertical()||(t=t-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),r=r-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function r(e,r){return parseFloat(e.getPropertyValue(t(r))||0)}const n=e.params,{$wrapperEl:o,size:i,rtlTranslate:s,wrongRTL:a}=e,l=e.virtual&&n.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,h=o.children(`.${e.params.slideClass}`),d=l?e.virtual.slides.length:h.length;let u=[];const p=[],f=[];let m=n.slidesOffsetBefore;"function"==typeof m&&(m=n.slidesOffsetBefore.call(e));let g=n.slidesOffsetAfter;"function"==typeof g&&(g=n.slidesOffsetAfter.call(e));const v=e.snapGrid.length,y=e.slidesGrid.length;let b=n.spaceBetween,w=-m,_=0,E=0;if(void 0===i)return;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*i),e.virtualSize=-b,s?h.css({marginLeft:"",marginBottom:"",marginTop:""}):h.css({marginRight:"",marginBottom:"",marginTop:""}),n.centeredSlides&&n.cssMode&&(x(e.wrapperEl,"--swiper-centered-offset-before",""),x(e.wrapperEl,"--swiper-centered-offset-after",""));const C=n.grid&&n.grid.rows>1&&e.grid;let S;C&&e.grid.initSlides(d);const k="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>void 0!==n.breakpoints[e].slidesPerView)).length>0;for(let o=0;o<d;o+=1){S=0;const s=h.eq(o);if(C&&e.grid.updateSlide(o,s,d,t),"none"!==s.css("display")){if("auto"===n.slidesPerView){k&&(h[o].style[t("width")]="");const i=getComputedStyle(s[0]),a=s[0].style.transform,l=s[0].style.webkitTransform;if(a&&(s[0].style.transform="none"),l&&(s[0].style.webkitTransform="none"),n.roundLengths)S=e.isHorizontal()?s.outerWidth(!0):s.outerHeight(!0);else{const e=r(i,"width"),t=r(i,"padding-left"),n=r(i,"padding-right"),o=r(i,"margin-left"),a=r(i,"margin-right"),l=i.getPropertyValue("box-sizing");if(l&&"border-box"===l)S=e+o+a;else{const{clientWidth:r,offsetWidth:i}=s[0];S=e+t+n+o+a+(i-r)}}a&&(s[0].style.transform=a),l&&(s[0].style.webkitTransform=l),n.roundLengths&&(S=Math.floor(S))}else S=(i-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),h[o]&&(h[o].style[t("width")]=`${S}px`);h[o]&&(h[o].swiperSlideSize=S),f.push(S),n.centeredSlides?(w=w+S/2+_/2+b,0===_&&0!==o&&(w=w-i/2-b),0===o&&(w=w-i/2-b),Math.abs(w)<.001&&(w=0),n.roundLengths&&(w=Math.floor(w)),E%n.slidesPerGroup==0&&u.push(w),p.push(w)):(n.roundLengths&&(w=Math.floor(w)),(E-Math.min(e.params.slidesPerGroupSkip,E))%e.params.slidesPerGroup==0&&u.push(w),p.push(w),w=w+S+b),e.virtualSize+=S+b,_=S,E+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+g,s&&a&&("slide"===n.effect||"coverflow"===n.effect)&&o.css({width:`${e.virtualSize+n.spaceBetween}px`}),n.setWrapperSize&&o.css({[t("width")]:`${e.virtualSize+n.spaceBetween}px`}),C&&e.grid.updateWrapperSize(S,u,t),!n.centeredSlides){const t=[];for(let r=0;r<u.length;r+=1){let o=u[r];n.roundLengths&&(o=Math.floor(o)),u[r]<=e.virtualSize-i&&t.push(o)}u=t,Math.floor(e.virtualSize-i)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-i)}if(0===u.length&&(u=[0]),0!==n.spaceBetween){const r=e.isHorizontal()&&s?"marginLeft":t("marginRight");h.filter(((e,t)=>!n.cssMode||t!==h.length-1)).css({[r]:`${b}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)})),e-=n.spaceBetween;const t=e-i;u=u.map((e=>e<0?-m:e>t?t+g:e))}if(n.centerInsufficientSlides){let e=0;if(f.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)})),e-=n.spaceBetween,e<i){const t=(i-e)/2;u.forEach(((e,r)=>{u[r]=e-t})),p.forEach(((e,r)=>{p[r]=e+t}))}}if(Object.assign(e,{slides:h,snapGrid:u,slidesGrid:p,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){x(e.wrapperEl,"--swiper-centered-offset-before",-u[0]+"px"),x(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],r=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+r))}if(d!==c&&e.emit("slidesLengthChange"),u.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==y&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),!(l||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,r=e.$el.hasClass(t);d<=n.maxBackfaceHiddenSlides?r||e.$el.addClass(t):r&&e.$el.removeClass(t)}},updateAutoHeight:function(e){const t=this,r=[],n=t.virtual&&t.params.virtual.enabled;let o,i=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const s=e=>n?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||g([])).each((e=>{r.push(e)}));else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const e=t.activeIndex+o;if(e>t.slides.length&&!n)break;r.push(s(e))}else r.push(s(t.activeIndex));for(o=0;o<r.length;o+=1)if(void 0!==r[o]){const e=r[o].offsetHeight;i=e>i?e:i}(i||0===i)&&t.$wrapperEl.css("height",`${i}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,r=t.params,{slides:n,rtlTranslate:o,snapGrid:i}=t;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();let s=-e;o&&(s=e),n.removeClass(r.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<n.length;e+=1){const a=n[e];let l=a.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(l-=n[0].swiperSlideOffset);const c=(s+(r.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+r.spaceBetween),h=(s-i[0]+(r.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+r.spaceBetween),d=-(s-l),u=d+t.slidesSizesGrid[e];(d>=0&&d<t.size-1||u>1&&u<=t.size||d<=0&&u>=t.size)&&(t.visibleSlides.push(a),t.visibleSlidesIndexes.push(e),n.eq(e).addClass(r.slideVisibleClass)),a.progress=o?-c:c,a.originalProgress=o?-h:h}t.visibleSlides=g(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const r=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*r||0}const r=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:i,isEnd:s}=t;const a=i,l=s;0===n?(o=0,i=!0,s=!0):(o=(e-t.minTranslate())/n,i=o<=0,s=o>=1),Object.assign(t,{progress:o,isBeginning:i,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),i&&!a&&t.emit("reachBeginning toEdge"),s&&!l&&t.emit("reachEnd toEdge"),(a&&!i||l&&!s)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){const e=this,{slides:t,params:r,$wrapperEl:n,activeIndex:o,realIndex:i}=e,s=e.virtual&&r.virtual.enabled;let a;t.removeClass(`${r.slideActiveClass} ${r.slideNextClass} ${r.slidePrevClass} ${r.slideDuplicateActiveClass} ${r.slideDuplicateNextClass} ${r.slideDuplicatePrevClass}`),a=s?e.$wrapperEl.find(`.${r.slideClass}[data-swiper-slide-index="${o}"]`):t.eq(o),a.addClass(r.slideActiveClass),r.loop&&(a.hasClass(r.slideDuplicateClass)?n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(r.slideDuplicateActiveClass):n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(r.slideDuplicateActiveClass));let l=a.nextAll(`.${r.slideClass}`).eq(0).addClass(r.slideNextClass);r.loop&&0===l.length&&(l=t.eq(0),l.addClass(r.slideNextClass));let c=a.prevAll(`.${r.slideClass}`).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=t.eq(-1),c.addClass(r.slidePrevClass)),r.loop&&(l.hasClass(r.slideDuplicateClass)?n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass):n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass):n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:n,snapGrid:o,params:i,activeIndex:s,realIndex:a,snapIndex:l}=t;let c,h=e;if(void 0===h){for(let e=0;e<n.length;e+=1)void 0!==n[e+1]?r>=n[e]&&r<n[e+1]-(n[e+1]-n[e])/2?h=e:r>=n[e]&&r<n[e+1]&&(h=e+1):r>=n[e]&&(h=e);i.normalizeSlideIndex&&(h<0||void 0===h)&&(h=0)}if(o.indexOf(r)>=0)c=o.indexOf(r);else{const e=Math.min(i.slidesPerGroupSkip,h);c=e+Math.floor((h-e)/i.slidesPerGroup)}if(c>=o.length&&(c=o.length-1),h===s)return void(c!==l&&(t.snapIndex=c,t.emit("snapIndexChange")));const d=parseInt(t.slides.eq(h).attr("data-swiper-slide-index")||h,10);Object.assign(t,{snapIndex:c,realIndex:d,previousIndex:s,activeIndex:h}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),a!==d&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,r=t.params,n=g(e).closest(`.${r.slideClass}`)[0];let o,i=!1;if(n)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===n){i=!0,o=e;break}if(!n||!i)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(g(n).attr("data-swiper-slide-index"),10):t.clickedIndex=o,r.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};function T({swiper:e,runCallbacks:t,direction:r,step:n}){const{activeIndex:o,previousIndex:i}=e;let s=r;if(s||(s=o>i?"next":o<i?"prev":"reset"),e.emit(`transition${n}`),t&&o!==i){if("reset"===s)return void e.emit(`slideResetTransition${n}`);e.emit(`slideChangeTransition${n}`),"next"===s?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}var M={slideTo:function(e=0,t=this.params.speed,r=!0,n,o){if("number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const i=this;let s=e;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:h,activeIndex:d,rtlTranslate:u,wrapperEl:p,enabled:f}=i;if(i.animating&&a.preventInteractionOnTransition||!f&&!n&&!o)return!1;const m=Math.min(i.params.slidesPerGroupSkip,s);let g=m+Math.floor((s-m)/i.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const v=-l[g];if(a.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*v),r=Math.floor(100*c[e]),n=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=r&&t<n-(n-r)/2?s=e:t>=r&&t<n&&(s=e+1):t>=r&&(s=e)}if(i.initialized&&s!==d){if(!i.allowSlideNext&&v<i.translate&&v<i.minTranslate())return!1;if(!i.allowSlidePrev&&v>i.translate&&v>i.maxTranslate()&&(d||0)!==s)return!1}let y;if(s!==(h||0)&&r&&i.emit("beforeSlideChangeStart"),i.updateProgress(v),y=s>d?"next":s<d?"prev":"reset",u&&-v===i.translate||!u&&v===i.translate)return i.updateActiveIndex(s),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==a.effect&&i.setTranslate(v),"reset"!==y&&(i.transitionStart(r,y),i.transitionEnd(r,y)),!1;if(a.cssMode){const e=i.isHorizontal(),r=u?v:-v;if(0===t){const t=i.virtual&&i.params.virtual.enabled;t&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[e?"scrollLeft":"scrollTop"]=r,t&&requestAnimationFrame((()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1}))}else{if(!i.support.smoothScroll)return _({swiper:i,targetPosition:r,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:r,behavior:"smooth"})}return!0}return i.setTransition(t),i.setTranslate(v),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,n),i.transitionStart(r,y),0===t?i.transitionEnd(r,y):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(r,y))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t=this.params.speed,r=!0,n){if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const o=this;let i=e;return o.params.loop&&(i+=o.loopedSlides),o.slideTo(i,t,r,n)},slideNext:function(e=this.params.speed,t=!0,r){const n=this,{animating:o,enabled:i,params:s}=n;if(!i)return n;let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<s.slidesPerGroupSkip?1:a;if(s.loop){if(o&&s.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}return s.rewind&&n.isEnd?n.slideTo(0,e,t,r):n.slideTo(n.activeIndex+l,e,t,r)},slidePrev:function(e=this.params.speed,t=!0,r){const n=this,{params:o,animating:i,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:c}=n;if(!c)return n;if(o.loop){if(i&&o.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}function h(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const d=h(l?n.translate:-n.translate),u=s.map((e=>h(e)));let p=s[u.indexOf(d)-1];if(void 0===p&&o.cssMode){let e;s.forEach(((t,r)=>{d>=t&&(e=r)})),void 0!==e&&(p=s[e>0?e-1:e])}let f=0;if(void 0!==p&&(f=a.indexOf(p),f<0&&(f=n.activeIndex-1),"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(f=f-n.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),o.rewind&&n.isBeginning){const o=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(o,e,t,r)}return n.slideTo(f,e,t,r)},slideReset:function(e=this.params.speed,t=!0,r){return this.slideTo(this.activeIndex,e,t,r)},slideToClosest:function(e=this.params.speed,t=!0,r,n=.5){const o=this;let i=o.activeIndex;const s=Math.min(o.params.slidesPerGroupSkip,i),a=s+Math.floor((i-s)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;if(l>=o.snapGrid[a]){const e=o.snapGrid[a];l-e>(o.snapGrid[a+1]-e)*n&&(i+=o.params.slidesPerGroup)}else{const e=o.snapGrid[a-1];l-e<=(o.snapGrid[a]-e)*n&&(i-=o.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,o.slidesGrid.length-1),o.slideTo(i,e,t,r)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:r}=e,n="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let o,i=e.clickedIndex;if(t.loop){if(e.animating)return;o=parseInt(g(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?i<e.loopedSlides-n/2||i>e.slides.length-e.loopedSlides+n/2?(e.loopFix(),i=r.children(`.${t.slideClass}[data-swiper-slide-index="${o}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),v((()=>{e.slideTo(i)}))):e.slideTo(i):i>e.slides.length-n?(e.loopFix(),i=r.children(`.${t.slideClass}[data-swiper-slide-index="${o}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),v((()=>{e.slideTo(i)}))):e.slideTo(i)}else e.slideTo(i)}};function O(e){const t=this,r=s(),n=l(),o=t.touchEventsData,{params:i,touches:a,enabled:c}=t;if(!c)return;if(t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let h=e;h.originalEvent&&(h=h.originalEvent);let d=g(h.target);if("wrapper"===i.touchEventsTarget&&!d.closest(t.wrapperEl).length)return;if(o.isTouchEvent="touchstart"===h.type,!o.isTouchEvent&&"which"in h&&3===h.which)return;if(!o.isTouchEvent&&"button"in h&&h.button>0)return;if(o.isTouched&&o.isMoved)return;const u=!!i.noSwipingClass&&""!==i.noSwipingClass,p=e.composedPath?e.composedPath():e.path;u&&h.target&&h.target.shadowRoot&&p&&(d=g(p[0]));const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,m=!(!h.target||!h.target.shadowRoot);if(i.noSwiping&&(m?function(e,t=this){return function t(r){if(!r||r===s()||r===l())return null;r.assignedSlot&&(r=r.assignedSlot);const n=r.closest(e);return n||r.getRootNode?n||t(r.getRootNode().host):null}(t)}(f,d[0]):d.closest(f)[0]))return void(t.allowClick=!0);if(i.swipeHandler&&!d.closest(i.swipeHandler)[0])return;a.currentX="touchstart"===h.type?h.targetTouches[0].pageX:h.pageX,a.currentY="touchstart"===h.type?h.targetTouches[0].pageY:h.pageY;const v=a.currentX,b=a.currentY,w=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,x=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(w&&(v<=x||v>=n.innerWidth-x)){if("prevent"!==w)return;e.preventDefault()}if(Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=b,o.touchStartTime=y(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(o.allowThresholdMove=!1),"touchstart"!==h.type){let e=!0;d.is(o.focusableElements)&&(e=!1,"SELECT"===d[0].nodeName&&(o.isTouched=!1)),r.activeElement&&g(r.activeElement).is(o.focusableElements)&&r.activeElement!==d[0]&&r.activeElement.blur();const n=e&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!n||d[0].isContentEditable||h.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",h)}function D(e){const t=s(),r=this,n=r.touchEventsData,{params:o,touches:i,rtlTranslate:a,enabled:l}=r;if(!l)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),!n.isTouched)return void(n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",c));if(n.isTouchEvent&&"touchmove"!==c.type)return;const h="touchmove"===c.type&&c.targetTouches&&(c.targetTouches[0]||c.changedTouches[0]),d="touchmove"===c.type?h.pageX:c.pageX,u="touchmove"===c.type?h.pageY:c.pageY;if(c.preventedByNestedSwiper)return i.startX=d,void(i.startY=u);if(!r.allowTouchMove)return g(c.target).is(n.focusableElements)||(r.allowClick=!1),void(n.isTouched&&(Object.assign(i,{startX:d,startY:u,currentX:d,currentY:u}),n.touchStartTime=y()));if(n.isTouchEvent&&o.touchReleaseOnEdges&&!o.loop)if(r.isVertical()){if(u<i.startY&&r.translate<=r.maxTranslate()||u>i.startY&&r.translate>=r.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(d<i.startX&&r.translate<=r.maxTranslate()||d>i.startX&&r.translate>=r.minTranslate())return;if(n.isTouchEvent&&t.activeElement&&c.target===t.activeElement&&g(c.target).is(n.focusableElements))return n.isMoved=!0,void(r.allowClick=!1);if(n.allowTouchCallbacks&&r.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;i.currentX=d,i.currentY=u;const p=i.currentX-i.startX,f=i.currentY-i.startY;if(r.params.threshold&&Math.sqrt(p**2+f**2)<r.params.threshold)return;if(void 0===n.isScrolling){let e;r.isHorizontal()&&i.currentY===i.startY||r.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:p*p+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(p))/Math.PI,n.isScrolling=r.isHorizontal()?e>o.touchAngle:90-e>o.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",c),void 0===n.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(n.startMoving=!0)),n.isScrolling)return void(n.isTouched=!1);if(!n.startMoving)return;r.allowClick=!1,!o.cssMode&&c.cancelable&&c.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&c.stopPropagation(),n.isMoved||(o.loop&&!o.cssMode&&r.loopFix(),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating&&r.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!o.grabCursor||!0!==r.allowSlideNext&&!0!==r.allowSlidePrev||r.setGrabCursor(!0),r.emit("sliderFirstMove",c)),r.emit("sliderMove",c),n.isMoved=!0;let m=r.isHorizontal()?p:f;i.diff=m,m*=o.touchRatio,a&&(m=-m),r.swipeDirection=m>0?"prev":"next",n.currentTranslate=m+n.startTranslate;let v=!0,b=o.resistanceRatio;if(o.touchReleaseOnEdges&&(b=0),m>0&&n.currentTranslate>r.minTranslate()?(v=!1,o.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+m)**b)):m<0&&n.currentTranslate<r.maxTranslate()&&(v=!1,o.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-m)**b)),v&&(c.preventedByNestedSwiper=!0),!r.allowSlideNext&&"next"===r.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&"prev"===r.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),r.allowSlidePrev||r.allowSlideNext||(n.currentTranslate=n.startTranslate),o.threshold>0){if(!(Math.abs(m)>o.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,void(i.diff=r.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}o.followFinger&&!o.cssMode&&((o.freeMode&&o.freeMode.enabled&&r.freeMode||o.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),r.params.freeMode&&o.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function I(e){const t=this,r=t.touchEventsData,{params:n,touches:o,rtlTranslate:i,slidesGrid:s,enabled:a}=t;if(!a)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),r.allowTouchCallbacks&&t.emit("touchEnd",l),r.allowTouchCallbacks=!1,!r.isTouched)return r.isMoved&&n.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,void(r.startMoving=!1);n.grabCursor&&r.isMoved&&r.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const c=y(),h=c-r.touchStartTime;if(t.allowClick){const e=l.path||l.composedPath&&l.composedPath();t.updateClickedSlide(e&&e[0]||l.target),t.emit("tap click",l),h<300&&c-r.lastClickTime<300&&t.emit("doubleTap doubleClick",l)}if(r.lastClickTime=y(),v((()=>{t.destroyed||(t.allowClick=!0)})),!r.isTouched||!r.isMoved||!t.swipeDirection||0===o.diff||r.currentTranslate===r.startTranslate)return r.isTouched=!1,r.isMoved=!1,void(r.startMoving=!1);let d;if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,d=n.followFinger?i?t.translate:-t.translate:-r.currentTranslate,n.cssMode)return;if(t.params.freeMode&&n.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:d});let u=0,p=t.slidesSizesGrid[0];for(let e=0;e<s.length;e+=e<n.slidesPerGroupSkip?1:n.slidesPerGroup){const t=e<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;void 0!==s[e+t]?d>=s[e]&&d<s[e+t]&&(u=e,p=s[e+t]-s[e]):d>=s[e]&&(u=e,p=s[s.length-1]-s[s.length-2])}let f=null,m=null;n.rewind&&(t.isBeginning?m=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(f=0));const g=(d-s[u])/p,b=u<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(h>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=n.longSwipesRatio?t.slideTo(n.rewind&&t.isEnd?f:u+b):t.slideTo(u)),"prev"===t.swipeDirection&&(g>1-n.longSwipesRatio?t.slideTo(u+b):null!==m&&g<0&&Math.abs(g)>n.longSwipesRatio?t.slideTo(m):t.slideTo(u))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||l.target!==t.navigation.nextEl&&l.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==f?f:u+b),"prev"===t.swipeDirection&&t.slideTo(null!==m?m:u)):l.target===t.navigation.nextEl?t.slideTo(u+b):t.slideTo(u)}}function R(){const e=this,{params:t,el:r}=e;if(r&&0===r.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:o,snapGrid:i}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=o,e.allowSlideNext=n,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function F(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function B(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:n}=e;if(!n)return;let o;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const i=e.maxTranslate()-e.minTranslate();o=0===i?0:(e.translate-e.minTranslate())/i,o!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let N=!1;function L(){}const V=(e,t)=>{const r=s(),{params:n,touchEvents:o,el:i,wrapperEl:a,device:l,support:c}=e,h=!!n.nested,d="on"===t?"addEventListener":"removeEventListener",u=t;if(c.touch){const t=!("touchstart"!==o.start||!c.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};i[d](o.start,e.onTouchStart,t),i[d](o.move,e.onTouchMove,c.passiveListener?{passive:!1,capture:h}:h),i[d](o.end,e.onTouchEnd,t),o.cancel&&i[d](o.cancel,e.onTouchEnd,t)}else i[d](o.start,e.onTouchStart,!1),r[d](o.move,e.onTouchMove,h),r[d](o.end,e.onTouchEnd,!1);(n.preventClicks||n.preventClicksPropagation)&&i[d]("click",e.onClick,!0),n.cssMode&&a[d]("scroll",e.onScroll),n.updateOnWindowResize?e[u](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",R,!0):e[u]("observerUpdate",R,!0)};var z={attachEvents:function(){const e=this,t=s(),{params:r,support:n}=e;e.onTouchStart=O.bind(e),e.onTouchMove=D.bind(e),e.onTouchEnd=I.bind(e),r.cssMode&&(e.onScroll=B.bind(e)),e.onClick=F.bind(e),n.touch&&!N&&(t.addEventListener("touchstart",L),N=!0),V(e,"on")},detachEvents:function(){V(this,"off")}};const H=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var j={addClasses:function(){const e=this,{classNames:t,params:r,rtl:n,$el:o,device:i,support:s}=e,a=function(e,t){const r=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((n=>{e[n]&&r.push(t+n)})):"string"==typeof e&&r.push(t+e)})),r}(["initialized",r.direction,{"pointer-events":!s.touch},{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...a),o.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}},G={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function U(e,t){return function(r={}){const n=Object.keys(r)[0],o=r[n];"object"==typeof o&&null!==o?(["navigation","pagination","scrollbar"].indexOf(n)>=0&&!0===e[n]&&(e[n]={auto:!0}),n in e&&"enabled"in o?(!0===e[n]&&(e[n]={enabled:!0}),"object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),w(t,r)):w(t,r)):w(t,r)}}const q={eventsEmitter:A,update:P,translate:{getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:r,translate:n,$wrapperEl:o}=this;if(t.virtualTranslate)return r?-n:n;if(t.cssMode)return n;let i=function(e,t="x"){const r=l();let n,o,i;const s=function(e){const t=l();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}(e);return r.WebKitCSSMatrix?(o=s.transform||s.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map((e=>e.replace(",","."))).join(", ")),i=new r.WebKitCSSMatrix("none"===o?"":o)):(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=i.toString().split(",")),"x"===t&&(o=r.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(o=r.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),o||0}(o[0],e);return r&&(i=-i),i||0},setTranslate:function(e,t){const r=this,{rtlTranslate:n,params:o,$wrapperEl:i,wrapperEl:s,progress:a}=r;let l,c=0,h=0;r.isHorizontal()?c=n?-e:e:h=e,o.roundLengths&&(c=Math.floor(c),h=Math.floor(h)),o.cssMode?s[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-c:-h:o.virtualTranslate||i.transform(`translate3d(${c}px, ${h}px, 0px)`),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?c:h;const d=r.maxTranslate()-r.minTranslate();l=0===d?0:(e-r.minTranslate())/d,l!==a&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,r=!0,n=!0,o){const i=this,{params:s,wrapperEl:a}=i;if(i.animating&&s.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let h;if(h=n&&e>l?l:n&&e<c?c:e,i.updateProgress(h),s.cssMode){const e=i.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-h;else{if(!i.support.smoothScroll)return _({swiper:i,targetPosition:-h,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-h,behavior:"smooth"})}return!0}return 0===t?(i.setTransition(0),i.setTranslate(h),r&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(h),r&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,r&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const r=this;r.params.cssMode||r.$wrapperEl.transition(e),r.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),T({swiper:r,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const r=this,{params:n}=r;r.animating=!1,n.cssMode||(r.setTransition(0),T({swiper:r,runCallbacks:e,direction:t,step:"End"}))}},slide:M,loop:{loopCreate:function(){const e=this,t=s(),{params:r,$wrapperEl:n}=e,o=n.children().length>0?g(n.children()[0].parentNode):n;o.children(`.${r.slideClass}.${r.slideDuplicateClass}`).remove();let i=o.children(`.${r.slideClass}`);if(r.loopFillGroupWithBlank){const e=r.slidesPerGroup-i.length%r.slidesPerGroup;if(e!==r.slidesPerGroup){for(let n=0;n<e;n+=1){const e=g(t.createElement("div")).addClass(`${r.slideClass} ${r.slideBlankClass}`);o.append(e)}i=o.children(`.${r.slideClass}`)}}"auto"!==r.slidesPerView||r.loopedSlides||(r.loopedSlides=i.length),e.loopedSlides=Math.ceil(parseFloat(r.loopedSlides||r.slidesPerView,10)),e.loopedSlides+=r.loopAdditionalSlides,e.loopedSlides>i.length&&e.params.loopedSlidesLimit&&(e.loopedSlides=i.length);const a=[],l=[];i.each(((e,t)=>{g(e).attr("data-swiper-slide-index",t)}));for(let t=0;t<e.loopedSlides;t+=1){const e=t-Math.floor(t/i.length)*i.length;l.push(i.eq(e)[0]),a.unshift(i.eq(i.length-e-1)[0])}for(let e=0;e<l.length;e+=1)o.append(g(l[e].cloneNode(!0)).addClass(r.slideDuplicateClass));for(let e=a.length-1;e>=0;e-=1)o.prepend(g(a[e].cloneNode(!0)).addClass(r.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:r,loopedSlides:n,allowSlidePrev:o,allowSlideNext:i,snapGrid:s,rtlTranslate:a}=e;let l;e.allowSlidePrev=!0,e.allowSlideNext=!0;const c=-s[t]-e.getTranslate();t<n?(l=r.length-3*n+t,l+=n,e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((a?-e.translate:e.translate)-c)):t>=r.length-n&&(l=-r.length+t+n,l+=n,e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((a?-e.translate:e.translate)-c)),e.allowSlidePrev=o,e.allowSlideNext=i,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:r}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;r.style.cursor="move",r.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:z,breakpoints:{setBreakpoint:function(){const e=this,{activeIndex:t,initialized:r,loopedSlides:n=0,params:o,$el:i}=e,s=o.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const a=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const l=(a in s?s[a]:void 0)||e.originalParams,c=H(e,o),h=H(e,l),d=o.enabled;c&&!h?(i.removeClass(`${o.containerModifierClass}grid ${o.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&h&&(i.addClass(`${o.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===o.grid.fill)&&i.addClass(`${o.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{const r=o[t]&&o[t].enabled,n=l[t]&&l[t].enabled;r&&!n&&e[t].disable(),!r&&n&&e[t].enable()}));const u=l.direction&&l.direction!==o.direction,p=o.loop&&(l.slidesPerView!==o.slidesPerView||u);u&&r&&e.changeDirection(),w(e.params,l);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!f?e.disable():!d&&f&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",l),p&&r&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-n+e.loopedSlides,0,!1)),e.emit("breakpoint",l)},getBreakpoint:function(e,t="window",r){if(!e||"container"===t&&!r)return;let n=!1;const o=l(),i="window"===t?o.innerHeight:r.clientHeight,s=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}}));s.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<s.length;e+=1){const{point:i,value:a}=s[e];"window"===t?o.matchMedia(`(min-width: ${a}px)`).matches&&(n=i):a<=r.clientWidth&&(n=i)}return n||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:n}=r;if(n){const t=e.slides.length-1,r=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*n;e.isLocked=e.size>r}else e.isLocked=1===e.snapGrid.length;!0===r.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===r.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:j,images:{loadImage:function(e,t,r,n,o,i){const s=l();let a;function c(){i&&i()}g(e).parent("picture")[0]||e.complete&&o?c():t?(a=new s.Image,a.onload=c,a.onerror=c,n&&(a.sizes=n),r&&(a.srcset=r),t&&(a.src=t)):c()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let r=0;r<e.imagesToLoad.length;r+=1){const n=e.imagesToLoad[r];e.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,t)}}}},W={};class ${constructor(...e){let t,r;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?r=e[0]:[t,r]=e,r||(r={}),r=w({},r),t&&!r.el&&(r.el=t),r.el&&g(r.el).length>1){const e=[];return g(r.el).each((t=>{const n=w({},r,{el:t});e.push(new $(n))})),e}const n=this;n.__swiper__=!0,n.support=k(),n.device=function(e={}){return C||(C=function({userAgent:e}={}){const t=k(),r=l(),n=r.navigator.platform,o=e||r.navigator.userAgent,i={ios:!1,android:!1},s=r.screen.width,a=r.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let h=o.match(/(iPad).*OS\s([\d_]+)/);const d=o.match(/(iPod)(.*OS\s([\d_]+))?/),u=!h&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===n;let f="MacIntel"===n;return!h&&f&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${s}x${a}`)>=0&&(h=o.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),f=!1),c&&!p&&(i.os="android",i.android=!0),(h||u||d)&&(i.os="ios",i.ios=!0),i}(e)),C}({userAgent:r.userAgent}),n.browser=(S||(S=function(){const e=l();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),S),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],r.modules&&Array.isArray(r.modules)&&n.modules.push(...r.modules);const o={};n.modules.forEach((e=>{e({swiper:n,extendParams:U(r,o),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})}));const i=w({},G,o);return n.params=w({},i,W,r),n.originalParams=w({},n.params),n.passedParams=w({},r),n.params&&n.params.on&&Object.keys(n.params.on).forEach((e=>{n.on(e,n.params.on[e])})),n.params&&n.params.onAny&&n.onAny(n.params.onAny),n.$=g,Object.assign(n,{enabled:n.params.enabled,el:t,classNames:[],slides:g(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return"horizontal"===n.params.direction},isVertical(){return"vertical"===n.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return n.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},n.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},n.support.touch||!n.params.simulateTouch?n.touchEventsTouch:n.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:y(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const n=r.minTranslate(),o=(r.maxTranslate()-n)*e+n;r.translateTo(o,void 0===t?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((r=>{const n=e.getSlideClasses(r);t.push({slideEl:r,classNames:n}),e.emit("_slideClass",r,n)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:r,slides:n,slidesGrid:o,slidesSizesGrid:i,size:s,activeIndex:a}=this;let l=1;if(r.centeredSlides){let e,t=n[a].swiperSlideSize;for(let r=a+1;r<n.length;r+=1)n[r]&&!e&&(t+=n[r].swiperSlideSize,l+=1,t>s&&(e=!0));for(let r=a-1;r>=0;r-=1)n[r]&&!e&&(t+=n[r].swiperSlideSize,l+=1,t>s&&(e=!0))}else if("current"===e)for(let e=a+1;e<n.length;e+=1)(t?o[e]+i[e]-o[a]<s:o[e]-o[a]<s)&&(l+=1);else for(let e=a-1;e>=0;e-=1)o[a]-o[e]<s&&(l+=1);return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;function n(){const t=e.rtlTranslate?-1*e.translate:e.translate,r=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(r),e.updateActiveIndex(),e.updateSlidesClasses()}let o;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(n(),e.params.autoHeight&&e.updateAutoHeight()):(o=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),o||n()),r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const r=this,n=r.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(r.$el.removeClass(`${r.params.containerModifierClass}${n}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;const r=g(e||t.params.el);if(!(e=r[0]))return!1;e.swiper=t;const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=g(e.shadowRoot.querySelector(n()));return t.children=e=>r.children(e),t}return r.children?r.children(n()):g(r).children(n())})();if(0===o.length&&t.params.createElements){const e=s().createElement("div");o=g(e),e.className=t.params.wrapperClass,r.append(e),r.children(`.${t.params.slideClass}`).each((e=>{o.append(e)}))}return Object.assign(t,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction")),wrongRTL:"-webkit-box"===o.css("display")}),!0}init(e){const t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const r=this,{params:n,$el:o,$wrapperEl:i,slides:s}=r;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),n.loop&&r.loopDestroy(),t&&(r.removeClasses(),o.removeAttr("style"),i.removeAttr("style"),s&&s.length&&s.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach((e=>{r.off(e)})),!1!==e&&(r.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(r)),r.destroyed=!0),null}static extendDefaults(e){w(W,e)}static get extendedDefaults(){return W}static get defaults(){return G}static installModule(e){$.prototype.__modules__||($.prototype.__modules__=[]);const t=$.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>$.installModule(e))),$):($.installModule(e),$)}}Object.keys(q).forEach((e=>{Object.keys(q[e]).forEach((t=>{$.prototype[t]=q[e][t]}))})),$.use([function({swiper:e,on:t,emit:r}){const n=l();let o=null,i=null;const s=()=>{e&&!e.destroyed&&e.initialized&&(r("beforeResize"),r("resize"))},a=()=>{e&&!e.destroyed&&e.initialized&&r("orientationchange")};t("init",(()=>{e.params.resizeObserver&&void 0!==n.ResizeObserver?e&&!e.destroyed&&e.initialized&&(o=new ResizeObserver((t=>{i=n.requestAnimationFrame((()=>{const{width:r,height:n}=e;let o=r,i=n;t.forEach((({contentBoxSize:t,contentRect:r,target:n})=>{n&&n!==e.el||(o=r?r.width:(t[0]||t).inlineSize,i=r?r.height:(t[0]||t).blockSize)})),o===r&&i===n||s()}))})),o.observe(e.el)):(n.addEventListener("resize",s),n.addEventListener("orientationchange",a))})),t("destroy",(()=>{i&&n.cancelAnimationFrame(i),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null),n.removeEventListener("resize",s),n.removeEventListener("orientationchange",a)}))},function({swiper:e,extendParams:t,on:r,emit:n}){const o=[],i=l(),s=(e,t={})=>{const r=new(i.MutationObserver||i.WebkitMutationObserver)((e=>{if(1===e.length)return void n("observerUpdate",e[0]);const t=function(){n("observerUpdate",e[0])};i.requestAnimationFrame?i.requestAnimationFrame(t):i.setTimeout(t,0)}));r.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),o.push(r)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=e.$el.parents();for(let e=0;e<t.length;e+=1)s(t[e])}s(e.$el[0],{childList:e.params.observeSlideChildren}),s(e.$wrapperEl[0],{attributes:!1})}})),r("destroy",(()=>{o.forEach((e=>{e.disconnect()})),o.splice(0,o.length)}))}]);var Z=$}}]);
//# sourceMappingURL=13.ec0fe475.js.map